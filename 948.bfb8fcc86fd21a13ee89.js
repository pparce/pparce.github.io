"use strict";(self.webpackChunkliga_master=self.webpackChunkliga_master||[]).push([[948],{2948:(F,h,s)=>{s.r(h),s.d(h,{PlayersModule:()=>U});var i=s(665),Z=s(4466),u=s(8583),d=s(5483),e=s(7716),g=s(9344);const y=["form"];function b(r,n){if(1&r&&(e.TgZ(0,"option",9),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}let p=(()=>{class r{constructor(t,o){this.connectionService=t,this.toastService=o,this.player={},this.teams=[]}ngOnInit(){this.getTeams()}getTeams(){this.connectionService.get(d.M.TEAMS).subscribe(t=>{t.length?this.teams=t.map(function(o){return{id:o.id,name:o["Nombre del equipo"],logo:o["Logo del Equipo"],league:o.Liga}}).reverse():this.toastService.error("Ha ocurrido un error cargando las ligas")},t=>{this.toastService.error("Ha ocurrido un error cargando las ligas")})}buildJSON(){return{"Nombre del Jugador":this.player.name,Avatar:"https://robohash.org/velitfugitiure.png?size=250x250&set=set1",teamId:this.player.team}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.M),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-players-form"]],viewQuery:function(t,o){if(1&t&&e.Gf(y,5),2&t){let a;e.iGM(a=e.CRH())&&(o.form=a.first)}},decls:18,vars:4,consts:[[1,"form-container"],["form","ngForm"],[1,"d-flex","flex-column","flex-fill"],[1,"form-group","flex-fill"],["name","name","type","text","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","description","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["name","equipo","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0,1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"label"),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("ngModelChange",function(l){return o.player.name=l}),e.qZA(),e.qZA(),e.TgZ(7,"div",3),e.TgZ(8,"label"),e._uU(9,"Descripci\xf3n"),e.qZA(),e.TgZ(10,"textarea",5),e.NdJ("ngModelChange",function(l){return o.player.description=l}),e.qZA(),e.qZA(),e.TgZ(11,"div",3),e.TgZ(12,"label"),e._uU(13,"Equipo"),e.qZA(),e.TgZ(14,"select",6),e.NdJ("ngModelChange",function(l){return o.player.team=l}),e.TgZ(15,"option",7),e._uU(16,"..."),e.qZA(),e.YNc(17,b,2,2,"option",8),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(6),e.Q6J("ngModel",o.player.name),e.xp6(4),e.Q6J("ngModel",o.player.description),e.xp6(4),e.Q6J("ngModel",o.player.team),e.xp6(3),e.Q6J("ngForOf",o.teams))},directives:[i._Y,i.JL,i.F,i.Fj,i.Q7,i.JJ,i.On,i.EJ,i.YN,i.Kr,u.sg],styles:[""]}),r})();var c=s(7957),m=s(7368),f=s(8993);let v=(()=>{class r{constructor(t,o,a){this.connectionService=t,this.toastService=o,this.route=a,this.canSave=!1,this.route.params.subscribe(l=>{this.id=l.id})}ngOnInit(){this.getPlayer()}ngAfterViewInit(){this.formComponent.form.valueChanges.subscribe(t=>{this.canSave=this.formComponent.form.valid})}getPlayer(){this.connectionService.get(d.M.PLAYERS+this.id).subscribe(o=>{o.id?this.formComponent.player={id:o.id,name:o["Nombre del Jugador"],avatar:o.Avatar,team:o.teamId}:this.toastService.error(o.detail)},o=>{this.toastService.error(o)})}editPlayer(){this.connectionService.put(d.M.PLAYERS+this.id,this.formComponent.buildJSON()).subscribe(o=>{o.id?(this.toastService.success("El jugador se ha editado satisfactoriamente"),this.connectionService.back()):this.toastService.error("Ha ocurrido un problema editando el jugador")},o=>{this.toastService.error("Ha ocurrido un problema editando el jugador")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.M),e.Y36(g._W),e.Y36(c.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-players-edit"]],viewQuery:function(t,o){if(1&t&&e.Gf(p,5),2&t){let a;e.iGM(a=e.CRH())&&(o.formComponent=a.first)}},decls:7,vars:1,consts:[["title","Editar jugador"],["routerLink","../..",1,"btn","btn-light","mr-2"],[1,"btn","btn-primary","primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-toolbar",0),e.TgZ(1,"button",1),e._uU(2,"Cancelar"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.editPlayer()}),e._uU(4,"Editar"),e.qZA(),e.qZA(),e.TgZ(5,"app-container"),e._UZ(6,"app-players-form"),e.qZA()),2&t&&(e.xp6(3),e.Q6J("disabled",!o.canSave))},directives:[m.n,c.rH,f.e,p],styles:[""]}),r})(),_=(()=>{class r{constructor(t,o){this.connectionService=t,this.toastService=o,this.canSave=!1}ngOnInit(){}ngAfterViewInit(){this.formComponent.form.valueChanges.subscribe(t=>{this.canSave=this.formComponent.form.valid})}addTeam(){this.connectionService.post(d.M.PLAYERS,this.formComponent.buildJSON()).subscribe(t=>{t.id?(this.toastService.success("Se ha creado el jugador satisfactoriamente"),this.connectionService.back()):this.toastService.error("Ha ocurrido un problema creando el jugador")},t=>{this.toastService.error("Ha ocurrido un problema creando el jugador")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.M),e.Y36(g._W))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-players-add"]],viewQuery:function(t,o){if(1&t&&e.Gf(p,5),2&t){let a;e.iGM(a=e.CRH())&&(o.formComponent=a.first)}},decls:7,vars:1,consts:[["title","Crear jugador"],["routerLink","..",1,"btn","btn-light","mr-2"],[1,"btn","btn-primary","primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-toolbar",0),e.TgZ(1,"button",1),e._uU(2,"Cancelar"),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return o.addTeam()}),e._uU(4,"Crear"),e.qZA(),e.qZA(),e.TgZ(5,"app-container"),e._UZ(6,"app-players-form"),e.qZA()),2&t&&(e.xp6(3),e.Q6J("disabled",!o.canSave))},directives:[m.n,c.rH,f.e,p],styles:[""]}),r})();var T=s(8424),A=s(4717);function C(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",25),e.TgZ(1,"div",26),e.TgZ(2,"input",27),e.NdJ("ngModelChange",function(a){return e.CHM(t),e.oxw().searchWord=a})("ngModelChange",function(){return e.CHM(t),e.oxw().filterSearch()}),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.searchWord)}}function q(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",30),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).selectPlayer(l)}),e.TgZ(2,"div",20),e._UZ(3,"img",31),e.TgZ(4,"div",22),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"div",23),e._uU(8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"td",32),e.TgZ(10,"div",20),e.TgZ(11,"button",33),e.TgZ(12,"span"),e._UZ(13,"i",34),e.qZA(),e.qZA(),e.TgZ(14,"button",35),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).deleteTarget(l.id)}),e.TgZ(15,"span"),e._UZ(16,"i",36),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(3),e.Q6J("src",t.avatar,e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.team),e.xp6(3),e.MGl("routerLink","edit/",t.id,"")}}function x(r,n){if(1&r&&(e.TgZ(0,"table",28),e.TgZ(1,"tbody"),e.YNc(2,q,17,4,"tr",29),e.qZA(),e.qZA()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.searchWord.length?t.playersAuxSearch:t.players)}}function P(r,n){1&r&&e._UZ(0,"app-loading")}function M(r,n){1&r&&(e.TgZ(0,"app-empty-screen",37),e.ynx(1,38),e.TgZ(2,"span"),e._UZ(3,"i",39),e.qZA(),e.BQk(),e.ynx(4,40),e.TgZ(5,"button",41),e._uU(6,"Crear jugador"),e.qZA(),e.BQk(),e.qZA())}function S(r,n){1&r&&(e.TgZ(0,"app-empty-screen",42),e.ynx(1,38),e.TgZ(2,"span"),e._UZ(3,"i",43),e.qZA(),e.BQk(),e.qZA())}const J=function(r){return{"loading-data":r}},L=[{path:"",component:(()=>{class r{constructor(t,o,a){this.connectionService=t,this.toastService=o,this.router=a,this.players=[],this.playersAuxSearch=[],this.teams=[],this.loading=!1,this.selectedPlayer={},this.searchWord=""}ngOnInit(){this.getTeams()}getTeams(){this.loading=!0,this.connectionService.get(d.M.TEAMS).subscribe(t=>{t.length&&(this.teams=t.map(function(o){return{id:o.id,name:o["Nombre del equipo"],logo:o["Logo del Equipo"],league:o.Liga}}).reverse(),this.getPlayers())},t=>{this.loading=!1,this.toastService.error("Ha ocurrido un error cargando los equipos")})}getPlayers(){this.connectionService.get(d.M.PLAYERS).subscribe(t=>{this.loading=!1,t.length&&(this.players=t.map(o=>({id:o.id,name:o["Nombre del Jugador"],avatar:o.Avatar,team:this.getTeamNameById(o.teamId)})).reverse())},t=>{this.loading=!1,this.toastService.error("Ha ocurrido un error cargando los jugadores")})}getTeamNameById(t){return this.teams[this.teams.map(o=>o.id).indexOf(t)].name}deleteTarget(t){this.delTargetId=t}deleteLeague(){this.connectionService.delete(d.M.PLAYERS+this.delTargetId).subscribe(o=>{this.toastService.success("El jugador se ha eliminado satisfactoriamente"),this.getPlayers()},o=>{this.toastService.error(o)})}selectPlayer(t){this.selectedPlayer=t}filterSearch(){this.playersAuxSearch=this.players.filter(t=>-1!=t.name.toLowerCase().indexOf(this.searchWord.toLowerCase())||-1!=t.team.toLowerCase().indexOf(this.searchWord.toLowerCase()))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.M),e.Y36(g._W),e.Y36(c.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-players-list"]],decls:46,vars:11,consts:[["title","Jugadores","subtitle","Listado de jugadores","icon","bi-file-person-fill"],["routerLink","add",1,"btn","btn-outline-primary"],["class","d-flex justify-content-end search-input",4,"ngIf"],[1,"table-container",3,"ngClass"],["class","table table-hover",4,"ngIf"],[4,"ngIf"],["class","flex-fill","title","No hay Jugadores disponibles","subtitle","Agregue Jugadores para poder agregarlos a los equipos",4,"ngIf"],["class","flex-fill","title","No se encontraron jugadores","subtitle","Modifique el t\xe9rmino para obtener un mejor resultado",4,"ngIf"],["id","deleteModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-light"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["id","viewModal","tabindex","-1","role","dialog",1,"modal","fade"],[1,"d-flex"],["alt","",1,"image-view-modal",3,"src"],[1,"d-flex","flex-column","my-auto"],[1,"text-muted"],["type","button","data-dismiss","modal",1,"btn","btn-primary"],[1,"d-flex","justify-content-end","search-input"],[1,"form-group"],["name","search","type","text","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#viewModal",2,"width","100%",3,"click"],[1,"image-table",3,"src"],[2,"vertical-align","middle"],[1,"btn","btn-link","my-auto",3,"routerLink"],[1,"bi","bi-pencil-square"],["data-toggle","modal","data-target","#deleteModal",1,"btn","btn-link","my-auto",3,"click"],[1,"bi","bi-archive-fill","text-danger"],["title","No hay Jugadores disponibles","subtitle","Agregue Jugadores para poder agregarlos a los equipos",1,"flex-fill"],["icon",""],[1,"bi","bi-file-person-fill","text-secondary",2,"font-size","64px"],["button",""],["type","button","routerLink","add/",1,"btn","btn-outline-primary"],["title","No se encontraron jugadores","subtitle","Modifique el t\xe9rmino para obtener un mejor resultado",1,"flex-fill"],[1,"bi","bi-emoji-frown","text-secondary",2,"font-size","64px"]],template:function(t,o){1&t&&(e.TgZ(0,"app-toolbar",0),e.TgZ(1,"button",1),e._uU(2," Crear jugador "),e.qZA(),e.qZA(),e.YNc(3,C,3,1,"div",2),e.TgZ(4,"app-container"),e.TgZ(5,"div",3),e.YNc(6,x,3,1,"table",4),e.YNc(7,P,1,0,"app-loading",5),e.qZA(),e.YNc(8,M,7,0,"app-empty-screen",6),e.YNc(9,S,4,0,"app-empty-screen",7),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div",11),e.TgZ(14,"h5",12),e._uU(15,"Eliminar Equipo"),e.qZA(),e.TgZ(16,"button",13),e.TgZ(17,"span",14),e._uU(18,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",15),e._uU(20," \xbfEst\xe1 seguro de querer eliminar este equipo? "),e.qZA(),e.TgZ(21,"div",16),e.TgZ(22,"button",17),e._uU(23,"Cancelar"),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return o.deleteLeague()}),e._uU(25,"Eliminar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",19),e.TgZ(27,"div",9),e.TgZ(28,"div",10),e.TgZ(29,"div",11),e.TgZ(30,"h5",12),e._uU(31,"Vista Previa"),e.qZA(),e.TgZ(32,"button",13),e.TgZ(33,"span",14),e._uU(34,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",15),e.TgZ(36,"div",20),e._UZ(37,"img",21),e.TgZ(38,"div",22),e.TgZ(39,"div"),e._uU(40),e.qZA(),e.TgZ(41,"div",23),e._uU(42),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",16),e.TgZ(44,"button",24),e._uU(45,"Aceptar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",o.players.length),e.xp6(2),e.Q6J("ngClass",e.VKq(9,J,o.loading)),e.xp6(1),e.Q6J("ngIf",!o.loading&&o.players.length),e.xp6(1),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngIf",!o.loading&&!o.players.length),e.xp6(1),e.Q6J("ngIf",o.searchWord.length&&!o.loading&&!o.playersAuxSearch.length),e.xp6(28),e.Q6J("src",o.selectedPlayer.avatar,e.LSH),e.xp6(3),e.Oqu(o.selectedPlayer.name),e.xp6(2),e.Oqu(o.selectedPlayer.team))},directives:[m.n,c.rH,u.O5,f.e,u.mk,i.Fj,i.JJ,i.On,u.sg,T.N,A.s],styles:[".image-table[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:500px;background-color:#e0e4ed;margin-right:16px}.image-view-modal[_ngcontent-%COMP%]{height:100px;width:100px;border-radius:500px;background-color:#e0e4ed;margin-right:16px}.search-input[_ngcontent-%COMP%]{margin-left:16px}"]}),r})()},{path:"add",component:_},{path:"edit/:id",component:v}];let N=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[c.Bz.forChild(L)],c.Bz]}),r})(),U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,N,i.u5,Z.m]]}),r})()}}]);