var xt=Object.defineProperty,Et=(he,M,te)=>M in he?xt(he,M,{enumerable:!0,configurable:!0,writable:!0,value:te}):he[M]=te,ze=(he,M,te)=>(Et(he,"symbol"!=typeof M?M+"":M,te),te),Qe=(he,M,te)=>{if(!M.has(he))throw TypeError("Cannot "+te)},Ae=(he,M,te)=>(Qe(he,M,"read from private field"),te?te.call(he):M.get(he)),ve=(he,M,te)=>{if(M.has(he))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(he):M.set(he,te)},Te=(he,M,te,m)=>(Qe(he,M,"write to private field"),m?m.call(he,te):M.set(he,te),te),lt=(he,M,te,m)=>({set _(oe){Te(he,M,oe,te)},get _(){return Ae(he,M,m)}}),ye=(he,M,te)=>(Qe(he,M,"access private method"),te);(self.webpackChunkpparce_portfolio=self.webpackChunkpparce_portfolio||[]).push([[198],{1198:(he,M,te)=>{"use strict";te.r(M),te.d(M,{CurriculumModule:()=>z});var m=te(6895),oe=te(1779),ne=te(4327),H=te(4650),Q=te(2636),k=te(4968),c=te(7579),P=te(8996),d=te(2722),u=te(8372),s=te(9300),f=te(6036),n=te.t(f,2),i=te(2813),h=te.t(i,2);const x=["pdfViewerContainer"];function t(N,q,v){N[q]=v}function r(){return typeof window>"u"}r()||t(n,"verbosity",f.VerbosityLevel.INFOS);var A=(()=>{return(N=A||(A={}))[N.DISABLED=0]="DISABLED",N[N.ENABLED=1]="ENABLED",N[N.ENHANCED=2]="ENHANCED",A;var N})();let b=(()=>{class N{constructor(v,B){if(this.element=v,this.ngZone=B,this.isVisible=!1,this._cMapsUrl=typeof n<"u"?`https://unpkg.com/pdfjs-dist@${f.version}/cmaps/`:null,this._imageResourcesPath=typeof n<"u"?`https://unpkg.com/pdfjs-dist@${f.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=A.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new c.x,this.afterLoadComplete=new H.vpe,this.pageRendered=new H.vpe,this.pageInitialized=new H.vpe,this.textLayerRendered=new H.vpe,this.onError=new H.vpe,this.onProgress=new H.vpe,this.pageChange=new H.vpe(!0),r())return;let j;j=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${f.version}/legacy/build/pdf.worker.min.js`,t(f.GlobalWorkerOptions,"workerSrc",j)}set cMapsUrl(v){this._cMapsUrl=v}set page(v){const B=v=parseInt(v,10)||1;this._pdf&&(v=this.getValidPageNumber(v)),this._page=v,B!==v&&this.pageChange.emit(v)}set renderText(v){this._renderText=v}set renderTextMode(v){this._renderTextMode=v}set originalSize(v){this._originalSize=v}set showAll(v){this._showAll=v}set stickToPage(v){this._stickToPage=v}set zoom(v){v<=0||(this._zoom=v)}get zoom(){return this._zoom}set zoomScale(v){this._zoomScale=v}get zoomScale(){return this._zoomScale}set rotation(v){"number"==typeof v&&v%90==0?this._rotation=v:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(v){this._externalLinkTarget=v}set autoresize(v){this._canAutoResize=Boolean(v)}set fitToPage(v){this._fitToPage=Boolean(v)}set showBorders(v){this._showBorders=Boolean(v)}static getLinkTarget(v){switch(v){case"blank":return i.LinkTarget.BLANK;case"none":return i.LinkTarget.NONE;case"self":return i.LinkTarget.SELF;case"parent":return i.LinkTarget.PARENT;case"top":return i.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const v=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=v?!1===this.isVisible&&null!=v&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(v){if(!r()&&this.isVisible)if("src"in v)this.loadPDF();else if(this._pdf){if("renderText"in v?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:A.DISABLED,this.resetPdfDocument()):"showAll"in v&&(this.setupViewer(),this.resetPdfDocument()),"page"in v){const{page:B}=v;if(B.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,P.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,d.R)(this.destroy$)).subscribe({next:v=>{const B=this._rotation||v.rotate,j=v.getViewport({scale:this._zoom,rotation:B}).width*N.CSS_UNITS;let K=this._zoom,re=!0;if(!this._originalSize||this._fitToPage&&j>this.pdfViewerContainer.nativeElement.clientWidth){const T=v.getViewport({scale:1,rotation:B});K=this.getScale(T.width,T.height),re=!this._stickToPage}this.pdfViewer._setScale(K,re)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const v=N.getLinkTarget(this._externalLinkTarget);return v?{externalLinkTarget:v}:{}}initEventBus(){this.eventBus=function _(N,q){const v=new N.EventBus;return function g(N,q){(0,k.R)(N,"documentload").pipe((0,d.R)(q)).subscribe(()=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(v)}),(0,k.R)(N,"pagerendered").pipe((0,d.R)(q)).subscribe(({pageNumber:v,cssTransform:B,source:j})=>{const K=document.createEvent("CustomEvent");K.initCustomEvent("pagerendered",!0,!0,{pageNumber:v,cssTransform:B}),j.div.dispatchEvent(K)}),(0,k.R)(N,"textlayerrendered").pipe((0,d.R)(q)).subscribe(({pageNumber:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:v}),B.textLayerDiv.dispatchEvent(j)}),(0,k.R)(N,"pagechanging").pipe((0,d.R)(q)).subscribe(({pageNumber:v,source:B})=>{const j=document.createEvent("UIEvents");j.initEvent("pagechanging",!0,!0),j.pageNumber=v,B.container.dispatchEvent(j)}),(0,k.R)(N,"pagesinit").pipe((0,d.R)(q)).subscribe(({source:v})=>{const B=document.createEvent("CustomEvent");B.initCustomEvent("pagesinit",!0,!0,null),v.container.dispatchEvent(B)}),(0,k.R)(N,"pagesloaded").pipe((0,d.R)(q)).subscribe(({pagesCount:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("pagesloaded",!0,!0,{pagesCount:v}),B.container.dispatchEvent(j)}),(0,k.R)(N,"scalechange").pipe((0,d.R)(q)).subscribe(({scale:v,presetValue:B,source:j})=>{const K=document.createEvent("UIEvents");K.initEvent("scalechange",!0,!0),K.scale=v,K.presetValue=B,j.container.dispatchEvent(K)}),(0,k.R)(N,"updateviewarea").pipe((0,d.R)(q)).subscribe(({location:v,source:B})=>{const j=document.createEvent("UIEvents");j.initEvent("updateviewarea",!0,!0),j.location=v,B.container.dispatchEvent(j)}),(0,k.R)(N,"find").pipe((0,d.R)(q)).subscribe(({source:v,type:B,query:j,phraseSearch:K,caseSensitive:re,highlightAll:T,findPrevious:a})=>{if(v===window)return;const l=document.createEvent("CustomEvent");l.initCustomEvent("find"+B,!0,!0,{query:j,phraseSearch:K,caseSensitive:re,highlightAll:T,findPrevious:a}),window.dispatchEvent(l)}),(0,k.R)(N,"attachmentsloaded").pipe((0,d.R)(q)).subscribe(({attachmentsCount:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:v}),B.container.dispatchEvent(j)}),(0,k.R)(N,"sidebarviewchanged").pipe((0,d.R)(q)).subscribe(({view:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("sidebarviewchanged",!0,!0,{view:v}),B.outerContainer.dispatchEvent(j)}),(0,k.R)(N,"pagemode").pipe((0,d.R)(q)).subscribe(({mode:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("pagemode",!0,!0,{mode:v}),B.pdfViewer.container.dispatchEvent(j)}),(0,k.R)(N,"namedaction").pipe((0,d.R)(q)).subscribe(({action:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("namedaction",!0,!0,{action:v}),B.pdfViewer.container.dispatchEvent(j)}),(0,k.R)(N,"presentationmodechanged").pipe((0,d.R)(q)).subscribe(({active:v,switchInProgress:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("presentationmodechanged",!0,!0,{active:v,switchInProgress:B}),window.dispatchEvent(j)}),(0,k.R)(N,"outlineloaded").pipe((0,d.R)(q)).subscribe(({outlineCount:v,source:B})=>{const j=document.createEvent("CustomEvent");j.initCustomEvent("outlineloaded",!0,!0,{outlineCount:v}),B.container.dispatchEvent(j)})}(v,q),v}(h,this.destroy$),(0,k.R)(this.eventBus,"pagerendered").pipe((0,d.R)(this.destroy$)).subscribe(v=>{this.pageRendered.emit(v)}),(0,k.R)(this.eventBus,"pagesinit").pipe((0,d.R)(this.destroy$)).subscribe(v=>{this.pageInitialized.emit(v)}),(0,k.R)(this.eventBus,"pagechanging").pipe((0,d.R)(this.destroy$)).subscribe(({pageNumber:v})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=v,this.pageChange.emit(v)},100)}),(0,k.R)(this.eventBus,"textlayerrendered").pipe((0,d.R)(this.destroy$)).subscribe(v=>{this.textLayerRendered.emit(v)})}initPDFServices(){this.pdfLinkService=new i.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new i.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:A.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){t(n,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new i.PDFViewer(this.getPDFOptions()):new i.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(v){return v<1?1:v>this._pdf.numPages?this._pdf.numPages:v}getDocumentParams(){const v=typeof this.src;if(!this._cMapsUrl)return this.src;const B={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===v?B.url=this.src:"object"===v&&(void 0!==this.src.byteLength?B.data=this.src:Object.assign(B,this.src)),B}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=f.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=B=>{this.onProgress.emit(B)};const v=this.src;(0,P.D)(this.loadingTask.promise).pipe((0,d.R)(this.destroy$)).subscribe({next:B=>{this._pdf=B,this.lastLoaded=v,this.afterLoadComplete.emit(B),this.resetPdfDocument(),this.update()},error:B=>{this.lastLoaded=null,this.onError.emit(B)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(v,B){const j=this._showBorders?2*N.BORDER_WIDTH:0,K=this.pdfViewerContainer.nativeElement.clientWidth-j,re=this.pdfViewerContainer.nativeElement.clientHeight-j;if(0===re||0===B||0===K||0===v)return 1;let T=1;switch(this._zoomScale){case"page-fit":T=Math.min(re/B,K/v);break;case"page-height":T=re/B;break;default:T=K/v}return this._zoom*T/N.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){r()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){r()||this.ngZone.runOutsideAngular(()=>{(0,k.R)(window,"resize").pipe((0,u.b)(100),(0,s.h)(()=>this._canAutoResize&&!!this._pdf),(0,d.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return N.CSS_UNITS=96/72,N.BORDER_WIDTH=9,N.\u0275fac=function(v){return new(v||N)(H.Y36(H.SBq),H.Y36(H.R0b))},N.\u0275cmp=H.Xpm({type:N,selectors:[["pdf-viewer"]],viewQuery:function(v,B){if(1&v&&H.Gf(x,5),2&v){let j;H.iGM(j=H.CRH())&&(B.pdfViewerContainer=j.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[H.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(v,B){1&v&&(H.TgZ(0,"div",0,1),H._UZ(2,"div",2),H.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),N})(),y=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=H.oAB({type:N}),N.\u0275inj=H.cJS({}),N})();const L=["pdfCurriculum"],F=[{path:"",component:(()=>{class N{constructor(v){this.loadingBar=v,this.pdfSrc="https://pparce.github.io/assets/pdf/cv.pdf",this.pdfLoaded=!1}ngOnInit(){this.loadingBar.start()}downloadAsPDF(){const v=new XMLHttpRequest;v.open("GET",this.pdfSrc,!0),v.responseType="blob",v.onload=()=>{(0,ne.saveAs)(v.response,"CV Pedro Pablo Arce.pdf")},v.send()}afterLoadComplete(){this.loadingBar.stop(),this.pdfLoaded=!0}ngOnDestroy(){this.loadingBar.stop()}}return N.\u0275fac=function(v){return new(v||N)(H.Y36(Q.dL))},N.\u0275cmp=H.Xpm({type:N,selectors:[["app-curriculum"]],viewQuery:function(v,B){if(1&v&&H.Gf(L,5),2&v){let j;H.iGM(j=H.CRH())&&(B.pdfCurriculum=j.first)}},decls:5,vars:13,consts:[[1,"h-100","animate__animated","animate__fadeIn"],[1,"curriculum-container"],[1,"btn","btn-primary","download-button",3,"disabled","click"],[3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete"]],template:function(v,B){1&v&&(H.TgZ(0,"div",0)(1,"div",1)(2,"button",2),H.NdJ("click",function(){return B.downloadAsPDF()}),H._uU(3," _download_cv() "),H.qZA(),H.TgZ(4,"pdf-viewer",3),H.NdJ("after-load-complete",function(){return B.afterLoadComplete()}),H.qZA()()()),2&v&&(H.xp6(2),H.Q6J("disabled",!B.pdfLoaded),H.xp6(2),H.Q6J("src",B.pdfSrc)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!0)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1))},dependencies:[b],styles:[".curriculum-container[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin:0 350px}.curriculum-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}.curriculum-container[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:70px;z-index:2}.curriculum-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{grid-area:1/1/6/6}@media (max-width: 576px){.curriculum-container[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 60px);margin:0 0 0 10px}.curriculum-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%;grid-area:1/1/6/6}.curriculum-container[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:16px;z-index:2}.curriculum-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{grid-area:1/1/6/6}}.vl[_ngcontent-%COMP%]{border-left:1px solid #607b96;height:auto}"]}),N})()}];let V=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=H.oAB({type:N}),N.\u0275inj=H.cJS({imports:[oe.Bz.forChild(F),oe.Bz]}),N})(),z=(()=>{class N{}return N.\u0275fac=function(v){return new(v||N)},N.\u0275mod=H.oAB({type:N}),N.\u0275inj=H.cJS({imports:[m.ez,V,y]}),N})()},4327:function(he,M){var oe;void 0!==(oe=function(){"use strict";function H(u,s,f){var n=new XMLHttpRequest;n.open("GET",u),n.responseType="blob",n.onload=function(){d(n.response,s,f)},n.onerror=function(){console.error("could not download file")},n.send()}function Q(u){var s=new XMLHttpRequest;s.open("HEAD",u,!1);try{s.send()}catch{}return 200<=s.status&&299>=s.status}function k(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(s)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,P=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!P?function(u,s,f){var n=c.URL||c.webkitURL,i=document.createElement("a");i.download=s=s||u.name||"download",i.rel="noopener","string"==typeof u?(i.href=u,i.origin===location.origin?k(i):Q(i.href)?H(u,s,f):k(i,i.target="_blank")):(i.href=n.createObjectURL(u),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){k(i)},0))}:"msSaveOrOpenBlob"in navigator?function(u,s,f){if(s=s||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function ne(u,s){return typeof s>"u"?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,f),s);else if(Q(u))H(u,s,f);else{var n=document.createElement("a");n.href=u,n.target="_blank",setTimeout(function(){k(n)})}}:function(u,s,f,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof u)return H(u,s,f);var i="application/octet-stream"===u.type,h=/constructor/i.test(c.HTMLElement)||c.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||i&&h||P)&&typeof FileReader<"u"){var _=new FileReader;_.onloadend=function(){var r=_.result;r=x?r:r.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=r:location=r,n=null},_.readAsDataURL(u)}else{var g=c.URL||c.webkitURL,t=g.createObjectURL(u);n?n.location=t:location.href=t,n=null,setTimeout(function(){g.revokeObjectURL(t)},4e4)}});c.saveAs=d.saveAs=d,he.exports=d}.apply(M,[]))&&(he.exports=oe)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,te;te=()=>(()=>{"use strict";var __webpack_modules__=[,(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.VerbosityLevel=M.Util=M.UnknownErrorException=M.UnexpectedResponseException=M.UNSUPPORTED_FEATURES=M.TextRenderingMode=M.StreamType=M.RenderingIntentFlag=M.PermissionFlag=M.PasswordResponses=M.PasswordException=M.PageActionEventType=M.OPS=M.MissingPDFException=M.InvalidPDFException=M.ImageKind=M.IDENTITY_MATRIX=M.FormatError=M.FontType=M.FeatureTest=M.FONT_IDENTITY_MATRIX=M.DocumentActionEventType=M.CMapCompressionType=M.BaseException=M.AnnotationType=M.AnnotationStateModelType=M.AnnotationReviewState=M.AnnotationReplyType=M.AnnotationMode=M.AnnotationMarkedState=M.AnnotationFlag=M.AnnotationFieldFlag=M.AnnotationBorderStyleType=M.AnnotationActionEventType=M.AbortException=void 0,M.arrayByteLength=G,M.arraysToBytes=function W(Z){const O=Z.length;if(1===O&&Z[0]instanceof Uint8Array)return Z[0];let D=0;for(let fe=0;fe<O;fe++)D+=G(Z[fe]);let ae=0;const le=new Uint8Array(D);for(let fe=0;fe<O;fe++){let ge=Z[fe];ge instanceof Uint8Array||(ge="string"==typeof ge?U(ge):new Uint8Array(ge));const Ce=ge.byteLength;le.set(ge,ae),ae+=Ce}return le},M.assert=function B(Z,O){Z||v(O)},M.bytesToString=function E(Z){("object"!=typeof Z||null===Z||void 0===Z.length)&&v("Invalid argument for bytesToString");const O=Z.length,D=8192;if(O<D)return String.fromCharCode.apply(null,Z);const ae=[];for(let le=0;le<O;le+=D){const fe=Math.min(le+D,O),ge=Z.subarray(le,fe);ae.push(String.fromCharCode.apply(null,ge))}return ae.join("")},M.createPromiseCapability=function Ee(){const Z=Object.create(null);let O=!1;return Object.defineProperty(Z,"settled",{get:()=>O}),Z.promise=new Promise(function(D,ae){Z.resolve=function(le){O=!0,D(le)},Z.reject=function(le){O=!0,ae(le)}}),Z},M.createValidAbsoluteUrl=function K(Z,O=null,D=null){if(!Z)return null;try{if(D&&"string"==typeof Z){if(D.addDefaultProtocol&&Z.startsWith("www.")){const le=Z.match(/\./g);le&&le.length>=2&&(Z=`http://${Z}`)}if(D.tryConvertEncoding)try{Z=ue(Z)}catch{}}const ae=O?new URL(Z,O):new URL(Z);if(function j(Z){if(!Z)return!1;switch(Z.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ae))return ae}catch{}return null},M.escapeString=function $(Z){return Z.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},M.getModificationDate=function Pe(Z=new Date){return[Z.getUTCFullYear().toString(),(Z.getUTCMonth()+1).toString().padStart(2,"0"),Z.getUTCDate().toString().padStart(2,"0"),Z.getUTCHours().toString().padStart(2,"0"),Z.getUTCMinutes().toString().padStart(2,"0"),Z.getUTCSeconds().toString().padStart(2,"0")].join("")},M.getVerbosityLevel=function z(){return F},M.info=function N(Z){F>=A.INFOS&&console.log(`Info: ${Z}`)},M.isArrayBuffer=function _e(Z){return"object"==typeof Z&&null!==Z&&void 0!==Z.byteLength},M.isArrayEqual=function Se(Z,O){if(Z.length!==O.length)return!1;for(let D=0,ae=Z.length;D<ae;D++)if(Z[D]!==O[D])return!1;return!0},M.isAscii=function pe(Z){return/^[\x00-\x7F]*$/.test(Z)},M.objectFromMap=function ee(Z){const O=Object.create(null);for(const[D,ae]of Z)O[D]=ae;return O},M.objectSize=function Y(Z){return Object.keys(Z).length},M.setVerbosityLevel=function V(Z){Number.isInteger(Z)&&(F=Z)},M.shadow=re,M.string32=function X(Z){return String.fromCharCode(Z>>24&255,Z>>16&255,Z>>8&255,255&Z)},M.stringToBytes=U,M.stringToPDFString=function I(Z){if(Z[0]>="\xef"){let D;if("\xfe"===Z[0]&&"\xff"===Z[1]?D="utf-16be":"\xff"===Z[0]&&"\xfe"===Z[1]?D="utf-16le":"\xef"===Z[0]&&"\xbb"===Z[1]&&"\xbf"===Z[2]&&(D="utf-8"),D)try{const ae=new TextDecoder(D,{fatal:!0}),le=U(Z);return ae.decode(le)}catch(ae){q(`stringToPDFString: "${ae}".`)}}const O=[];for(let D=0,ae=Z.length;D<ae;D++){const le=S[Z.charCodeAt(D)];O.push(le?String.fromCharCode(le):Z.charAt(D))}return O.join("")},M.stringToUTF16BEString=function de(Z){const O=["\xfe\xff"];for(let D=0,ae=Z.length;D<ae;D++){const le=Z.charCodeAt(D);O.push(String.fromCharCode(le>>8&255),String.fromCharCode(255&le))}return O.join("")},M.stringToUTF8String=ue,M.unreachable=v,M.utf8StringToString=function me(Z){return unescape(encodeURIComponent(Z))},M.warn=q,te(2),M.IDENTITY_MATRIX=[1,0,0,1,0,0],M.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],M.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},M.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},M.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},M.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},M.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},M.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},M.AnnotationReplyType={GROUP:"Group",REPLY:"R"},M.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},M.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},M.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},M.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},M.PageActionEventType={O:"PageOpen",C:"PageClose"},M.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},M.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const A={ERRORS:0,WARNINGS:1,INFOS:5};M.VerbosityLevel=A,M.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=A.WARNINGS;function q(Z){F>=A.WARNINGS&&console.log(`Warning: ${Z}`)}function v(Z){throw new Error(Z)}function re(Z,O,D){return Object.defineProperty(Z,O,{value:D,enumerable:!0,configurable:!0,writable:!1}),D}const T=function(){function O(D,ae){this.constructor===O&&v("Cannot initialize BaseException."),this.message=D,this.name=ae}return O.prototype=new Error,O.constructor=O,O}();function U(Z){"string"!=typeof Z&&v("Invalid argument for stringToBytes");const O=Z.length,D=new Uint8Array(O);for(let ae=0;ae<O;++ae)D[ae]=255&Z.charCodeAt(ae);return D}function G(Z){return void 0!==Z.length?Z.length:void 0!==Z.byteLength?Z.byteLength:void v("Invalid argument for arrayByteLength")}M.BaseException=T,M.PasswordException=class a extends T{constructor(O,D){super(O,"PasswordException"),this.code=D}},M.UnknownErrorException=class l extends T{constructor(O,D){super(O,"UnknownErrorException"),this.details=D}},M.InvalidPDFException=class e extends T{constructor(O){super(O,"InvalidPDFException")}},M.MissingPDFException=class o extends T{constructor(O){super(O,"MissingPDFException")}},M.UnexpectedResponseException=class p extends T{constructor(O,D){super(O,"UnexpectedResponseException"),this.status=D}},M.FormatError=class w extends T{constructor(O){super(O,"FormatError")}},M.AbortException=class C extends T{constructor(O){super(O,"AbortException")}},M.FeatureTest=class J{static get isLittleEndian(){return re(this,"isLittleEndian",function ce(){const Z=new Uint8Array(4);return Z[0]=1,1===new Uint32Array(Z.buffer,0,1)[0]}())}static get isEvalSupported(){return re(this,"isEvalSupported",function be(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return re(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const se=[...Array(256).keys()].map(Z=>Z.toString(16).padStart(2,"0"));class ie{static makeHexColor(O,D,ae){return`#${se[O]}${se[D]}${se[ae]}`}static scaleMinMax(O,D){let ae;O[0]?(O[0]<0&&(ae=D[0],D[0]=D[1],D[1]=ae),D[0]*=O[0],D[1]*=O[0],O[3]<0&&(ae=D[2],D[2]=D[3],D[3]=ae),D[2]*=O[3],D[3]*=O[3]):(ae=D[0],D[0]=D[2],D[2]=ae,ae=D[1],D[1]=D[3],D[3]=ae,O[1]<0&&(ae=D[2],D[2]=D[3],D[3]=ae),D[2]*=O[1],D[3]*=O[1],O[2]<0&&(ae=D[0],D[0]=D[1],D[1]=ae),D[0]*=O[2],D[1]*=O[2]),D[0]+=O[4],D[1]+=O[4],D[2]+=O[5],D[3]+=O[5]}static transform(O,D){return[O[0]*D[0]+O[2]*D[1],O[1]*D[0]+O[3]*D[1],O[0]*D[2]+O[2]*D[3],O[1]*D[2]+O[3]*D[3],O[0]*D[4]+O[2]*D[5]+O[4],O[1]*D[4]+O[3]*D[5]+O[5]]}static applyTransform(O,D){return[O[0]*D[0]+O[1]*D[2]+D[4],O[0]*D[1]+O[1]*D[3]+D[5]]}static applyInverseTransform(O,D){const ae=D[0]*D[3]-D[1]*D[2];return[(O[0]*D[3]-O[1]*D[2]+D[2]*D[5]-D[4]*D[3])/ae,(-O[0]*D[1]+O[1]*D[0]+D[4]*D[1]-D[5]*D[0])/ae]}static getAxialAlignedBoundingBox(O,D){const ae=ie.applyTransform(O,D),le=ie.applyTransform(O.slice(2,4),D),fe=ie.applyTransform([O[0],O[3]],D),ge=ie.applyTransform([O[2],O[1]],D);return[Math.min(ae[0],le[0],fe[0],ge[0]),Math.min(ae[1],le[1],fe[1],ge[1]),Math.max(ae[0],le[0],fe[0],ge[0]),Math.max(ae[1],le[1],fe[1],ge[1])]}static inverseTransform(O){const D=O[0]*O[3]-O[1]*O[2];return[O[3]/D,-O[1]/D,-O[2]/D,O[0]/D,(O[2]*O[5]-O[4]*O[3])/D,(O[4]*O[1]-O[5]*O[0])/D]}static apply3dTransform(O,D){return[O[0]*D[0]+O[1]*D[1]+O[2]*D[2],O[3]*D[0]+O[4]*D[1]+O[5]*D[2],O[6]*D[0]+O[7]*D[1]+O[8]*D[2]]}static singularValueDecompose2dScale(O){const D=[O[0],O[2],O[1],O[3]],ae=O[0]*D[0]+O[1]*D[2],ge=O[2]*D[1]+O[3]*D[3],Ce=(ae+ge)/2,we=Math.sqrt((ae+ge)**2-4*(ae*ge-(O[2]*D[0]+O[3]*D[2])*(O[0]*D[1]+O[1]*D[3])))/2,xe=Ce-we||1;return[Math.sqrt(Ce+we||1),Math.sqrt(xe)]}static normalizeRect(O){const D=O.slice(0);return O[0]>O[2]&&(D[0]=O[2],D[2]=O[0]),O[1]>O[3]&&(D[1]=O[3],D[3]=O[1]),D}static intersect(O,D){const ae=Math.max(Math.min(O[0],O[2]),Math.min(D[0],D[2])),le=Math.min(Math.max(O[0],O[2]),Math.max(D[0],D[2]));if(ae>le)return null;const fe=Math.max(Math.min(O[1],O[3]),Math.min(D[1],D[3])),ge=Math.min(Math.max(O[1],O[3]),Math.max(D[1],D[3]));return fe>ge?null:[ae,fe,le,ge]}static bezierBoundingBox(O,D,ae,le,fe,ge,Ce,we){const Me=[],xe=[[],[]];let Re,ke,Be,Le,Fe,Oe,Ne,De;for(let Ye=0;Ye<2;++Ye)if(0===Ye?(ke=6*O-12*ae+6*fe,Re=-3*O+9*ae-9*fe+3*Ce,Be=3*ae-3*O):(ke=6*D-12*le+6*ge,Re=-3*D+9*le-9*ge+3*we,Be=3*le-3*D),Math.abs(Re)<1e-12){if(Math.abs(ke)<1e-12)continue;Le=-Be/ke,0<Le&&Le<1&&Me.push(Le)}else Ne=ke*ke-4*Be*Re,De=Math.sqrt(Ne),!(Ne<0)&&(Fe=(-ke+De)/(2*Re),0<Fe&&Fe<1&&Me.push(Fe),Oe=(-ke-De)/(2*Re),0<Oe&&Oe<1&&Me.push(Oe));let Ie,Ve=Me.length;const je=Ve;for(;Ve--;)Le=Me[Ve],Ie=1-Le,xe[0][Ve]=Ie*Ie*Ie*O+3*Ie*Ie*Le*ae+3*Ie*Le*Le*fe+Le*Le*Le*Ce,xe[1][Ve]=Ie*Ie*Ie*D+3*Ie*Ie*Le*le+3*Ie*Le*Le*ge+Le*Le*Le*we;return xe[0][je]=O,xe[1][je]=D,xe[0][je+1]=Ce,xe[1][je+1]=we,xe[0].length=xe[1].length=je+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}M.Util=ie;const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(Z){return decodeURIComponent(escape(Z))}},(he,M,te)=>{te(3)},(he,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.isNodeJS=void 0;const te=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);M.isNodeJS=te},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var he,te,m,oe,ne,H,Q,k,Ke,P;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:u,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:f}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=u,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=f}function setPDFNetworkStreamFactory(u){createPDFNetworkStream=u}function getDocument(u){const s=new PDFDocumentLoadingTask;let f;if("string"==typeof u||u instanceof URL)f={url:u};else if((0,_util.isArrayBuffer)(u))f={data:u};else if(u instanceof PDFDataRangeTransport)f={range:u};else{if("object"!=typeof u)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!u.url&&!u.data&&!u.range)throw new Error("Invalid parameter object: need either .data, .range or .url");f=u}const n=Object.create(null);let i=null,h=null;for(const _ in f){const g=f[_];switch(_){case"url":if(typeof window<"u")try{n[_]=new URL(g,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof g||g instanceof URL){n[_]=g.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=g;continue;case"worker":h=g;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)n[_]=new Uint8Array(g);else{if(g instanceof Uint8Array)break;if("string"==typeof g)n[_]=(0,_util.stringToBytes)(g);else if("object"!=typeof g||null===g||isNaN(g.length)){if(!(0,_util.isArrayBuffer)(g))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[_]=new Uint8Array(g)}else n[_]=new Uint8Array(g)}continue}n[_]=g}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!h){const _={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};h=_.port?PDFWorker.fromPort(_):new PDFWorker(_),s._worker=h}const x=s.docId;return h.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const _=_fetchDocument(h,n,i,x),g=new Promise(function(t){let r;i?r=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(r=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),t(r)});return Promise.all([_,g]).then(function([t,r]){if(s.destroyed)throw new Error("Loading aborted");const A=new _message_handler.MessageHandler(x,t,h.port),b=new WorkerTransport(A,s,r,n);s._transport=b,A.send("Ready",null)})}).catch(s._capability.reject),s}function _fetchDocument(u,s,f,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(u,s,f,n){if(u.destroyed)throw new Error("Worker was destroyed");f&&(s.length=f.length,s.initialData=f.initialData,s.progressiveDone=f.progressiveDone,s.contentDispositionFilename=f.contentDispositionFilename);const i=yield u.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:s.data,url:s.url,password:s.password,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize,length:s.length},maxImageSize:s.maxImageSize,disableFontFace:s.disableFontFace,docBaseUrl:s.docBaseUrl,ignoreErrors:s.ignoreErrors,isEvalSupported:s.isEvalSupported,fontExtraProperties:s.fontExtraProperties,enableXfa:s.enableXfa,useSystemFonts:s.useSystemFonts,cMapUrl:s.useWorkerFetch?s.cMapUrl:null,standardFontDataUrl:s.useWorkerFetch?s.standardFontDataUrl:null});if(u.destroyed)throw new Error("Worker was destroyed");return i})).apply(this,arguments)}const M=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+lt(M,he)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var s=this;return _asyncToGenerator(function*(){s.destroyed=!0,yield s._transport?.destroy(),s._transport=null,s._worker&&(s._worker.destroy(),s._worker=null)})()}};let PDFDocumentLoadingTask=M;he=new WeakMap,ve(PDFDocumentLoadingTask,he,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,f,n=!1,i=null){this.length=s,this.initialData=f,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,f){for(const n of this._rangeListeners)n(s,f)}onDataProgress(s,f){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(s,f)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const f of this._progressiveReadListeners)f(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,f){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,f){var i,n=this;this._pdfInfo=s,this._transport=f,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(i=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return i.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,f,n,i,h=!1){this._pageIndex=s,this._pageInfo=f,this._ownerDocument=i,this._transport=n,this._stats=h?new _display_utils.StatTimer:null,this._pdfBug=h,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:f=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:h=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:f,offsetX:n,offsetY:i,dontFlip:h})}getAnnotations({intent:s="display"}={}){const f=this._transport.getRenderingIntent(s);let n=this._annotationPromises.get(f.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,f.renderingIntent),this._annotationPromises.set(f.cacheKey,n),n=n.then(i=>{for(const h of i)void 0!==h.titleObj&&Object.defineProperty(h,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),h.titleObj.str)}),void 0!==h.contentsObj&&Object.defineProperty(h,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),h.contentsObj.str)});return i})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var s=this;return _asyncToGenerator(function*(){return s._transport._htmlForXfa?.children[s._pageIndex]||null})()}render({canvasContext:s,viewport:f,intent:n="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:h=null,imageLayer:x=null,canvasFactory:_=null,background:g=null,optionalContentConfigPromise:t=null,annotationCanvasMap:r=null,pageColors:A=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const b=this._transport.getRenderingIntent(n,i);this.pendingCleanup=!1,t||(t=this._transport.getOptionalContentConfig());let y=this._intentStates.get(b.cacheKey);y||(y=Object.create(null),this._intentStates.set(b.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const L=_||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),R=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b));const F=N=>{y.renderTasks.delete(V),(this.cleanupAfterRender||R)&&(this.pendingCleanup=!0),this._tryCleanup(),N?(V.capability.reject(N),this._abortOperatorList({intentState:y,reason:N instanceof Error?N:new Error(N)})):V.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},V=new InternalRenderTask({callback:F,params:{canvasContext:s,viewport:f,transform:h,imageLayer:x,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:r,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:A});(y.renderTasks||(y.renderTasks=new Set)).add(V);const z=V.task;return Promise.all([y.displayReadyCapability.promise,t]).then(([N,q])=>{this.pendingCleanup?F():(this._stats&&this._stats.time("Rendering"),V.initializeGraphics({transparency:N,optionalContentConfig:q}),V.operatorListChanged())}).catch(F),z}getOperatorList({intent:s="display",annotationMode:f=_util.AnnotationMode.ENABLE}={}){const i=this._transport.getRenderingIntent(s,f,!0);let x,h=this._intentStates.get(i.cacheKey);return h||(h=Object.create(null),this._intentStates.set(i.cacheKey,h)),h.opListReadCapability||(x=Object.create(null),x.operatorListChanged=function n(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(x))},h.opListReadCapability=(0,_util.createPromiseCapability)(),(h.renderTasks||(h.renderTasks=new Set)).add(x),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(i)),h.opListReadCapability.promise}streamTextContent({disableCombineTextItems:s=!1,includeMarkedContent:f=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==s,includeMarkedContent:!0===f},{highWaterMark:100,size:i=>i.items.length})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const f=this.streamTextContent(s);return new Promise(function(n,i){const x=f.getReader(),_={items:[],styles:Object.create(null)};!function h(){x.read().then(function({value:g,done:t}){t?n(_):(Object.assign(_.styles,g.styles),_.items.push(...g.items),h())},i)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const s=[];for(const f of this._intentStates.values())if(this._abortOperatorList({intentState:f,reason:new Error("Page was destroyed."),force:!0}),!f.opListReadCapability)for(const n of f.renderTasks)s.push(n.completed),n.cancel();this.objs.clear();for(const f of this._bitmaps)f.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(s)}cleanup(s=!1){return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(s=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:f,operatorList:n}of this._intentStates.values())if(f.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,s&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const f of this._bitmaps)f.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(s,f){const n=this._intentStates.get(f);!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(s))}_renderPageChunk(s,f){for(let n=0,i=s.length;n<i;n++)f.operatorList.fnArray.push(s.fnArray[n]),f.operatorList.argsArray.push(s.argsArray[n]);f.operatorList.lastChunk=s.lastChunk;for(const n of f.renderTasks)n.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:s,cacheKey:f}){const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:f,annotationStorage:s&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),h=this._intentStates.get(f);h.streamReader=i;const x=()=>{i.read().then(({value:_,done:g})=>{g?h.streamReader=null:this._transport.destroyed||(this._renderPageChunk(_,h),x())},_=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this._tryCleanup()}if(h.displayReadyCapability)h.displayReadyCapability.reject(_);else{if(!h.opListReadCapability)throw _;h.opListReadCapability.reject(_)}}})};x()}_abortOperatorList({intentState:s,reason:f,force:n=!1}){if(s.streamReader){if(!n){if(s.renderTasks.size>0)return;if(f instanceof _display_utils.RenderingCancelledException)return void(s.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:s,reason:f,force:!0}),s.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(s.streamReader.cancel(new _util.AbortException(f.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[i,h]of this._intentStates)if(h===s){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(s,f){const n={data:structuredClone(s,f)};this._deferred.then(()=>{for(const i of this._listeners)i.call(this,n)})}addEventListener(s,f){this._listeners.push(f)}removeEventListener(s,f){const n=this._listeners.indexOf(f);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const u=document?.currentScript?.src;u&&(PDFWorkerUtil.fallbackWorkerSrc=u.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(u,s){let f;try{if(f=new URL(u),!f.origin||"null"===f.origin)return!1}catch{return!1}const n=new URL(s,f);return f.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(u){return URL.createObjectURL(new Blob([`importScripts("${u}");`]))};const _PDFWorker=class{constructor({name:u=null,port:s=null,verbosity:f=(0,_util.getVerbosityLevel)()}={}){if(s&&Ae(_PDFWorker,te).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=u,this.destroyed=!1,this.verbosity=f,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s)return Ae(_PDFWorker,te).set(s,this),void this._initializeFromPort(s);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(u){this._port=u,this._messageHandler=new _message_handler.MessageHandler("main","worker",u),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let u=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,u)||(u=PDFWorkerUtil.createCDNWrapper(new URL(u,window.location).href));const s=new Worker(u),f=new _message_handler.MessageHandler("main","worker",s),n=()=>{s.removeEventListener("error",i),f.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};s.addEventListener("error",i),f.on("test",x=>{s.removeEventListener("error",i),this.destroyed?n():x?(this._messageHandler=f,this._port=s,this._webWorker=s,this._readyCapability.resolve(),f.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),f.destroy(),s.terminate())}),f.on("ready",x=>{if(s.removeEventListener("error",i),this.destroyed)n();else try{h()}catch{this._setupFakeWorker()}});const h=()=>{const x=new Uint8Array;f.send("test",x,[x.buffer])};return void h()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(u=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const s=new LoopbackPort;this._port=s;const f="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(f+"_worker",f,s);u.setup(n,s);const i=new _message_handler.MessageHandler(f,f+"_worker",s);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(u=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${u.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ae(_PDFWorker,te).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(u){if(!u?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ae(this,te).has(u.port)?Ae(this,te).get(u.port):new _PDFWorker(u)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function u(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;te=new WeakMap,ve(PDFWorker,te,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(s,f,n,i){ve(this,m,null),ve(this,oe,new Map),ve(this,ne,new Map),ve(this,H,null),this.messageHandler=s,this.loadingTask=f,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:f.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ae(this,m)}getRenderingIntent(s,f=_util.AnnotationMode.ENABLE,n=!1){let i=_util.RenderingIntentFlag.DISPLAY,h="";switch(s){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(f){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,h=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${f}`)}return n&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${h}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const n of Ae(this,oe).values())s.push(n._destroy());Ae(this,oe).clear(),Ae(this,ne).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const f=this.messageHandler.sendWithPromise("Terminate",null);return s.push(f),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Te(this,H,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:f}=this;s.on("GetReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=h=>{this._lastProgress={loaded:h.loaded,total:h.total}},i.onPull=()=>{this._fullReader.read().then(function({value:h,done:x}){x?i.close():((0,_util.assert)((0,_util.isArrayBuffer)(h),"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(h),1,[h]))}).catch(h=>{i.error(h)})},i.onCancel=h=>{this._fullReader.cancel(h),i.ready.catch(x=>{if(!this.destroyed)throw x})}}),s.on("ReaderHeadersReady",n=>{const i=(0,_util.createPromiseCapability)(),h=this._fullReader;return h.headersReady.then(()=>{(!h.isStreamingSupported||!h.isRangeSupported)&&(this._lastProgress&&f.onProgress?.(this._lastProgress),h.onProgress=x=>{f.onProgress?.({loaded:x.loaded,total:x.total})}),i.resolve({isStreamingSupported:h.isStreamingSupported,isRangeSupported:h.isRangeSupported,contentLength:h.contentLength})},i.reject),i.promise}),s.on("GetRangeReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const h=this._networkStream.getRangeReader(n.begin,n.end);h?(i.onPull=()=>{h.read().then(function({value:x,done:_}){_?i.close():((0,_util.assert)((0,_util.isArrayBuffer)(x),"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(x),1,[x]))}).catch(x=>{i.error(x)})},i.onCancel=x=>{h.cancel(x),i.ready.catch(_=>{if(!this.destroyed)throw _})}):i.close()}),s.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,f._capability.resolve(new PDFDocumentProxy(n,this))}),s.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":i=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}f._capability.reject(i)}),s.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),f.onPassword){const i=h=>{h instanceof Error?this._passwordCapability.reject(h):this._passwordCapability.resolve({password:h})};try{f.onPassword(i,n.code)}catch(h){this._passwordCapability.reject(h)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),s.on("DataLoaded",n=>{f.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),s.on("StartRenderPage",n=>{this.destroyed||Ae(this,oe).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),s.on("commonobj",([n,i,h])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(i){case"Font":const x=this._params;if("error"in h){const t=h.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(n,t);break}let _=null;x.pdfBug&&globalThis.FontInspector?.enabled&&(_={registerFont(t,r){globalThis.FontInspector.fontAdded(t,r)}});const g=new _font_loader.FontFaceObject(h,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_});this.fontLoader.bind(g).catch(t=>s.sendWithPromise("FontFallback",{id:n})).finally(()=>{!x.fontExtraProperties&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,h);break;default:throw new Error(`Got unknown common object type ${i}`)}}),s.on("obj",([n,i,h,x])=>{if(this.destroyed)return;const _=Ae(this,oe).get(i);if(!_.objs.has(n))switch(h){case"Image":_.objs.resolve(n,x);const g=8e6;if(x){let t;if(x.bitmap){const{bitmap:r,width:A,height:b}=x;t=A*b*4,_._bitmaps.add(r)}else t=x.data?.length||0;t>g&&(_.cleanupAfterRender=!0)}break;case"Pattern":_.objs.resolve(n,x);break;default:throw new Error(`Got unknown object type ${h}`)}}),s.on("DocProgress",n=>{this.destroyed||f.onProgress?.({loaded:n.loaded,total:n.total})}),s.on("DocStats",n=>{this.destroyed||Te(this,m,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:s}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(s)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const f=s-1,n=Ae(this,ne).get(f);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:f}).then(h=>{if(this.destroyed)throw new Error("Transport destroyed");const x=new PDFPageProxy(f,h,this,this._params.ownerDocument,this._params.pdfBug);return Ae(this,oe).set(f,x),x});return Ae(this,ne).set(f,i),i}getPageIndex(s){return"object"!=typeof s||null===s||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,f){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:f})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return"string"!=typeof s?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ae(this,H)||Te(this,H,this.messageHandler.sendWithPromise("GetMetadata",null).then(s=>({info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(s=!1){var f=this;return _asyncToGenerator(function*(){if(yield f.messageHandler.sendWithPromise("Cleanup",null),!f.destroyed){for(const n of Ae(f,oe).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);f.commonObjs.clear(),s||f.fontLoader.clear(),Te(f,H,null),f._getFieldObjectsPromise=null,f._hasJSActionsPromise=null}})()}get loadingParams(){const s=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s.disableAutoFetch,enableXfa:s.enableXfa})}}m=new WeakMap,oe=new WeakMap,ne=new WeakMap,H=new WeakMap;class PDFObjects{constructor(){ve(this,k),ve(this,Q,Object.create(null))}get(s,f=null){if(f){const i=ye(this,k,Ke).call(this,s);return i.capability.promise.then(()=>f(i.data)),null}const n=Ae(this,Q)[s];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${s}.`);return n.data}has(s){return Ae(this,Q)[s]?.capability.settled||!1}resolve(s,f=null){const n=ye(this,k,Ke).call(this,s);n.data=f,n.capability.resolve()}clear(){Te(this,Q,Object.create(null))}}Q=new WeakMap,k=new WeakSet,Ke=function(s){return Ae(this,Q)[s]||(Ae(this,Q)[s]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(s){this._internalRenderTask=s,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const d=class{constructor({callback:s,params:f,objs:n,commonObjs:i,annotationCanvasMap:h,operatorList:x,pageIndex:_,canvasFactory:g,useRequestAnimationFrame:t=!1,pdfBug:r=!1,pageColors:A=null}){this.callback=s,this.params=f,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=x,this._pageIndex=_,this.canvasFactory=g,this._pdfBug=r,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===t&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=f.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:f}){if(this.cancelled)return;if(this._canvas){if(Ae(d,P).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ae(d,P).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:h,imageLayer:x,background:_}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,x,f,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:h,viewport:i,transparency:s,background:_}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(s=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ae(d,P).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var s=this;return _asyncToGenerator(function*(){s.cancelled||(s.operatorListIdx=s.gfx.executeOperatorList(s.operatorList,s.operatorListIdx,s._continueBound,s.stepper),s.operatorListIdx===s.operatorList.argsArray.length&&(s.running=!1,s.operatorList.lastChunk&&(s.gfx.endDrawing(),s._canvas&&Ae(d,P).delete(s._canvas),s.callback())))})()}};let InternalRenderTask=d;P=new WeakMap,ve(InternalRenderTask,P,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StatTimer=M.RenderingCancelledException=M.PixelsPerInch=M.PageViewport=M.PDFDateString=M.DOMStandardFontDataFactory=M.DOMSVGFactory=M.DOMCanvasFactory=M.DOMCMapReaderFactory=void 0,M.deprecated=function r(R){console.log("Deprecated API usage: "+R)},M.getFilenameFromUrl=function h(R){const F=R.indexOf("#"),V=R.indexOf("?"),z=Math.min(F>0?F:R.length,V>0?V:R.length);return R.substring(R.lastIndexOf("/",z)+1,z)},M.getPdfFilenameFromUrl=function x(R,F="document.pdf"){if("string"!=typeof R)return F;if(n(R))return(0,oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const z=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,N=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let q=z.exec(N[1])||z.exec(N[2])||z.exec(N[3]);if(q&&(q=q[0],q.includes("%")))try{q=z.exec(decodeURIComponent(q))[0]}catch{}return q||F},M.getXfaPageViewport=function y(R,{scale:F=1,rotation:V=0}){const{width:z,height:N}=R.attributes.style,q=[0,0,parseInt(z),parseInt(N)];return new s({viewBox:q,scale:F,rotation:V})},M.isDataScheme=n,M.isPdfFile=function i(R){return"string"==typeof R&&/\.pdf$/i.test(R)},M.isValidFetchUrl=g,M.loadScript=function t(R,F=!1){return new Promise((V,z)=>{const N=document.createElement("script");N.src=R,N.onload=function(q){F&&N.remove(),V(q)},N.onerror=function(){z(new Error(`Cannot load script at: ${N.src}`))},(document.head||document.documentElement).appendChild(N)})};var m=te(6),oe=te(1);const L=class{};let A,H=L;function k(R){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(function*(R,F=!1){if(g(R,document.baseURI)){const V=yield fetch(R);if(!V.ok)throw new Error(V.statusText);return F?new Uint8Array(yield V.arrayBuffer()):(0,oe.stringToBytes)(yield V.text())}return new Promise((V,z)=>{const N=new XMLHttpRequest;N.open("GET",R,!0),F&&(N.responseType="arraybuffer"),N.onreadystatechange=()=>{if(N.readyState===XMLHttpRequest.DONE){if(200===N.status||0===N.status){let q;if(F&&N.response?q=new Uint8Array(N.response):!F&&N.responseText&&(q=(0,oe.stringToBytes)(N.responseText)),q)return void V(q)}z(new Error(N.statusText))}},N.send(null)})})).apply(this,arguments)}ze(H,"CSS",96),ze(H,"PDF",72),ze(H,"PDF_TO_CSS_UNITS",L.CSS/L.PDF),M.PixelsPerInch=H,M.DOMCanvasFactory=class Q extends m.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,V){const z=this._document.createElement("canvas");return z.width=F,z.height=V,z}},M.DOMCMapReaderFactory=class P extends m.BaseCMapReaderFactory{_fetchData(F,V){return k(F,this.isCompressed).then(z=>({cMapData:z,compressionType:V}))}},M.DOMStandardFontDataFactory=class d extends m.BaseStandardFontDataFactory{_fetchData(F){return k(F,!0)}},M.DOMSVGFactory=class u extends m.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class s{constructor({viewBox:F,scale:V,rotation:z,offsetX:N=0,offsetY:q=0,dontFlip:v=!1}){this.viewBox=F,this.scale=V,this.rotation=z,this.offsetX=N,this.offsetY=q;const B=(F[2]+F[0])/2,j=(F[3]+F[1])/2;let K,re,T,a,l,e,o,p;switch((z%=360)<0&&(z+=360),z){case 180:K=-1,re=0,T=0,a=1;break;case 90:K=0,re=1,T=1,a=0;break;case 270:K=0,re=-1,T=-1,a=0;break;case 0:K=1,re=0,T=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}v&&(T=-T,a=-a),0===K?(l=Math.abs(j-F[1])*V+N,e=Math.abs(B-F[0])*V+q,o=Math.abs(F[3]-F[1])*V,p=Math.abs(F[2]-F[0])*V):(l=Math.abs(B-F[0])*V+N,e=Math.abs(j-F[1])*V+q,o=Math.abs(F[2]-F[0])*V,p=Math.abs(F[3]-F[1])*V),this.transform=[K*V,re*V,T*V,a*V,l-K*V*B-T*V*j,e-re*V*B-a*V*j],this.width=o,this.height=p}clone({scale:F=this.scale,rotation:V=this.rotation,offsetX:z=this.offsetX,offsetY:N=this.offsetY,dontFlip:q=!1}={}){return new s({viewBox:this.viewBox.slice(),scale:F,rotation:V,offsetX:z,offsetY:N,dontFlip:q})}convertToViewportPoint(F,V){return oe.Util.applyTransform([F,V],this.transform)}convertToViewportRectangle(F){const V=oe.Util.applyTransform([F[0],F[1]],this.transform),z=oe.Util.applyTransform([F[2],F[3]],this.transform);return[V[0],V[1],z[0],z[1]]}convertToPdfPoint(F,V){return oe.Util.applyInverseTransform([F,V],this.transform)}}function n(R){const F=R.length;let V=0;for(;V<F&&""===R[V].trim();)V++;return"data:"===R.substring(V,V+5).toLowerCase()}function g(R,F){try{const{protocol:V}=F?new URL(R,F):new URL(R);return"http:"===V||"https:"===V}catch{return!1}}M.PageViewport=s,M.RenderingCancelledException=class f extends oe.BaseException{constructor(F,V){super(F,"RenderingCancelledException"),this.type=V}},M.StatTimer=class _{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,oe.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,oe.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let V=0;for(const z of this.times){const N=z.name;N.length>V&&(V=N.length)}for(const z of this.times){const N=z.end-z.start;F.push(`${z.name.padEnd(V)} ${N}ms\n`)}return F.join("")}},M.PDFDateString=class b{static toDateObject(F){if(!F||"string"!=typeof F)return null;A||(A=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const V=A.exec(F);if(!V)return null;const z=parseInt(V[1],10);let N=parseInt(V[2],10);N=N>=1&&N<=12?N-1:0;let q=parseInt(V[3],10);q=q>=1&&q<=31?q:1;let v=parseInt(V[4],10);v=v>=0&&v<=23?v:0;let B=parseInt(V[5],10);B=B>=0&&B<=59?B:0;let j=parseInt(V[6],10);j=j>=0&&j<=59?j:0;const K=V[7]||"Z";let re=parseInt(V[8],10);re=re>=0&&re<=23?re:0;let T=parseInt(V[9],10)||0;return T=T>=0&&T<=59?T:0,"-"===K?(v+=re,B+=T):"+"===K&&(v-=re,B-=T),new Date(Date.UTC(z,N,q,v,B,j))}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.BaseStandardFontDataFactory=M.BaseSVGFactory=M.BaseCanvasFactory=M.BaseCMapReaderFactory=void 0;var m=te(1);class oe{constructor(){this.constructor===oe&&(0,m.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,P){if(c<=0||P<=0)throw new Error("Invalid canvas size");const d=this._createCanvas(c,P);return{canvas:d,context:d.getContext("2d")}}reset(c,P,d){if(!c.canvas)throw new Error("Canvas is not specified");if(P<=0||d<=0)throw new Error("Invalid canvas size");c.canvas.width=P,c.canvas.height=d}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,P){(0,m.unreachable)("Abstract method `_createCanvas` called.")}}M.BaseCanvasFactory=oe;class ne{constructor({baseUrl:c=null,isCompressed:P=!1}){this.constructor===ne&&(0,m.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=P}fetch({name:c}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const d=P.baseUrl+c+(P.isCompressed?".bcmap":"");return P._fetchData(d,P.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE).catch(s=>{throw new Error(`Unable to load ${P.isCompressed?"binary ":""}CMap at: ${d}`)})})()}_fetchData(c,P){(0,m.unreachable)("Abstract method `_fetchData` called.")}}M.BaseCMapReaderFactory=ne;class H{constructor({baseUrl:c=null}){this.constructor===H&&(0,m.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch({filename:c}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const d=`${P.baseUrl}${c}`;return P._fetchData(d).catch(u=>{throw new Error(`Unable to load font data at: ${d}`)})})()}_fetchData(c){(0,m.unreachable)("Abstract method `_fetchData` called.")}}M.BaseStandardFontDataFactory=H;class Q{constructor(){this.constructor===Q&&(0,m.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,P){if(c<=0||P<=0)throw new Error("Invalid SVG dimensions");const d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),d.setAttribute("width",`${c}px`),d.setAttribute("height",`${P}px`),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox",`0 0 ${c} ${P}`),d}createElement(c){if("string"!=typeof c)throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,m.unreachable)("Abstract method `_createSVG` called.")}}M.BaseSVGFactory=Q},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.FontLoader=M.FontFaceObject=void 0;var m=te(1);class oe{constructor({docId:k,onUnsupportedFeature:c,ownerDocument:P=globalThis.document,styleElement:d=null}){this.constructor===oe&&(0,m.unreachable)("Cannot initialize BaseFontLoader."),this.docId=k,this._onUnsupportedFeature=c,this._document=P,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(k){this.nativeFontFaces.push(k),this._document.fonts.add(k)}insertRule(k){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(c));const P=c.sheet;P.insertRule(k,P.cssRules.length)}clear(){for(const k of this.nativeFontFaces)this._document.fonts.delete(k);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(k){var c=this;return _asyncToGenerator(function*(){if(k.attached||k.missingFile)return;if(k.attached=!0,c.isFontLoadingAPISupported){const d=k.createNativeFontFace();if(d){c.addNativeFontFace(d);try{yield d.loaded}catch(u){throw c._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,m.warn)(`Failed to load font '${d.family}': '${u}'.`),k.disableFontFace=!0,u}}return}const P=k.createFontFaceRule();if(P){if(c.insertRule(P),c.isSyncFontLoadingSupported)return;yield new Promise(d=>{const u=c._queueLoadingCallback(d);c._prepareFontLoadEvent([P],[k],u)})}})()}_queueLoadingCallback(k){(0,m.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,m.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,m.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,m.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(k,c,P){(0,m.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ne;M.FontLoader=ne,M.FontLoader=ne=class extends oe{constructor(k){super(k),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let k=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(k=!0),(0,m.shadow)(this,"isSyncFontLoadingSupported",k)}_queueLoadingCallback(k){const P=this.loadingContext,d={id:"pdfjs-font-loading-"+P.nextRequestId++,done:!1,complete:function c(){for((0,m.assert)(!d.done,"completeRequest() cannot be called twice."),d.done=!0;P.requests.length>0&&P.requests[0].done;){const u=P.requests.shift();setTimeout(u.callback,0)}},callback:k};return P.requests.push(d),d}get _loadTestFont(){return(0,m.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(k,c,P){function d(V,z){return V.charCodeAt(z)<<24|V.charCodeAt(z+1)<<16|V.charCodeAt(z+2)<<8|255&V.charCodeAt(z+3)}function u(V,z,N,q){return V.substring(0,z)+q+V.substring(z+N)}let s,f;const n=this._document.createElement("canvas");n.width=1,n.height=1;const i=n.getContext("2d");let h=0;const _=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=u(g,976,_.length,_);const A=1482184792;let b=d(g,16);for(s=0,f=_.length-3;s<f;s+=4)b=b-A+d(_,s)|0;s<_.length&&(b=b-A+d(_+"XXX",s)|0),g=u(g,16,4,(0,m.string32)(b));const y=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${_}";src:${y}}`);const R=[];for(const V of c)R.push(V.loadedName);R.push(_);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const V of R){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=V,F.appendChild(z)}this._document.body.appendChild(F),function x(V,z){if(h++,h>30)return(0,m.warn)("Load test font never loaded."),void z();i.font="30px "+V,i.fillText(".",0,20),i.getImageData(0,0,1,1).data[3]>0?z():setTimeout(x.bind(null,V,z))}(_,()=>{F.remove(),P.complete()})}},M.FontFaceObject=class H{constructor(k,{isEvalSupported:c=!0,disableFontFace:P=!1,ignoreErrors:d=!1,onUnsupportedFeature:u,fontRegistry:s=null}){this.compiledGlyphs=Object.create(null);for(const f in k)this[f]=k[f];this.isEvalSupported=!1!==c,this.disableFontFace=!0===P,this.ignoreErrors=!0===d,this._onUnsupportedFeature=u,this.fontRegistry=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let k;if(this.cssFontInfo){const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),k=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}else k=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),k}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const k=(0,m.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(k)});`;let P;if(this.cssFontInfo){let d=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(d+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${d}src:${c}}`}else P=`@font-face {font-family:"${this.loadedName}";src:${c}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,c),P}getPathGenerator(k,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];let P;try{P=k.get(this.loadedName+"_path_"+c)}catch(d){if(!this.ignoreErrors)throw d;return this._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,m.warn)(`getPathGenerator - ignoring character: "${d}".`),this.compiledGlyphs[c]=function(u,s){}}if(this.isEvalSupported&&m.FeatureTest.isEvalSupported){const d=[];for(const u of P){const s=void 0!==u.args?u.args.join(","):"";d.push("c.",u.cmd,"(",s,");\n")}return this.compiledGlyphs[c]=new Function("c","size",d.join(""))}return this.compiledGlyphs[c]=function(d,u){for(const s of P)"scale"===s.cmd&&(s.args=[u,-u]),d[s.cmd].apply(d,s.args)}}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationStorage=void 0;var m=te(9),oe=te(1);M.AnnotationStorage=class ne{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Q,k){const c=this._storage.get(Q);return void 0===c?k:Object.assign(k,c)}getRawValue(Q){return this._storage.get(Q)}setValue(Q,k){const c=this._storage.get(Q);let P=!1;if(void 0!==c)for(const[d,u]of Object.entries(k))c[d]!==u&&(P=!0,c[d]=u);else P=!0,this._storage.set(Q,k);P&&this._setModified()}getAll(){return this._storage.size>0?(0,oe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const Q=new m.MurmurHash3_64;for(const[k,c]of this._storage)Q.update(`${k}:${JSON.stringify(c)}`);return Q.hexdigest()}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MurmurHash3_64=void 0;var m=te(1);const oe=3285377520,ne=4294901760,H=65535;M.MurmurHash3_64=class Q{constructor(c){this.h1=c?4294967295&c:oe,this.h2=c?4294967295&c:oe}update(c){let P,d;if("string"==typeof c){P=new Uint8Array(2*c.length),d=0;for(let A=0,b=c.length;A<b;A++){const y=c.charCodeAt(A);y<=255?P[d++]=y:(P[d++]=y>>>8,P[d++]=255&y)}}else{if(!(0,m.isArrayBuffer)(c))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=c.slice(),d=P.byteLength}const u=d>>2,s=d-4*u,f=new Uint32Array(P.buffer,0,u);let n=0,i=0,h=this.h1,x=this.h2;const _=3432918353,g=461845907,t=_&H,r=g&H;for(let A=0;A<u;A++)1&A?(n=f[A],n=n*_&ne|n*t&H,n=n<<15|n>>>17,n=n*g&ne|n*r&H,h^=n,h=h<<13|h>>>19,h=5*h+3864292196):(i=f[A],i=i*_&ne|i*t&H,i=i<<15|i>>>17,i=i*g&ne|i*r&H,x^=i,x=x<<13|x>>>19,x=5*x+3864292196);switch(n=0,s){case 3:n^=P[4*u+2]<<16;case 2:n^=P[4*u+1]<<8;case 1:n^=P[4*u],n=n*_&ne|n*t&H,n=n<<15|n>>>17,n=n*g&ne|n*r&H,1&u?h^=n:x^=n}this.h1=h,this.h2=x}hexdigest(){let c=this.h1,P=this.h2;c^=P>>>1,c=3981806797*c&ne|36045*c&H,P=4283543511*P&ne|(2950163797*(P<<16|c>>>16)&ne)>>>16,c^=P>>>1,c=444984403*c&ne|60499*c&H,P=3301882366*P&ne|(3120437893*(P<<16|c>>>16)&ne)>>>16,c^=P>>>1;const d=(c>>>0).toString(16),u=(P>>>0).toString(16);return d.padStart(8,"0")+u.padStart(8,"0")}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CanvasGraphics=void 0;var m=te(1),oe=te(11),ne=te(12),H=te(3),Q=te(5);const P=4096,n=16;function x(T){if(T._transformStack&&(T._transformStack=[]),!T.mozCurrentTransform){T._originalSave=T.save,T._originalRestore=T.restore,T._originalRotate=T.rotate,T._originalScale=T.scale,T._originalTranslate=T.translate,T._originalTransform=T.transform,T._originalSetTransform=T.setTransform,T._originalResetTransform=T.resetTransform,T._transformMatrix=T._transformMatrix||[1,0,0,1,0,0],T._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(T),"lineWidth");T._setLineWidth=a.set,T._getLineWidth=a.get,Object.defineProperty(T,"lineWidth",{set:function(e){this._setLineWidth(1.000001*e)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(T,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(T,"mozCurrentTransformInverse",{get:function(){const[l,e,o,p,w,C]=this._transformMatrix,E=l*p-e*o,U=e*o-l*p;return[p/E,e/U,o/U,l/E,(p*w-o*C)/U,(e*w-l*C)/E]}}),T.save=function(){const l=this._transformMatrix;this._transformStack.push(l),this._transformMatrix=l.slice(0,6),this._originalSave()},T.restore=function(){0===this._transformStack.length&&(0,m.warn)("Tried to restore a ctx when the stack was already empty.");const l=this._transformStack.pop();l&&(this._transformMatrix=l,this._originalRestore())},T.translate=function(l,e){const o=this._transformMatrix;o[4]=o[0]*l+o[2]*e+o[4],o[5]=o[1]*l+o[3]*e+o[5],this._originalTranslate(l,e)},T.scale=function(l,e){const o=this._transformMatrix;o[0]*=l,o[1]*=l,o[2]*=e,o[3]*=e,this._originalScale(l,e)},T.transform=function(l,e,o,p,w,C){const E=this._transformMatrix;this._transformMatrix=[E[0]*l+E[2]*e,E[1]*l+E[3]*e,E[0]*o+E[2]*p,E[1]*o+E[3]*p,E[0]*w+E[2]*C+E[4],E[1]*w+E[3]*C+E[5]],T._originalTransform(l,e,o,p,w,C)},T.setTransform=function(l,e,o,p,w,C){this._transformMatrix=[l,e,o,p,w,C],T._originalSetTransform(l,e,o,p,w,C)},T.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],T._originalResetTransform()},T.rotate=function(l){const e=Math.cos(l),o=Math.sin(l),p=this._transformMatrix;this._transformMatrix=[p[0]*e+p[2]*o,p[1]*e+p[3]*o,p[0]*-o+p[2]*e,p[1]*-o+p[3]*e,p[4],p[5]],this._originalRotate(l)}}}class _{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,l,e,o){let p;return void 0!==this.cache[a]?(p=this.cache[a],this.canvasFactory.reset(p,l,e),p.context.setTransform(1,0,0,1,0,0)):(p=this.canvasFactory.create(l,e),this.cache[a]=p),o&&x(p.context),p}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function g(T,a,l,e,o,p,w,C,E,U){const[G,W,X,Y,ee,ce]=T.mozCurrentTransform;if(0===W&&0===X){const ie=Math.round(w*G+ee),I=Math.round(C*Y+ce),pe=Math.abs(Math.round((w+E)*G+ee)-ie)||1,ue=Math.abs(Math.round((C+U)*Y+ce)-I)||1;return T.setTransform(Math.sign(G),0,0,Math.sign(Y),ie,I),T.drawImage(a,l,e,o,p,0,0,pe,ue),T.setTransform(G,W,X,Y,ee,ce),[pe,ue]}if(0===G&&0===Y){const ie=Math.round(C*X+ee),I=Math.round(w*W+ce),pe=Math.abs(Math.round((C+U)*X+ee)-ie)||1,ue=Math.abs(Math.round((w+E)*W+ce)-I)||1;return T.setTransform(0,Math.sign(W),Math.sign(X),0,ie,I),T.drawImage(a,l,e,o,p,0,0,ue,pe),T.setTransform(G,W,X,Y,ee,ce),[ue,pe]}return T.drawImage(a,l,e,o,p,w,C,E,U),[Math.hypot(G,W)*E,Math.hypot(X,Y)*U]}class r{constructor(a,l){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=m.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=m.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,l])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,l){this.x=a,this.y=l}updatePathMinMax(a,l,e){[l,e]=m.Util.applyTransform([l,e],a),this.minX=Math.min(this.minX,l),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,l),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(a,l){const e=m.Util.applyTransform(l,a),o=m.Util.applyTransform(l.slice(2),a);this.minX=Math.min(this.minX,e[0],o[0]),this.minY=Math.min(this.minY,e[1],o[1]),this.maxX=Math.max(this.maxX,e[0],o[0]),this.maxY=Math.max(this.maxY,e[1],o[1])}updateScalingPathMinMax(a,l){m.Util.scaleMinMax(a,l),this.minX=Math.min(this.minX,l[0]),this.maxX=Math.max(this.maxX,l[1]),this.minY=Math.min(this.minY,l[2]),this.maxY=Math.max(this.maxY,l[3])}updateCurvePathMinMax(a,l,e,o,p,w,C,E,U,G){const W=m.Util.bezierBoundingBox(l,e,o,p,w,C,E,U);if(G)return G[0]=Math.min(G[0],W[0],W[2]),G[1]=Math.max(G[1],W[0],W[2]),G[2]=Math.min(G[2],W[1],W[3]),void(G[3]=Math.max(G[3],W[1],W[3]));this.updateRectMinMax(a,W)}getPathBoundingBox(a=oe.PathType.FILL,l=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(a===oe.PathType.STROKE){l||(0,m.unreachable)("Stroke bounding box must include transform.");const o=m.Util.singularValueDecompose2dScale(l),p=o[0]*this.lineWidth/2,w=o[1]*this.lineWidth/2;e[0]-=p,e[1]-=w,e[2]+=p,e[3]+=w}return e}updateClipFromPath(){const a=m.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=oe.PathType.FILL,l=null){return m.Util.intersect(this.clipBox,this.getPathBoundingBox(a,l))}}function A(T,a,l=null){if(typeof ImageData<"u"&&a instanceof ImageData)return void T.putImageData(a,0,0);const e=a.height,o=a.width,p=e%n,w=(e-p)/n,C=0===p?w:w+1,E=T.createImageData(o,n);let G,U=0;const W=a.data,X=E.data;let Y,ee,ce,be,J,se,ie,S;if(l)switch(l.length){case 1:J=l[0],se=l[0],ie=l[0],S=l[0];break;case 4:J=l[0],se=l[1],ie=l[2],S=l[3]}if(a.kind===m.ImageKind.GRAYSCALE_1BPP){const I=W.byteLength,$=new Uint32Array(X.buffer,0,X.byteLength>>2),pe=$.length,de=o+7>>3;let ue=4294967295,me=m.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([ue,me]=[me,ue]),Y=0;Y<C;Y++){for(ce=Y<w?n:p,G=0,ee=0;ee<ce;ee++){const _e=I-U;let Se=0;const Pe=_e>de?o:8*_e-7,Ee=-8&Pe;let Z=0,O=0;for(;Se<Ee;Se+=8)O=W[U++],$[G++]=128&O?ue:me,$[G++]=64&O?ue:me,$[G++]=32&O?ue:me,$[G++]=16&O?ue:me,$[G++]=8&O?ue:me,$[G++]=4&O?ue:me,$[G++]=2&O?ue:me,$[G++]=1&O?ue:me;for(;Se<Pe;Se++)0===Z&&(O=W[U++],Z=128),$[G++]=O&Z?ue:me,Z>>=1}for(;G<pe;)$[G++]=0;T.putImageData(E,0,Y*n)}}else if(a.kind===m.ImageKind.RGBA_32BPP){const I=!!(J||se||ie);for(ee=0,be=o*n*4,Y=0;Y<w;Y++){if(X.set(W.subarray(U,U+be)),U+=be,I)for(let $=0;$<be;$+=4)J&&(X[$+0]=J[X[$+0]]),se&&(X[$+1]=se[X[$+1]]),ie&&(X[$+2]=ie[X[$+2]]);T.putImageData(E,0,ee),ee+=n}if(Y<C){if(be=o*p*4,X.set(W.subarray(U,U+be)),I)for(let $=0;$<be;$+=4)J&&(X[$+0]=J[X[$+0]]),se&&(X[$+1]=se[X[$+1]]),ie&&(X[$+2]=ie[X[$+2]]);T.putImageData(E,0,ee)}}else{if(a.kind!==m.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const I=!!(J||se||ie);for(ce=n,be=o*ce,Y=0;Y<C;Y++){for(Y>=w&&(ce=p,be=o*ce),G=0,ee=be;ee--;)X[G++]=W[U++],X[G++]=W[U++],X[G++]=W[U++],X[G++]=255;if(I)for(let $=0;$<G;$+=4)J&&(X[$+0]=J[X[$+0]]),se&&(X[$+1]=se[X[$+1]]),ie&&(X[$+2]=ie[X[$+2]]);T.putImageData(E,0,Y*n)}}}}function b(T,a){if(a.bitmap)return void T.drawImage(a.bitmap,0,0);const l=a.height,e=a.width,o=l%n,p=(l-o)/n,w=0===o?p:p+1,C=T.createImageData(e,n);let E=0;const U=a.data,G=C.data;for(let W=0;W<w;W++){const X=W<p?n:o;({srcPos:E}=(0,ne.applyMaskImageData)({src:U,srcPos:E,dest:G,width:e,height:X})),T.putImageData(C,0,W*n)}}function y(T,a){const l=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let e=0,o=l.length;e<o;e++){const p=l[e];void 0!==T[p]&&(a[p]=T[p])}void 0!==T.setLineDash&&(a.setLineDash(T.getLineDash()),a.lineDashOffset=T.lineDashOffset)}function L(T,a){T.strokeStyle=T.fillStyle=a||"#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",void 0!==T.setLineDash&&(T.setLineDash([]),T.lineDashOffset=0)}function R(T,a,l,e){const o=T.length;for(let p=3;p<o;p+=4){const w=T[p];if(0===w)T[p-3]=a,T[p-2]=l,T[p-1]=e;else if(w<255){const C=255-w;T[p-3]=T[p-3]*w+a*C>>8,T[p-2]=T[p-2]*w+l*C>>8,T[p-1]=T[p-1]*w+e*C>>8}}}function F(T,a,l){const e=T.length;for(let p=3;p<e;p+=4)a[p]=a[p]*(l?l[T[p]]:T[p])*.00392156862745098|0}function V(T,a,l){const e=T.length;for(let o=3;o<e;o+=4){const p=77*T[o-3]+152*T[o-2]+28*T[o-1];a[o]=l?a[o]*l[p>>8]>>8:a[o]*p>>16}}function q(T,a){const l=m.Util.singularValueDecompose2dScale(T);l[0]=Math.fround(l[0]),l[1]=Math.fround(l[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*Q.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:l[0]<=e||l[1]<=e}const v=["butt","round","square"],B=["miter","round","bevel"],j={},K={};class re{constructor(a,l,e,o,p,w,C,E){this.ctx=a,this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=l,this.objs=e,this.canvasFactory=o,this.imageLayer=p,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new _(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,a&&x(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,l=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):l}beginDrawing({transform:a,viewport:l,transparency:e=!1,background:o=null}){const p=this.ctx.canvas.width,w=this.ctx.canvas.height,C=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const U=this.backgroundColor=this.ctx.fillStyle;let G=!0,W=C;if(this.ctx.fillStyle=C,W=this.ctx.fillStyle,G="string"==typeof W&&/^#[0-9A-Fa-f]{6}$/.test(W),"#000000"===E&&"#ffffff"===U||E===U||!G)this.foregroundColor=this.backgroundColor=null;else{const X=parseInt(W.slice(1),16),ee=(X&&65280)>>8,ce=X&&255,be=se=>(se/=255)<=.03928?se/12.92:((se+.055)/1.055)**2.4,J=Math.round(.2126*be((X&&16711680)>>16)+.7152*be(ee)+.0722*be(ce));this.selectColor=(se,ie,S)=>{const I=.2126*be(se)+.7152*be(ie)+.0722*be(S);return Math.round(I)===J?U:E}}}if(this.ctx.fillStyle=this.backgroundColor||C,this.ctx.fillRect(0,0,p,w),this.ctx.restore(),e){const E=this.cachedCanvases.getCanvas("transparent",p,w,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,l.transform),this.viewportScale=l.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,l,e,o){const p=a.argsArray,w=a.fnArray;let C=l||0;const E=p.length;if(E===C)return C;const U=E-C>10&&"function"==typeof e,G=U?Date.now()+15:0;let W=0;const X=this.commonObjs,Y=this.objs;let ee;for(;;){if(void 0!==o&&C===o.nextBreakPoint)return o.breakIt(C,e),C;if(ee=w[C],ee!==m.OPS.dependency)this[ee].apply(this,p[C]);else for(const ce of p[C]){const be=ce.startsWith("g_")?X:Y;if(!be.has(ce))return be.get(ce,e),C}if(C++,C===E)return C;if(U&&++W>10){if(Date.now()>G)return e(),C;W=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const l of a.values())typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&(l.width=l.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,l){const e=a.width,o=a.height;let G,W,p=Math.max(Math.hypot(l[0],l[1]),1),w=Math.max(Math.hypot(l[2],l[3]),1),C=e,E=o,U="prescale1";for(;p>2&&C>1||w>2&&E>1;){let X=C,Y=E;p>2&&C>1&&(X=Math.ceil(C/2),p/=C/X),w>2&&E>1&&(Y=Math.ceil(E/2),w/=E/Y),G=this.cachedCanvases.getCanvas(U,X,Y,!1),W=G.context,W.clearRect(0,0,X,Y),W.drawImage(a,0,0,C,E,0,0,X,Y),a=G.canvas,C=X,E=Y,U="prescale1"===U?"prescale2":"prescale1"}return{img:a,paintWidth:C,paintHeight:E}}_createMaskCanvas(a){const l=this.ctx,{width:e,height:o}=a,p=this.current.fillColor,w=this.current.patternFill,C=l.mozCurrentTransform;let E,U,G,W;if((a.bitmap||a.data)&&a.count>1){const pe=a.bitmap||a.data.buffer,de=C.slice(0,4);U=JSON.stringify(w?de:[de,p]),E=this._cachedBitmapsMap.get(pe),E||(E=new Map,this._cachedBitmapsMap.set(pe,E));const ue=E.get(U);if(ue&&!w)return{canvas:ue,offsetX:Math.round(Math.min(C[0],C[2])+C[4]),offsetY:Math.round(Math.min(C[1],C[3])+C[5])};G=ue}G||(W=this.cachedCanvases.getCanvas("maskCanvas",e,o,!1),b(W.context,a));let X=m.Util.transform(C,[1/e,0,0,-1/o,0,0]);X=m.Util.transform(X,[1,0,0,1,0,-o]);const Y=m.Util.applyTransform([0,0],X),ee=m.Util.applyTransform([e,o],X),ce=m.Util.normalizeRect([Y[0],Y[1],ee[0],ee[1]]),be=Math.round(ce[2]-ce[0])||1,J=Math.round(ce[3]-ce[1])||1,se=this.cachedCanvases.getCanvas("fillCanvas",be,J,!0),ie=se.context,S=Math.min(Y[0],ee[0]),I=Math.min(Y[1],ee[1]);ie.translate(-S,-I),ie.transform.apply(ie,X),G||(G=this._scaleImage(W.canvas,ie.mozCurrentTransformInverse),G=G.img,E&&w&&E.set(U,G)),ie.imageSmoothingEnabled=q(ie.mozCurrentTransform,a.interpolate),g(ie,G,0,0,G.width,G.height,0,0,e,o),ie.globalCompositeOperation="source-in";const $=m.Util.transform(ie.mozCurrentTransformInverse,[1,0,0,1,-S,-I]);return ie.fillStyle=w?p.getPattern(l,this,$,oe.PathType.FILL):p,ie.fillRect(0,0,e,o),E&&!w&&(this.cachedCanvases.delete("fillCanvas"),E.set(U,se.canvas)),{canvas:se.canvas,offsetX:Math.round(S),offsetY:Math.round(I)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=v[a]}setLineJoin(a){this.ctx.lineJoin=B[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,l){const e=this.ctx;void 0!==e.setLineDash&&(e.setLineDash(a),e.lineDashOffset=l)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let l=0,e=a.length;l<e;l++){const o=a[l],w=o[1];switch(o[0]){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const p=this.ctx;p.setTransform.apply(p,this.suspendedCtx.mozCurrentTransform),y(this.suspendedCtx,p),function h(T,a){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){a.save(),this.__originalSave()},T.restore=function(){a.restore(),this.__originalRestore()},T.translate=function(e,o){a.translate(e,o),this.__originalTranslate(e,o)},T.scale=function(e,o){a.scale(e,o),this.__originalScale(e,o)},T.transform=function(e,o,p,w,C,E){a.transform(e,o,p,w,C,E),this.__originalTransform(e,o,p,w,C,E)},T.setTransform=function(e,o,p,w,C,E){a.setTransform(e,o,p,w,C,E),this.__originalSetTransform(e,o,p,w,C,E)},T.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},T.rotate=function(e){a.rotate(e),this.__originalRotate(e)},T.clip=function(e){a.clip(e),this.__originalClip(e)},T.moveTo=function(l,e){a.moveTo(l,e),this.__originalMoveTo(l,e)},T.lineTo=function(l,e){a.lineTo(l,e),this.__originalLineTo(l,e)},T.bezierCurveTo=function(l,e,o,p,w,C){a.bezierCurveTo(l,e,o,p,w,C),this.__originalBezierCurveTo(l,e,o,p,w,C)},T.rect=function(l,e,o,p){a.rect(l,e,o,p),this.__originalRect(l,e,o,p)},T.closePath=function(){a.closePath(),this.__originalClosePath()},T.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(p,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function N(T,a,l,e){const o=e[0],p=e[1],w=e[2]-o,C=e[3]-p;0===w||0===C||(function z(T,a,l,e,o,p,w,C,E,U,G){const W=!!p,X=W?p[0]:0,Y=W?p[1]:0,ee=W?p[2]:0;let ce;ce="Luminosity"===o?V:F;const J=Math.min(e,Math.ceil(1048576/l));for(let se=0;se<e;se+=J){const ie=Math.min(J,e-se),S=T.getImageData(C-U,se+(E-G),l,ie),I=a.getImageData(C,se+E,l,ie);W&&R(S.data,X,Y,ee),ce(S.data,I.data,w),a.putImageData(I,C,se+E)}}(a.context,l,w,C,a.subtype,a.backdrop,a.transferMap,o,p,a.offsetX,a.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(l.canvas,0,0),T.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,l,e,o,p,w){this.ctx.transform(a,l,e,o,p,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,l,e){const o=this.ctx,p=this.current;let E,U,w=p.x,C=p.y;const G=o.mozCurrentTransform,W=0===G[0]&&0===G[3]||0===G[1]&&0===G[2],X=W?e.slice(0):null;for(let Y=0,ee=0,ce=a.length;Y<ce;Y++)switch(0|a[Y]){case m.OPS.rectangle:w=l[ee++],C=l[ee++];const be=l[ee++],J=l[ee++],se=w+be,ie=C+J;o.moveTo(w,C),0===be||0===J?o.lineTo(se,ie):(o.lineTo(se,C),o.lineTo(se,ie),o.lineTo(w,ie)),W||p.updateRectMinMax(G,[w,C,se,ie]),o.closePath();break;case m.OPS.moveTo:w=l[ee++],C=l[ee++],o.moveTo(w,C),W||p.updatePathMinMax(G,w,C);break;case m.OPS.lineTo:w=l[ee++],C=l[ee++],o.lineTo(w,C),W||p.updatePathMinMax(G,w,C);break;case m.OPS.curveTo:E=w,U=C,w=l[ee+4],C=l[ee+5],o.bezierCurveTo(l[ee],l[ee+1],l[ee+2],l[ee+3],w,C),p.updateCurvePathMinMax(G,E,U,l[ee],l[ee+1],l[ee+2],l[ee+3],w,C,X),ee+=6;break;case m.OPS.curveTo2:E=w,U=C,o.bezierCurveTo(w,C,l[ee],l[ee+1],l[ee+2],l[ee+3]),p.updateCurvePathMinMax(G,E,U,w,C,l[ee],l[ee+1],l[ee+2],l[ee+3],X),w=l[ee+2],C=l[ee+3],ee+=4;break;case m.OPS.curveTo3:E=w,U=C,w=l[ee+2],C=l[ee+3],o.bezierCurveTo(l[ee],l[ee+1],w,C,w,C),p.updateCurvePathMinMax(G,E,U,l[ee],l[ee+1],w,C,w,C,X),ee+=4;break;case m.OPS.closePath:o.closePath()}W&&p.updateScalingPathMinMax(G,X),p.setCurrentPoint(w,C)}closePath(){this.ctx.closePath()}stroke(a){a=!(typeof a<"u")||a;const l=this.ctx,e=this.current.strokeColor;l.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof e&&e?.getPattern?(l.save(),l.strokeStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,oe.PathType.STROKE),this.rescaleAndStroke(!1),l.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),l.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=!(typeof a<"u")||a;const l=this.ctx,e=this.current.fillColor;let p=!1;this.current.patternFill&&(l.save(),l.fillStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,oe.PathType.FILL),p=!0);const w=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==w&&(this.pendingEOFill?(l.fill("evenodd"),this.pendingEOFill=!1):l.fill()),p&&l.restore(),a&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=j}eoClip(){this.pendingClip=K}beginText(){this.current.textMatrix=m.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,l=this.ctx;if(void 0!==a){l.save(),l.beginPath();for(let e=0;e<a.length;e++){const o=a[e];l.setTransform.apply(l,o.transform),l.translate(o.x,o.y),o.addToPath(l,o.fontSize)}l.restore(),l.clip(),l.beginPath(),delete this.pendingTextPaths}else l.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,l){const e=this.commonObjs.get(a),o=this.current;if(!e)throw new Error(`Can't find font for ${a}`);if(o.fontMatrix=e.fontMatrix||m.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,m.warn)("Invalid font matrix for font "+a),l<0?(l=-l,o.fontDirection=-1):o.fontDirection=1,this.current.font=e,this.current.fontSize=l,e.isType3Font)return;let w="normal";e.black?w="900":e.bold&&(w="bold");const C=e.italic?"italic":"normal",E=`"${e.loadedName||"sans-serif"}", ${e.fallbackName}`;let U=l;l<16?U=16:l>100&&(U=100),this.current.fontSizeScale=l/U,this.ctx.font=`${C} ${w} ${U}px ${E}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,l){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=l}setLeadingMoveText(a,l){this.setLeading(-l),this.moveText(a,l)}setTextMatrix(a,l,e,o,p,w){this.current.textMatrix=[a,l,e,o,p,w],this.current.textMatrixScale=Math.hypot(a,l),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,l,e,o){const p=this.ctx,w=this.current,C=w.font,E=w.textRenderingMode,U=w.fontSize/w.fontSizeScale,G=E&m.TextRenderingMode.FILL_STROKE_MASK,W=!!(E&m.TextRenderingMode.ADD_TO_PATH_FLAG),X=w.patternFill&&!C.missingFile;let Y;(C.disableFontFace||W||X)&&(Y=C.getPathGenerator(this.commonObjs,a)),C.disableFontFace||X?(p.save(),p.translate(l,e),p.beginPath(),Y(p,U),o&&p.setTransform.apply(p,o),(G===m.TextRenderingMode.FILL||G===m.TextRenderingMode.FILL_STROKE)&&p.fill(),(G===m.TextRenderingMode.STROKE||G===m.TextRenderingMode.FILL_STROKE)&&p.stroke(),p.restore()):((G===m.TextRenderingMode.FILL||G===m.TextRenderingMode.FILL_STROKE)&&p.fillText(a,l,e),(G===m.TextRenderingMode.STROKE||G===m.TextRenderingMode.FILL_STROKE)&&p.strokeText(a,l,e)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:p.mozCurrentTransform,x:l,y:e,fontSize:U,addToPath:Y})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const l=a.getImageData(0,0,10,10).data;let e=!1;for(let o=3;o<l.length;o+=4)if(l[o]>0&&l[o]<255){e=!0;break}return(0,m.shadow)(this,"isFontSubpixelAAEnabled",e)}showText(a){const l=this.current,e=l.font;if(e.isType3Font)return this.showType3Text(a);const o=l.fontSize;if(0===o)return;const p=this.ctx,w=l.fontSizeScale,C=l.charSpacing,E=l.wordSpacing,U=l.fontDirection,G=l.textHScale*U,W=a.length,X=e.vertical,Y=X?1:-1,ee=e.defaultVMetrics,ce=o*l.fontMatrix[0],be=l.textRenderingMode===m.TextRenderingMode.FILL&&!e.disableFontFace&&!l.patternFill;let J;if(p.save(),p.transform.apply(p,l.textMatrix),p.translate(l.x,l.y+l.textRise),p.scale(G,U>0?-1:1),l.patternFill){p.save();const $=l.fillColor.getPattern(p,this,p.mozCurrentTransformInverse,oe.PathType.FILL);J=p.mozCurrentTransform,p.restore(),p.fillStyle=$}let se=l.lineWidth;const ie=l.textMatrixScale;if(0===ie||0===se){const $=l.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;($===m.TextRenderingMode.STROKE||$===m.TextRenderingMode.FILL_STROKE)&&(se=this.getSinglePixelWidth())}else se/=ie;1!==w&&(p.scale(w,w),se/=w),p.lineWidth=se;let I,S=0;for(I=0;I<W;++I){const $=a[I];if("number"==typeof $){S+=Y*$*o/1e3;continue}let pe=!1;const de=($.isSpace?E:0)+C,ue=$.fontChar,me=$.accent;let _e,Se,Ee,Pe=$.width;if(X){const Z=$.vmetric||ee,O=-($.vmetric?Z[1]:.5*Pe)*ce;Pe=Z?-Z[0]:Pe,_e=O/w,Se=(S+Z[2]*ce)/w}else _e=S/w,Se=0;if(e.remeasure&&Pe>0){const Z=1e3*p.measureText(ue).width/o*w;if(Pe<Z&&this.isFontSubpixelAAEnabled){const O=Pe/Z;pe=!0,p.save(),p.scale(O,1),_e/=O}else Pe!==Z&&(_e+=(Pe-Z)/2e3*o/w)}this.contentVisible&&($.isInFont||e.missingFile)&&(be&&!me?p.fillText(ue,_e,Se):(this.paintChar(ue,_e,Se,J),me&&this.paintChar(me.fontChar,_e+o*me.offset.x/w,Se-o*me.offset.y/w,J))),Ee=X?Pe*ce-de*U:Pe*ce+de*U,S+=Ee,pe&&p.restore()}X?l.y-=S:l.x+=S*G,p.restore(),this.compose()}showType3Text(a){const l=this.ctx,e=this.current,o=e.font,p=e.fontSize,w=e.fontDirection,C=o.vertical?1:-1,E=e.charSpacing,U=e.wordSpacing,G=e.textHScale*w,W=e.fontMatrix||m.FONT_IDENTITY_MATRIX,X=a.length;let ee,ce,be,J;if(e.textRenderingMode!==m.TextRenderingMode.INVISIBLE&&0!==p){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,l.save(),l.transform.apply(l,e.textMatrix),l.translate(e.x,e.y),l.scale(G,w),ee=0;ee<X;++ee){if(ce=a[ee],"number"==typeof ce){J=C*ce*p/1e3,this.ctx.translate(J,0),e.x+=J*G;continue}const se=(ce.isSpace?U:0)+E,ie=o.charProcOperatorList[ce.operatorListId];ie?(this.contentVisible&&(this.processingType3=ce,this.save(),l.scale(p,p),l.transform.apply(l,W),this.executeOperatorList(ie),this.restore()),be=m.Util.applyTransform([ce.width,0],W)[0]*p+se,l.translate(be,0),e.x+=be*G):(0,m.warn)(`Type3 character "${ce.operatorListId}" is not available.`)}l.restore(),this.processingType3=null}}setCharWidth(a,l){}setCharWidthAndBounds(a,l,e,o,p,w){this.ctx.rect(e,o,p-e,w-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let l;if("TilingPattern"===a[0]){const e=a[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();l=new oe.TilingPattern(a,e,this.ctx,{createCanvasGraphics:w=>new re(w,this.commonObjs,this.objs,this.canvasFactory)},o)}else l=this._getPattern(a[1],a[2]);return l}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,l,e){const o=this.selectColor?.(a,l,e)||m.Util.makeHexColor(a,l,e);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(a,l,e){const o=this.selectColor?.(a,l,e)||m.Util.makeHexColor(a,l,e);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(a,l=null){let e;return this.cachedPatterns.has(a)?e=this.cachedPatterns.get(a):(e=(0,oe.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,e)),l&&(e.matrix=l),e}shadingFill(a){if(!this.contentVisible)return;const l=this.ctx;this.save();const e=this._getPattern(a);l.fillStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,oe.PathType.SHADING);const o=l.mozCurrentTransformInverse;if(o){const p=l.canvas,w=p.width,C=p.height,E=m.Util.applyTransform([0,0],o),U=m.Util.applyTransform([0,C],o),G=m.Util.applyTransform([w,0],o),W=m.Util.applyTransform([w,C],o),X=Math.min(E[0],U[0],G[0],W[0]),Y=Math.min(E[1],U[1],G[1],W[1]),ee=Math.max(E[0],U[0],G[0],W[0]),ce=Math.max(E[1],U[1],G[1],W[1]);this.ctx.fillRect(X,Y,ee-X,ce-Y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,m.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,m.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,l){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,l)&&(this.ctx.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,l),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const l=this.ctx;a.isolated||(0,m.info)("TODO: Support non-isolated groups."),a.knockout&&(0,m.warn)("Knockout groups not supported.");const e=l.mozCurrentTransform;if(a.matrix&&l.transform.apply(l,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let o=m.Util.getAxialAlignedBoundingBox(a.bbox,l.mozCurrentTransform);o=m.Util.intersect(o,[0,0,l.canvas.width,l.canvas.height])||[0,0,0,0];const w=Math.floor(o[0]),C=Math.floor(o[1]);let E=Math.max(Math.ceil(o[2])-w,1),U=Math.max(Math.ceil(o[3])-C,1),G=1,W=1;E>P&&(G=E/P,E=P),U>P&&(W=U/P,U=P),this.current.startNewPathAndClipBox([0,0,E,U]);let X="groupAt"+this.groupLevel;a.smask&&(X+="_smask_"+this.smaskCounter++%2);const Y=this.cachedCanvases.getCanvas(X,E,U,!0),ee=Y.context;ee.scale(1/G,1/W),ee.translate(-w,-C),ee.transform.apply(ee,e),a.smask?this.smaskStack.push({canvas:Y.canvas,context:ee,offsetX:w,offsetY:C,scaleX:G,scaleY:W,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(l.setTransform(1,0,0,1,0,0),l.translate(w,C),l.scale(G,W),l.save()),y(l,ee),this.ctx=ee,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(l),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const l=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const p=m.Util.getAxialAlignedBoundingBox([0,0,l.canvas.width,l.canvas.height],o);this.ctx.drawImage(l.canvas,0,0),this.ctx.restore(),this.compose(p)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,l,e,o,p){if(this.save(),Array.isArray(l)&&4===l.length){const w=l[2]-l[0],C=l[3]-l[1];if(p&&this.annotationCanvasMap){(e=e.slice())[4]-=l[0],e[5]-=l[1],(l=l.slice())[0]=l[1]=0,l[2]=w,l[3]=C;const[E,U]=m.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:G}=this,W=Math.ceil(w*this.outputScaleX*G),X=Math.ceil(C*this.outputScaleY*G);this.annotationCanvas=this.canvasFactory.create(W,X);const{canvas:Y,context:ee}=this.annotationCanvas,ce=`var(--zoom-factor) * ${Q.PixelsPerInch.PDF_TO_CSS_UNITS}`;Y.style.width=`calc(${w}px * ${ce})`,Y.style.height=`calc(${C}px * ${ce})`,this.annotationCanvasMap.set(a,Y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ee,this.ctx.setTransform(E,0,0,-U,0,C*U),x(this.ctx),L(this.ctx,this.foregroundColor)}else L(this.ctx,this.foregroundColor),this.ctx.rect(l[0],l[1],w,C),this.ctx.clip(),this.endPath()}this.current=new r(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,e),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const l=a.count;(a=this.getObject(a.data,a)).count=l;const e=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function t(T){const{width:a,height:l}=T;if(a>1e3||l>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=a+1;let C,E,U,w=new Uint8Array(p*(l+1));const G=a+7&-8;let W=new Uint8Array(G*l),X=0;for(const ie of T.data){let S=128;for(;S>0;)W[X++]=ie&S?0:255,S>>=1}let Y=0;for(X=0,0!==W[X]&&(w[0]=1,++Y),E=1;E<a;E++)W[X]!==W[X+1]&&(w[E]=W[X]?2:1,++Y),X++;for(0!==W[X]&&(w[E]=2,++Y),C=1;C<l;C++){X=C*G,U=C*p,W[X-G]!==W[X]&&(w[U]=W[X]?1:8,++Y);let ie=(W[X]?4:0)+(W[X-G]?8:0);for(E=1;E<a;E++)ie=(ie>>2)+(W[X+1]?4:0)+(W[X-G+1]?8:0),o[ie]&&(w[U+E]=o[ie],++Y),X++;if(W[X-G]!==W[X]&&(w[U+E]=W[X]?2:4,++Y),Y>1e3)return null}for(X=G*(l-1),U=C*p,0!==W[X]&&(w[U]=8,++Y),E=1;E<a;E++)W[X]!==W[X+1]&&(w[U+E]=W[X]?4:8,++Y),X++;if(0!==W[X]&&(w[U+E]=4,++Y),Y>1e3)return null;const ee=new Int32Array([0,p,-1,0,-p,0,0,0,1]);let ce,be,J;for(H.isNodeJS?be=[]:ce=new Path2D,C=0;Y&&C<=l;C++){let ie=C*p;const S=ie+a;for(;ie<S&&!w[ie];)ie++;if(ie===S)continue;ce?ce.moveTo(ie%p,C):J=[ie%p,C];const I=ie;let $=w[ie];do{const pe=ee[$];do{ie+=pe}while(!w[ie]);const de=w[ie];5!==de&&10!==de?($=de,w[ie]=0):($=de&51*$>>4,w[ie]&=$>>2|$<<2),ce?ce.lineTo(ie%p,ie/p|0):J.push(ie%p,ie/p|0),w[ie]||--Y}while(I!==ie);ce||be.push(J),--C}return W=null,w=null,function(ie){if(ie.save(),ie.scale(1/a,-1/l),ie.translate(0,-l),ce)ie.fill(ce);else{ie.beginPath();for(const S of be){ie.moveTo(S[0],S[1]);for(let I=2,$=S.length;I<$;I+=2)ie.lineTo(S[I],S[I+1])}ie.fill()}ie.beginPath(),ie.restore()}}(a)),o.compiled))return void o.compiled(e);const p=this._createMaskCanvas(a),w=p.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(w,p.offsetX,p.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(a,l,e=0,o=0,p,w){if(!this.contentVisible)return;a=this.getObject(a.data,a);const C=this.ctx;C.save();const E=C.mozCurrentTransform;C.transform(l,e,o,p,0,0);const U=this._createMaskCanvas(a);C.setTransform(1,0,0,1,0,0);for(let G=0,W=w.length;G<W;G+=2){const X=m.Util.transform(E,[l,e,o,p,w[G],w[G+1]]),[Y,ee]=m.Util.applyTransform([0,0],X);C.drawImage(U.canvas,Y,ee)}C.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const l=this.ctx,e=this.current.fillColor,o=this.current.patternFill;for(let p=0,w=a.length;p<w;p++){const C=a[p],E=C.width,U=C.height,G=this.cachedCanvases.getCanvas("maskCanvas",E,U,!1),W=G.context;W.save(),b(W,C),W.globalCompositeOperation="source-in",W.fillStyle=o?e.getPattern(W,this,l.mozCurrentTransformInverse,oe.PathType.FILL):e,W.fillRect(0,0,E,U),W.restore(),l.save(),l.transform.apply(l,C.transform),l.scale(1,-1),g(l,G.canvas,0,0,E,U,0,-1,1,1),l.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const l=this.getObject(a);l?this.paintInlineImageXObject(l):(0,m.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,l,e,o){if(!this.contentVisible)return;const p=this.getObject(a);if(!p)return void(0,m.warn)("Dependent image isn't ready yet");const w=p.width,C=p.height,E=[];for(let U=0,G=o.length;U<G;U+=2)E.push({transform:[l,0,0,e,o[U],o[U+1]],x:0,y:0,w,h:C});this.paintInlineImageXObjectGroup(p,E)}paintInlineImageXObject(a){if(!this.contentVisible)return;const l=a.width,e=a.height,o=this.ctx;let p;if(this.save(),o.scale(1/l,-1/e),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)p=a;else{const U=this.cachedCanvases.getCanvas("inlineImage",l,e,!1);A(U.context,a,this.current.transferMaps),p=U.canvas}const w=this._scaleImage(p,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=q(o.mozCurrentTransform,a.interpolate);const[C,E]=g(o,w.img,0,0,w.paintWidth,w.paintHeight,0,-e,l,e);if(this.imageLayer){const U=this.getCanvasPosition(0,-e);this.imageLayer.appendImage({imgData:a,left:U[0],top:U[1],width:C,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,l){if(!this.contentVisible)return;const e=this.ctx,o=a.width,p=a.height,w=this.cachedCanvases.getCanvas("inlineImage",o,p,!1);A(w.context,a,this.current.transferMaps);for(let E=0,U=l.length;E<U;E++){const G=l[E];if(e.save(),e.transform.apply(e,G.transform),e.scale(1,-1),g(e,w.canvas,G.x,G.y,G.w,G.h,0,-1,1,1),this.imageLayer){const W=this.getCanvasPosition(G.x,G.y);this.imageLayer.appendImage({imgData:a,left:W[0],top:W[1],width:o,height:p})}e.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,l){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,l){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(l)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const l=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const e=this.ctx;this.pendingClip&&(l||(this.pendingClip===K?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const l=Math.abs(a[0]*a[3]-a[2]*a[1]),e=Math.hypot(a[0],a[2]),o=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(e,o)/l}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,l=this.ctx.mozCurrentTransform;let e,o;if(0===l[1]&&0===l[2]){const p=Math.abs(l[0]),w=Math.abs(l[3]);if(0===a)e=1/p,o=1/w;else{const C=p*a,E=w*a;e=C<1?1/C:1,o=E<1?1/E:1}}else{const p=Math.abs(l[0]*l[3]-l[2]*l[1]),w=Math.hypot(l[0],l[1]),C=Math.hypot(l[2],l[3]);if(0===a)e=C/p,o=w/p;else{const E=a*p;e=C>E?C/E:1,o=w>E?w/E:1}}this._cachedScaleForStroking=[e,o]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:l}=this,{lineWidth:e}=this.current,[o,p]=this.getScaleForStroking();if(l.lineWidth=e||1,1===o&&1===p)return void l.stroke();let w,C,E;a&&(w=l.mozCurrentTransform.slice(),C=l.getLineDash().slice(),E=l.lineDashOffset),l.scale(o,p);const U=Math.max(o,p);l.setLineDash(l.getLineDash().map(G=>G/U)),l.lineDashOffset/=U,l.stroke(),a&&(l.setTransform(...w),l.setLineDash(C),l.lineDashOffset=E)}getCanvasPosition(a,l){const e=this.ctx.mozCurrentTransform;return[e[0]*a+e[2]*l+e[4],e[1]*a+e[3]*l+e[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}M.CanvasGraphics=re;for(const T in m.OPS)void 0!==re.prototype[T]&&(re.prototype[m.OPS[T]]=re.prototype[T])},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TilingPattern=M.PathType=void 0,M.getShadingPattern=function s(i){switch(i[0]){case"RadialAxial":return new k(i);case"Mesh":return new d(i);case"Dummy":return new u}throw new Error(`Unknown IR type: ${i[0]}`)};var m=te(1),oe=te(3);const ne={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function H(i,h){if(!h||oe.isNodeJS)return;const x=h[2]-h[0],_=h[3]-h[1],g=new Path2D;g.rect(h[0],h[1],x,_),i.clip(g)}M.PathType=ne;class Q{constructor(){this.constructor===Q&&(0,m.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,m.unreachable)("Abstract method `getPattern` called.")}}class k extends Q{constructor(h){super(),this._type=h[1],this._bbox=h[2],this._colorStops=h[3],this._p0=h[4],this._p1=h[5],this._r0=h[6],this._r1=h[7],this.matrix=null}_createGradient(h){let x;"axial"===this._type?x=h.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(x=h.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const _ of this._colorStops)x.addColorStop(_[0],_[1]);return x}getPattern(h,x,_,g){let t;if(g===ne.STROKE||g===ne.FILL){const r=x.current.getClippedPathBoundingBox(g,h.mozCurrentTransform)||[0,0,0,0],A=Math.ceil(r[2]-r[0])||1,b=Math.ceil(r[3]-r[1])||1,y=x.cachedCanvases.getCanvas("pattern",A,b,!0),L=y.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-r[0],-r[1]),_=m.Util.transform(_,[1,0,0,1,r[0],r[1]]),L.transform.apply(L,x.baseTransform),this.matrix&&L.transform.apply(L,this.matrix),H(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),t=h.createPattern(y.canvas,"no-repeat");const R=new DOMMatrix(_);try{t.setTransform(R)}catch(F){(0,m.warn)(`RadialAxialShadingPattern.getPattern: "${F?.message}".`)}}else H(h,this._bbox),t=this._createGradient(h);return t}}function c(i,h,x,_,g,t,r,A){const b=h.coords,y=h.colors,L=i.data,R=4*i.width;let F;b[x+1]>b[_+1]&&(F=x,x=_,_=F,F=t,t=r,r=F),b[_+1]>b[g+1]&&(F=_,_=g,g=F,F=r,r=A,A=F),b[x+1]>b[_+1]&&(F=x,x=_,_=F,F=t,t=r,r=F);const V=(b[x]+h.offsetX)*h.scaleX,z=(b[x+1]+h.offsetY)*h.scaleY,N=(b[_]+h.offsetX)*h.scaleX,q=(b[_+1]+h.offsetY)*h.scaleY,v=(b[g]+h.offsetX)*h.scaleX,B=(b[g+1]+h.offsetY)*h.scaleY;if(z>=B)return;const j=y[t],K=y[t+1],re=y[t+2],T=y[r],a=y[r+1],l=y[r+2],e=y[A],o=y[A+1],p=y[A+2],w=Math.round(z),C=Math.round(B);let E,U,G,W,X,Y,ee,ce;for(let be=w;be<=C;be++){if(be<q){let I;I=be<z?0:(z-be)/(z-q),E=V-(V-N)*I,U=j-(j-T)*I,G=K-(K-a)*I,W=re-(re-l)*I}else{let I;I=be>B?1:q===B?0:(q-be)/(q-B),E=N-(N-v)*I,U=T-(T-e)*I,G=a-(a-o)*I,W=l-(l-p)*I}let J;J=be<z?0:be>B?1:(z-be)/(z-B),X=V-(V-v)*J,Y=j-(j-e)*J,ee=K-(K-o)*J,ce=re-(re-p)*J;const se=Math.round(Math.min(E,X)),ie=Math.round(Math.max(E,X));let S=R*be+4*se;for(let I=se;I<=ie;I++)J=(E-I)/(E-X),J<0?J=0:J>1&&(J=1),L[S++]=U-(U-Y)*J|0,L[S++]=G-(G-ee)*J|0,L[S++]=W-(W-ce)*J|0,L[S++]=255}}function P(i,h,x){const _=h.coords,g=h.colors;let t,r;switch(h.type){case"lattice":const A=h.verticesPerRow,b=Math.floor(_.length/A)-1,y=A-1;for(t=0;t<b;t++){let L=t*A;for(let R=0;R<y;R++,L++)c(i,x,_[L],_[L+1],_[L+A],g[L],g[L+1],g[L+A]),c(i,x,_[L+A+1],_[L+1],_[L+A],g[L+A+1],g[L+1],g[L+A])}break;case"triangles":for(t=0,r=_.length;t<r;t+=3)c(i,x,_[t],_[t+1],_[t+2],g[t],g[t+1],g[t+2]);break;default:throw new Error("illegal figure")}}class d extends Q{constructor(h){super(),this._coords=h[2],this._colors=h[3],this._figures=h[4],this._bounds=h[5],this._bbox=h[7],this._background=h[8],this.matrix=null}_createMeshCanvas(h,x,_){const A=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-A,L=Math.ceil(this._bounds[3])-b,R=Math.min(Math.ceil(Math.abs(y*h[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(L*h[1]*1.1)),3e3),V=y/R,z=L/F,N={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-b,scaleX:1/V,scaleY:1/z},B=_.getCanvas("mesh",R+4,F+4,!1),j=B.context,K=j.createImageData(R,F);if(x){const T=K.data;for(let a=0,l=T.length;a<l;a+=4)T[a]=x[0],T[a+1]=x[1],T[a+2]=x[2],T[a+3]=255}for(const T of this._figures)P(K,T,N);return j.putImageData(K,2,2),{canvas:B.canvas,offsetX:A-2*V,offsetY:b-2*z,scaleX:V,scaleY:z}}getPattern(h,x,_,g){let t;if(H(h,this._bbox),g===ne.SHADING)t=m.Util.singularValueDecompose2dScale(h.mozCurrentTransform);else if(t=m.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const A=m.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*A[0],t[1]*A[1]]}const r=this._createMeshCanvas(t,g===ne.SHADING?null:this._background,x.cachedCanvases);return g!==ne.SHADING&&(h.setTransform.apply(h,x.baseTransform),this.matrix&&h.transform.apply(h,this.matrix)),h.translate(r.offsetX,r.offsetY),h.scale(r.scaleX,r.scaleY),h.createPattern(r.canvas,"no-repeat")}}class u extends Q{getPattern(){return"hotpink"}}class n{static get MAX_PATTERN_SIZE(){return(0,m.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(h,x,_,g,t){this.operatorList=h[2],this.matrix=h[3]||[1,0,0,1,0,0],this.bbox=h[4],this.xstep=h[5],this.ystep=h[6],this.paintType=h[7],this.tilingType=h[8],this.color=x,this.ctx=_,this.canvasGraphicsFactory=g,this.baseTransform=t}createPatternCanvas(h){const x=this.operatorList,_=this.bbox,g=this.xstep,t=this.ystep,r=this.paintType,b=this.color,y=this.canvasGraphicsFactory;(0,m.info)("TilingType: "+this.tilingType);const L=_[0],R=_[1],F=_[2],V=_[3],z=m.Util.singularValueDecompose2dScale(this.matrix),N=m.Util.singularValueDecompose2dScale(this.baseTransform),q=[z[0]*N[0],z[1]*N[1]],v=this.getSizeAndScale(g,this.ctx.canvas.width,q[0]),B=this.getSizeAndScale(t,this.ctx.canvas.height,q[1]),j=h.cachedCanvases.getCanvas("pattern",v.size,B.size,!0),K=j.context,re=y.createCanvasGraphics(K);re.groupLevel=h.groupLevel,this.setFillAndStrokeStyleToContext(re,r,b);let T=L,a=R,l=F,e=V;return L<0&&(T=0,l+=Math.abs(L)),R<0&&(a=0,e+=Math.abs(R)),K.translate(-v.scale*T,-B.scale*a),re.transform(v.scale,0,0,B.scale,0,0),K.save(),this.clipBbox(re,T,a,l,e),re.baseTransform=re.ctx.mozCurrentTransform.slice(),re.executeOperatorList(x),re.endDrawing(),{canvas:j.canvas,scaleX:v.scale,scaleY:B.scale,offsetX:T,offsetY:a}}getSizeAndScale(h,x,_){h=Math.abs(h);const g=Math.max(n.MAX_PATTERN_SIZE,x);let t=Math.ceil(h*_);return t>=g?t=g:_=t/h,{scale:_,size:t}}clipBbox(h,x,_,g,t){h.ctx.rect(x,_,g-x,t-_),h.current.updateRectMinMax(h.ctx.mozCurrentTransform,[x,_,g,t]),h.clip(),h.endPath()}setFillAndStrokeStyleToContext(h,x,_){const g=h.ctx,t=h.current;switch(x){case 1:const r=this.ctx;g.fillStyle=r.fillStyle,g.strokeStyle=r.strokeStyle,t.fillColor=r.fillStyle,t.strokeColor=r.strokeStyle;break;case 2:const A=m.Util.makeHexColor(_[0],_[1],_[2]);g.fillStyle=A,g.strokeStyle=A,t.fillColor=A,t.strokeColor=A;break;default:throw new m.FormatError(`Unsupported paint type: ${x}`)}}getPattern(h,x,_,g){let t=_;g!==ne.SHADING&&(t=m.Util.transform(t,x.baseTransform),this.matrix&&(t=m.Util.transform(t,this.matrix)));const r=this.createPatternCanvas(x);let A=new DOMMatrix(t);A=A.translate(r.offsetX,r.offsetY),A=A.scale(1/r.scaleX,1/r.scaleY);const b=h.createPattern(r.canvas,"repeat");try{b.setTransform(A)}catch(y){(0,m.warn)(`TilingPattern.getPattern: "${y?.message}".`)}return b}}M.TilingPattern=n},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.applyMaskImageData=function oe({src:ne,srcPos:H=0,dest:Q,destPos:k=0,width:c,height:P,inverseDecode:d=!1}){const u=m.FeatureTest.isLittleEndian?4278190080:255,[s,f]=d?[0,u]:[u,0],n=c>>3,i=7&c,h=ne.length;Q=new Uint32Array(Q.buffer);for(let x=0;x<P;x++){for(const g=H+n;H<g;H++){const t=H<h?ne[H]:255;Q[k++]=128&t?f:s,Q[k++]=64&t?f:s,Q[k++]=32&t?f:s,Q[k++]=16&t?f:s,Q[k++]=8&t?f:s,Q[k++]=4&t?f:s,Q[k++]=2&t?f:s,Q[k++]=1&t?f:s}if(0===i)continue;const _=H<h?ne[H++]:255;for(let g=0;g<i;g++)Q[k++]=_&1<<7-g?f:s}return{srcPos:H,destPos:k}};var m=te(1)},(he,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GlobalWorkerOptions=void 0;const te=Object.create(null);M.GlobalWorkerOptions=te,te.workerPort=void 0===te.workerPort?null:te.workerPort,te.workerSrc=void 0===te.workerSrc?"":te.workerSrc},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MessageHandler=void 0;var m=te(1);function H(k){switch(k instanceof Error||"object"==typeof k&&null!==k||(0,m.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),k.name){case"AbortException":return new m.AbortException(k.message);case"MissingPDFException":return new m.MissingPDFException(k.message);case"PasswordException":return new m.PasswordException(k.message,k.code);case"UnexpectedResponseException":return new m.UnexpectedResponseException(k.message,k.status);case"UnknownErrorException":return new m.UnknownErrorException(k.message,k.details);default:return new m.UnknownErrorException(k.message,k.toString())}}M.MessageHandler=class Q{constructor(c,P,d){this.sourceName=c,this.targetName=P,this.comObj=d,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=u=>{const s=u.data;if(s.targetName!==this.sourceName)return;if(s.stream)return void this._processStreamMessage(s);if(s.callback){const n=s.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],1===s.callback)i.resolve(s.data);else{if(2!==s.callback)throw new Error("Unexpected callback case");i.reject(H(s.reason))}return}const f=this.actionHandler[s.action];if(!f)throw new Error(`Unknown action from worker: ${s.action}`);if(s.callbackId){const n=this.sourceName,i=s.sourceName;new Promise(function(h){h(f(s.data))}).then(function(h){d.postMessage({sourceName:n,targetName:i,callback:1,callbackId:s.callbackId,data:h})},function(h){d.postMessage({sourceName:n,targetName:i,callback:2,callbackId:s.callbackId,reason:H(h)})})}else s.streamId?this._createStreamSink(s):f(s.data)},d.addEventListener("message",this._onComObjOnMessage)}on(c,P){const d=this.actionHandler;if(d[c])throw new Error(`There is already an actionName called "${c}"`);d[c]=P}send(c,P,d){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:P},d)}sendWithPromise(c,P,d){const u=this.callbackId++,s=(0,m.createPromiseCapability)();this.callbackCapabilities[u]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:u,data:P},d)}catch(f){s.reject(f)}return s.promise}sendWithStream(c,P,d,u){const s=this.streamId++,f=this.sourceName,n=this.targetName,i=this.comObj;return new ReadableStream({start:h=>{const x=(0,m.createPromiseCapability)();return this.streamControllers[s]={controller:h,startCall:x,pullCall:null,cancelCall:null,isClosed:!1},i.postMessage({sourceName:f,targetName:n,action:c,streamId:s,data:P,desiredSize:h.desiredSize},u),x.promise},pull:h=>{const x=(0,m.createPromiseCapability)();return this.streamControllers[s].pullCall=x,i.postMessage({sourceName:f,targetName:n,stream:6,streamId:s,desiredSize:h.desiredSize}),x.promise},cancel:h=>{(0,m.assert)(h instanceof Error,"cancel must have a valid reason");const x=(0,m.createPromiseCapability)();return this.streamControllers[s].cancelCall=x,this.streamControllers[s].isClosed=!0,i.postMessage({sourceName:f,targetName:n,stream:1,streamId:s,reason:H(h)}),x.promise}},d)}_createStreamSink(c){const P=c.streamId,d=this.sourceName,u=c.sourceName,s=this.comObj,f=this,n=this.actionHandler[c.action],i={enqueue(h,x=1,_){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=x,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,m.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:d,targetName:u,stream:4,streamId:P,chunk:h},_)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:d,targetName:u,stream:3,streamId:P}),delete f.streamSinks[P])},error(h){(0,m.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:d,targetName:u,stream:5,streamId:P,reason:H(h)}))},sinkCapability:(0,m.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};i.sinkCapability.resolve(),i.ready=i.sinkCapability.promise,this.streamSinks[P]=i,new Promise(function(h){h(n(c.data,i))}).then(function(){s.postMessage({sourceName:d,targetName:u,stream:8,streamId:P,success:!0})},function(h){s.postMessage({sourceName:d,targetName:u,stream:8,streamId:P,reason:H(h)})})}_processStreamMessage(c){const P=c.streamId,d=this.sourceName,u=c.sourceName,s=this.comObj,f=this.streamControllers[P],n=this.streamSinks[P];switch(c.stream){case 8:c.success?f.startCall.resolve():f.startCall.reject(H(c.reason));break;case 7:c.success?f.pullCall.resolve():f.pullCall.reject(H(c.reason));break;case 6:if(!n){s.postMessage({sourceName:d,targetName:u,stream:7,streamId:P,success:!0});break}n.desiredSize<=0&&c.desiredSize>0&&n.sinkCapability.resolve(),n.desiredSize=c.desiredSize,new Promise(function(i){i(n.onPull&&n.onPull())}).then(function(){s.postMessage({sourceName:d,targetName:u,stream:7,streamId:P,success:!0})},function(i){s.postMessage({sourceName:d,targetName:u,stream:7,streamId:P,reason:H(i)})});break;case 4:if((0,m.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(c.chunk);break;case 3:if((0,m.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this._deleteStreamController(f,P);break;case 5:(0,m.assert)(f,"error should have stream controller"),f.controller.error(H(c.reason)),this._deleteStreamController(f,P);break;case 2:c.success?f.cancelCall.resolve():f.cancelCall.reject(H(c.reason)),this._deleteStreamController(f,P);break;case 1:if(!n)break;new Promise(function(i){i(n.onCancel&&n.onCancel(H(c.reason)))}).then(function(){s.postMessage({sourceName:d,targetName:u,stream:2,streamId:P,success:!0})},function(i){s.postMessage({sourceName:d,targetName:u,stream:2,streamId:P,reason:H(i)})}),n.sinkCapability.reject(H(c.reason)),n.isCancelled=!0,delete this.streamSinks[P];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,P){var d=this;return _asyncToGenerator(function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete d.streamControllers[P]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(he,M,te)=>{var ne,H;Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var m=te(1);ne=new WeakMap,H=new WeakMap,M.Metadata=class oe{constructor({parsedData:k,rawData:c}){ve(this,ne,void 0),ve(this,H,void 0),Te(this,ne,k),Te(this,H,c)}getRaw(){return Ae(this,H)}get(k){return Ae(this,ne).get(k)??null}getAll(){return(0,m.objectFromMap)(Ae(this,ne))}has(k){return Ae(this,ne).has(k)}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.OptionalContentConfig=void 0;var m=te(1);class oe{constructor(Q,k){this.visible=!0,this.name=Q,this.intent=k}}M.OptionalContentConfig=class ne{constructor(Q){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Q){this.name=Q.name,this.creator=Q.creator,this._order=Q.order;for(const k of Q.groups)this._groups.set(k.id,new oe(k.name,k.intent));if("OFF"===Q.baseState)for(const k of this._groups)k.visible=!1;for(const k of Q.on)this._groups.get(k).visible=!0;for(const k of Q.off)this._groups.get(k).visible=!1}}_evaluateVisibilityExpression(Q){const k=Q.length;if(k<2)return!0;const c=Q[0];for(let P=1;P<k;P++){const d=Q[P];let u;if(Array.isArray(d))u=this._evaluateVisibilityExpression(d);else{if(!this._groups.has(d))return(0,m.warn)(`Optional content group not found: ${d}`),!0;u=this._groups.get(d).visible}switch(c){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return"And"===c}isVisible(Q){if(0===this._groups.size)return!0;if(!Q)return(0,m.warn)("Optional content group not defined."),!0;if("OCG"===Q.type)return this._groups.has(Q.id)?this._groups.get(Q.id).visible:((0,m.warn)(`Optional content group not found: ${Q.id}`),!0);if("OCMD"===Q.type){if(Q.expression)return this._evaluateVisibilityExpression(Q.expression);if(!Q.policy||"AnyOn"===Q.policy){for(const k of Q.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(this._groups.get(k).visible)return!0}return!1}if("AllOn"===Q.policy){for(const k of Q.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(!this._groups.get(k).visible)return!1}return!0}if("AnyOff"===Q.policy){for(const k of Q.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(!this._groups.get(k).visible)return!0}return!1}if("AllOff"===Q.policy){for(const k of Q.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(this._groups.get(k).visible)return!1}return!0}return(0,m.warn)(`Unknown optional content policy ${Q.policy}.`),!0}return(0,m.warn)(`Unknown group type ${Q.type}.`),!0}setVisibility(Q,k=!0){this._groups.has(Q)?this._groups.get(Q).visible=!!k:(0,m.warn)(`Optional content group not found: ${Q}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,m.objectFromMap)(this._groups):null}getGroup(Q){return this._groups.get(Q)||null}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFDataTransportStream=void 0;var m=te(1),oe=te(5);M.PDFDataTransportStream=class ne{constructor(c,P){(0,m.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;const d=c.initialData;if(d?.length>0){const u=new Uint8Array(d).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((u,s)=>{this._onReceiveData({begin:u,chunk:s})}),this._pdfDataRangeTransport.addProgressListener((u,s)=>{this._onProgress({loaded:u,total:s})}),this._pdfDataRangeTransport.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){const P=new Uint8Array(c.chunk).buffer;if(void 0===c.begin)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const d=this._rangeReaders.some(function(u){return u._begin===c.begin&&(u._enqueue(P),!0)});(0,m.assert)(d,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){if(void 0===c.total){const P=this._rangeReaders[0];P?.onProgress&&P.onProgress({loaded:c.loaded})}else{const P=this._fullRequestReader;P?.onProgress&&P.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const P=this._rangeReaders.indexOf(c);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,m.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new H(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,P){if(P<=this._progressiveDataLength)return null;const d=new Q(this,c,P);return this._pdfDataRangeTransport.requestDataRange(c,P),this._rangeReaders.push(d),d}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const P of this._rangeReaders.slice(0))P.cancel(c);this._pdfDataRangeTransport.abort()}};class H{constructor(c,P,d=!1,u=null){this._stream=c,this._done=d||!1,this._filename=(0,oe.isPdfFile)(u)?u:null,this._queuedChunks=P||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunks.length>0)return{value:c._queuedChunks.shift(),done:!1};if(c._done)return{value:void 0,done:!0};const P=(0,m.createPromiseCapability)();return c._requests.push(P),P.promise})()}cancel(c){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Q{constructor(c,P,d){this._stream=c,this._begin=P,this._end=d,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(0===this._requests.length)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunk){const d=c._queuedChunk;return c._queuedChunk=null,{value:d,done:!1}}if(c._done)return{value:void 0,done:!0};const P=(0,m.createPromiseCapability)();return c._requests.push(P),P.promise})()}cancel(c){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(he,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaText=void 0;class te{static textContent(oe){const ne=[],H={items:ne,styles:Object.create(null)};return function Q(k){if(!k)return;let c=null;const P=k.name;if("#text"===P)c=k.value;else{if(!te.shouldBuildText(P))return;k?.attributes?.textContent?c=k.attributes.textContent:k.value&&(c=k.value)}if(null!==c&&ne.push({str:c}),k.children)for(const d of k.children)Q(d)}(oe),H}static shouldBuildText(oe){return!("textarea"===oe||"input"===oe||"option"===oe||"select"===oe)}}M.XfaText=te},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NodeStandardFontDataFactory=M.NodeCanvasFactory=M.NodeCMapReaderFactory=void 0;var m=te(6);const oe=function(k){return new Promise((c,P)=>{__webpack_require__(172).readFile(k,(u,s)=>{!u&&s?c(new Uint8Array(s)):P(new Error(u))})})};M.NodeCanvasFactory=class ne extends m.BaseCanvasFactory{_createCanvas(c,P){return __webpack_require__(3414).createCanvas(c,P)}},M.NodeCMapReaderFactory=class H extends m.BaseCMapReaderFactory{_fetchData(c,P){return oe(c).then(d=>({cMapData:d,compressionType:P}))}},M.NodeStandardFontDataFactory=class Q extends m.BaseStandardFontDataFactory{_fetchData(c){return oe(c)}}},(he,M,te)=>{var T,Je;Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayer=void 0;var m=te(1),oe=te(5),ne=te(8),H=te(21),Q=te(22);const k=1e3,c=new WeakSet;function P(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class d{static create(e){switch(e.data.annotationType){case m.AnnotationType.LINK:return new s(e);case m.AnnotationType.TEXT:return new f(e);case m.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new i(e);case"Btn":return e.data.radioButton?new x(e):e.data.checkBox?new h(e):new _(e);case"Ch":return new g(e)}return new n(e);case m.AnnotationType.POPUP:return new t(e);case m.AnnotationType.FREETEXT:return new A(e);case m.AnnotationType.LINE:return new b(e);case m.AnnotationType.SQUARE:return new y(e);case m.AnnotationType.CIRCLE:return new L(e);case m.AnnotationType.POLYLINE:return new R(e);case m.AnnotationType.CARET:return new V(e);case m.AnnotationType.INK:return new z(e);case m.AnnotationType.POLYGON:return new F(e);case m.AnnotationType.HIGHLIGHT:return new N(e);case m.AnnotationType.UNDERLINE:return new q(e);case m.AnnotationType.SQUIGGLY:return new v(e);case m.AnnotationType.STRIKEOUT:return new B(e);case m.AnnotationType.STAMP:return new j(e);case m.AnnotationType.FILEATTACHMENT:return new K(e);default:return new u(e)}}}class u{constructor(e,{isRenderable:o=!1,ignoreBorder:p=!1,createQuadrilaterals:w=!1}={}){this.isRenderable=o,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,o&&(this.container=this._createContainer(p)),w&&(this.quadrilaterals=this._createQuadrilaterals(p))}_createContainer(e=!1){const o=this.data,p=this.page,w=this.viewport,C=document.createElement("section");let{width:E,height:U}=P(o.rect);C.setAttribute("data-annotation-id",o.id);const G=m.Util.normalizeRect([o.rect[0],p.view[3]-o.rect[1]+p.view[1],o.rect[2],p.view[3]-o.rect[3]+p.view[1]]);if(o.hasOwnCanvas){const W=w.transform.slice(),[X,Y]=m.Util.singularValueDecompose2dScale(W);E=Math.ceil(E*X),U=Math.ceil(U*Y),G[0]*=X,G[1]*=Y;for(let ee=0;ee<4;ee++)W[ee]=Math.sign(W[ee]);C.style.transform=`matrix(${W.join(",")})`}else C.style.transform=`matrix(${w.transform.join(",")})`;if(C.style.transformOrigin=`${-G[0]}px ${-G[1]}px`,!e&&o.borderStyle.width>0){C.style.borderWidth=`${o.borderStyle.width}px`,o.borderStyle.style!==m.AnnotationBorderStyleType.UNDERLINE&&(E-=2*o.borderStyle.width,U-=2*o.borderStyle.width);const W=o.borderStyle.horizontalCornerRadius,X=o.borderStyle.verticalCornerRadius;switch((W>0||X>0)&&(C.style.borderRadius=`${W}px / ${X}px`),o.borderStyle.style){case m.AnnotationBorderStyleType.SOLID:C.style.borderStyle="solid";break;case m.AnnotationBorderStyleType.DASHED:C.style.borderStyle="dashed";break;case m.AnnotationBorderStyleType.BEVELED:(0,m.warn)("Unimplemented border style: beveled");break;case m.AnnotationBorderStyleType.INSET:(0,m.warn)("Unimplemented border style: inset");break;case m.AnnotationBorderStyleType.UNDERLINE:C.style.borderBottomStyle="solid"}o.borderColor||o.color?C.style.borderColor=m.Util.makeHexColor(0|o.color[0],0|o.color[1],0|o.color[2]):C.style.borderWidth=0}return C.style.left=`${G[0]}px`,C.style.top=`${G[1]}px`,o.hasOwnCanvas?C.style.width=C.style.height="auto":(C.style.width=`${E}px`,C.style.height=`${U}px`),C}get _commonActions(){const e=(o,p,w)=>{const C=w.detail[o];w.target.style[p]=H.ColorConverters[`${C[0]}_HTML`](C.slice(1))};return(0,m.shadow)(this,"_commonActions",{display:o=>{const p=o.detail.display%2==1;o.target.style.visibility=p?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:p,print:0===o.detail.display||3===o.detail.display})},print:o=>{this.annotationStorage.setValue(this.data.id,{print:o.detail.print})},hidden:o=>{o.target.style.visibility=o.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o.detail.hidden})},focus:o=>{setTimeout(()=>o.target.focus({preventScroll:!1}),0)},userName:o=>{o.target.title=o.detail.userName},readonly:o=>{o.detail.readonly?o.target.setAttribute("readonly",""):o.target.removeAttribute("readonly")},required:o=>{o.detail.required?o.target.setAttribute("required",""):o.target.removeAttribute("required")},bgColor:o=>{e("bgColor","backgroundColor",o)},fillColor:o=>{e("fillColor","backgroundColor",o)},fgColor:o=>{e("fgColor","color",o)},textColor:o=>{e("textColor","color",o)},borderColor:o=>{e("borderColor","borderColor",o)},strokeColor:o=>{e("strokeColor","borderColor",o)}})}_dispatchEventFromSandbox(e,o){const p=this._commonActions;for(const w of Object.keys(o.detail)){const C=e[w]||p[w];C&&C(o)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const o=this.annotationStorage.getRawValue(this.data.id);if(!o)return;const p=this._commonActions;for(const[w,C]of Object.entries(o)){const E=p[w];E&&(E({detail:C,target:e}),delete o[w])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const o=[],p=this.data.rect;for(const w of this.data.quadPoints)this.data.rect=[w[2].x,w[2].y,w[1].x,w[1].y],o.push(this._createContainer(e));return this.data.rect=p,o}_createPopup(e,o){let p=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,p=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=p.style.height,e.style.width=p.style.width,p.appendChild(e));const C=new r({container:p,trigger:e,color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,hideWrapper:!0}).render();C.style.left=p.style.width,p.appendChild(C)}_renderQuadrilaterals(e){for(const o of this.quadrilaterals)o.className=e;return this.quadrilaterals}render(){(0,m.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,o=null){const p=[];if(this._fieldObjects){const w=this._fieldObjects[e];if(w)for(const{page:C,id:E,exportValues:U}of w){if(-1===C||E===o)continue;const G="string"==typeof U?U:null,W=document.getElementById(E);!W||c.has(W)?p.push({id:E,exportValue:G,domElement:W}):(0,m.warn)(`_getElementsByName - element not allowed: ${E}`)}return p}for(const w of document.getElementsByName(e)){const{id:C,exportValue:E}=w;C!==o&&(!c.has(w)||p.push({id:C,exportValue:E,domElement:w}))}return p}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,m.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class s extends u{constructor(e,o=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!o?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:o}=this,p=document.createElement("a");if(e.url)o.addLinkAttributes(p,e.url,e.newWindow);else if(e.action)this._bindNamedAction(p,e.action);else if(e.dest)this._bindLink(p,e.dest);else{let w=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(w=!0,this._bindJSAction(p,e)),e.resetForm?this._bindResetFormAction(p,e.resetForm):w||this._bindLink(p,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((w,C)=>{const E=0===C?p:p.cloneNode();return w.appendChild(E),w}):(this.container.className="linkAnnotation",this.container.appendChild(p),this.container)}_bindLink(e,o){e.href=this.linkService.getDestinationHash(o),e.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||""===o)&&(e.className="internalLink")}_bindNamedAction(e,o){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(o),!1),e.className="internalLink"}_bindJSAction(e,o){e.href=this.linkService.getAnchorUrl("");const p=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const w of Object.keys(o.actions)){const C=p.get(w);!C||(e[C]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:w}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,o){const p=e.onclick;if(p||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,m.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(p||(e.onclick=()=>!1));e.onclick=()=>{p&&p();const{fields:w,refs:C,include:E}=o,U=[];if(0!==w.length||0!==C.length){const X=new Set(C);for(const Y of w){const ee=this._fieldObjects[Y]||[];for(const{id:ce}of ee)X.add(ce)}for(const Y of Object.values(this._fieldObjects))for(const ee of Y)X.has(ee.id)===E&&U.push(ee)}else for(const X of Object.values(this._fieldObjects))U.push(...X);const G=this.annotationStorage,W=[];for(const X of U){const{id:Y}=X;switch(W.push(Y),X.type){case"text":case"combobox":case"listbox":G.setValue(Y,{value:X.defaultValue||""});break;case"checkbox":case"radiobutton":G.setValue(Y,{value:X.defaultValue===X.exportValues});break;default:continue}const ee=document.getElementById(Y);!ee||!c.has(ee)||ee.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:W,name:"ResetForm"}}),!1}}}class f extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class n extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:o,isMac:p}=u.platform;return o&&e.ctrlKey||p&&e.metaKey}_setEventListener(e,o,p,w){o.includes("mouse")?e.addEventListener(o,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:w(C),shift:C.shiftKey,modifier:this._getKeyModifier(C)}})}):e.addEventListener(o,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:p,value:w(C)}})})}_setEventListeners(e,o,p){for(const[w,C]of o)("Action"===C||this.data.actions?.[C])&&this._setEventListener(e,w,C,p)}_setBackgroundColor(e){const o=this.data.backgroundColor||null;e.style.backgroundColor=null===o?"transparent":m.Util.makeHexColor(o[0],o[1],o[2])}}class i extends n{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,o,p,w){const C=this.annotationStorage;for(const E of this._getElementsByName(e.name,e.id))E.domElement&&(E.domElement[o]=p),C.setValue(E.id,{[w]:p})}render(){const e=this.annotationStorage,o=this.data.id;this.container.className="textWidgetAnnotation";let p=null;if(this.renderForms){const w=e.getValue(o,{value:this.data.fieldValue}),C=w.formattedValue||w.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(p=document.createElement("textarea"),p.textContent=C):(p=document.createElement("input"),p.type="text",p.setAttribute("value",C)),c.add(p),p.disabled=this.data.readOnly,p.name=this.data.fieldName,p.tabIndex=k,E.userValue=C,p.setAttribute("id",o),p.addEventListener("input",G=>{e.setValue(o,{value:G.target.value}),this.setPropertyOnSiblings(p,"value",G.target.value,"value")}),p.addEventListener("resetform",G=>{p.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let U=G=>{const{formattedValue:W}=E;null!=W&&(G.target.value=W),G.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){p.addEventListener("focus",W=>{E.userValue&&(W.target.value=E.userValue),E.valueOnFocus=W.target.value}),p.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Y){E.userValue=Y.detail.value??"",e.setValue(o,{value:E.userValue.toString()}),Y.target.value=E.userValue},formattedValue(Y){const{formattedValue:ee}=Y.detail;E.formattedValue=ee,null!=ee&&Y.target!==document.activeElement&&(Y.target.value=ee),e.setValue(o,{formattedValue:ee})},selRange(Y){Y.target.setSelectionRange(...Y.detail.selRange)}},W)}),p.addEventListener("keydown",W=>{let X=-1;if("Escape"===W.key?X=0:"Enter"===W.key?X=2:"Tab"===W.key&&(X=3),-1===X)return;const{value:Y}=W.target;E.valueOnFocus!==Y&&(E.userValue=Y,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Y,willCommit:!0,commitKey:X,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}))});const G=U;U=null,p.addEventListener("blur",W=>{const{value:X}=W.target;E.userValue=X,this._mouseState.isDown&&E.valueOnFocus!==X&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:X,willCommit:!0,commitKey:1,selStart:W.target.selectionStart,selEnd:W.target.selectionEnd}}),G(W)}),this.data.actions?.Keystroke&&p.addEventListener("beforeinput",W=>{const{data:X,target:Y}=W,{value:ee,selectionStart:ce,selectionEnd:be}=Y;let J=ce,se=be;switch(W.inputType){case"deleteWordBackward":{const ie=ee.substring(0,ce).match(/\w*[^\w]*$/);ie&&(J-=ie[0].length);break}case"deleteWordForward":{const ie=ee.substring(ce).match(/^[^\w]*\w*/);ie&&(se+=ie[0].length);break}case"deleteContentBackward":ce===be&&(J-=1);break;case"deleteContentForward":ce===be&&(se+=1)}W.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:ee,change:X||"",willCommit:!1,selStart:J,selEnd:se}})}),this._setEventListeners(p,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.value)}if(U&&p.addEventListener("blur",U),null!==this.data.maxLen&&(p.maxLength=this.data.maxLen),this.data.comb){const W=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;p.classList.add("comb"),p.style.letterSpacing=`calc(${W}px - 1ch)`}}else p=document.createElement("div"),p.textContent=this.data.fieldValue,p.style.verticalAlign="middle",p.style.display="table-cell";return this._setTextStyle(p),this._setBackgroundColor(p),this._setDefaultPropertiesFromJS(p),this.container.appendChild(p),this.container}_setTextStyle(e){const{fontSize:p,fontColor:w}=this.data.defaultAppearanceData,C=e.style;p&&(C.fontSize=`${p}px`),C.color=m.Util.makeHexColor(w[0],w[1],w[2]),null!==this.data.textAlignment&&(C.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends n{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,o=this.data,p=o.id;let w=e.getValue(p,{value:o.exportValue===o.fieldValue}).value;"string"==typeof w&&(w="Off"!==w,e.setValue(p,{value:w})),this.container.className="buttonWidgetAnnotation checkBox";const C=document.createElement("input");return c.add(C),C.disabled=o.readOnly,C.type="checkbox",C.name=o.fieldName,w&&C.setAttribute("checked",!0),C.setAttribute("id",p),C.setAttribute("exportValue",o.exportValue),C.tabIndex=k,C.addEventListener("change",E=>{const{name:U,checked:G}=E.target;for(const W of this._getElementsByName(U,p)){const X=G&&W.exportValue===o.exportValue;W.domElement&&(W.domElement.checked=X),e.setValue(W.id,{value:X})}e.setValue(p,{value:G})}),C.addEventListener("resetform",E=>{E.target.checked=(o.defaultFieldValue||"Off")===o.exportValue}),this.enableScripting&&this.hasJSActions&&(C.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(G){G.target.checked="Off"!==G.detail.value,e.setValue(p,{value:G.target.checked})}},E)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class x extends n{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,o=this.data,p=o.id;let w=e.getValue(p,{value:o.fieldValue===o.buttonValue}).value;"string"==typeof w&&(w=w!==o.buttonValue,e.setValue(p,{value:w}));const C=document.createElement("input");if(c.add(C),C.disabled=o.readOnly,C.type="radio",C.name=o.fieldName,w&&C.setAttribute("checked",!0),C.setAttribute("id",p),C.tabIndex=k,C.addEventListener("change",E=>{const{name:U,checked:G}=E.target;for(const W of this._getElementsByName(U,p))e.setValue(W.id,{value:!1});e.setValue(p,{value:G})}),C.addEventListener("resetform",E=>{const U=o.defaultFieldValue;E.target.checked=null!=U&&U===o.buttonValue}),this.enableScripting&&this.hasJSActions){const E=o.buttonValue;C.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value:W=>{const X=E===W.detail.value;for(const Y of this._getElementsByName(W.target.name)){const ee=X&&Y.id===p;Y.domElement&&(Y.domElement.checked=ee),e.setValue(Y.id,{value:ee})}}},U)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)}return this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class _ extends s{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class g extends n{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,o=this.data.id,p=e.getValue(o,{value:this.data.fieldValue});let{fontSize:w}=this.data.defaultAppearanceData;w||(w=9);const C=`calc(${w}px * var(--zoom-factor))`,E=document.createElement("select");c.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",o),E.tabIndex=k,E.style.fontSize=`${w}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",W=>{const X=this.data.defaultFieldValue;for(const Y of E.options)Y.selected=Y.value===X});for(const W of this.data.options){const X=document.createElement("option");X.textContent=W.displayValue,X.value=W.exportValue,this.data.combo&&(X.style.fontSize=C),p.value.includes(W.exportValue)&&X.setAttribute("selected",!0),E.appendChild(X)}const U=(W,X)=>{const Y=X?"value":"textContent",ee=W.target.options;return W.target.multiple?Array.prototype.filter.call(ee,ce=>ce.selected).map(ce=>ce[Y]):-1===ee.selectedIndex?null:ee[ee.selectedIndex][Y]},G=W=>Array.prototype.map.call(W.target.options,Y=>({displayValue:Y.textContent,exportValue:Y.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",W=>{this._dispatchEventFromSandbox({value(Y){const ee=Y.detail.value,ce=new Set(Array.isArray(ee)?ee:[ee]);for(const be of E.options)be.selected=ce.has(be.value);e.setValue(o,{value:U(Y,!0)})},multipleSelection(Y){E.multiple=!0},remove(Y){const ee=E.options,ce=Y.detail.remove;ee[ce].selected=!1,E.remove(ce),ee.length>0&&-1===Array.prototype.findIndex.call(ee,J=>J.selected)&&(ee[0].selected=!0),e.setValue(o,{value:U(Y,!0),items:G(Y)})},clear(Y){for(;0!==E.length;)E.remove(0);e.setValue(o,{value:null,items:[]})},insert(Y){const{index:ee,displayValue:ce,exportValue:be}=Y.detail.insert,J=document.createElement("option");J.textContent=ce,J.value=be,E.insertBefore(J,E.children[ee]),e.setValue(o,{value:U(Y,!0),items:G(Y)})},items(Y){const{items:ee}=Y.detail;for(;0!==E.length;)E.remove(0);for(const ce of ee){const{displayValue:be,exportValue:J}=ce,se=document.createElement("option");se.textContent=be,se.value=J,E.appendChild(se)}E.options.length>0&&(E.options[0].selected=!0),e.setValue(o,{value:U(Y,!0),items:G(Y)})},indices(Y){const ee=new Set(Y.detail.indices);for(const ce of Y.target.options)ce.selected=ee.has(ce.index);e.setValue(o,{value:U(Y,!0)})},editable(Y){Y.target.disabled=!Y.detail.editable}},W)}),E.addEventListener("input",W=>{const X=U(W,!0),Y=U(W,!1);e.setValue(o,{value:X}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Y,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],W=>W.target.checked)):E.addEventListener("input",function(W){e.setValue(o,{value:U(W,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class t extends u{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const p=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===p.length)return this.container;const w=new r({container:this.container,trigger:Array.from(p),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),C=this.page,E=m.Util.normalizeRect([this.data.parentRect[0],C.view[3]-this.data.parentRect[1]+C.view[1],this.data.parentRect[2],C.view[3]-this.data.parentRect[3]+C.view[1]]),U=E[0]+this.data.parentRect[2]-this.data.parentRect[0],G=E[1];return this.container.style.transformOrigin=`${-U}px ${-G}px`,this.container.style.left=`${U}px`,this.container.style.top=`${G}px`,this.container.appendChild(w.render()),this.container}}class r{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const o=document.createElement("div");o.className="popupWrapper",this.hideElement=this.hideWrapper?o:this.container,this.hideElement.hidden=!0;const p=document.createElement("div");p.className="popup";const w=this.color;w&&(p.style.backgroundColor=m.Util.makeHexColor(0|.7*(255-w[0])+w[0],0|.7*(255-w[1])+w[1],0|.7*(255-w[2])+w[2]));const C=document.createElement("h1");C.dir=this.titleObj.dir,C.textContent=this.titleObj.str,p.appendChild(C);const E=oe.PDFDateString.toDateObject(this.modificationDate);if(E){const U=document.createElement("span");U.className="popupDate",U.textContent="{{date}}, {{time}}",U.dataset.l10nId="annotation_date_string",U.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),p.appendChild(U)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const U=this._formatContents(this.contentsObj);p.appendChild(U)}else Q.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:p}),p.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const U of this.trigger)U.addEventListener("click",this._toggle.bind(this)),U.addEventListener("mouseover",this._show.bind(this,!1)),U.addEventListener("mouseout",this._hide.bind(this,!1));return p.addEventListener("click",this._hide.bind(this,!0)),o.appendChild(p),o}_formatContents({str:e,dir:o}){const p=document.createElement("p");p.className="popupContent",p.dir=o;const w=e.split(/(?:\r\n?|\n)/);for(let C=0,E=w.length;C<E;++C)p.appendChild(document.createTextNode(w[C])),C<E-1&&p.appendChild(document.createElement("br"));return p}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class A extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:o,height:p}=P(e.rect),w=this.svgFactory.create(o,p),C=this.svgFactory.createElement("svg:line");return C.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),C.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),C.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),C.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),C.setAttribute("stroke-width",e.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),w.appendChild(C),this.container.append(w),this._createPopup(C,e),this.container}}class y extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:o,height:p}=P(e.rect),w=this.svgFactory.create(o,p),C=e.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",C/2),E.setAttribute("y",C/2),E.setAttribute("width",o-C),E.setAttribute("height",p-C),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class L extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:o,height:p}=P(e.rect),w=this.svgFactory.create(o,p),C=e.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",o/2),E.setAttribute("cy",p/2),E.setAttribute("rx",o/2-C/2),E.setAttribute("ry",p/2-C/2),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class R extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:o,height:p}=P(e.rect),w=this.svgFactory.create(o,p);let C=[];for(const U of e.vertices)C.push(U.x-e.rect[0]+","+(e.rect[3]-U.y));C=C.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",C),E.setAttribute("stroke-width",e.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class F extends R{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class z extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:o,height:p}=P(e.rect),w=this.svgFactory.create(o,p);for(const C of e.inkLists){let E=[];for(const G of C)E.push(`${G.x-e.rect[0]},${e.rect[3]-G.y}`);E=E.join(" ");const U=this.svgFactory.createElement(this.svgElementName);U.setAttribute("points",E),U.setAttribute("stroke-width",e.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),this._createPopup(U,e),w.appendChild(U)}return this.container.append(w),this.container}}class N extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class q extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class v extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class B extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class j extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class K extends u{constructor(e){super(e,{isRenderable:!0});const{filename:o,content:p}=this.data.file;this.filename=(0,oe.getFilenameFromUrl)(o),this.content=p,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:o,content:p})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class re{static render(e){const o=[],p=[];for(const C of e.annotations){if(!C)continue;const{width:E,height:U}=P(C.rect);if(!(E<=0||U<=0)){if(C.annotationType===m.AnnotationType.POPUP){p.push(C);continue}o.push(C)}}p.length&&o.push(...p);const w=e.div;for(const C of o){const E=d.create({data:C,layer:w,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new oe.DOMSVGFactory,annotationStorage:e.annotationStorage||new ne.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(E.isRenderable){const U=E.render();if(C.hidden&&(U.style.visibility="hidden"),Array.isArray(U))for(const G of U)w.appendChild(G);else E instanceof t?w.prepend(U):w.appendChild(U)}}ye(this,T,Je).call(this,w,e.annotationCanvasMap)}static update(e){const{page:o,viewport:p,annotations:w,annotationCanvasMap:C,div:E}=e,U=p.transform,G=`matrix(${U.join(",")})`;let W,X;for(const Y of w){const ee=E.querySelectorAll(`[data-annotation-id="${Y.id}"]`);if(ee)for(const ce of ee)if(Y.hasOwnCanvas){const be=m.Util.normalizeRect([Y.rect[0],o.view[3]-Y.rect[1]+o.view[1],Y.rect[2],o.view[3]-Y.rect[3]+o.view[1]]);if(!X){W=Math.abs(U[0]||U[1]);const ie=U.slice();for(let S=0;S<4;S++)ie[S]=Math.sign(ie[S]);X=`matrix(${ie.join(",")})`}const J=be[0]*W,se=be[1]*W;ce.style.left=`${J}px`,ce.style.top=`${se}px`,ce.style.transformOrigin=`${-J}px ${-se}px`,ce.style.transform=X}else ce.style.transform=G}ye(this,T,Je).call(this,E,C),E.hidden=!1}}T=new WeakSet,Je=function(e,o){if(o){for(const[p,w]of o){const C=e.querySelector(`[data-annotation-id="${p}"]`);if(!C)continue;const{firstChild:E}=C;"CANVAS"===E.nodeName?C.replaceChild(w,E):C.insertBefore(w,E)}o.clear()}},ve(re,T),M.AnnotationLayer=re},(he,M)=>{function te(oe){return Math.floor(255*Math.max(0,Math.min(1,oe))).toString(16).padStart(2,"0")}Object.defineProperty(M,"__esModule",{value:!0}),M.ColorConverters=void 0,M.ColorConverters=class m{static CMYK_G([ne,H,Q,k]){return["G",1-Math.min(1,.3*ne+.59*Q+.11*H+k)]}static G_CMYK([ne]){return["CMYK",0,0,0,1-ne]}static G_RGB([ne]){return["RGB",ne,ne,ne]}static G_HTML([ne]){const H=te(ne);return`#${H}${H}${H}`}static RGB_G([ne,H,Q]){return["G",.3*ne+.59*H+.11*Q]}static RGB_HTML([ne,H,Q]){return`#${te(ne)}${te(H)}${te(Q)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ne,H,Q,k]){return["RGB",1-Math.min(1,ne+k),1-Math.min(1,Q+k),1-Math.min(1,H+k)]}static CMYK_HTML(ne){return this.RGB_HTML(this.CMYK_RGB(ne))}static RGB_CMYK([ne,H,Q]){const k=1-ne,c=1-H,P=1-Q;return["CMYK",k,c,P,Math.min(k,c,P)]}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayer=void 0;var m=te(18);M.XfaLayer=class oe{static setupStorage(H,Q,k,c,P){const d=c.getValue(Q,{value:null});switch(k.name){case"textarea":if(null!==d.value&&(H.textContent=d.value),"print"===P)break;H.addEventListener("input",u=>{c.setValue(Q,{value:u.target.value})});break;case"input":if("radio"===k.attributes.type||"checkbox"===k.attributes.type){if(d.value===k.attributes.xfaOn?H.setAttribute("checked",!0):d.value===k.attributes.xfaOff&&H.removeAttribute("checked"),"print"===P)break;H.addEventListener("change",u=>{c.setValue(Q,{value:u.target.getAttribute(u.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==d.value&&H.setAttribute("value",d.value),"print"===P)break;H.addEventListener("input",u=>{c.setValue(Q,{value:u.target.value})})}break;case"select":if(null!==d.value)for(const u of k.children)u.attributes.value===d.value&&(u.attributes.selected=!0);H.addEventListener("input",u=>{const s=u.target.options;c.setValue(Q,{value:-1===s.selectedIndex?"":s[s.selectedIndex].value})})}}static setAttributes({html:H,element:Q,storage:k=null,intent:c,linkService:P}){const{attributes:d}=Q,u=H instanceof HTMLAnchorElement;"radio"===d.type&&(d.name=`${d.name}-${c}`);for(const[s,f]of Object.entries(d))if(null!=f&&"dataId"!==s)if("style"!==s)if("textContent"===s)H.textContent=f;else if("class"===s)f.length&&H.setAttribute(s,f.join(" "));else{if(u&&("href"===s||"newWindow"===s))continue;H.setAttribute(s,f)}else Object.assign(H.style,f);u&&P.addLinkAttributes(H,d.href,d.newWindow),k&&d.dataId&&this.setupStorage(H,d.dataId,Q,k)}static render(H){const Q=H.annotationStorage,k=H.linkService,c=H.xfaHtml,P=H.intent||"display",d=document.createElement(c.name);c.attributes&&this.setAttributes({html:d,element:c,intent:P,linkService:k});const u=[[c,-1,d]],s=H.div;if(s.appendChild(d),H.viewport){const n=`matrix(${H.viewport.transform.join(",")})`;s.style.transform=n}"richText"!==P&&s.setAttribute("class","xfaLayer xfaFont");const f=[];for(;u.length>0;){const[n,i,h]=u[u.length-1];if(i+1===n.children.length){u.pop();continue}const x=n.children[++u[u.length-1][1]];if(null===x)continue;const{name:_}=x;if("#text"===_){const t=document.createTextNode(x.value);f.push(t),h.appendChild(t);continue}let g;if(g=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,_):document.createElement(_),h.appendChild(g),x.attributes&&this.setAttributes({html:g,element:x,storage:Q,intent:P,linkService:k}),x.children&&x.children.length>0)u.push([x,-1,g]);else if(x.value){const t=document.createTextNode(x.value);m.XfaText.shouldBuildText(_)&&f.push(t),g.appendChild(t)}}for(const n of s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))n.setAttribute("readOnly",!0);return{textDivs:f}}static update(H){const Q=`matrix(${H.viewport.transform.join(",")})`;H.div.style.transform=Q,H.div.hidden=!1}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.renderTextLayer=function h(x){const _=new i({textContent:x.textContent,textContentStream:x.textContentStream,container:x.container,viewport:x.viewport,textDivs:x.textDivs,textContentItemsStr:x.textContentItemsStr,enhanceTextSelection:x.enhanceTextSelection});return _._render(x.timeout),_};var m=te(1);const Q=new Map,k=/^\s+$/g;function P(x,_,g,t){const r=document.createElement("span"),A=x._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==_.str,hasEOL:_.hasEOL};x._textDivs.push(r);const b=m.Util.transform(x._viewport.transform,_.transform);let y=Math.atan2(b[1],b[0]);const L=g[_.fontName];L.vertical&&(y+=Math.PI/2);const R=Math.hypot(b[2],b[3]),F=R*function c(x,_){const g=Q.get(x);if(g)return g;_.save(),_.font=`30px ${x}`;const t=_.measureText("");let r=t.fontBoundingBoxAscent,A=Math.abs(t.fontBoundingBoxDescent);if(r){_.restore();const y=r/(r+A);return Q.set(x,y),y}_.strokeStyle="red",_.clearRect(0,0,30,30),_.strokeText("g",0,0);let b=_.getImageData(0,0,30,30).data;A=0;for(let y=b.length-1-3;y>=0;y-=4)if(b[y]>0){A=Math.ceil(y/4/30);break}_.clearRect(0,0,30,30),_.strokeText("A",0,30),b=_.getImageData(0,0,30,30).data,r=0;for(let y=0,L=b.length;y<L;y+=4)if(b[y]>0){r=30-Math.floor(y/4/30);break}if(_.restore(),r){const y=r/(r+A);return Q.set(x,y),y}return Q.set(x,.8),.8}(L.fontFamily,t);let V,z;0===y?(V=b[4],z=b[5]-F):(V=b[4]+F*Math.sin(y),z=b[5]-F*Math.cos(y)),r.style.left=`${V}px`,r.style.top=`${z}px`,r.style.fontSize=`${R}px`,r.style.fontFamily=L.fontFamily,r.setAttribute("role","presentation"),r.textContent=_.str,r.dir=_.dir,x._fontInspectorEnabled&&(r.dataset.fontName=_.fontName),0!==y&&(A.angle=y*(180/Math.PI));let N=!1;if(_.str.length>1||x._enhanceTextSelection&&k.test(_.str))N=!0;else if(" "!==_.str&&_.transform[0]!==_.transform[3]){const q=Math.abs(_.transform[0]),v=Math.abs(_.transform[3]);q!==v&&Math.max(q,v)/Math.min(q,v)>1.5&&(N=!0)}if(N&&(A.canvasWidth=L.vertical?_.height*x._viewport.scale:_.width*x._viewport.scale),x._textDivProperties.set(r,A),x._textContentStream&&x._layoutText(r),x._enhanceTextSelection&&A.hasText){let q=1,v=0;0!==y&&(q=Math.cos(y),v=Math.sin(y));const B=(L.vertical?_.height:_.width)*x._viewport.scale,j=R;let K,re;0!==y?(K=[q,v,-v,q,V,z],re=m.Util.getAxialAlignedBoundingBox([0,0,B,j],K)):re=[V,z,V+B,z+j],x._bounds.push({left:re[0],top:re[1],right:re[2],bottom:re[3],div:r,size:[B,j],m:K})}}function d(x){if(x._canceled)return;const _=x._textDivs,g=x._capability,t=_.length;if(t>1e5)return x._renderingDone=!0,void g.resolve();if(!x._textContentStream)for(let r=0;r<t;r++)x._layoutText(_[r]);x._renderingDone=!0,g.resolve()}function u(x,_,g){let t=0;for(let r=0;r<g;r++){const A=x[_++];A>0&&(t=t?Math.min(A,t):A)}return t}function n(x,_){_.sort(function(r,A){return r.x1-A.x1||r.index-A.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of _){let A=0;for(;A<t.length&&t[A].end<=r.y1;)A++;let b=t.length-1;for(;b>=0&&t[b].start>=r.y2;)b--;let y,L,R,F,V=-1/0;for(R=A;R<=b;R++){let q;y=t[R],L=y.boundary,q=L.x2>r.x1?L.index>r.index?L.x1New:r.x1:void 0===L.x2New?(L.x2+r.x1)/2:L.x2New,q>V&&(V=q)}for(r.x1New=V,R=A;R<=b;R++)y=t[R],L=y.boundary,void 0===L.x2New?L.x2>r.x1?L.index>r.index&&(L.x2New=L.x2):L.x2New=V:L.x2New>V&&(L.x2New=Math.max(V,L.x2));const z=[];let N=null;for(R=A;R<=b;R++){y=t[R],L=y.boundary;const q=L.x2>r.x2?L:r;N===q?z[z.length-1].end=y.end:(z.push({start:y.start,end:y.end,boundary:q}),N=q)}for(t[A].start<r.y1&&(z[0].start=r.y1,z.unshift({start:t[A].start,end:r.y1,boundary:t[A].boundary})),r.y2<t[b].end&&(z[z.length-1].end=r.y2,z.push({start:r.y2,end:t[b].end,boundary:t[b].boundary})),R=A;R<=b;R++){if(y=t[R],L=y.boundary,void 0!==L.x2New)continue;let q=!1;for(F=A-1;!q&&F>=0&&t[F].start>=L.y1;F--)q=t[F].boundary===L;for(F=b+1;!q&&F<t.length&&t[F].end<=L.y2;F++)q=t[F].boundary===L;for(F=0;!q&&F<z.length;F++)q=z[F].boundary===L;q||(L.x2New=V)}Array.prototype.splice.apply(t,[A,b-A+1].concat(z))}for(const r of t){const A=r.boundary;void 0===A.x2New&&(A.x2New=Math.max(x,A.x2))}}class i{constructor({textContent:_,textContentStream:g,container:t,viewport:r,textDivs:A,textContentItemsStr:b,enhanceTextSelection:y}){this._textContent=_,this._textContentStream=g,this._container=t,this._document=t.ownerDocument,this._viewport=r,this._textDivs=A||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,m.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new m.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(_,g){for(let t=0,r=_.length;t<r;t++)if(void 0!==_[t].str)this._textContentItemsStr.push(_[t].str),P(this,_[t],g,this._layoutTextCtx);else if("beginMarkedContentProps"===_[t].type||"beginMarkedContent"===_[t].type){const A=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==_[t].id&&this._container.setAttribute("id",`${_[t].id}`),A.appendChild(this._container)}else"endMarkedContent"===_[t].type&&(this._container=this._container.parentNode)}_layoutText(_){const g=this._textDivProperties.get(_);let t="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:r,fontFamily:A}=_.style;(r!==this._layoutTextLastFontSize||A!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${A}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=A);const{width:b}=this._layoutTextCtx.measureText(_.textContent);if(b>0){const y=g.canvasWidth/b;this._enhanceTextSelection&&(g.scale=y),t=`scaleX(${y})`}}if(0!==g.angle&&(t=`rotate(${g.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(g.originalTransform=t),_.style.transform=t),g.hasText&&this._container.appendChild(_),g.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(_=0){const g=(0,m.createPromiseCapability)();let t=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=30,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const A=()=>{this._reader.read().then(({value:b,done:y})=>{y?g.resolve():(Object.assign(t,b.styles),this._processItems(b.items,t),A())},g.reject)};this._reader=this._textContentStream.getReader(),A()}}g.promise.then(()=>{t=null,_?this._renderTimer=setTimeout(()=>{d(this),this._renderTimer=null},_):d(this)},this._capability.reject)}expandTextDivs(_=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function s(x){const _=x._bounds,g=x._viewport,t=function f(x,_,g){const t=g.map(function(A,b){return{x1:A.left,y1:A.top,x2:A.right,y2:A.bottom,index:b,x1New:void 0,x2New:void 0}});n(x,t);const r=new Array(g.length);for(const A of t)r[A.index]={left:A.x1New,top:0,right:A.x2New,bottom:0};g.map(function(A,b){const y=r[b],L=t[b];L.x1=A.top,L.y1=x-y.right,L.x2=A.bottom,L.y2=x-y.left,L.index=b,L.x1New=void 0,L.x2New=void 0}),n(_,t);for(const A of t){const b=A.index;r[b].top=A.x1New,r[b].bottom=A.x2New}return r}(g.width,g.height,_);for(let r=0;r<t.length;r++){const A=_[r].div,b=x._textDivProperties.get(A);if(0===b.angle){b.paddingLeft=_[r].left-t[r].left,b.paddingTop=_[r].top-t[r].top,b.paddingRight=t[r].right-_[r].right,b.paddingBottom=t[r].bottom-_[r].bottom,x._textDivProperties.set(A,b);continue}const y=t[r],L=_[r],R=L.m,F=R[0],V=R[1],z=[[0,0],[0,L.size[1]],[L.size[0],0],L.size],N=new Float64Array(64);for(let v=0,B=z.length;v<B;v++){const j=m.Util.applyTransform(z[v],R);N[v+0]=F&&(y.left-j[0])/F,N[v+4]=V&&(y.top-j[1])/V,N[v+8]=F&&(y.right-j[0])/F,N[v+12]=V&&(y.bottom-j[1])/V,N[v+16]=V&&(y.left-j[0])/-V,N[v+20]=F&&(y.top-j[1])/F,N[v+24]=V&&(y.right-j[0])/-V,N[v+28]=F&&(y.bottom-j[1])/F,N[v+32]=F&&(y.left-j[0])/-F,N[v+36]=V&&(y.top-j[1])/-V,N[v+40]=F&&(y.right-j[0])/-F,N[v+44]=V&&(y.bottom-j[1])/-V,N[v+48]=V&&(y.left-j[0])/V,N[v+52]=F&&(y.top-j[1])/-F,N[v+56]=V&&(y.right-j[0])/V,N[v+60]=F&&(y.bottom-j[1])/-F}const q=1+Math.min(Math.abs(F),Math.abs(V));b.paddingLeft=u(N,32,16)/q,b.paddingTop=u(N,48,16)/q,b.paddingRight=u(N,0,16)/q,b.paddingBottom=u(N,16,16)/q,x._textDivProperties.set(A,b)}}(this),this._bounds=null);const g=[],t=[];for(let r=0,A=this._textDivs.length;r<A;r++){const b=this._textDivs[r],y=this._textDivProperties.get(b);!y.hasText||(_?(g.length=0,t.length=0,y.originalTransform&&g.push(y.originalTransform),y.paddingTop>0?(t.push(`${y.paddingTop}px`),g.push(`translateY(${-y.paddingTop}px)`)):t.push(0),t.push(y.paddingRight>0?y.paddingRight/y.scale+"px":0),t.push(y.paddingBottom>0?`${y.paddingBottom}px`:0),y.paddingLeft>0?(t.push(y.paddingLeft/y.scale+"px"),g.push(`translateX(${-y.paddingLeft/y.scale}px)`)):t.push(0),b.style.padding=t.join(" "),g.length&&(b.style.transform=g.join(" "))):(b.style.padding=null,b.style.transform=y.originalTransform))}}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SVGGraphics=void 0;var m=te(1),oe=te(5),ne=te(3);let H=class{constructor(){(0,m.unreachable)("Not implemented: SVGGraphics")}};M.SVGGraphics=H;{let n=function(t){let r=[];const A=[];for(const b of t)"save"!==b.fn?"restore"===b.fn?r=A.pop():r.push(b):(r.push({fnId:92,fn:"group",items:[]}),A.push(r),r=r[r.length-1].items);return r},i=function(t){if(Number.isInteger(t))return t.toString();const r=t.toFixed(10);let A=r.length-1;if("0"!==r[A])return r;do{A--}while("0"===r[A]);return r.substring(0,"."===r[A]?A:A+1)},h=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${i(t[0])} ${i(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const r=180*Math.acos(t[0])/Math.PI;return`rotate(${i(r)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${i(t[4])} ${i(t[5])})`;return`matrix(${i(t[0])} ${i(t[1])} ${i(t[2])} ${i(t[3])} ${i(t[4])} ${i(t[5])})`};const Q={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},k="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",P=["butt","round","square"],d=["miter","round","bevel"],u=function(t,r="",A=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([t],{type:r}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${r};base64,`;for(let L=0,R=t.length;L<R;L+=3){const F=255&t[L],V=255&t[L+1],z=255&t[L+2];y+=b[F>>2]+b[(3&F)<<4|V>>4]+b[L+1<R?(15&V)<<2|z>>6:64]+b[L+2<R?63&z:64]}return y},s=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),A=new Int32Array(256);for(let z=0;z<256;z++){let N=z;for(let q=0;q<8;q++)N=1&N?3988292384^N>>1&2147483647:N>>1&2147483647;A[z]=N}function y(z,N,q,v){let B=v;const j=N.length;q[B]=j>>24&255,q[B+1]=j>>16&255,q[B+2]=j>>8&255,q[B+3]=255&j,B+=4,q[B]=255&z.charCodeAt(0),q[B+1]=255&z.charCodeAt(1),q[B+2]=255&z.charCodeAt(2),q[B+3]=255&z.charCodeAt(3),B+=4,q.set(N,B),B+=N.length;const K=function b(z,N,q){let v=-1;for(let B=N;B<q;B++)v=v>>>8^A[255&(v^z[B])];return-1^v}(q,v+4,B);q[B]=K>>24&255,q[B+1]=K>>16&255,q[B+2]=K>>8&255,q[B+3]=255&K}function F(z){let N=z.length;const q=65535,v=Math.ceil(N/q),B=new Uint8Array(2+N+5*v+4);let j=0;B[j++]=120,B[j++]=156;let K=0;for(;N>q;)B[j++]=0,B[j++]=255,B[j++]=255,B[j++]=0,B[j++]=0,B.set(z.subarray(K,K+q),j),j+=q,K+=q,N-=q;B[j++]=1,B[j++]=255&N,B[j++]=N>>8&255,B[j++]=255&~N,B[j++]=(65535&~N)>>8&255,B.set(z.subarray(K),j),j+=z.length-K;const re=function L(z,N,q){let v=1,B=0;for(let j=N;j<q;++j)v=(v+(255&z[j]))%65521,B=(B+v)%65521;return B<<16|v}(z,0,z.length);return B[j++]=re>>24&255,B[j++]=re>>16&255,B[j++]=re>>8&255,B[j++]=255&re,B}return function(N,q,v){return function V(z,N,q,v){const B=z.width,j=z.height;let K,re,T;const a=z.data;switch(N){case m.ImageKind.GRAYSCALE_1BPP:re=0,K=1,T=B+7>>3;break;case m.ImageKind.RGB_24BPP:re=2,K=8,T=3*B;break;case m.ImageKind.RGBA_32BPP:re=6,K=8,T=4*B;break;default:throw new Error("invalid format")}const l=new Uint8Array((1+T)*j);let e=0,o=0;for(let G=0;G<j;++G)l[e++]=0,l.set(a.subarray(o,o+T),e),o+=T,e+=T;if(N===m.ImageKind.GRAYSCALE_1BPP&&v){e=0;for(let G=0;G<j;G++){e++;for(let W=0;W<T;W++)l[e++]^=255}}const p=new Uint8Array([B>>24&255,B>>16&255,B>>8&255,255&B,j>>24&255,j>>16&255,j>>8&255,255&j,K,re,0,0,0]),w=function R(z){if(!ne.isNodeJS)return F(z);try{let N;N=parseInt(process.versions.node)>=8?z:Buffer.from(z);const q=__webpack_require__(2258).deflateSync(N,{level:9});return q instanceof Uint8Array?q:new Uint8Array(q)}catch(N){(0,m.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+N)}return F(z)}(l),E=new Uint8Array(t.length+36+p.length+w.length);let U=0;return E.set(t,U),U+=t.length,y("IHDR",p,E,U),U+=12+p.length,y("IDATA",w,E,U),U+=12+w.length,y("IEND",new Uint8Array(0),E,U),u(E,"image/png",q)}(N,void 0===N.kind?m.ImageKind.GRAYSCALE_1BPP:N.kind,q,v)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=Q.fontWeight,this.fontSize=0,this.textMatrix=m.IDENTITY_MATRIX,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=m.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Q.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,A){this.x=r,this.y=A}}let x=0,_=0,g=0;M.SVGGraphics=H=class{constructor(t,r,A=!1){this.svgFactory=new oe.DOMSVGFactory,this.current=new f,this.transformMatrix=m.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(const b in m.OPS)this._operatorIdMapping[m.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const r=t.fnArray,A=t.argsArray;for(let b=0,y=r.length;b<y;b++)if(r[b]===m.OPS.dependency)for(const L of A[b]){const R=L.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(V=>{R.get(L,V)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(t,r,A,b,y,L){this.transformMatrix=m.Util.transform(this.transformMatrix,[t,r,A,b,y,L]),this.tgrp=null}getSVG(t,r){this.viewport=r;const A=this._initialize(r);return this.loadDependencies(t).then(()=>(this.transformMatrix=m.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),A))}convertOpList(t){const r=this._operatorIdMapping,A=t.argsArray,b=t.fnArray,y=[];for(let L=0,R=b.length;L<R;L++){const F=b[L];y.push({fnId:F,fn:r[F],args:A[L]})}return n(y)}executeOpTree(t){for(const r of t){const A=r.fn,y=r.args;switch(0|r.fnId){case m.OPS.beginText:this.beginText();break;case m.OPS.dependency:break;case m.OPS.setLeading:this.setLeading(y);break;case m.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case m.OPS.setFont:this.setFont(y);break;case m.OPS.showText:case m.OPS.showSpacedText:this.showText(y[0]);break;case m.OPS.endText:this.endText();break;case m.OPS.moveText:this.moveText(y[0],y[1]);break;case m.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case m.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case m.OPS.setHScale:this.setHScale(y[0]);break;case m.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case m.OPS.setTextRise:this.setTextRise(y[0]);break;case m.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case m.OPS.setLineWidth:this.setLineWidth(y[0]);break;case m.OPS.setLineJoin:this.setLineJoin(y[0]);break;case m.OPS.setLineCap:this.setLineCap(y[0]);break;case m.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case m.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case m.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case m.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case m.OPS.setFillColorN:this.setFillColorN(y);break;case m.OPS.shadingFill:this.shadingFill(y[0]);break;case m.OPS.setDash:this.setDash(y[0],y[1]);break;case m.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case m.OPS.setFlatness:this.setFlatness(y[0]);break;case m.OPS.setGState:this.setGState(y[0]);break;case m.OPS.fill:this.fill();break;case m.OPS.eoFill:this.eoFill();break;case m.OPS.stroke:this.stroke();break;case m.OPS.fillStroke:this.fillStroke();break;case m.OPS.eoFillStroke:this.eoFillStroke();break;case m.OPS.clip:this.clip("nonzero");break;case m.OPS.eoClip:this.clip("evenodd");break;case m.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case m.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case m.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case m.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case m.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case m.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case m.OPS.closePath:this.closePath();break;case m.OPS.closeStroke:this.closeStroke();break;case m.OPS.closeFillStroke:this.closeFillStroke();break;case m.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case m.OPS.nextLine:this.nextLine();break;case m.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case m.OPS.constructPath:this.constructPath(y[0],y[1]);break;case m.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,m.warn)(`Unimplemented operator ${A}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,r,A,b,y,L){const R=this.current;R.textMatrix=R.lineMatrix=[t,r,A,b,y,L],R.textMatrixScale=Math.hypot(t,r),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${i(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",i(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.appendChild(R.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=m.IDENTITY_MATRIX,t.lineMatrix=m.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,r){const A=this.current;A.x=A.lineX+=t,A.y=A.lineY+=r,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${i(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",i(-A.y))}showText(t){const r=this.current,A=r.font,b=r.fontSize;if(0===b)return;const y=r.fontSizeScale,L=r.charSpacing,R=r.wordSpacing,F=r.fontDirection,V=r.textHScale*F,z=A.vertical,N=z?1:-1,q=A.defaultVMetrics,v=b*r.fontMatrix[0];let B=0;for(const re of t){if(null===re){B+=F*R;continue}if("number"==typeof re){B+=N*re*b/1e3;continue}const T=(re.isSpace?R:0)+L,a=re.fontChar;let l,e,p,o=re.width;if(z){let w;const C=re.vmetric||q;w=re.vmetric?C[1]:.5*o,w=-w*v,o=C?-C[0]:o,l=w/y,e=(B+C[2]*v)/y}else l=B/y,e=0;(re.isInFont||A.missingFile)&&(r.xcoords.push(r.x+l),z&&r.ycoords.push(-r.y+e),r.tspan.textContent+=a),p=z?o*v-T*F:o*v+T*F,B+=p}r.tspan.setAttributeNS(null,"x",r.xcoords.map(i).join(" ")),r.tspan.setAttributeNS(null,"y",z?r.ycoords.map(i).join(" "):i(-r.y)),z?r.y-=B:r.x+=B*V,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${i(r.fontSize)}px`),r.fontStyle!==Q.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==Q.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const j=r.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;j===m.TextRenderingMode.FILL||j===m.TextRenderingMode.FILL_STROKE?(r.fillColor!==Q.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===m.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(j===m.TextRenderingMode.STROKE||j===m.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let K=r.textMatrix;0!==r.textRise&&(K=K.slice(),K[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${h(K)} scale(${i(V)}, -1)`),r.txtElement.setAttributeNS(k,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(t,r){this.setLeading(-r),this.moveText(t,r)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=u(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${r}); }\n`}setFont(t){const r=this.current,A=this.commonObjs.get(t[0]);let b=t[1];r.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),r.fontMatrix=A.fontMatrix||m.FONT_IDENTITY_MATRIX;let y="normal";A.black?y="900":A.bold&&(y="bold");const L=A.italic?"italic":"normal";b<0?(b=-b,r.fontDirection=-1):r.fontDirection=1,r.fontSize=b,r.fontFamily=A.loadedName,r.fontWeight=y,r.fontStyle=L,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",i(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&m.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=P[t]}setLineJoin(t){this.current.lineJoin=d[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,r,A){this.current.strokeColor=m.Util.makeHexColor(t,r,A)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,r,A){this.current.fillColor=m.Util.makeHexColor(t,r,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const r=this.viewport.width,A=this.viewport.height,b=m.Util.inverseTransform(this.transformMatrix),y=m.Util.applyTransform([0,0],b),L=m.Util.applyTransform([0,A],b),R=m.Util.applyTransform([r,0],b),F=m.Util.applyTransform([r,A],b),V=Math.min(y[0],L[0],R[0],F[0]),z=Math.min(y[1],L[1],R[1],F[1]),N=Math.max(y[0],L[0],R[0],F[0]),q=Math.max(y[1],L[1],R[1],F[1]),v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x",V),v.setAttributeNS(null,"y",z),v.setAttributeNS(null,"width",N-V),v.setAttributeNS(null,"height",q-z),v.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&v.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(v)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const r=t[1],A=t[2],b=t[3]||m.IDENTITY_MATRIX,[y,L,R,F]=t[4],V=t[5],z=t[6],N=t[7],q="shading"+g++,[v,B,j,K]=m.Util.normalizeRect([...m.Util.applyTransform([y,L],b),...m.Util.applyTransform([R,F],b)]),[re,T]=m.Util.singularValueDecompose2dScale(b),a=V*re,l=z*T,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",q),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",a),e.setAttributeNS(null,"height",l),e.setAttributeNS(null,"x",`${v}`),e.setAttributeNS(null,"y",`${B}`);const o=this.svg,p=this.transformMatrix,w=this.current.fillColor,C=this.current.strokeColor,E=this.svgFactory.create(j-v,K-B);if(this.svg=E,this.transformMatrix=b,2===N){const U=m.Util.makeHexColor(...r);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(A)),this.svg=o,this.transformMatrix=p,this.current.fillColor=w,this.current.strokeColor=C,e.appendChild(E.childNodes[0]),this.defs.appendChild(e),`url(#${q})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const r="shading"+g++,A=t[3];let b;switch(t[1]){case"axial":const y=t[4],L=t[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",r),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",y[0]),b.setAttributeNS(null,"y1",y[1]),b.setAttributeNS(null,"x2",L[0]),b.setAttributeNS(null,"y2",L[1]);break;case"radial":const R=t[4],F=t[5],V=t[6],z=t[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",r),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",F[0]),b.setAttributeNS(null,"cy",F[1]),b.setAttributeNS(null,"r",z),b.setAttributeNS(null,"fx",R[0]),b.setAttributeNS(null,"fy",R[1]),b.setAttributeNS(null,"fr",V);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const y of A){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",y[0]),L.setAttributeNS(null,"stop-color",y[1]),b.appendChild(L)}return this.defs.appendChild(b),`url(#${r})`;case"Mesh":return(0,m.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,r){this.current.dashArray=t,this.current.dashPhase=r}constructPath(t,r){const A=this.current;let b=A.x,y=A.y,L=[],R=0;for(const F of t)switch(0|F){case m.OPS.rectangle:b=r[R++],y=r[R++];const N=b+r[R++],q=y+r[R++];L.push("M",i(b),i(y),"L",i(N),i(y),"L",i(N),i(q),"L",i(b),i(q),"Z");break;case m.OPS.moveTo:b=r[R++],y=r[R++],L.push("M",i(b),i(y));break;case m.OPS.lineTo:b=r[R++],y=r[R++],L.push("L",i(b),i(y));break;case m.OPS.curveTo:b=r[R+4],y=r[R+5],L.push("C",i(r[R]),i(r[R+1]),i(r[R+2]),i(r[R+3]),i(b),i(y)),R+=6;break;case m.OPS.curveTo2:L.push("C",i(b),i(y),i(r[R]),i(r[R+1]),i(r[R+2]),i(r[R+3])),b=r[R+2],y=r[R+3],R+=4;break;case m.OPS.curveTo3:b=r[R+2],y=r[R+3],L.push("C",i(r[R]),i(r[R+1]),i(b),i(y),i(b),i(y)),R+=4;break;case m.OPS.closePath:L.push("Z")}L=L.join(" "),A.path&&t.length>0&&t[0]!==m.OPS.rectangle&&t[0]!==m.OPS.moveTo?L=A.path.getAttributeNS(null,"d")+L:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(A.path)),A.path.setAttributeNS(null,"d",L),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(b,y)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const r="clippath"+x++,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",r),A.setAttributeNS(null,"transform",h(this.transformMatrix));const b=t.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,A.appendChild(b),this.defs.appendChild(A),t.activeClipUrl){t.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;A.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const r=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",r)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[r,A]of t)switch(r){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,m.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,r=1){const A=this.current;let b=A.dashArray;1!==r&&b.length>0&&(b=b.map(function(y){return r*y})),t.setAttributeNS(null,"stroke",A.strokeColor),t.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",i(A.miterLimit)),t.setAttributeNS(null,"stroke-linecap",A.lineCap),t.setAttributeNS(null,"stroke-linejoin",A.lineJoin),t.setAttributeNS(null,"stroke-width",i(r*A.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",b.map(i).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",i(r*A.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);r?this.paintInlineImageXObject(r):(0,m.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,r){const A=t.width,b=t.height,y=s(t,this.forceDataSchema,!!r),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",i(A)),L.setAttributeNS(null,"height",i(b)),this.current.element=L,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(c,"xlink:href",y),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",i(-b)),R.setAttributeNS(null,"width",i(A)+"px"),R.setAttributeNS(null,"height",i(b)+"px"),R.setAttributeNS(null,"transform",`scale(${i(1/A)} ${i(-1/b)})`),r?r.appendChild(R):this._ensureTransformGroup().appendChild(R)}paintImageMaskXObject(t){const r=this.current,A=t.width,b=t.height,y=r.fillColor;r.maskId="mask"+_++;const L=this.svgFactory.createElement("svg:mask");L.setAttributeNS(null,"id",r.maskId);const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",i(A)),R.setAttributeNS(null,"height",i(b)),R.setAttributeNS(null,"fill",y),R.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(L),this._ensureTransformGroup().appendChild(R),this.paintInlineImageXObject(t,L)}paintFormXObjectBegin(t,r){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),r){const A=r[2]-r[0],b=r[3]-r[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",r[0]),y.setAttributeNS(null,"y",r[1]),y.setAttributeNS(null,"width",i(A)),y.setAttributeNS(null,"height",i(b)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const r=this.svgFactory.create(t.width,t.height),A=this.svgFactory.createElement("svg:defs");r.appendChild(A),this.defs=A;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",h(t.transform)),r.appendChild(b),this.svg=b,r}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNodeStream=void 0;var m=te(1),oe=te(26);const ne=__webpack_require__(172),H=__webpack_require__(2001),Q=__webpack_require__(3779),k=__webpack_require__(6558),c=/^file:\/\/\/[a-zA-Z]:\//;M.PDFNodeStream=class d{constructor(g){this.source=g,this.url=function P(_){const g=k.parse(_);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(_)?k.parse(`file:///${_}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new n(this),this._fullRequestReader}getRangeReader(g,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new x(this,g,t):new i(this,g,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const t of this._rangeRequestReaders.slice(0))t.cancel(g)}};class u{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=g.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._headersCapability=(0,m.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,m.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new m.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class s{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,m.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function f(_,g){return{protocol:_.protocol,auth:_.auth,host:_.hostname,port:_.port,path:_.path,method:"GET",headers:g}}class n extends u{constructor(g){super(g);const t=r=>{if(404===r.statusCode){const L=new m.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=L,void this._headersCapability.reject(L)}this._headersCapability.resolve(),this._setReadableStream(r);const A=L=>this._readableStream.headers[L.toLowerCase()],{allowRangeRequests:b,suggestedLength:y}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=y||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(A)};this._request=null,this._request="http:"===this._url.protocol?H.request(f(this._url,g.httpHeaders),t):Q.request(f(this._url,g.httpHeaders),t),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class i extends s{constructor(g,t,r){super(g),this._httpHeaders={};for(const b in g.httpHeaders){const y=g.httpHeaders[b];typeof y>"u"||(this._httpHeaders[b]=y)}this._httpHeaders.Range=`bytes=${t}-${r-1}`;const A=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const y=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};this._request=null,this._request="http:"===this._url.protocol?H.request(f(this._url,this._httpHeaders),A):Q.request(f(this._url,this._httpHeaders),A),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class h extends u{constructor(g){super(g);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),ne.lstat(t,(r,A)=>{if(r)return"ENOENT"===r.code&&(r=new m.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=A.size,this._setReadableStream(ne.createReadStream(t)),this._headersCapability.resolve()})}}class x extends s{constructor(g,t,r){super(g);let A=decodeURIComponent(this._url.path);c.test(this._url.href)&&(A=A.replace(/^\//,"")),this._setReadableStream(ne.createReadStream(A,{start:t,end:r-1}))}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.createResponseStatusError=function k(P,d){return 404===P||0===P&&d.startsWith("file:")?new m.MissingPDFException('Missing PDF "'+d+'".'):new m.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${d}".`,P)},M.extractFilenameFromHeader=function Q(P){const d=P("Content-Disposition");if(d){let u=(0,oe.getFilenameFromContentDispositionHeader)(d);if(u.includes("%"))try{u=decodeURIComponent(u)}catch{}if((0,ne.isPdfFile)(u))return u}return null},M.validateRangeRequestCapabilities=function H({getResponseHeader:P,isHttp:d,rangeChunkSize:u,disableRange:s}){const f={allowRangeRequests:!1,suggestedLength:void 0},n=parseInt(P("Content-Length"),10);return!Number.isInteger(n)||(f.suggestedLength=n,n<=2*u)||s||!d||"bytes"!==P("Accept-Ranges")||"identity"!==(P("Content-Encoding")||"identity")||(f.allowRangeRequests=!0),f},M.validateResponseStatus=function c(P){return 200===P||206===P};var m=te(1),oe=te(27),ne=te(5)},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getFilenameFromContentDispositionHeader=function oe(ne){let H=!0,Q=k("filename\\*","i").exec(ne);if(Q){Q=Q[1];let n=u(Q);return n=unescape(n),n=s(n),n=f(n),P(n)}if(Q=function d(n){const i=[];let h;const x=k("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=x.exec(n));){let[,g,t,r]=h;if(g=parseInt(g,10),g in i){if(0===g)break}else i[g]=[t,r]}const _=[];for(let g=0;g<i.length&&g in i;++g){let[t,r]=i[g];r=u(r),t&&(r=unescape(r),0===g&&(r=s(r))),_.push(r)}return _.join("")}(ne),Q)return P(f(Q));if(Q=k("filename","i").exec(ne),Q){Q=Q[1];let n=u(Q);return n=f(n),P(n)}function k(n,i){return new RegExp("(?:^|;)\\s*"+n+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',i)}function c(n,i){if(n){if(!/^[\x00-\xFF]+$/.test(i))return i;try{const h=new TextDecoder(n,{fatal:!0}),x=(0,m.stringToBytes)(i);i=h.decode(x),H=!1}catch{}}return i}function P(n){return H&&/[\x80-\xff]/.test(n)&&(n=c("utf-8",n),H&&(n=c("iso-8859-1",n))),n}function u(n){if(n.startsWith('"')){const i=n.slice(1).split('\\"');for(let h=0;h<i.length;++h){const x=i[h].indexOf('"');-1!==x&&(i[h]=i[h].slice(0,x),i.length=h+1),i[h]=i[h].replace(/\\(.)/g,"$1")}n=i.join('"')}return n}function s(n){const i=n.indexOf("'");return-1===i?n:c(n.slice(0,i),n.slice(i+1).replace(/^[^']*'/,""))}function f(n){return!n.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(n)?n:n.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(i,h,x,_){if("q"===x||"Q"===x)return c(h,_=(_=_.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,t){return String.fromCharCode(parseInt(t,16))}));try{_=atob(_)}catch{}return c(h,_)})}return""};var m=te(1)},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNetworkStream=void 0;var m=te(1),oe=te(26);class k{constructor(s,f={}){this.url=s,this.isHttp=/^https?:/i.test(s),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.getXhr=f.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(s,f,n){const i={begin:s,end:f};for(const h in n)i[h]=n[h];return this.request(i)}requestFull(s){return this.request(s)}request(s){const f=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const x=this.httpHeaders[h];typeof x>"u"||f.setRequestHeader(h,x)}return this.isHttp&&"begin"in s&&"end"in s?(f.setRequestHeader("Range",`bytes=${s.begin}-${s.end-1}`),i.expectedStatus=206):i.expectedStatus=200,f.responseType="arraybuffer",s.onError&&(f.onerror=function(h){s.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,n),f.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=s.onHeadersReceived,i.onDone=s.onDone,i.onError=s.onError,i.onProgress=s.onProgress,f.send(null),n}onProgress(s,f){const n=this.pendingRequests[s];!n||n.onProgress?.(f)}onStateChange(s,f){const n=this.pendingRequests[s];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState||!(s in this.pendingRequests))return;if(delete this.pendingRequests[s],0===i.status&&this.isHttp)return void n.onError?.(i.status);const h=i.status||200;if((200!==h||206!==n.expectedStatus)&&h!==n.expectedStatus)return void n.onError?.(i.status);const _=function Q(u){const s=u.response;return"string"!=typeof s?s:(0,m.stringToBytes)(s).buffer}(i);if(206===h){const g=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(t[1],10),chunk:_})}else _?n.onDone({begin:0,chunk:_}):n.onError?.(i.status)}getRequestXhr(s){return this.pendingRequests[s].xhr}isPendingRequest(s){return s in this.pendingRequests}abortRequest(s){const f=this.pendingRequests[s].xhr;delete this.pendingRequests[s],f.abort()}}M.PDFNetworkStream=class c{constructor(s){this._source=s,this._manager=new k(s.url,{httpHeaders:s.httpHeaders,withCredentials:s.withCredentials}),this._rangeChunkSize=s.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(s){const f=this._rangeRequestReaders.indexOf(s);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(s,f){const n=new d(this._manager,s,f);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(s){this._fullRequestReader?.cancel(s);for(const f of this._rangeRequestReaders.slice(0))f.cancel(s)}};class P{constructor(s,f){this._manager=s;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=s.requestFull(n),this._headersReceivedCapability=(0,m.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const s=this._fullRequestId,f=this._manager.getRequestXhr(s),n=x=>f.getResponseHeader(x),{allowRangeRequests:i,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(s),this._headersReceivedCapability.resolve()}_onDone(s){if(s&&(this._requests.length>0?this._requests.shift().resolve({value:s.chunk,done:!1}):this._cachedChunks.push(s.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(s){this._storedError=(0,oe.createResponseStatusError)(s,this._url),this._headersReceivedCapability.reject(this._storedError);for(const f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(s){this.onProgress?.({loaded:s.loaded,total:s.lengthComputable?s.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var s=this;return _asyncToGenerator(function*(){if(s._storedError)throw s._storedError;if(s._cachedChunks.length>0)return{value:s._cachedChunks.shift(),done:!1};if(s._done)return{value:void 0,done:!0};const f=(0,m.createPromiseCapability)();return s._requests.push(f),f.promise})()}cancel(s){this._done=!0,this._headersReceivedCapability.reject(s);for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class d{constructor(s,f,n){this._manager=s;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=s.url,this._requestId=s.requestRange(f,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(s){const f=s.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(s){this._storedError=(0,oe.createResponseStatusError)(s,this._url);for(const f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(s){this.isStreamingSupported||this.onProgress?.({loaded:s.loaded})}get isStreamingSupported(){return!1}read(){var s=this;return _asyncToGenerator(function*(){if(s._storedError)throw s._storedError;if(null!==s._queuedChunk){const n=s._queuedChunk;return s._queuedChunk=null,{value:n,done:!1}}if(s._done)return{value:void 0,done:!0};const f=(0,m.createPromiseCapability)();return s._requests.push(f),f.promise})()}cancel(s){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(he,M,te)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFetchStream=void 0;var m=te(1),oe=te(26);function ne(P,d,u){return{method:"GET",headers:P,signal:u?.signal,mode:"cors",credentials:d?"include":"same-origin",redirect:"follow"}}function H(P){const d=new Headers;for(const u in P){const s=P[u];typeof s>"u"||d.append(u,s)}return d}M.PDFFetchStream=class Q{constructor(d){this.source=d,this.isHttp=/^https?:/i.test(d.url),this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new k(this),this._fullRequestReader}getRangeReader(d,u){if(u<=this._progressiveDataLength)return null;const s=new c(this,d,u);return this._rangeRequestReaders.push(s),s}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const u of this._rangeRequestReaders.slice(0))u.cancel(d)}};class k{constructor(d){this._stream=d,this._reader=null,this._loaded=0,this._filename=null;const u=d.source;this._withCredentials=u.withCredentials||!1,this._contentLength=u.length,this._headersCapability=(0,m.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._headers=H(this._stream.httpHeaders);const s=u.url;fetch(s,ne(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,oe.validateResponseStatus)(f.status))throw(0,oe.createResponseStatusError)(f.status,s);this._reader=f.body.getReader(),this._headersCapability.resolve();const n=x=>f.headers.get(x),{allowRangeRequests:i,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new m.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){yield d._headersCapability.promise;const{value:u,done:s}=yield d._reader.read();return s?{value:u,done:s}:(d._loaded+=u.byteLength,d.onProgress&&d.onProgress({loaded:d._loaded,total:d._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(d){this._reader&&this._reader.cancel(d),this._abortController&&this._abortController.abort()}}class c{constructor(d,u,s){this._stream=d,this._reader=null,this._loaded=0;const f=d.source;this._withCredentials=f.withCredentials||!1,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!f.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=H(this._stream.httpHeaders),this._headers.append("Range",`bytes=${u}-${s-1}`);const n=f.url;fetch(n,ne(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!(0,oe.validateResponseStatus)(i.status))throw(0,oe.createResponseStatusError)(i.status,n);this._readCapability.resolve(),this._reader=i.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){yield d._readCapability.promise;const{value:u,done:s}=yield d._reader.read();return s?{value:u,done:s}:(d._loaded+=u.byteLength,d.onProgress&&d.onProgress({loaded:d._loaded}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(d){this._reader&&this._reader.cancel(d),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(he){var M=__webpack_module_cache__[he];if(void 0!==M)return M.exports;var te=__webpack_module_cache__[he]={exports:{}};return __webpack_modules__[he](te,te.exports,__w_pdfjs_require__),te.exports}var __webpack_exports__={};return(()=>{var he=__webpack_exports__;Object.defineProperty(he,"__esModule",{value:!0}),Object.defineProperty(he,"AnnotationLayer",{enumerable:!0,get:function(){return oe.AnnotationLayer}}),Object.defineProperty(he,"AnnotationMode",{enumerable:!0,get:function(){return M.AnnotationMode}}),Object.defineProperty(he,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(he,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ne.GlobalWorkerOptions}}),Object.defineProperty(he,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(he,"LoopbackPort",{enumerable:!0,get:function(){return te.LoopbackPort}}),Object.defineProperty(he,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(he,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(he,"PDFDataRangeTransport",{enumerable:!0,get:function(){return te.PDFDataRangeTransport}}),Object.defineProperty(he,"PDFDateString",{enumerable:!0,get:function(){return m.PDFDateString}}),Object.defineProperty(he,"PDFWorker",{enumerable:!0,get:function(){return te.PDFWorker}}),Object.defineProperty(he,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(he,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(he,"PixelsPerInch",{enumerable:!0,get:function(){return m.PixelsPerInch}}),Object.defineProperty(he,"RenderingCancelledException",{enumerable:!0,get:function(){return m.RenderingCancelledException}}),Object.defineProperty(he,"SVGGraphics",{enumerable:!0,get:function(){return k.SVGGraphics}}),Object.defineProperty(he,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(he,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(he,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(he,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(he,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(he,"build",{enumerable:!0,get:function(){return te.build}}),Object.defineProperty(he,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(he,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(he,"getDocument",{enumerable:!0,get:function(){return te.getDocument}}),Object.defineProperty(he,"getFilenameFromUrl",{enumerable:!0,get:function(){return m.getFilenameFromUrl}}),Object.defineProperty(he,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return m.getPdfFilenameFromUrl}}),Object.defineProperty(he,"getXfaPageViewport",{enumerable:!0,get:function(){return m.getXfaPageViewport}}),Object.defineProperty(he,"isPdfFile",{enumerable:!0,get:function(){return m.isPdfFile}}),Object.defineProperty(he,"loadScript",{enumerable:!0,get:function(){return m.loadScript}}),Object.defineProperty(he,"renderTextLayer",{enumerable:!0,get:function(){return Q.renderTextLayer}}),Object.defineProperty(he,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(he,"version",{enumerable:!0,get:function(){return te.version}});var M=__w_pdfjs_require__(1),te=__w_pdfjs_require__(4),m=__w_pdfjs_require__(5),oe=__w_pdfjs_require__(20),ne=__w_pdfjs_require__(13),H=__w_pdfjs_require__(3),Q=__w_pdfjs_require__(23),k=__w_pdfjs_require__(24),c=__w_pdfjs_require__(22);if(H.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(25);(0,te.setPDFNetworkStreamFactory)(s=>new u(s))}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(28),{PDFFetchStream:s}=__w_pdfjs_require__(29);(0,te.setPDFNetworkStreamFactory)(f=>(0,m.isValidFetchUrl)(f.url)?new s(f):new u(f))}})(),__webpack_exports__})(),module.exports=te()},2813:function(he,M,te){var H,m=te(7156).default;H=()=>(()=>{"use strict";var oe=[,(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultXfaLayerFactory=c.DefaultTextLayerFactory=c.DefaultStructTreeLayerFactory=c.DefaultAnnotationLayerFactory=void 0;var d=P(2),u=P(4),s=P(5),f=P(7),n=P(8),i=P(9);c.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(r,A,b=null,y="",L=!0,R=u.NullL10n,F=!1,V=null,z=null,N=null,q=null){return new d.AnnotationLayerBuilder({pageDiv:r,pdfPage:A,imageResourcesPath:y,renderForms:L,linkService:new s.SimpleLinkService,l10n:R,annotationStorage:b,enableScripting:F,hasJSActionsPromise:V,fieldObjectsPromise:N,mouseState:z,annotationCanvasMap:q})}},c.DefaultStructTreeLayerFactory=class x{createStructTreeLayerBuilder(r){return new f.StructTreeLayerBuilder({pdfPage:r})}},c.DefaultTextLayerFactory=class _{createTextLayerBuilder(r,A,b,y=!1,L,R){return new n.TextLayerBuilder({textLayerDiv:r,pageIndex:A,viewport:b,enhanceTextSelection:y,eventBus:L,highlighter:R})}},c.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(r,A,b=null,y=null){return new i.XfaLayerBuilder({pageDiv:r,pdfPage:A,annotationStorage:b,linkService:new s.SimpleLinkService,xfaHtml:y})}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayerBuilder=void 0;var d=P(3),u=P(4);c.AnnotationLayerBuilder=class s{constructor({pageDiv:n,pdfPage:i,linkService:h,downloadManager:x,annotationStorage:_=null,imageResourcesPath:g="",renderForms:t=!0,l10n:r=u.NullL10n,enableScripting:A=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:y=null,mouseState:L=null,annotationCanvasMap:R=null}){this.pageDiv=n,this.pdfPage=i,this.linkService=h,this.downloadManager=x,this.imageResourcesPath=g,this.renderForms=t,this.l10n=r,this.annotationStorage=_,this.enableScripting=A,this._hasJSActionsPromise=b,this._fieldObjectsPromise=y,this._mouseState=L,this._annotationCanvasMap=R,this.div=null,this._cancelled=!1}render(n,i="display"){var h=this;return m(function*(){const[x,_=!1,g=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:i}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===x.length)return;const t={viewport:n.clone({dontFlip:!0}),div:h.div,annotations:x,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:_,fieldObjects:g,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?d.AnnotationLayer.update(t):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),t.div=h.div,d.AnnotationLayer.render(t),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},k=>{let c;c=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:te(6036),k.exports=c},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.fixupLangCode=function s(i){return u[i?.toLowerCase()]||i},c.getL10nFallback=d;const P={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function d(i,h){switch(i){case"find_match_count":i=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":i=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return P[i]||""}const u={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};c.NullL10n={getLanguage:()=>m(function*(){return"en-us"})(),getDirection:()=>m(function*(){return"ltr"})(),get:(i,h=null,x=d(i,h))=>m(function*(){return function f(i,h){return h?i.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,_)=>_ in h?h[_]:"{{"+_+"}}"):i}(x,h)})(),translate:i=>m(function*(){})()}},(k,c,P)=>{var h,x,Ze,g,ct;Object.defineProperty(c,"__esModule",{value:!0}),c.SimpleLinkService=c.PDFLinkService=c.LinkTarget=void 0;var d=P(6);const s={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function f(A,{url:b,target:y,rel:L,enabled:R=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const F=(0,d.removeNullCharacters)(b);R?A.href=A.title=F:(A.href="",A.title=`Disabled: ${F}`,A.onclick=()=>!1);let V="";switch(y){case s.NONE:break;case s.SELF:V="_self";break;case s.BLANK:V="_blank";break;case s.PARENT:V="_parent";break;case s.TOP:V="_top"}A.target=V,A.rel="string"==typeof L?L:"noopener noreferrer nofollow"}c.LinkTarget=s;const r=class{constructor({eventBus:b,externalLinkTarget:y=null,externalLinkRel:L=null,ignoreDestinationZoom:R=!1}={}){ve(this,x),ve(this,h,new Map),this.eventBus=b,this.externalLinkTarget=y,this.externalLinkRel=L,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=R,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,y=null){this.baseUrl=y,this.pdfDocument=b,Ae(this,h).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var y=this;return m(function*(){var F;if(!y.pdfDocument)return;let L,R;"string"==typeof b?(L=b,R=yield y.pdfDocument.getDestination(b)):(L=null,R=yield b),Array.isArray(R)?ye(F=y,x,Ze).call(F,b,L,R):console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const y="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,y,L=!1){f(b,{url:y,target:L?s.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const y=JSON.stringify(b);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var R;if(!this.pdfDocument)return;let y,L;if(b.includes("=")){const F=(0,d.parseQueryString)(b);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(y=0|F.get("page")||1),F.has("zoom")){const V=F.get("zoom").split(","),z=V[0],N=parseFloat(z);z.includes("Fit")?"Fit"===z||"FitB"===z?L=[null,{name:z}]:"FitH"===z||"FitBH"===z||"FitV"===z||"FitBV"===z?L=[null,{name:z},V.length>1?0|V[1]:null]:"FitR"===z?5!==V.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):L=[null,{name:z},0|V[1],0|V[2],0|V[3],0|V[4]]:console.error(`PDFLinkService.setHash: "${z}" is not a valid zoom value.`):L=[null,{name:"XYZ"},V.length>1?0|V[1]:null,V.length>2?0|V[2]:null,N?N/100:z]}L?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:L,allowNegativeOffset:!0}):y&&(this.page=y),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{L=unescape(b);try{L=JSON.parse(L),Array.isArray(L)||(L=L.toString())}catch{}if("string"==typeof L||ye(R=r,g,ct).call(R,L))return void this.goToDestination(L);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){switch(b){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,y){if(!y)return;const L=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;Ae(this,h).set(L,b)}_cachedPageNumber(b){if(!b)return null;const y=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return Ae(this,h).get(y)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let n=r;h=new WeakMap,x=new WeakSet,Ze=function(b,y=null,L){const R=L[0];let F;if("object"==typeof R&&null!==R){if(F=this._cachedPageNumber(R),!F)return void this.pdfDocument.getPageIndex(R).then(V=>{this.cachePageRef(V+1,R),ye(this,x,Ze).call(this,b,y,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${b}".`);F=R+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:L,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,ct=function(b){if(!Array.isArray(b))return!1;const y=b.length;if(y<2)return!1;const L=b[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const R=b[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let F=!0;switch(R.name){case"XYZ":if(5!==y)return!1;break;case"Fit":case"FitB":return 2===y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==y)return!1;break;case"FitR":if(6!==y)return!1;F=!1;break;default:return!1}for(let V=2;V<y;V++){const z=b[V];if(!("number"==typeof z||F&&null===z))return!1}return!0},ve(n,g),c.PDFLinkService=n,c.SimpleLinkService=class i{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return m(function*(){})()}goToPage(b){}addLinkAttributes(b,y,L=!1){f(b,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,y){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(k,c)=>{var ce,ht;Object.defineProperty(c,"__esModule",{value:!0}),c.animationStarted=c.VERTICAL_PADDING=c.UNKNOWN_SCALE=c.TextLayerMode=c.SpreadMode=c.SidebarView=c.ScrollMode=c.SCROLLBAR_PADDING=c.RenderingStates=c.RendererType=c.ProgressBar=c.PresentationModeState=c.OutputScale=c.MIN_SCALE=c.MAX_SCALE=c.MAX_AUTO_SCALE=c.DEFAULT_SCALE_VALUE=c.DEFAULT_SCALE_DELTA=c.DEFAULT_SCALE=c.AutoPrintRegExp=void 0,c.apiPageLayoutToViewerModes=function Y(J){let se=b.VERTICAL,ie=y.NONE;switch(J){case"SinglePage":se=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":se=b.PAGE;case"TwoColumnLeft":ie=y.ODD;break;case"TwoPageRight":se=b.PAGE;case"TwoColumnRight":ie=y.EVEN}return{scrollMode:se,spreadMode:ie}},c.apiPageModeToSidebarView=function ee(J){switch(J){case"UseNone":return t.NONE;case"UseThumbs":return t.THUMBS;case"UseOutlines":return t.OUTLINE;case"UseAttachments":return t.ATTACHMENTS;case"UseOC":return t.LAYERS}return t.NONE},c.approximateFraction=function j(J){if(Math.floor(J)===J)return[J,1];const se=1/J;if(se>8)return[1,8];if(Math.floor(se)===se)return[1,se];const S=J>1?se:J;let ue,I=0,$=1,pe=1,de=1;for(;;){const me=I+pe,_e=$+de;if(_e>8)break;S<=me/_e?(pe=me,de=_e):(I=me,$=_e)}return ue=S-I/$<pe/de-S?S===J?[I,$]:[$,I]:S===J?[pe,de]:[de,pe],ue},c.backtrackBeforeAllVisibleElements=T,c.binarySearchFirstItem=B,c.getActiveOrFocusedElement=function X(){let J=document,se=J.activeElement||J.querySelector(":focus");for(;se?.shadowRoot;)J=se.shadowRoot,se=J.activeElement||J.querySelector(":focus");return se},c.getPageSizeInches=function re({view:J,userUnit:se,rotate:ie}){const[S,I,$,pe]=J,de=ie%180!=0,ue=($-S)/72*se,me=(pe-I)/72*se;return{width:de?me:ue,height:de?ue:me}},c.getVisibleElements=function a({scrollEl:J,views:se,sortByVisibility:ie=!1,horizontal:S=!1,rtl:I=!1}){const $=J.scrollTop,pe=$+J.clientHeight,de=J.scrollLeft,ue=de+J.clientWidth,Se=[],Pe=new Set,Ee=se.length;let Z=B(se,S?function _e(le){const fe=le.div,ge=fe.offsetLeft+fe.clientLeft;return I?ge<ue:ge+fe.clientWidth>de}:function me(le){const fe=le.div;return fe.offsetTop+fe.clientTop+fe.clientHeight>$});Z>0&&Z<Ee&&!S&&(Z=T(Z,se,$));let O=S?ue:-1;for(let le=Z;le<Ee;le++){const fe=se[le],ge=fe.div,Ce=ge.offsetLeft+ge.clientLeft,we=ge.offsetTop+ge.clientTop,Me=ge.clientWidth,xe=ge.clientHeight,Re=Ce+Me,ke=we+xe;if(-1===O)ke>=pe&&(O=ke);else if((S?Ce:we)>O)break;if(ke<=$||we>=pe||Re<=de||Ce>=ue)continue;const Be=Math.max(0,$-we)+Math.max(0,ke-pe),Oe=(Me-(Math.max(0,de-Ce)+Math.max(0,Re-ue)))/Me;Se.push({id:fe.id,x:Ce,y:we,view:fe,percent:(xe-Be)/xe*Oe*100|0,widthPercent:100*Oe|0}),Pe.add(fe.id)}const D=Se[0],ae=Se[Se.length-1];return ie&&Se.sort(function(le,fe){const ge=le.percent-fe.percent;return Math.abs(ge)>.001?-ge:le.id-fe.id}),{first:D,last:ae,views:Se,ids:Pe}},c.isPortraitOrientation=function E(J){return J.width<=J.height},c.isValidRotation=function p(J){return Number.isInteger(J)&&J%90==0},c.isValidScrollMode=function w(J){return Number.isInteger(J)&&Object.values(b).includes(J)&&J!==b.UNKNOWN},c.isValidSpreadMode=function C(J){return Number.isInteger(J)&&Object.values(y).includes(J)&&J!==y.UNKNOWN},c.noContextMenuHandler=function l(J){J.preventDefault()},c.normalizeWheelEventDelta=function o(J){let se=e(J);return 0===J.deltaMode?se/=900:1===J.deltaMode&&(se/=30),se},c.normalizeWheelEventDirection=e,c.parseQueryString=function z(J){const se=new Map;for(const[ie,S]of new URLSearchParams(J))se.set(ie.toLowerCase(),S);return se},c.removeNullCharacters=function v(J,se=!1){return"string"!=typeof J?(console.error("The argument must be a string."),J):(se&&(J=J.replace(q," ")),J.replace(N,""))},c.roundToDivide=function K(J,se){const ie=J%se;return 0===ie?J:Math.round(J-ie+se)},c.scrollIntoView=function F(J,se,ie=!1){let S=J.offsetParent;if(!S)return void console.error("offsetParent is not set -- cannot scroll");let I=J.offsetTop+J.clientTop,$=J.offsetLeft+J.clientLeft;for(;S.clientHeight===S.scrollHeight&&S.clientWidth===S.scrollWidth||ie&&(S.classList.contains("markedContent")||"hidden"===getComputedStyle(S).overflow);)if(I+=S.offsetTop,$+=S.offsetLeft,S=S.offsetParent,!S)return;se&&(void 0!==se.top&&(I+=se.top),void 0!==se.left&&($+=se.left,S.scrollLeft=$)),S.scrollTop=I},c.watchScroll=function V(J,se){const ie=function($){I||(I=window.requestAnimationFrame(function(){I=null;const de=J.scrollLeft,ue=S.lastX;de!==ue&&(S.right=de>ue),S.lastX=de;const me=J.scrollTop,_e=S.lastY;me!==_e&&(S.down=me>_e),S.lastY=me,se(S)}))},S={right:!0,down:!0,lastX:J.scrollLeft,lastY:J.scrollTop,_eventHandler:ie};let I=null;return J.addEventListener("scroll",ie,!0),S},c.DEFAULT_SCALE_VALUE="auto",c.DEFAULT_SCALE=1,c.DEFAULT_SCALE_DELTA=1.1,c.MIN_SCALE=.1,c.MAX_SCALE=10,c.UNKNOWN_SCALE=0,c.MAX_AUTO_SCALE=1.25,c.SCROLLBAR_PADDING=40,c.VERTICAL_PADDING=5,c.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const t={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};c.SidebarView=t,c.RendererType={CANVAS:"canvas",SVG:"svg"},c.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};c.ScrollMode=b;const y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};c.SpreadMode=y,c.AutoPrintRegExp=/\bprint\s*\(/,c.OutputScale=class R{constructor(){const se=window.devicePixelRatio||1;this.sx=se,this.sy=se}get scaled(){return 1!==this.sx||1!==this.sy}};const N=/\x00/g,q=/[\x01-\x1F]/g;function B(J,se,ie=0){let S=ie,I=J.length-1;if(I<0||!se(J[I]))return J.length;if(se(J[S]))return S;for(;S<I;){const $=S+I>>1;se(J[$])?I=$:S=$+1}return S}function T(J,se,ie){if(J<2)return J;let S=se[J].div,I=S.offsetTop+S.clientTop;I>=ie&&(S=se[J-1].div,I=S.offsetTop+S.clientTop);for(let $=J-2;$>=0&&(S=se[$].div,!(S.offsetTop+S.clientTop+S.clientHeight<=I));--$)J=$;return J}function e(J){let se=Math.hypot(J.deltaX,J.deltaY);const ie=Math.atan2(J.deltaY,J.deltaX);return-.25*Math.PI<ie&&ie<.75*Math.PI&&(se=-se),se}const U=new Promise(function(J){window.requestAnimationFrame(J)});c.animationStarted=U,ce=new WeakSet,ht=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},c.ProgressBar=class W{constructor(se){if(ve(this,ce),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(se+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(se){this._indeterminate=isNaN(se),this._percent=function G(J,se,ie){return Math.min(Math.max(J,se),ie)}(se,0,100),ye(this,ce,ht).call(this)}setWidth(se){if(!se)return;const S=se.parentNode.offsetWidth-se.offsetWidth;S>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${S}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StructTreeLayerBuilder=void 0;const P={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},d=/^H(\d+)$/;c.StructTreeLayerBuilder=class u{constructor({pdfPage:f}){this.pdfPage=f}render(f){return this._walk(f)}_setAttributes(f,n){void 0!==f.alt&&n.setAttribute("aria-label",f.alt),void 0!==f.id&&n.setAttribute("aria-owns",f.id),void 0!==f.lang&&n.setAttribute("lang",f.lang)}_walk(f){if(!f)return null;const n=document.createElement("span");if("role"in f){const{role:i}=f,h=i.match(d);h?(n.setAttribute("role","heading"),n.setAttribute("aria-level",h[1])):P[i]&&n.setAttribute("role",P[i])}if(this._setAttributes(f,n),f.children)if(1===f.children.length&&"id"in f.children[0])this._setAttributes(f.children[0],n);else for(const i of f.children)n.appendChild(this._walk(i));return n}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerBuilder=void 0;var d=P(3);c.TextLayerBuilder=class s{constructor({textLayerDiv:n,eventBus:i,pageIndex:h,viewport:x,highlighter:_=null,enhanceTextSelection:g=!1}){this.textLayerDiv=n,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=x,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=_,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const i=document.createDocumentFragment();this.textLayerRenderTask=(0,d.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(i),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let i=null;n.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(i&&(clearTimeout(i),i=null));const x=n.querySelector(".endOfContent");if(!x)return;let _=h.target!==n;if(_=_&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select"),_){const g=n.getBoundingClientRect(),t=Math.max(0,(h.pageY-g.top)/g.height);x.style.top=(100*t).toFixed(2)+"%"}x.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(i=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),i=null},300));const h=n.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayerBuilder=void 0;var d=P(3);c.XfaLayerBuilder=class u{constructor({pageDiv:f,pdfPage:n,annotationStorage:i=null,linkService:h,xfaHtml:x=null}){this.pageDiv=f,this.pdfPage=n,this.annotationStorage=i,this.linkService=h,this.xfaHtml=x,this.div=null,this._cancelled=!1}render(f,n="display"){if("print"===n){const i={viewport:f.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},h=document.createElement("div");this.pageDiv.appendChild(h),i.div=h;const x=d.XfaLayer.render(i);return Promise.resolve(x)}return this.pdfPage.getXfa().then(i=>{if(this._cancelled||!i)return{textDivs:[]};const h={viewport:f.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?d.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,d.XfaLayer.render(h))}).catch(i=>{console.error(i)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFViewer=c.PDFSinglePageViewer=void 0;var d=P(6),u=P(11);c.PDFViewer=class s extends u.BaseViewer{},c.PDFSinglePageViewer=class f extends u.BaseViewer{_resetView(){super._resetView(),this._scrollMode=d.ScrollMode.PAGE,this._spreadMode=d.SpreadMode.NONE}set scrollMode(i){}_updateScrollMode(){}set spreadMode(i){}_updateSpreadMode(){}}},(k,c,P)=>{var R,F,V,et,N,q,v,B,j,K,re,T,ut,l,dt,o,We,w,qe,E,ft,G,tt,X,pt,ee,gt,be,_t;Object.defineProperty(c,"__esModule",{value:!0}),c.PagesCountLimit=c.PDFPageViewBuffer=c.BaseViewer=void 0;var d=P(3),u=P(6),s=P(2),f=P(4),n=P(12),i=P(14),h=P(5),x=P(7),_=P(15),g=P(8),t=P(9);const A="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};c.PagesCountLimit=b;class y{constructor(S){ve(this,V),ve(this,R,new Set),ve(this,F,0),Te(this,F,S)}push(S){const I=Ae(this,R);I.has(S)&&I.delete(S),I.add(S),I.size>Ae(this,F)&&ye(this,V,et).call(this)}resize(S,I=null){Te(this,F,S);const $=Ae(this,R);if(I){const pe=$.size;let de=1;for(const ue of $)if(I.has(ue.id)&&($.delete(ue),$.add(ue)),++de>pe)break}for(;$.size>Ae(this,F);)ye(this,V,et).call(this)}has(S){return Ae(this,R).has(S)}[Symbol.iterator](){return Ae(this,R).keys()}}R=new WeakMap,F=new WeakMap,V=new WeakSet,et=function(){const S=Ae(this,R).keys().next().value;S?.destroy(),Ae(this,R).delete(S)},c.PDFPageViewBuffer=y;const se=class{constructor(S){if(ve(this,T),ve(this,l),ve(this,o),ve(this,w),ve(this,E),ve(this,G),ve(this,X),ve(this,ee),ve(this,be),ve(this,N,null),ve(this,q,d.AnnotationMode.ENABLE_FORMS),ve(this,v,null),ve(this,B,!1),ve(this,j,0),ve(this,K,null),ve(this,re,null),this.constructor===se)throw new Error("Cannot initialize BaseViewer.");const I="2.14.305";if(d.version!==I)throw new Error(`The API version "${d.version}" does not match the Viewer version "${I}".`);if(this.container=S.container,this.viewer=S.viewer||S.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=S.eventBus,this.linkService=S.linkService||new h.SimpleLinkService,this.downloadManager=S.downloadManager||null,this.findController=S.findController||null,this._scriptingManager=S.scriptingManager||null,this.removePageBorders=S.removePageBorders||!1,this.textLayerMode=S.textLayerMode??u.TextLayerMode.ENABLE,Te(this,q,S.annotationMode??d.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.enablePrintAutoRotate=S.enablePrintAutoRotate||!1,this.renderer=S.renderer||u.RendererType.CANVAS,this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels,this.l10n=S.l10n||f.NullL10n,Te(this,B,S.enablePermissions||!1),this.pageColors=S.pageColors||null,S.pageColors&&(!CSS.supports("color",S.pageColors.background)||!CSS.supports("color",S.pageColors.foreground))&&((S.pageColors.background||S.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!S.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new i.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=S.renderingQueue,this._doc=document.documentElement,this.scroll=(0,u.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=u.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(S){return this._pages[S]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(S){return S?.pdfPage})}get renderForms(){return Ae(this,q)===d.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(S){if(!Number.isInteger(S))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(S,!0)||console.error(`currentPageNumber: "${S}" is not a valid page.`)}_setCurrentPageNumber(S,I=!1){if(this._currentPageNumber===S)return I&&ye(this,G,tt).call(this),!0;if(!(0<S&&S<=this.pagesCount))return!1;const $=this._currentPageNumber;return this._currentPageNumber=S,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:S,pageLabel:this._pageLabels?.[S-1]??null,previous:$}),I&&ye(this,G,tt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(S){if(!this.pdfDocument)return;let I=0|S;if(this._pageLabels){const $=this._pageLabels.indexOf(S);$>=0&&(I=$+1)}this._setCurrentPageNumber(I,!0)||console.error(`currentPageLabel: "${S}" is not a valid page.`)}get currentScale(){return this._currentScale!==u.UNKNOWN_SCALE?this._currentScale:u.DEFAULT_SCALE}set currentScale(S){if(isNaN(S))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(S,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(S){!this.pdfDocument||this._setScale(S,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(S){if(!(0,u.isValidRotation)(S))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((S%=360)<0&&(S+=360),this._pagesRotation===S))return;this._pagesRotation=S;const I=this._currentPageNumber,$={rotation:S};for(const pe of this._pages)pe.update($);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:S,pageNumber:I}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(S){var I=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=S,!S)return;const $=S.isPureXfa,pe=S.numPages,de=S.getPage(1),ue=S.getOptionalContentConfig(),me=Ae(this,B)?S.getPermissions():Promise.resolve();if(pe>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const _e=this._scrollMode=u.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_e})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:pe})},()=>{}),this._onBeforeDraw=_e=>{const Se=this._pages[_e.pageNumber-1];!Se||Ae(this,N).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=_e=>{_e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:_e.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ae(this,re)&&(document.removeEventListener("visibilitychange",Ae(this,re)),Te(this,re,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([de,me]).then(([_e,Se])=>{if(S!==this.pdfDocument)return;this._firstPageCapability.resolve(_e),this._optionalContentConfigPromise=ue,ye(this,T,ut).call(this,Se);const Pe=this._scrollMode===u.ScrollMode.PAGE?null:this.viewer,Ee=this.currentScale,Z=_e.getViewport({scale:Ee*d.PixelsPerInch.PDF_TO_CSS_UNITS}),O=this.textLayerMode===u.TextLayerMode.DISABLE||$?null:this,D=Ae(this,q)!==d.AnnotationMode.DISABLE?this:null,ae=$?this:null;for(let fe=1;fe<=pe;++fe){const ge=new n.PDFPageView({container:Pe,eventBus:this.eventBus,id:fe,scale:Ee,defaultViewport:Z.clone(),optionalContentConfigPromise:ue,renderingQueue:this.renderingQueue,textLayerFactory:O,textLayerMode:this.textLayerMode,annotationLayerFactory:D,annotationMode:Ae(this,q),xfaLayerFactory:ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ge)}const le=this._pages[0];le&&(le.setPdfPage(_e),this.linkService.cachePageRef(1,_e.ref)),this._scrollMode===u.ScrollMode.PAGE?ye(this,o,We).call(this):this._spreadMode!==u.SpreadMode.NONE&&this._updateSpreadMode(),ye(this,l,dt).call(this).then(m(function*(){if(I.findController&&I.findController.setDocument(S),I._scriptingManager&&I._scriptingManager.setDocument(S),S.loadingParams.disableAutoFetch||pe>b.FORCE_LAZY_PAGE_INIT)return void I._pagesCapability.resolve();let fe=pe-1;if(fe<=0)I._pagesCapability.resolve();else for(let ge=2;ge<=pe;++ge){const Ce=S.getPage(ge).then(we=>{const Me=I._pages[ge-1];Me.pdfPage||Me.setPdfPage(we),I.linkService.cachePageRef(ge,we.ref),0==--fe&&I._pagesCapability.resolve()},we=>{console.error(`Unable to get page ${ge} to initialize viewer`,we),0==--fe&&I._pagesCapability.resolve()});ge%b.PAUSE_EAGER_PAGE_INIT==0&&(yield Ce)}})),this.eventBus.dispatch("pagesinit",{source:this}),S.getMetadata().then(({info:fe})=>{S===this.pdfDocument&&fe.Language&&(this.viewer.lang=fe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(_e=>{console.error("Unable to initialize viewer",_e),this._pagesCapability.reject(_e)})}setPageLabels(S){if(this.pdfDocument){S?Array.isArray(S)&&this.pdfDocument.numPages===S.length?this._pageLabels=S:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let I=0,$=this._pages.length;I<$;I++)this._pages[I].setPageLabel(this._pageLabels?.[I]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=u.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Te(this,N,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,d.createPromiseCapability)(),this._onePageRenderedCapability=(0,d.createPromiseCapability)(),this._pagesCapability=(0,d.createPromiseCapability)(),this._scrollMode=u.ScrollMode.VERTICAL,this._previousScrollMode=u.ScrollMode.UNKNOWN,this._spreadMode=u.SpreadMode.NONE,Te(this,K,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ae(this,re)&&(document.removeEventListener("visibilitychange",Ae(this,re)),Te(this,re,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(A),null!==Ae(this,v)&&(Te(this,q,Ae(this,v)),Te(this,v,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(S,I,$=!1,pe=!1){if(this._currentScaleValue=I.toString(),ye(this,E,ft).call(this,S))return void(pe&&this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:I}));this._doc.style.setProperty("--zoom-factor",S);const de={scale:S};for(const ue of this._pages)ue.update(de);if(this._currentScale=S,!$){let me,ue=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ue=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ue,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:pe?I:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL?2:1}_setScale(S,I=!1){let $=parseFloat(S);if($>0)this._setScaleUpdatePages($,S,I,!1);else{const pe=this._pages[this._currentPageNumber-1];if(!pe)return;let de=u.SCROLLBAR_PADDING,ue=u.VERTICAL_PADDING;this.isInPresentationMode?de=ue=4:this.removePageBorders?de=ue=0:this._scrollMode===u.ScrollMode.HORIZONTAL&&([de,ue]=[ue,de]);const me=(this.container.clientWidth-de)/pe.width*pe.scale/this._pageWidthScaleFactor,_e=(this.container.clientHeight-ue)/pe.height*pe.scale;switch(S){case"page-actual":$=1;break;case"page-width":$=me;break;case"page-height":$=_e;break;case"page-fit":$=Math.min(me,_e);break;case"auto":const Se=(0,u.isPortraitOrientation)(pe)?me:Math.min(_e,me);$=Math.min(u.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${S}" is an unknown zoom value.`)}this._setScaleUpdatePages($,S,I,!0)}}pageLabelToPageNumber(S){if(!this._pageLabels)return null;const I=this._pageLabels.indexOf(S);return I<0?null:I+1}scrollPageIntoView({pageNumber:S,destArray:I=null,allowNegativeOffset:$=!1,ignoreDestinationZoom:pe=!1}){if(!this.pdfDocument)return;const de=Number.isInteger(S)&&this._pages[S-1];if(!de)return void console.error(`scrollPageIntoView: "${S}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!I)return void this._setCurrentPageNumber(S,!0);let Pe,Ee,ue=0,me=0,_e=0,Se=0;const Z=de.rotation%180!=0,O=(Z?de.height:de.width)/de.scale/d.PixelsPerInch.PDF_TO_CSS_UNITS,D=(Z?de.width:de.height)/de.scale/d.PixelsPerInch.PDF_TO_CSS_UNITS;let ae=0;switch(I[1].name){case"XYZ":ue=I[2],me=I[3],ae=I[4],ue=null!==ue?ue:0,me=null!==me?me:D;break;case"Fit":case"FitB":ae="page-fit";break;case"FitH":case"FitBH":me=I[2],ae="page-width",null===me&&this._location?(ue=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=D);break;case"FitV":case"FitBV":ue=I[2],_e=O,Se=D,ae="page-height";break;case"FitR":ue=I[2],me=I[3],_e=I[4]-ue,Se=I[5]-me,Pe=(this.container.clientWidth-(this.removePageBorders?0:u.SCROLLBAR_PADDING))/_e/d.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(this.container.clientHeight-(this.removePageBorders?0:u.VERTICAL_PADDING))/Se/d.PixelsPerInch.PDF_TO_CSS_UNITS,ae=Math.min(Math.abs(Pe),Math.abs(Ee));break;default:return void console.error(`scrollPageIntoView: "${I[1].name}" is not a valid destination type.`)}if(pe||(ae&&ae!==this._currentScale?this.currentScaleValue=ae:this._currentScale===u.UNKNOWN_SCALE&&(this.currentScaleValue=u.DEFAULT_SCALE_VALUE)),"page-fit"===ae&&!I[4])return void ye(this,w,qe).call(this,de);const le=[de.viewport.convertToViewportPoint(ue,me),de.viewport.convertToViewportPoint(ue+_e,me+Se)];let fe=Math.min(le[0][0],le[1][0]),ge=Math.min(le[0][1],le[1][1]);$||(fe=Math.max(fe,0),ge=Math.max(ge,0)),ye(this,w,qe).call(this,de,{left:fe,top:ge})}_updateLocation(S){const I=this._currentScale,$=this._currentScaleValue,pe=parseFloat($)===I?Math.round(1e4*I)/100:$,de=S.id,me=this.container,_e=this._pages[de-1].getPagePoint(me.scrollLeft-S.x,me.scrollTop-S.y),Se=Math.round(_e[0]),Pe=Math.round(_e[1]);let Ee=`#page=${de}`;this.isInPresentationMode||(Ee+=`&zoom=${pe},${Se},${Pe}`),this._location={pageNumber:de,scale:pe,top:Pe,left:Se,rotation:this._pagesRotation,pdfOpenParams:Ee}}update(){const S=this._getVisiblePages(),I=S.views,$=I.length;if(0===$)return;const pe=Math.max(10,2*$+1);Ae(this,N).resize(pe,S.ids),this.renderingQueue.renderHighestPriority(S);const de=this._spreadMode===u.SpreadMode.NONE&&(this._scrollMode===u.ScrollMode.PAGE||this._scrollMode===u.ScrollMode.VERTICAL),ue=this._currentPageNumber;let me=!1;for(const _e of I){if(_e.percent<100)break;if(_e.id===ue&&de){me=!0;break}}this._setCurrentPageNumber(me?ue:I[0].id),this._updateLocation(S.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(S){return this.container.contains(S)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===u.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===u.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const S=this._scrollMode===u.ScrollMode.PAGE?Ae(this,K).pages:this._pages,I=this._scrollMode===u.ScrollMode.HORIZONTAL;return(0,u.getVisibleElements)({scrollEl:this.container,views:S,sortByVisibility:!0,horizontal:I,rtl:I&&this._isContainerRtl})}isPageVisible(S){return!!this.pdfDocument&&(Number.isInteger(S)&&S>0&&S<=this.pagesCount?this._getVisiblePages().ids.has(S):(console.error(`isPageVisible: "${S}" is not a valid page.`),!1))}isPageCached(S){if(!this.pdfDocument)return!1;if(!(Number.isInteger(S)&&S>0&&S<=this.pagesCount))return console.error(`isPageCached: "${S}" is not a valid page.`),!1;const I=this._pages[S-1];return Ae(this,N).has(I)}cleanup(){for(const S of this._pages)S.renderingState!==u.RenderingStates.FINISHED&&S.reset()}_cancelRendering(){for(const S of this._pages)S.cancelRendering()}forceRendering(S){const I=S||this._getVisiblePages(),$=ye(this,ee,gt).call(this,I),de=this.renderingQueue.getHighestPriority(I,this._pages,$,this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL);return ye(this,be,_t).call(this,I.ids),!!de&&(ye(this,X,pt).call(this,de).then(()=>{this.renderingQueue.renderView(de)}),!0)}createTextLayerBuilder(S,I,$,pe=!1,de,ue){return new g.TextLayerBuilder({textLayerDiv:S,eventBus:de,pageIndex:I,viewport:$,enhanceTextSelection:!this.isInPresentationMode&&pe,highlighter:ue})}createTextHighlighter(S,I){return new _.TextHighlighter({eventBus:I,pageIndex:S,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(S,I,$=null,pe="",de=!0,ue=f.NullL10n,me=null,_e=null,Se=null,Pe=null,Ee=null){return new s.AnnotationLayerBuilder({pageDiv:S,pdfPage:I,annotationStorage:$||this.pdfDocument?.annotationStorage,imageResourcesPath:pe,renderForms:de,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ue,enableScripting:me??this.enableScripting,hasJSActionsPromise:_e||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Pe||this.pdfDocument?.getFieldObjects(),mouseState:Se||this._scriptingManager?.mouseState,annotationCanvasMap:Ee})}createXfaLayerBuilder(S,I,$=null){return new t.XfaLayerBuilder({pageDiv:S,pdfPage:I,annotationStorage:$||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(S){return new x.StructTreeLayerBuilder({pdfPage:S})}get hasEqualPageSizes(){const S=this._pages[0];for(let I=1,$=this._pages.length;I<$;++I){const pe=this._pages[I];if(pe.width!==S.width||pe.height!==S.height)return!1}return!0}getPagesOverview(){return this._pages.map(S=>{const I=S.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,u.isPortraitOrientation)(I)?{width:I.width,height:I.height,rotation:I.rotation}:{width:I.height,height:I.width,rotation:(I.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(S){if(!(S instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${S}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=S;const I={optionalContentConfigPromise:S};for(const $ of this._pages)$.update(I);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:S})}get scrollMode(){return this._scrollMode}set scrollMode(S){if(this._scrollMode!==S){if(!(0,u.isValidScrollMode)(S))throw new Error(`Invalid scroll mode: ${S}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=S,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:S}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(S=null){const I=this._scrollMode,$=this.viewer;$.classList.toggle("scrollHorizontal",I===u.ScrollMode.HORIZONTAL),$.classList.toggle("scrollWrapped",I===u.ScrollMode.WRAPPED),this.pdfDocument&&S&&(I===u.ScrollMode.PAGE?ye(this,o,We).call(this):this._previousScrollMode===u.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(S){if(this._spreadMode!==S){if(!(0,u.isValidSpreadMode)(S))throw new Error(`Invalid spread mode: ${S}`);this._spreadMode=S,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:S}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(S=null){if(!this.pdfDocument)return;const I=this.viewer,$=this._pages;if(this._scrollMode===u.ScrollMode.PAGE)ye(this,o,We).call(this);else if(I.textContent="",this._spreadMode===u.SpreadMode.NONE)for(const pe of this._pages)I.appendChild(pe.div);else{const pe=this._spreadMode-1;let de=null;for(let ue=0,me=$.length;ue<me;++ue)null===de?(de=document.createElement("div"),de.className="spread",I.appendChild(de)):ue%2===pe&&(de=de.cloneNode(!1),I.appendChild(de)),de.appendChild($[ue].div)}!S||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}_getPageAdvance(S,I=!1){switch(this._scrollMode){case u.ScrollMode.WRAPPED:{const{views:$}=this._getVisiblePages(),pe=new Map;for(const{id:de,y:ue,percent:me,widthPercent:_e}of $){if(0===me||_e<100)continue;let Se=pe.get(ue);Se||pe.set(ue,Se||(Se=[])),Se.push(de)}for(const de of pe.values()){const ue=de.indexOf(S);if(-1===ue)continue;const me=de.length;if(1===me)break;if(I)for(let _e=ue-1,Se=0;_e>=Se;_e--){const Ee=de[_e+1]-1;if(de[_e]<Ee)return S-Ee}else for(let _e=ue+1,Se=me;_e<Se;_e++){const Ee=de[_e-1]+1;if(de[_e]>Ee)return Ee-S}if(I){const _e=de[0];if(_e<S)return S-_e+1}else{const _e=de[me-1];if(_e>S)return _e-S+1}break}break}case u.ScrollMode.HORIZONTAL:break;case u.ScrollMode.PAGE:case u.ScrollMode.VERTICAL:{if(this._spreadMode===u.SpreadMode.NONE)break;const $=this._spreadMode-1;if(I&&S%2!==$)break;if(!I&&S%2===$)break;const{views:pe}=this._getVisiblePages(),de=I?S-1:S+1;for(const{id:ue,percent:me,widthPercent:_e}of pe)if(ue===de){if(me>0&&100===_e)return 2;break}break}}return 1}nextPage(){const S=this._currentPageNumber,I=this.pagesCount;if(S>=I)return!1;const $=this._getPageAdvance(S,!1)||1;return this.currentPageNumber=Math.min(S+$,I),!0}previousPage(){const S=this._currentPageNumber;if(S<=1)return!1;const I=this._getPageAdvance(S,!0)||1;return this.currentPageNumber=Math.max(S-I,1),!0}increaseScale(S=1){let I=this._currentScale;do{I=(I*u.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.ceil(10*I)/10,I=Math.min(u.MAX_SCALE,I)}while(--S>0&&I<u.MAX_SCALE);this.currentScaleValue=I}decreaseScale(S=1){let I=this._currentScale;do{I=(I/u.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.floor(10*I)/10,I=Math.max(u.MIN_SCALE,I)}while(--S>0&&I>u.MIN_SCALE);this.currentScaleValue=I}updateContainerHeightCss(){const S=this.container.clientHeight;S!==Ae(this,j)&&(Te(this,j,S),this._doc.style.setProperty("--viewer-container-height",`${S}px`))}};let L=se;N=new WeakMap,q=new WeakMap,v=new WeakMap,B=new WeakMap,j=new WeakMap,K=new WeakMap,re=new WeakMap,T=new WeakSet,ut=function(S){!S||(S.includes(d.PermissionFlag.COPY)||this.viewer.classList.add(A),!S.includes(d.PermissionFlag.MODIFY_ANNOTATIONS)&&!S.includes(d.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ae(this,q)===d.AnnotationMode.ENABLE_FORMS&&(Te(this,v,Ae(this,q)),Te(this,q,d.AnnotationMode.ENABLE)))},l=new WeakSet,dt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const S=new Promise(I=>{Te(this,re,()=>{"hidden"===document.visibilityState&&(I(),document.removeEventListener("visibilitychange",Ae(this,re)),Te(this,re,null))}),document.addEventListener("visibilitychange",Ae(this,re))});return Promise.race([this._onePageRenderedCapability.promise,S])},o=new WeakSet,We=function(){if(this._scrollMode!==u.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const S=this._currentPageNumber,I=Ae(this,K),$=this.viewer;if($.textContent="",I.pages.length=0,this._spreadMode!==u.SpreadMode.NONE||this.isInPresentationMode){const pe=new Set,de=this._spreadMode-1;-1===de?pe.add(S-1):S%2!==de?(pe.add(S-1),pe.add(S)):(pe.add(S-2),pe.add(S-1));const ue=document.createElement("div");if(ue.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",ue.appendChild(me)}for(const me of pe){const _e=this._pages[me];!_e||(ue.appendChild(_e.div),I.pages.push(_e))}$.appendChild(ue)}else{const pe=this._pages[S-1];$.appendChild(pe.div),I.pages.push(pe)}I.scrollDown=S>=I.previousPageNumber,I.previousPageNumber=S},w=new WeakSet,qe=function(S,I=null){const{div:$,id:pe}=S;if(this._scrollMode===u.ScrollMode.PAGE&&(this._setCurrentPageNumber(pe),ye(this,o,We).call(this),this.update()),!I&&!this.isInPresentationMode){const de=$.offsetLeft+$.clientLeft,ue=de+$.clientWidth,{scrollLeft:me,clientWidth:_e}=this.container;(this._scrollMode===u.ScrollMode.HORIZONTAL||de<me||ue>me+_e)&&(I={left:0,top:0})}(0,u.scrollIntoView)($,I)},E=new WeakSet,ft=function(S){return S===this._currentScale||Math.abs(S-this._currentScale)<1e-15},G=new WeakSet,tt=function(){const S=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ye(this,w,qe).call(this,S)},X=new WeakSet,pt=function(S){var I=this;return m(function*(){if(S.pdfPage)return S.pdfPage;try{const $=yield I.pdfDocument.getPage(S.id);return S.pdfPage||S.setPdfPage($),I.linkService._cachedPageNumber?.($.ref)||I.linkService.cachePageRef(S.id,$.ref),$}catch($){return console.error("Unable to get page for page view",$),null}})()},ee=new WeakSet,gt=function(S){if(1===S.first?.id)return!0;if(S.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case u.ScrollMode.PAGE:return Ae(this,K).scrollDown;case u.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},be=new WeakSet,_t=function(S){for(const I of S)this._pages[I-1]?.toggleLoadingIconSpinner(!0);for(const I of Ae(this,N))S.has(I.id)||I.toggleLoadingIconSpinner(!1)},c.BaseViewer=L},(k,c,P)=>{var h;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFPageView=void 0;var d=P(3),u=P(6),s=P(13),f=P(4);const n=s.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,c.PDFPageView=class i{constructor(_){ve(this,h,d.AnnotationMode.ENABLE_FORMS);const g=_.container,t=_.defaultViewport;this.id=_.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=_.scale||u.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=_.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=_.textLayerMode??u.TextLayerMode.ENABLE,Te(this,h,_.annotationMode??d.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=_.imageResourcesPath||"",this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels||n,this.pageColors=_.pageColors||null,this.eventBus=_.eventBus,this.renderingQueue=_.renderingQueue,this.textLayerFactory=_.textLayerFactory,this.annotationLayerFactory=_.annotationLayerFactory,this.xfaLayerFactory=_.xfaLayerFactory,this.textHighlighter=_.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=_.structTreeLayerFactory,this.renderer=_.renderer||u.RendererType.CANVAS,this.l10n=_.l10n||f.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(A=>{r.setAttribute("aria-label",A)}),this.div=r,g?.appendChild(r)}setPdfPage(_){this.pdfPage=_,this.pdfPageRotate=_.rotate,this.viewport=_.getViewport({scale:this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var _=this;return m(function*(){let g=null;try{yield _.annotationLayer.render(_.viewport,"display")}catch(t){g=t}finally{_.eventBus.dispatch("annotationlayerrendered",{source:_,pageNumber:_.id,error:g})}})()}_renderXfaLayer(){var _=this;return m(function*(){let g=null;try{const t=yield _.xfaLayer.render(_.viewport,"display");_.textHighlighter&&_._buildXfaTextContentItems(t.textDivs)}catch(t){g=t}finally{_.eventBus.dispatch("xfalayerrendered",{source:_,pageNumber:_.id,error:g})}})()}_buildXfaTextContentItems(_){var g=this;return m(function*(){const t=yield g.pdfPage.getTextContent(),r=[];for(const A of t.items)r.push(A.str);g.textHighlighter.setTextMapping(_,r),g.textHighlighter.enable()})()}_resetZoomLayer(_=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,_&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:_=!1,keepAnnotationLayer:g=!1,keepXfaLayer:t=!1}={}){this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:t}),this.renderingState=u.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const A=r.childNodes,b=_&&this.zoomLayer||null,y=g&&this.annotationLayer?.div||null,L=t&&this.xfaLayer?.div||null;for(let R=A.length-1;R>=0;R--){const F=A[R];switch(F){case b:case y:case L:continue}F.remove()}r.removeAttribute("data-loaded"),y&&this.annotationLayer.hide(),L&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(R=>{this.loadingIconDiv?.setAttribute("aria-label",R)}),r.appendChild(this.loadingIconDiv)}update({scale:_=0,rotation:g=null,optionalContentConfigPromise:t=null}){if(this.scale=_||this.scale,"number"==typeof g&&(this.rotation=g),t instanceof Promise&&(this._optionalContentConfigPromise=t),this.viewport=this.viewport.clone({scale:this.scale*d.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:b}=document.documentElement;b.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let A=!1;if(this.canvas&&this.maxCanvasPixels>0){const b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(A=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&A)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:_=!1,keepXfaLayer:g=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!_||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:_,redrawAnnotationLayer:g=!1,redrawXfaLayer:t=!1}){const r=this.viewport.width,A=this.viewport.height,b=this.div;_.style.width=_.parentNode.style.width=b.style.width=Math.floor(r)+"px",_.style.height=_.parentNode.style.height=b.style.height=Math.floor(A)+"px";const y=this.viewport.rotation-this.paintedViewportMap.get(_).rotation,L=Math.abs(y);let R=1,F=1;if((90===L||270===L)&&(R=A/r,F=r/A),_.style.transform=`rotate(${y}deg) scale(${R}, ${F})`,this.textLayer){const V=this.textLayer.viewport,N=Math.abs(this.viewport.rotation-V.rotation);let q=r/V.width;(90===N||270===N)&&(q=r/V.height);const v=this.textLayer.textLayerDiv;let B,j;switch(N){case 0:B=j=0;break;case 90:B=0,j="-"+v.style.height;break;case 180:B="-"+v.style.width,j="-"+v.style.height;break;case 270:B="-"+v.style.width,j=0;break;default:console.error("Bad rotation value.")}v.style.transform=`rotate(${N}deg) scale(${q}) translate(${B}, ${j})`,v.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(_,g){return this.viewport.convertToPdfPoint(_,g)}toggleLoadingIconSpinner(_=!1){this.loadingIconDiv?.classList.toggle("notVisible",!_)}draw(){var _=this;this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:t}=this;if(!t)return this.renderingState=u.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=u.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=g.style.width,r.style.height=g.style.height,r.classList.add("canvasWrapper"),this.annotationLayer?.div?g.insertBefore(r,this.annotationLayer.div):g.appendChild(r);let A=null;if(this.textLayerMode!==u.TextLayerMode.DISABLE&&this.textLayerFactory){const F=document.createElement("div");F.className="textLayer",F.style.width=r.style.width,F.style.height=r.style.height,this.annotationLayer?.div?g.insertBefore(F,this.annotationLayer.div):g.appendChild(F),A=this.textLayerFactory.createTextLayerBuilder(F,this.id-1,this.viewport,this.textLayerMode===u.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=A,Ae(this,h)!==d.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,t,null,this.imageResourcesPath,Ae(this,h)===d.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&g.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=F=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=u.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=u.RenderingStates.RUNNING,F()});F()});const y=function(){var F=m(function*(V=null){if(L===_.paintTask&&(_.paintTask=null),V instanceof d.RenderingCancelledException)_._renderError=null;else if(_._renderError=V,_.renderingState=u.RenderingStates.FINISHED,_.loadingIconDiv&&(_.loadingIconDiv.remove(),delete _.loadingIconDiv),_._resetZoomLayer(!0),_.eventBus.dispatch("pagerendered",{source:_,pageNumber:_.id,cssTransform:!1,timestamp:performance.now(),error:_._renderError}),V)throw V});return function(){return F.apply(this,arguments)}}(),L=this.renderer===u.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);L.onRenderContinue=b,this.paintTask=L;const R=L.promise.then(()=>y(null).then(()=>{if(A){const F=t.streamTextContent({includeMarkedContent:!0});A.setTextContentStream(F),A.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(F){return y(F)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(V=>{if(!V||!this.canvas)return;const z=this.structTreeLayer.render(V);z.classList.add("structTree"),this.canvas.appendChild(z)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}paintOnCanvas(_){const g=(0,d.createPromiseCapability)(),t={promise:g.promise,onRenderContinue(v){v()},cancel(){q.cancel()}},r=this.viewport,A=document.createElement("canvas");A.hidden=!0;let b=!0;const y=function(){b&&(A.hidden=!1,b=!1)};_.appendChild(A),this.canvas=A;const L=A.getContext("2d",{alpha:!1}),R=this.outputScale=new u.OutputScale;if(this.useOnlyCssZoom){const v=r.clone({scale:d.PixelsPerInch.PDF_TO_CSS_UNITS});R.sx*=v.width/r.width,R.sy*=v.height/r.height}if(this.maxCanvasPixels>0){const B=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));R.sx>B||R.sy>B?(R.sx=B,R.sy=B,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,u.approximateFraction)(R.sx),V=(0,u.approximateFraction)(R.sy);A.width=(0,u.roundToDivide)(r.width*R.sx,F[0]),A.height=(0,u.roundToDivide)(r.height*R.sy,V[0]),A.style.width=(0,u.roundToDivide)(r.width,F[1])+"px",A.style.height=(0,u.roundToDivide)(r.height,V[1])+"px",this.paintedViewportMap.set(A,r);const N={canvasContext:L,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,annotationMode:Ae(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},q=this.pdfPage.render(N);return q.onContinue=function(v){y(),t.onRenderContinue?t.onRenderContinue(v):v()},q.promise.then(function(){y(),g.resolve()},function(v){y(),g.reject(v)}),t}paintOnSvg(_){let g=!1;const t=()=>{if(g)throw new d.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,A=this.viewport.clone({scale:d.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:Ae(this,h)}).then(y=>(t(),new d.SVGGraphics(r.commonObjs,r.objs).getSVG(y,A).then(R=>{t(),this.svg=R,this.paintedViewportMap.set(R,A),R.style.width=_.style.width,R.style.height=_.style.height,this.renderingState=u.RenderingStates.FINISHED,_.appendChild(R)}))),onRenderContinue(y){y()},cancel(){g=!0}}}setPageLabel(_){this.pageLabel="string"==typeof _?_:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.compatibilityParams=c.OptionKind=c.AppOptions=void 0;const P=Object.create(null);c.compatibilityParams=P;{const n=navigator.userAgent||"",i=navigator.platform||"",h=navigator.maxTouchPoints||1,x=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===i&&h>1||x)&&(P.maxCanvasPixels=5242880)}const d={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};c.OptionKind=d;const u={annotationMode:{value:2,kind:d.VIEWER+d.PREFERENCE},cursorToolOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:d.VIEWER},defaultZoomValue:{value:"",kind:d.VIEWER+d.PREFERENCE},disableHistory:{value:!1,kind:d.VIEWER},disablePageLabels:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePermissions:{value:!1,kind:d.VIEWER+d.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:d.VIEWER+d.PREFERENCE},enableScripting:{value:!0,kind:d.VIEWER+d.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:d.VIEWER},externalLinkTarget:{value:0,kind:d.VIEWER+d.PREFERENCE},historyUpdateUrl:{value:!1,kind:d.VIEWER+d.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:d.VIEWER+d.PREFERENCE},imageResourcesPath:{value:"./images/",kind:d.VIEWER},maxCanvasPixels:{value:16777216,compatibility:P.maxCanvasPixels,kind:d.VIEWER},pageColorsBackground:{value:"Canvas",kind:d.VIEWER+d.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:d.VIEWER+d.PREFERENCE},pdfBugEnabled:{value:!1,kind:d.VIEWER+d.PREFERENCE},printResolution:{value:150,kind:d.VIEWER},renderer:{value:"canvas",kind:d.VIEWER},sidebarViewOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},scrollModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},spreadModeOnLoad:{value:-1,kind:d.VIEWER+d.PREFERENCE},textLayerMode:{value:1,kind:d.VIEWER+d.PREFERENCE},useOnlyCssZoom:{value:!1,kind:d.VIEWER+d.PREFERENCE},viewerCssTheme:{value:0,kind:d.VIEWER+d.PREFERENCE},viewOnLoad:{value:0,kind:d.VIEWER+d.PREFERENCE},cMapPacked:{value:!0,kind:d.API},cMapUrl:{value:"../web/cmaps/",kind:d.API},disableAutoFetch:{value:!1,kind:d.API+d.PREFERENCE},disableFontFace:{value:!1,kind:d.API+d.PREFERENCE},disableRange:{value:!1,kind:d.API+d.PREFERENCE},disableStream:{value:!1,kind:d.API+d.PREFERENCE},docBaseUrl:{value:"",kind:d.API},enableXfa:{value:!0,kind:d.API+d.PREFERENCE},fontExtraProperties:{value:!1,kind:d.API},isEvalSupported:{value:!0,kind:d.API},maxImageSize:{value:-1,kind:d.API},pdfBug:{value:!1,kind:d.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:d.API},verbosity:{value:1,kind:d.API},workerPort:{value:null,kind:d.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:d.WORKER}};u.disablePreferences={value:!1,kind:d.VIEWER},u.locale={value:navigator.language||"en-US",kind:d.VIEWER},u.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:d.VIEWER},u.renderer.kind+=d.PREFERENCE;const s=Object.create(null);c.AppOptions=class f{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(i){const h=s[i];if(void 0!==h)return h;const x=u[i];return void 0!==x?x.compatibility??x.value:void 0}static getAll(i=null){const h=Object.create(null);for(const x in u){const _=u[x];if(i){if(0==(i&_.kind))continue;if(i===d.PREFERENCE){const t=_.value,r=typeof t;if("boolean"===r||"string"===r||"number"===r&&Number.isInteger(t)){h[x]=t;continue}throw new Error(`Invalid type for preference: ${x}`)}}const g=s[x];h[x]=void 0!==g?g:_.compatibility??_.value}return h}static set(i,h){s[i]=h}static setAll(i){for(const h in i)s[h]=i[h]}static remove(i){delete s[i]}static _hasUserOptions(){return Object.keys(s).length>0}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFRenderingQueue=void 0;var d=P(3),u=P(6);c.PDFRenderingQueue=class f{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(i){this.pdfViewer=i}setThumbnailViewer(i){this.pdfThumbnailViewer=i}isHighestPriority(i){return this.highestPriorityPage===i.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(i){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(i)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(i,h,x,_=!1){const g=i.views,t=g.length;if(0===t)return null;for(let L=0;L<t;L++){const R=g[L].view;if(!this.isViewFinished(R))return R}const r=i.first.id,A=i.last.id;if(A-r+1>t){const L=i.ids;for(let R=1,F=A-r;R<F;R++){const V=x?r+R:A-R;if(L.has(V))continue;const z=h[V-1];if(!this.isViewFinished(z))return z}}let b=x?A:r-2,y=h[b];return y&&!this.isViewFinished(y)||_&&(b+=x?1:-1,y=h[b],y&&!this.isViewFinished(y))?y:null}isViewFinished(i){return i.renderingState===u.RenderingStates.FINISHED}renderView(i){switch(i.renderingState){case u.RenderingStates.FINISHED:return!1;case u.RenderingStates.PAUSED:this.highestPriorityPage=i.renderingId,i.resume();break;case u.RenderingStates.RUNNING:this.highestPriorityPage=i.renderingId;break;case u.RenderingStates.INITIAL:this.highestPriorityPage=i.renderingId,i.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof d.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextHighlighter=void 0,c.TextHighlighter=class P{constructor({findController:u,eventBus:s,pageIndex:f}){this.findController=u,this.matches=[],this.eventBus=s,this.pageIdx=f,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(u,s){this.textDivs=u,this.textContentItemsStr=s}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=u=>{(u.pageIndex===this.pageIdx||-1===u.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(u,s){if(!u)return[];const{textContentItemsStr:f}=this;let n=0,i=0;const h=f.length-1,x=[];for(let _=0,g=u.length;_<g;_++){let t=u[_];for(;n!==h&&t>=i+f[n].length;)i+=f[n].length,n++;n===f.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:n,offset:t-i}};for(t+=s[_];n!==h&&t>i+f[n].length;)i+=f[n].length,n++;r.end={divIdx:n,offset:t-i},x.push(r)}return x}_renderMatches(u){if(0===u.length)return;const{findController:s,pageIdx:f}=this,{textContentItemsStr:n,textDivs:i}=this,h=f===s.selected.pageIdx,x=s.selected.matchIdx;let g=null;function r(L,R){const F=L.divIdx;return i[F].textContent="",A(F,0,L.offset,R)}function A(L,R,F,V){let z=i[L];if(z.nodeType===Node.TEXT_NODE){const v=document.createElement("span");z.parentNode.insertBefore(v,z),v.appendChild(z),i[L]=v,z=v}const N=n[L].substring(R,F),q=document.createTextNode(N);if(V){const v=document.createElement("span");return v.className=`${V} appended`,v.appendChild(q),z.appendChild(v),V.includes("selected")?v.offsetLeft:0}return z.appendChild(q),0}let b=x,y=b+1;if(s.state.highlightAll)b=0,y=u.length;else if(!h)return;for(let L=b;L<y;L++){const R=u[L],F=R.begin,V=R.end,z=h&&L===x,N=z?" selected":"";let q=0;if(g&&F.divIdx===g.divIdx?A(g.divIdx,g.offset,F.offset):(null!==g&&A(g.divIdx,g.offset,undefined),r(F)),F.divIdx===V.divIdx)q=A(F.divIdx,F.offset,V.offset,"highlight"+N);else{q=A(F.divIdx,F.offset,undefined,"highlight begin"+N);for(let v=F.divIdx+1,B=V.divIdx;v<B;v++)i[v].className="highlight middle"+N;r(V,"highlight end"+N)}g=V,z&&s.scrollMatchIntoView({element:i[F.divIdx],selectedLeft:q,pageIndex:f,matchIndex:x})}g&&A(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:u,matches:s,pageIdx:f}=this,{textContentItemsStr:n,textDivs:i}=this;let h=-1;for(let g=0,t=s.length;g<t;g++){const r=s[g];for(let b=Math.max(h,r.begin.divIdx),y=r.end.divIdx;b<=y;b++){const L=i[b];L.textContent=n[b],L.className=""}h=r.end.divIdx+1}u?.highlightMatches&&(this.matches=this._convertMatches(u.pageMatches[f]||null,u.pageMatchesLength[f]||null),this._renderMatches(this.matches))}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DownloadManager=void 0;var d=P(3);function u(f,n){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=f,i.target="_parent","download"in i&&(i.download=n),(document.body||document.documentElement).appendChild(i),i.click(),i.remove()}c.DownloadManager=class s{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,i){(0,d.createValidAbsoluteUrl)(n,"http://example.com")?u(n+"#pdfjs.action=download",i):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,i,h){u(URL.createObjectURL(new Blob([n],{type:h})),i)}openOrDownloadData(n,i,h){const x=(0,d.isPdfFile)(h),_=x?"application/pdf":"";if(x){let t,g=this._openBlobUrls.get(n);g||(g=URL.createObjectURL(new Blob([i],{type:_})),this._openBlobUrls.set(n,g)),t="?file="+encodeURIComponent(g+"#"+h);try{return window.open(t),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(n)}}return this.downloadData(i,h,_),!1}download(n,i,h,x="download"){u(URL.createObjectURL(n),h)}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WaitOnType=c.EventBus=c.AutomationEventBus=void 0,c.waitOnEventOrTimeout=function d({target:f,name:n,delay:i=0}){return new Promise(function(h,x){if("object"!=typeof f||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function _(A){f instanceof u?f._off(n,g):f.removeEventListener(n,g),r&&clearTimeout(r),h(A)}const g=_.bind(null,P.EVENT);f instanceof u?f._on(n,g):f.addEventListener(n,g);const t=_.bind(null,P.TIMEOUT),r=setTimeout(t,i)})};const P={EVENT:"event",TIMEOUT:"timeout"};c.WaitOnType=P;class u{constructor(){this._listeners=Object.create(null)}on(n,i,h=null){this._on(n,i,{external:!0,once:h?.once})}off(n,i,h=null){this._off(n,i,{external:!0,once:h?.once})}dispatch(n,i){const h=this._listeners[n];if(!h||0===h.length)return;let x;for(const{listener:_,external:g,once:t}of h.slice(0))t&&this._off(n,_),g?(x||(x=[])).push(_):_(i);if(x){for(const _ of x)_(i);x=null}}_on(n,i,h=null){var _;((_=this._listeners)[n]||(_[n]=[])).push({listener:i,external:!0===h?.external,once:!0===h?.once})}_off(n,i,h=null){const x=this._listeners[n];if(x)for(let _=0,g=x.length;_<g;_++)if(x[_].listener===i)return void x.splice(_,1)}}c.EventBus=u,c.AutomationEventBus=class s extends u{dispatch(n,i){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericL10n=void 0,P(19);var d=P(4);const u=document.webL10n;c.GenericL10n=class s{constructor(n){this._lang=n,this._ready=new Promise((i,h)=>{u.setLanguage((0,d.fixupLangCode)(n),()=>{i(u)})})}getLanguage(){var n=this;return m(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return m(function*(){return(yield n._ready).getDirection()})()}get(n,i=null,h=(0,d.getL10nFallback)(n,i)){var x=this;return m(function*(){return(yield x._ready).get(n,i,h)})()}translate(n){var i=this;return m(function*(){return(yield i._ready).translate(n)})()}}},()=>{document.webL10n=function(k,c,P){var d={},u="",s="textContent",f="",n={},i="loading";function r(v,B,j){B=B||function(T){},j=j||function(){};var K=new XMLHttpRequest;K.open("GET",v,!0),K.overrideMimeType&&K.overrideMimeType("text/plain; charset=utf-8"),K.onreadystatechange=function(){4==K.readyState&&(200==K.status||0===K.status?B(K.responseText):j())},K.onerror=j,K.ontimeout=j;try{K.send(null)}catch{j()}}function b(v,B){v&&(v=v.toLowerCase()),B=B||function(){},function y(){d={},u="",f=""}(),f=v;var j=function x(){return c.querySelectorAll('link[type="application/l10n"]')}(),K=j.length;if(0!==K){var l,e=0;l=function(){++e>=K&&(B(),i="complete")};for(var p=0;p<K;p++)new o(j[p]).load(v,l)}else{var re=function _(){var v=c.querySelector('script[type="application/l10n"]');return v?JSON.parse(v.innerHTML):null}();if(re&&re.locales&&re.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(d=re.locales[v])){var T=re.default_locale.toLowerCase();for(var a in re.locales){if((a=a.toLowerCase())===v){d=re.locales[v];break}a===T&&(d=re.locales[T])}}B()}else console.log("no resource to load, early way out");i="complete"}function o(C){var E=C.href;this.load=function(U,G){!function A(v,B,j,K){var re=v.replace(/[^\/]*$/,"")||"./";function T(l){return l.lastIndexOf("\\")<0?l:l.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(v,function(l){u+=l,function a(l,e){var o={},p=/^\s*|\s*$/,w=/^\s*#|^\s*$/,C=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,U=/^([^=\s]*)\s*=\s*(.+)$/;function G(X,Y,ee){var ce=X.replace(p,"").split(/[\r\n]+/),be="*",J=B.split("-",1)[0],se=!1,ie="";!function S(){for(;;){if(!ce.length)return void ee();var I=ce.shift();if(!w.test(I)){if(Y){if(ie=C.exec(I)){be=ie[1].toLowerCase(),se="*"!==be&&be!==B&&be!==J;continue}if(se)continue;if(ie=E.exec(I))return void W(re+ie[1],S)}var $=I.match(U);$&&3==$.length&&(o[$[1]]=T($[2]))}}}()}function W(X,Y){r(X,function(ee){G(ee,!1,Y)},function(){console.warn(X+" not found."),Y()})}G(l,!0,function(){e(o)})}(l,function(e){for(var o in e){var p,w,C=o.lastIndexOf(".");C>0?(p=o.substring(0,C),w=o.substring(C+1)):(p=o,w=s),d[p]||(d[p]={}),d[p][w]=e[o]}j&&j()})},K)}(E,U,G,function(){console.warn(E+" not found."),console.warn('"'+U+'" resource not found'),f="",G()})}}}function R(v,B,j){var K=d[v];if(!K){if(console.warn("#"+v+" is undefined."),!j)return null;K=j}var re={};for(var T in K){var a=K[T];a=V(a=F(a,B,v,T),B,v),re[T]=a}return re}function F(v,B,j,K){var T=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(v);if(!T||!T.length)return v;var e,a=T[1],l=T[2];return B&&l in B?e=B[l]:l in d&&(e=d[l]),a in n&&(v=(0,n[a])(v,e,j,K)),v}function V(v,B,j){return v.replace(/\{\{\s*(.+?)\s*\}\}/g,function(re,T){return B&&T in B?B[T]:T in d?d[T]:(console.log("argument {{"+T+"}} for #"+j+" is undefined."),re)})}function z(v){var B=function t(v){if(!v)return{};var B=v.getAttribute("data-l10n-id"),j=v.getAttribute("data-l10n-args"),K={};if(j)try{K=JSON.parse(j)}catch{console.warn("could not parse arguments for #"+B)}return{id:B,args:K}}(v);if(B.id){var j=R(B.id,B.args);if(!j)return void console.warn("#"+B.id+" is undefined.");if(j[s]){if(0===function N(v){if(v.children)return v.children.length;if(typeof v.childElementCount<"u")return v.childElementCount;for(var B=0,j=0;j<v.childNodes.length;j++)B+=1===v.nodeType?1:0;return B}(v))v[s]=j[s];else{for(var K=v.childNodes,re=!1,T=0,a=K.length;T<a;T++)3===K[T].nodeType&&/\S/.test(K[T].nodeValue)&&(re?K[T].nodeValue="":(K[T].nodeValue=j[s],re=!0));if(!re){var l=c.createTextNode(j[s]);v.insertBefore(l,v.firstChild)}}delete j[s]}for(var e in j)v[e]=j[e]}}return n.plural=function(v,B,j,K){var re=parseFloat(B);if(isNaN(re)||K!=s)return v;n._pluralRules||(n._pluralRules=function L(v){function j(a,l){return-1!==l.indexOf(a)}function K(a,l,e){return l<=a&&a<=e}var re={0:function(a){return"other"},1:function(a){return K(a%100,3,10)?"few":0===a?"zero":K(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return K(a,0,1)?"one":"other"},5:function(a){return K(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return K(a,3,6)?"few":K(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&K(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return K(a%10,2,9)&&!K(a%100,11,19)?"few":a%10!=1||K(a%100,11,19)?"other":"one"},11:function(a){return K(a%10,2,4)&&!K(a%100,12,14)?"few":a%10==0||K(a%10,5,9)||K(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return K(a,2,4)?"few":1==a?"one":"other"},13:function(a){return K(a%10,2,4)&&!K(a%100,12,14)?"few":1!=a&&K(a%10,0,1)||K(a%10,5,9)||K(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return K(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||K(a%100,2,10)?"few":K(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":K(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return K(a,2,10)?"few":K(a,0,1)?"one":"other"},20:function(a){return!K(a%10,3,4)&&a%10!=9||K(a%100,10,19)||K(a%100,70,79)||K(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||j(a%100,[12,72,92])?a%10!=1||j(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return K(a,0,1)||K(a,11,99)?"one":"other"},23:function(a){return K(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return K(a,3,10)||K(a,13,19)?"few":j(a,[2,12])?"two":j(a,[1,11])?"one":"other"}},T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[v.replace(/-.*$/,"")];return T in re?re[T]:(console.warn("plural form unknown for ["+v+"]"),function(){return"other"})}(f));var T="["+n._pluralRules(re)+"]";return 0===re&&j+"[zero]"in d?v=d[j+"[zero]"][K]:1==re&&j+"[one]"in d?v=d[j+"[one]"][K]:2==re&&j+"[two]"in d?v=d[j+"[two]"][K]:j+T in d?v=d[j+T][K]:j+"[other]"in d&&(v=d[j+"[other]"][K]),v},{get:function(v,B,j){var T,K=v.lastIndexOf("."),re=s;K>0&&(re=v.substring(K+1),v=v.substring(0,K)),j&&((T={})[re]=j);var a=R(v,B,T);return a&&re in a?a[re]:"{{"+v+"}}"},getData:function(){return d},getText:function(){return u},getLanguage:function(){return f},setLanguage:function(v,B){b(v,function(){B&&B()})},getDirection:function(){var B=f.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(B)>=0?"rtl":"ltr"},translate:function q(v){for(var B=function g(v){return v?v.querySelectorAll("*[data-l10n-id]"):[]}(v=v||c.documentElement),j=B.length,K=0;K<j;K++)z(B[K]);z(v)},getReadyState:function(){return i},ready:function(v){v&&("complete"==i||"interactive"==i?k.setTimeout(function(){v()}):c.addEventListener&&c.addEventListener("localized",function B(){c.removeEventListener("localized",B),v()}))}}}(window,document)},(k,c,P)=>{var V,mt,N,nt,v,it,j,bt,re,At,a,yt,e,rt,p,vt,C,St,U,Xe,W,He,Y,Ue,ce,Ct,J,st,ie,at,I,$e,pe,Pt,ue,ot,_e,wt,Pe,Ge;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFindController=c.FindState=void 0;var d=P(6),u=P(3),s=P(21);const f={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};c.FindState=f;const x={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},_=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[..._.values()].map(Z=>String.fromCharCode(Z)).join(""),t=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,A=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let y=null;function L(Z){if(!y){const xe=Object.keys(x).join("");y=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let D;for(;null!==(D=t.exec(Z));)O.push([D[0].length,D.index]);let ae=Z.normalize("NFD");const le=[[0,0]];let fe=0,ge=0,Ce=0,we=0,Me=!1;return ae=ae.replace(y,(xe,Re,ke,Be,Le,Fe)=>{if(Fe-=Ce,Re){const Oe=x[xe],Ne=Oe.length;for(let De=1;De<Ne;De++)le.push([Fe-ge+De,ge-De]);return ge-=Ne-1,Oe}if(ke){const Oe=ke.endsWith("\n"),Ne=Oe?ke.length-2:ke.length;Me=!0;let De=Ne;Fe+we===O[fe]?.[1]&&(De-=O[fe][0],++fe);for(let Ve=1;Ve<De+1;Ve++)le.push([Fe-1-ge+Ve,ge-Ve]);return ge-=De,Ce+=De,Oe?(le.push([(Fe+=Ne-1)-ge+1,1+ge]),ge+=1,Ce+=1,we+=1,ke.slice(0,Ne)):ke}return Be?(le.push([Fe-ge+1,1+ge]),ge+=1,Ce+=1,we+=1,Be.charAt(0)):(le.push([Fe-ge+1,ge-1]),ge-=1,Ce+=1,we+=1," ")}),le.push([ae.length,ge]),[ae,le,Me]}function R(Z,O,D){if(!Z)return[O,D];const ae=O,le=O+D;let fe=(0,d.binarySearchFirstItem)(Z,Ce=>Ce[0]>=ae);Z[fe][0]>ae&&--fe;let ge=(0,d.binarySearchFirstItem)(Z,Ce=>Ce[0]>=le,fe);return Z[ge][0]>le&&--ge,[ae+Z[fe][1],D+Z[ge][1]-Z[fe][1]]}V=new WeakSet,mt=function(O){if(!O)return;const D=this._pdfDocument,{type:ae}=O;(null===this._state||ye(this,j,bt).call(this,O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==ae&&ye(this,Pe,Ge).call(this,f.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||D&&this._pdfDocument!==D)return;ye(this,C,St).call(this);const le=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ae?this._dirtyMatch?ye(this,Y,Ue).call(this):"again"===ae?(ye(this,Y,Ue).call(this),le&&this._state.highlightAll&&ye(this,W,He).call(this)):"highlightallchange"===ae?(fe?ye(this,Y,Ue).call(this):this._highlightMatches=!0,ye(this,W,He).call(this)):ye(this,Y,Ue).call(this):this._findTimeout=setTimeout(()=>{ye(this,Y,Ue).call(this),this._findTimeout=null},250)})},N=new WeakSet,nt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,u.createPromiseCapability)()},v=new WeakSet,it=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=L(this._state.query)),this._normalizedQuery},j=new WeakSet,bt=function(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const D=this._selected.pageIdx+1,ae=this._linkService;return D>=1&&D<=ae.pagesCount&&D!==ae.page&&!ae.isPageVisible(D);case"highlightallchange":return!1}return!0},re=new WeakSet,At=function(O,D,ae){let le=O.slice(0,D).match(A);if(le){const fe=O.charCodeAt(D),ge=le[1].charCodeAt(0);if((0,s.getCharacterType)(fe)===(0,s.getCharacterType)(ge))return!1}if(le=O.slice(D+ae).match(b),le){const fe=O.charCodeAt(D+ae-1),ge=le[1].charCodeAt(0);if((0,s.getCharacterType)(fe)===(0,s.getCharacterType)(ge))return!1}return!0},a=new WeakSet,yt=function(O,D,ae,le){const fe=[],ge=[],Ce=this._pageDiffs[ae];let we;for(;null!==(we=O.exec(le));){if(D&&!ye(this,re,At).call(this,le,we.index,we[0].length))continue;const[Me,xe]=R(Ce,we.index,we[0].length);xe&&(fe.push(Me),ge.push(xe))}this._pageMatches[ae]=fe,this._pageMatchesLength[ae]=ge},e=new WeakSet,rt=function(O,D){const{matchDiacritics:ae}=this._state;let le=!1;return(O=O.replace(r,(ge,Ce,we,Me,xe,Re)=>Ce?`[ ]*\\${Ce}[ ]*`:we?`[ ]*${we}[ ]*`:Me?"[ ]+":ae?xe||Re:xe?_.has(xe.charCodeAt(0))?xe:"":D?(le=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(O=O.slice(0,O.length-"[ ]*".length)),ae&&D&&(le=!0,O=`${O}(?=[${g}]|[^\\p{M}]|$)`),[le,O]},p=new WeakSet,vt=function(O){let D=Ae(this,v,it);if(0===D.length)return;const{caseSensitive:ae,entireWord:le,phraseSearch:fe}=this._state,ge=this._pageContents[O],Ce=this._hasDiacritics[O];let we=!1;if(fe)[we,D]=ye(this,e,rt).call(this,D,Ce);else{const Re=D.match(/\S+/g);Re&&(D=Re.sort().reverse().map(ke=>{const[Be,Le]=ye(this,e,rt).call(this,ke,Ce);return we||(we=Be),`(${Le})`}).join("|"))}D=new RegExp(D,`g${we?"u":""}${ae?"":"i"}`),ye(this,a,yt).call(this,D,le,O,ge),this._state.highlightAll&&ye(this,U,Xe).call(this,O),this._resumePageIdx===O&&(this._resumePageIdx=null,ye(this,J,st).call(this));const xe=this._pageMatches[O].length;xe>0&&(this._matchesCountTotal+=xe,ye(this,_e,wt).call(this))},C=new WeakSet,St=function(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let D=0,ae=this._linkService.pagesCount;D<ae;D++){const le=(0,u.createPromiseCapability)();this._extractTextPromises[D]=le.promise,O=O.then(()=>this._pdfDocument.getPage(D+1).then(fe=>fe.getTextContent()).then(fe=>{const ge=[];for(const Ce of fe.items)ge.push(Ce.str),Ce.hasEOL&&ge.push("\n");[this._pageContents[D],this._pageDiffs[D],this._hasDiacritics[D]]=L(ge.join("")),le.resolve()},fe=>{console.error(`Unable to get text content for page ${D+1}`,fe),this._pageContents[D]="",this._pageDiffs[D]=null,this._hasDiacritics[D]=!1,le.resolve()}))}},U=new WeakSet,Xe=function(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})},W=new WeakSet,He=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Y=new WeakSet,Ue=function(){const O=this._state.findPrevious,D=this._linkService.page-1,ae=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=D,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ye(this,W,He).call(this);for(let fe=0;fe<ae;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),ye(this,p,vt).call(this,fe)}))}if(""===Ae(this,v,it))return void ye(this,Pe,Ge).call(this,f.FOUND);if(this._resumePageIdx)return;const le=this._offset;if(this._pagesToSearch=ae,null!==le.matchIdx){const fe=this._pageMatches[le.pageIdx].length;if(!O&&le.matchIdx+1<fe||O&&le.matchIdx>0)return le.matchIdx=O?le.matchIdx-1:le.matchIdx+1,void ye(this,I,$e).call(this,!0);ye(this,ie,at).call(this,O)}ye(this,J,st).call(this)},ce=new WeakSet,Ct=function(O){const D=this._offset,ae=O.length,le=this._state.findPrevious;return ae?(D.matchIdx=le?ae-1:0,ye(this,I,$e).call(this,!0),!0):(ye(this,ie,at).call(this,le),!!(D.wrapped&&(D.matchIdx=null,this._pagesToSearch<0))&&(ye(this,I,$e).call(this,!1),!0))},J=new WeakSet,st=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const D=this._offset.pageIdx;if(O=this._pageMatches[D],!O){this._resumePageIdx=D;break}}while(!ye(this,ce,Ct).call(this,O))},ie=new WeakSet,at=function(O){const D=this._offset,ae=this._linkService.pagesCount;D.pageIdx=O?D.pageIdx-1:D.pageIdx+1,D.matchIdx=null,this._pagesToSearch--,(D.pageIdx>=ae||D.pageIdx<0)&&(D.pageIdx=O?ae-1:0,D.wrapped=!0)},I=new WeakSet,$e=function(O=!1){let D=f.NOT_FOUND;const ae=this._offset.wrapped;if(this._offset.wrapped=!1,O){const le=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,D=ae?f.WRAPPED:f.FOUND,-1!==le&&le!==this._selected.pageIdx&&ye(this,U,Xe).call(this,le)}ye(this,Pe,Ge).call(this,D,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ye(this,U,Xe).call(this,this._selected.pageIdx))},pe=new WeakSet,Pt=function(O){const D=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||D&&this._pdfDocument!==D||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ye(this,Pe,Ge).call(this,f.FOUND),this._highlightMatches=!1,ye(this,W,He).call(this))})},ue=new WeakSet,ot=function(){const{pageIdx:O,matchIdx:D}=this._selected;let ae=0,le=this._matchesCountTotal;if(-1!==D){for(let fe=0;fe<O;fe++)ae+=this._pageMatches[fe]?.length||0;ae+=D+1}return(ae<1||ae>le)&&(ae=le=0),{current:ae,total:le}},_e=new WeakSet,wt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ye(this,ue,ot).call(this)})},Pe=new WeakSet,Ge=function(O,D=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:D,matchesCount:ye(this,ue,ot).call(this),rawQuery:this._state?.query??null})},c.PDFFindController=class F{constructor({linkService:O,eventBus:D}){ve(this,V),ve(this,N),ve(this,v),ve(this,j),ve(this,re),ve(this,a),ve(this,e),ve(this,p),ve(this,C),ve(this,U),ve(this,W),ve(this,Y),ve(this,ce),ve(this,J),ve(this,ie),ve(this,I),ve(this,pe),ve(this,ue),ve(this,_e),ve(this,Pe),this._linkService=O,this._eventBus=D,ye(this,N,nt).call(this),D._on("find",ye(this,V,mt).bind(this)),D._on("findbarclose",ye(this,pe,Pt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&ye(this,N,nt).call(this),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}scrollMatchIntoView({element:O=null,selectedLeft:D=0,pageIndex:ae=-1,matchIndex:le=-1}){this._scrollMatches&&O&&-1!==le&&le===this._selected.matchIdx&&-1!==ae&&ae===this._selected.pageIdx&&(this._scrollMatches=!1,(0,d.scrollIntoView)(O,{top:-50,left:D+-400},!0))}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterType=void 0,c.getCharacterType=function t(r){return function d(r){return r<11904}(r)?function u(r){return 0==(65408&r)}(r)?function n(r){return 32===r||9===r||13===r||10===r}(r)?P.SPACE:function s(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function f(r){return r>=48&&r<=57}(r)||95===r?P.ALPHA_LETTER:P.PUNCT:function g(r){return 3584==(65408&r)}(r)?P.THAI_LETTER:160===r?P.SPACE:P.ALPHA_LETTER:function i(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?P.HAN_LETTER:function h(r){return r>=12448&&r<=12543}(r)?P.KATAKANA_LETTER:function x(r){return r>=12352&&r<=12447}(r)?P.HIRAGANA_LETTER:function _(r){return r>=65376&&r<=65439}(r)?P.HALFWIDTH_KATAKANA_LETTER:P.ALPHA_LETTER};const P={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};c.CharacterType=P},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFHistory=void 0,c.isDestArraysEqual=_,c.isDestHashesEqual=x;var d=P(6),u=P(17);function i(){return document.location.hash}function x(g,t){return"string"==typeof g&&"string"==typeof t&&(g===t||(0,d.parseQueryString)(g).get("nameddest")===t)}function _(g,t){function r(A,b){if(typeof A!=typeof b||Array.isArray(A)||Array.isArray(b))return!1;if(null!==A&&"object"==typeof A&&null!==b){if(Object.keys(A).length!==Object.keys(b).length)return!1;for(const y in A)if(!r(A[y],b[y]))return!1;return!0}return A===b||Number.isNaN(A)&&Number.isNaN(b)}if(!Array.isArray(g)||!Array.isArray(t)||g.length!==t.length)return!1;for(let A=0,b=g.length;A<b;A++)if(!r(g[A],t[A]))return!1;return!0}c.PDFHistory=class h{constructor({linkService:t,eventBus:r}){this.linkService=t,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",A=>{this._isPagesLoaded=!!A.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:r=!1,updateUrl:A=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===A,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||r){const{hash:R,page:F,rotation:V}=this._parseCurrentHash(!0);return!R||b||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:R,page:F,rotation:V},!0)}const L=y.destination;this._updateInternalState(L,y.uid,!0),void 0!==L.rotation&&(this._initialRotation=L.rotation),L.dest?(this._initialBookmark=JSON.stringify(L.dest),this._destination.page=null):L.hash?this._initialBookmark=L.hash:L.page&&(this._initialBookmark=`page=${L.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:r,pageNumber:A}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(A)&&(null!==A||this._destination))return void console.error(`PDFHistory.push: "${A}" is not a valid pageNumber parameter.`);const b=t||JSON.stringify(r);if(!b)return;let y=!1;if(this._destination&&(x(this._destination.hash,b)||_(this._destination.dest,r))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:r,hash:b,page:A,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);this._destination?.page!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,r=!1){const A=r||!this._destination,b={fingerprint:this._fingerprint,uid:A?this._uid:this._uid+1,destination:t};let y;if(this._updateInternalState(t,b.uid),this._updateUrl&&t?.hash){const L=document.location.href.split("#")[0];L.startsWith("file://")||(y=`${L}#${t.hash}`)}A?window.history.replaceState(b,"",y):window.history.pushState(b,"",y)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let r=this._position;if(t&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let A=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;A=!0}this._pushOrReplaceState(r,A)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,r=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[A]=performance.getEntriesByType("navigation");if("reload"!==A?.type)return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,r,A=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),A&&t?.temporary&&delete t.temporary,this._destination=t,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const r=unescape(i()).substring(1),A=(0,d.parseQueryString)(r),b=A.get("nameddest")||"";let y=0|A.get("page");return(!this._isValidPage(y)||t&&b.length>0)&&(y=null),{hash:r,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const r=i(),A=this._currentHash!==r;if(this._currentHash=r,!t){this._uid++;const{hash:y,page:L,rotation:R}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:y,page:L,rotation:R},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,A&&(this._blockHashChange++,(0,u.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=t.destination;this._updateInternalState(b,t.uid,!0),(0,d.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var d=P(6),u=P(3);c.PDFScriptingManager=class s{constructor({eventBus:n,sandboxBundleSrc:i=null,scriptingFactory:h=null,docPropertiesLookup:x=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=i,this._scriptingFactory=h,this._docPropertiesLookup=x,this._scriptingFactory||window.addEventListener("updatefromsandbox",_=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:_.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var i=this;return m(function*(){if(i._pdfDocument&&(yield i._destroyScripting()),i._pdfDocument=n,!n)return;const[h,x,_]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(h||_){if(n===i._pdfDocument){try{i._scripting=i._createScripting()}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield i._destroyScripting())}i._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&i._updateFromSandbox(g.detail)}),i._internalEvents.set("dispatcheventinsandbox",g=>{i._scripting?.dispatchEventInSandbox(g.detail)}),i._internalEvents.set("pagechanging",({pageNumber:g,previous:t})=>{g!==t&&(i._dispatchPageClose(t),i._dispatchPageOpen(g))}),i._internalEvents.set("pagerendered",({pageNumber:g})=>{!i._pageOpenPending.has(g)||g===i._pdfViewer.currentPageNumber&&i._dispatchPageOpen(g)}),i._internalEvents.set("pagesdestroy",function(){var g=m(function*(t){yield i._dispatchPageClose(i._pdfViewer.currentPageNumber),yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),i._closeCapability?.resolve()});return function(t){return g.apply(this,arguments)}}()),i._domEvents.set("mousedown",g=>{i._mouseState.isDown=!0}),i._domEvents.set("mouseup",g=>{i._mouseState.isDown=!1});for(const[g,t]of i._internalEvents)i._eventBus._on(g,t);for(const[g,t]of i._domEvents)window.addEventListener(g,t,!0);try{const g=yield i._getDocProperties();if(n!==i._pdfDocument)return;yield i._scripting.createSandbox({objects:h,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:_}}),i._eventBus.dispatch("sandboxcreated",{source:i})}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield i._destroyScripting())}yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield i._dispatchPageOpen(i._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===i._pdfDocument&&(i._ready=!0)})}}else yield i._destroyScripting()})()}dispatchWillSave(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,u.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,u.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,u.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,u.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var i=this;return m(function*(){const h=i._pdfViewer.isInPresentationMode||i._pdfViewer.isChangingPresentationMode,{id:x,siblings:_,command:g,value:t}=n;if(!x){switch(g){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(h)return;const A=(0,d.apiPageLayoutToViewerModes)(t);i._pdfViewer.spreadMode=A.spreadMode;break;case"page-num":i._pdfViewer.currentPageNumber=t+1;break;case"print":yield i._pdfViewer.pagesPromise,i._eventBus.dispatch("print",{source:i});break;case"println":console.log(t);break;case"zoom":if(h)return;i._pdfViewer.currentScaleValue=t;break;case"SaveAs":i._eventBus.dispatch("save",{source:i});break;case"FirstPage":i._pdfViewer.currentPageNumber=1;break;case"LastPage":i._pdfViewer.currentPageNumber=i._pdfViewer.pagesCount;break;case"NextPage":i._pdfViewer.nextPage();break;case"PrevPage":i._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;i._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;i._pdfViewer.decreaseScale()}return}if(h&&n.focus)return;delete n.id,delete n.siblings;const r=_?[x,..._]:[x];for(const A of r){const b=document.getElementById(A);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):i._pdfDocument?.annotationStorage.setValue(A,n)}})()}_dispatchPageOpen(n,i=!1){var h=this;return m(function*(){const x=h._pdfDocument,_=h._visitedPages;if(i&&(h._closeCapability=(0,u.createPromiseCapability)()),!h._closeCapability)return;const g=h._pdfViewer.getPageView(n-1);if(g?.renderingState!==d.RenderingStates.FINISHED)return void h._pageOpenPending.add(n);h._pageOpenPending.delete(n);const t=m(function*(){const r=yield _.has(n)?null:g.pdfPage?.getJSActions();x===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:r}))})();_.set(n,t)})()}_dispatchPageClose(n){var i=this;return m(function*(){const h=i._pdfDocument,x=i._visitedPages;if(!i._closeCapability||i._pageOpenPending.has(n))return;const _=x.get(n);!_||(x.set(n,null),yield _,h===i._pdfDocument&&(yield i._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return m(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:i}=P(24);return i(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,u.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=P(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return m(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(i=>{setTimeout(i,1e3)})]).catch(i=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[i,h]of n._internalEvents)n._eventBus._off(i,h);n._internalEvents.clear();for(const[i,h]of n._domEvents)window.removeEventListener(i,h,!0);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericScripting=void 0,c.docPropertiesLookup=function u(n){return s.apply(this,arguments)};var d=P(3);function s(){return(s=m(function*(n){const h="".split("#")[0];let{info:x,metadata:_,contentDispositionFilename:g,contentLength:t}=yield n.getMetadata();if(!t){const{length:r}=yield n.getDownloadInfo();t=r}return{...x,baseURL:h,filesize:t,filename:g||(0,d.getPdfFilenameFromUrl)(""),metadata:_?.getRaw(),authors:_?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}c.GenericScripting=class f{constructor(i){this._ready=(0,d.loadScript)(i,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(i){var h=this;return m(function*(){(yield h._ready).create(i)})()}dispatchEventInSandbox(i){var h=this;return m(function*(){const x=yield h._ready;setTimeout(()=>x.dispatchEvent(i),0)})()}destroySandbox(){var i=this;return m(function*(){(yield i._ready).nukeSandbox()})()}}}],ne={};function H(k){var c=ne[k];if(void 0!==c)return c.exports;var P=ne[k]={exports:{}};return oe[k](P,P.exports,H),P.exports}var Q={};return(()=>{var k=Q;Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return s.AnnotationLayerBuilder}}),Object.defineProperty(k,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return c.DefaultAnnotationLayerFactory}}),Object.defineProperty(k,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return c.DefaultStructTreeLayerFactory}}),Object.defineProperty(k,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return c.DefaultTextLayerFactory}}),Object.defineProperty(k,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return c.DefaultXfaLayerFactory}}),Object.defineProperty(k,"DownloadManager",{enumerable:!0,get:function(){return f.DownloadManager}}),Object.defineProperty(k,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(k,"GenericL10n",{enumerable:!0,get:function(){return i.GenericL10n}}),Object.defineProperty(k,"LinkTarget",{enumerable:!0,get:function(){return P.LinkTarget}}),Object.defineProperty(k,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(k,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(k,"PDFHistory",{enumerable:!0,get:function(){return _.PDFHistory}}),Object.defineProperty(k,"PDFLinkService",{enumerable:!0,get:function(){return P.PDFLinkService}}),Object.defineProperty(k,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(k,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(k,"PDFSinglePageViewer",{enumerable:!0,get:function(){return u.PDFSinglePageViewer}}),Object.defineProperty(k,"PDFViewer",{enumerable:!0,get:function(){return u.PDFViewer}}),Object.defineProperty(k,"ProgressBar",{enumerable:!0,get:function(){return d.ProgressBar}}),Object.defineProperty(k,"SimpleLinkService",{enumerable:!0,get:function(){return P.SimpleLinkService}}),Object.defineProperty(k,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(k,"TextLayerBuilder",{enumerable:!0,get:function(){return A.TextLayerBuilder}}),Object.defineProperty(k,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(k,"parseQueryString",{enumerable:!0,get:function(){return d.parseQueryString}});var c=H(1),P=H(5),d=H(6),u=H(10),s=H(2),f=H(16),n=H(17),i=H(18),h=H(4),x=H(20),_=H(22),g=H(12),t=H(23),r=H(7),A=H(8),b=H(9)})(),Q})(),he.exports=H()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:he=>{function M(m,oe,ne,H,Q,k,c){try{var P=m[k](c),d=P.value}catch(u){return void ne(u)}P.done?oe(d):Promise.resolve(d).then(H,Q)}he.exports=function te(m){return function(){var oe=this,ne=arguments;return new Promise(function(H,Q){var k=m.apply(oe,ne);function c(d){M(k,H,Q,c,P,"next",d)}function P(d){M(k,H,Q,c,P,"throw",d)}c(void 0)})}},he.exports.__esModule=!0,he.exports.default=he.exports}}]);