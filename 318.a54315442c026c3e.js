var xt=Object.defineProperty,Et=(he,M,ee)=>M in he?xt(he,M,{enumerable:!0,configurable:!0,writable:!0,value:ee}):he[M]=ee,ze=(he,M,ee)=>(Et(he,"symbol"!=typeof M?M+"":M,ee),ee),Qe=(he,M,ee)=>{if(!M.has(he))throw TypeError("Cannot "+ee)},Ae=(he,M,ee)=>(Qe(he,M,"read from private field"),ee?ee.call(he):M.get(he)),ve=(he,M,ee)=>{if(M.has(he))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(he):M.set(he,ee)},Te=(he,M,ee,m)=>(Qe(he,M,"write to private field"),m?m.call(he,ee):M.set(he,ee),ee),lt=(he,M,ee,m)=>({set _(oe){Te(he,M,oe,ee)},get _(){return Ae(he,M,m)}}),ye=(he,M,ee)=>(Qe(he,M,"access private method"),ee);(self.webpackChunkpparce_portfolio=self.webpackChunkpparce_portfolio||[]).push([[318],{2318:(he,M,ee)=>{"use strict";ee.r(M),ee.d(M,{CurriculumModule:()=>V});var m=ee(6895),oe=ee(1779),ie=ee(4327),W=ee(4650),K=ee(2636),k=ee(4968),c=ee(7579),P=ee(8996),f=ee(2722),u=ee(4986),r=ee(4482),_=ee(5403),i=ee(9300),h=ee(6036),x=ee.t(h,2),p=ee(2813),g=ee.t(p,2);const t=["pdfViewerContainer"];function b(N,G,T){N[G]=T}function y(){return typeof window>"u"}y()||b(x,"verbosity",h.VerbosityLevel.INFOS);var L=(()=>{return(N=L||(L={}))[N.DISABLED=0]="DISABLED",N[N.ENABLED=1]="ENABLED",N[N.ENHANCED=2]="ENHANCED",L;var N})();let R=(()=>{class N{constructor(T,z){if(this.element=T,this.ngZone=z,this.isVisible=!1,this._cMapsUrl=typeof x<"u"?`https://unpkg.com/pdfjs-dist@${h.version}/cmaps/`:null,this._imageResourcesPath=typeof x<"u"?`https://unpkg.com/pdfjs-dist@${h.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=L.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new c.x,this.afterLoadComplete=new W.vpe,this.pageRendered=new W.vpe,this.pageInitialized=new W.vpe,this.textLayerRendered=new W.vpe,this.onError=new W.vpe,this.onProgress=new W.vpe,this.pageChange=new W.vpe(!0),y())return;let v;v=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${h.version}/legacy/build/pdf.worker.min.js`,b(h.GlobalWorkerOptions,"workerSrc",v)}set cMapsUrl(T){this._cMapsUrl=T}set page(T){const z=T=parseInt(T,10)||1;this._pdf&&(T=this.getValidPageNumber(T)),this._page=T,z!==T&&this.pageChange.emit(T)}set renderText(T){this._renderText=T}set renderTextMode(T){this._renderTextMode=T}set originalSize(T){this._originalSize=T}set showAll(T){this._showAll=T}set stickToPage(T){this._stickToPage=T}set zoom(T){T<=0||(this._zoom=T)}get zoom(){return this._zoom}set zoomScale(T){this._zoomScale=T}get zoomScale(){return this._zoomScale}set rotation(T){"number"==typeof T&&T%90==0?this._rotation=T:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(T){this._externalLinkTarget=T}set autoresize(T){this._canAutoResize=Boolean(T)}set fitToPage(T){this._fitToPage=Boolean(T)}set showBorders(T){this._showBorders=Boolean(T)}static getLinkTarget(T){switch(T){case"blank":return p.LinkTarget.BLANK;case"none":return p.LinkTarget.NONE;case"self":return p.LinkTarget.SELF;case"parent":return p.LinkTarget.PARENT;case"top":return p.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const T=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=T?!1===this.isVisible&&null!=T&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(T){if(!y()&&this.isVisible)if("src"in T)this.loadPDF();else if(this._pdf){if("renderText"in T?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:L.DISABLED,this.resetPdfDocument()):"showAll"in T&&(this.setupViewer(),this.resetPdfDocument()),"page"in T){const{page:z}=T;if(z.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,P.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,f.R)(this.destroy$)).subscribe({next:T=>{const z=this._rotation||T.rotate,v=T.getViewport({scale:this._zoom,rotation:z}).width*N.CSS_UNITS;let a=this._zoom,l=!0;if(!this._originalSize||this._fitToPage&&v>this.pdfViewerContainer.nativeElement.clientWidth){const e=T.getViewport({scale:1,rotation:z});a=this.getScale(e.width,e.height),l=!this._stickToPage}this.pdfViewer._setScale(a,l)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const T=N.getLinkTarget(this._externalLinkTarget);return T?{externalLinkTarget:T}:{}}initEventBus(){this.eventBus=function s(N,G){const T=new N.EventBus;return function A(N,G){(0,k.R)(N,"documentload").pipe((0,f.R)(G)).subscribe(()=>{const T=document.createEvent("CustomEvent");T.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(T)}),(0,k.R)(N,"pagerendered").pipe((0,f.R)(G)).subscribe(({pageNumber:T,cssTransform:z,source:v})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:T,cssTransform:z}),v.div.dispatchEvent(a)}),(0,k.R)(N,"textlayerrendered").pipe((0,f.R)(G)).subscribe(({pageNumber:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:T}),z.textLayerDiv.dispatchEvent(v)}),(0,k.R)(N,"pagechanging").pipe((0,f.R)(G)).subscribe(({pageNumber:T,source:z})=>{const v=document.createEvent("UIEvents");v.initEvent("pagechanging",!0,!0),v.pageNumber=T,z.container.dispatchEvent(v)}),(0,k.R)(N,"pagesinit").pipe((0,f.R)(G)).subscribe(({source:T})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("pagesinit",!0,!0,null),T.container.dispatchEvent(z)}),(0,k.R)(N,"pagesloaded").pipe((0,f.R)(G)).subscribe(({pagesCount:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagesloaded",!0,!0,{pagesCount:T}),z.container.dispatchEvent(v)}),(0,k.R)(N,"scalechange").pipe((0,f.R)(G)).subscribe(({scale:T,presetValue:z,source:v})=>{const a=document.createEvent("UIEvents");a.initEvent("scalechange",!0,!0),a.scale=T,a.presetValue=z,v.container.dispatchEvent(a)}),(0,k.R)(N,"updateviewarea").pipe((0,f.R)(G)).subscribe(({location:T,source:z})=>{const v=document.createEvent("UIEvents");v.initEvent("updateviewarea",!0,!0),v.location=T,z.container.dispatchEvent(v)}),(0,k.R)(N,"find").pipe((0,f.R)(G)).subscribe(({source:T,type:z,query:v,phraseSearch:a,caseSensitive:l,highlightAll:e,findPrevious:o})=>{if(T===window)return;const d=document.createEvent("CustomEvent");d.initCustomEvent("find"+z,!0,!0,{query:v,phraseSearch:a,caseSensitive:l,highlightAll:e,findPrevious:o}),window.dispatchEvent(d)}),(0,k.R)(N,"attachmentsloaded").pipe((0,f.R)(G)).subscribe(({attachmentsCount:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:T}),z.container.dispatchEvent(v)}),(0,k.R)(N,"sidebarviewchanged").pipe((0,f.R)(G)).subscribe(({view:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("sidebarviewchanged",!0,!0,{view:T}),z.outerContainer.dispatchEvent(v)}),(0,k.R)(N,"pagemode").pipe((0,f.R)(G)).subscribe(({mode:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("pagemode",!0,!0,{mode:T}),z.pdfViewer.container.dispatchEvent(v)}),(0,k.R)(N,"namedaction").pipe((0,f.R)(G)).subscribe(({action:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("namedaction",!0,!0,{action:T}),z.pdfViewer.container.dispatchEvent(v)}),(0,k.R)(N,"presentationmodechanged").pipe((0,f.R)(G)).subscribe(({active:T,switchInProgress:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("presentationmodechanged",!0,!0,{active:T,switchInProgress:z}),window.dispatchEvent(v)}),(0,k.R)(N,"outlineloaded").pipe((0,f.R)(G)).subscribe(({outlineCount:T,source:z})=>{const v=document.createEvent("CustomEvent");v.initCustomEvent("outlineloaded",!0,!0,{outlineCount:T}),z.container.dispatchEvent(v)})}(T,G),T}(g,this.destroy$),(0,k.R)(this.eventBus,"pagerendered").pipe((0,f.R)(this.destroy$)).subscribe(T=>{this.pageRendered.emit(T)}),(0,k.R)(this.eventBus,"pagesinit").pipe((0,f.R)(this.destroy$)).subscribe(T=>{this.pageInitialized.emit(T)}),(0,k.R)(this.eventBus,"pagechanging").pipe((0,f.R)(this.destroy$)).subscribe(({pageNumber:T})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=T,this.pageChange.emit(T)},100)}),(0,k.R)(this.eventBus,"textlayerrendered").pipe((0,f.R)(this.destroy$)).subscribe(T=>{this.textLayerRendered.emit(T)})}initPDFServices(){this.pdfLinkService=new p.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new p.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:L.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){b(x,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new p.PDFViewer(this.getPDFOptions()):new p.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(T){return T<1?1:T>this._pdf.numPages?this._pdf.numPages:T}getDocumentParams(){const T=typeof this.src;if(!this._cMapsUrl)return this.src;const z={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===T?z.url=this.src:"object"===T&&(void 0!==this.src.byteLength?z.data=this.src:Object.assign(z,this.src)),z}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=h.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=z=>{this.onProgress.emit(z)};const T=this.src;(0,P.D)(this.loadingTask.promise).pipe((0,f.R)(this.destroy$)).subscribe({next:z=>{this._pdf=z,this.lastLoaded=T,this.afterLoadComplete.emit(z),this.resetPdfDocument(),this.update()},error:z=>{this.lastLoaded=null,this.onError.emit(z)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(T,z){const v=this._showBorders?2*N.BORDER_WIDTH:0,a=this.pdfViewerContainer.nativeElement.clientWidth-v,l=this.pdfViewerContainer.nativeElement.clientHeight-v;if(0===l||0===z||0===a||0===T)return 1;let e=1;switch(this._zoomScale){case"page-fit":e=Math.min(l/z,a/T);break;case"page-height":e=l/z;break;default:e=a/T}return this._zoom*e/N.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){y()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){y()||this.ngZone.runOutsideAngular(()=>{(0,k.R)(window,"resize").pipe(function n(N,G=u.z){return(0,r.e)((T,z)=>{let v=null,a=null,l=null;const e=()=>{if(v){v.unsubscribe(),v=null;const d=a;a=null,z.next(d)}};function o(){const d=l+N,w=G.now();if(w<d)return v=this.schedule(void 0,d-w),void z.add(v);e()}T.subscribe((0,_.x)(z,d=>{a=d,l=G.now(),v||(v=G.schedule(o,N),z.add(v))},()=>{e(),z.complete()},void 0,()=>{a=v=null}))})}(100),(0,i.h)(()=>this._canAutoResize&&!!this._pdf),(0,f.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return N.CSS_UNITS=96/72,N.BORDER_WIDTH=9,N.\u0275fac=function(T){return new(T||N)(W.Y36(W.SBq),W.Y36(W.R0b))},N.\u0275cmp=W.Xpm({type:N,selectors:[["pdf-viewer"]],viewQuery:function(T,z){if(1&T&&W.Gf(t,5),2&T){let v;W.iGM(v=W.CRH())&&(z.pdfViewerContainer=v.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[W.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(T,z){1&T&&(W.TgZ(0,"div",0,1),W._UZ(2,"div",2),W.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),N})(),F=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=W.oAB({type:N}),N.\u0275inj=W.cJS({}),N})();const B=["pdfCurriculum"],Y=[{path:"",component:(()=>{class N{constructor(T){this.loadingBar=T,this.pdfSrc="https://pparce.github.io/assets/pdf/cv.pdf",this.pdfLoaded=!1}ngOnInit(){this.loadingBar.start()}downloadAsPDF(){const T=new XMLHttpRequest;T.open("GET",this.pdfSrc,!0),T.responseType="blob",T.onload=()=>{(0,ie.saveAs)(T.response,"CV Pedro Pablo Arce.pdf")},T.send()}afterLoadComplete(){this.loadingBar.stop(),this.pdfLoaded=!0}}return N.\u0275fac=function(T){return new(T||N)(W.Y36(K.dL))},N.\u0275cmp=W.Xpm({type:N,selectors:[["app-curriculum"]],viewQuery:function(T,z){if(1&T&&W.Gf(B,5),2&T){let v;W.iGM(v=W.CRH())&&(z.pdfCurriculum=v.first)}},decls:5,vars:13,consts:[[1,"h-100","animate__animated","animate__fadeIn"],[1,"curriculum-container"],[1,"btn","btn-primary","download-button",3,"disabled","click"],[3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete"]],template:function(T,z){1&T&&(W.TgZ(0,"div",0)(1,"div",1)(2,"button",2),W.NdJ("click",function(){return z.downloadAsPDF()}),W._uU(3," _download_cv() "),W.qZA(),W.TgZ(4,"pdf-viewer",3),W.NdJ("after-load-complete",function(){return z.afterLoadComplete()}),W.qZA()()()),2&T&&(W.xp6(2),W.Q6J("disabled",!z.pdfLoaded),W.xp6(2),W.Q6J("src",z.pdfSrc)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!1)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1))},dependencies:[R],styles:[".curriculum-container[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin:0 350px}.curriculum-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}.curriculum-container[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:70px;z-index:2}.curriculum-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{grid-area:1/1/6/6}@media (max-width: 576px){.curriculum-container[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 60px);margin:0 0 0 16px}.curriculum-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%;grid-area:1/1/6/6}.curriculum-container[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:16px;z-index:2}.curriculum-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{grid-area:1/1/6/6}}.vl[_ngcontent-%COMP%]{border-left:1px solid #607b96;height:auto}"]}),N})()}];let Z=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=W.oAB({type:N}),N.\u0275inj=W.cJS({imports:[oe.Bz.forChild(Y),oe.Bz]}),N})(),V=(()=>{class N{}return N.\u0275fac=function(T){return new(T||N)},N.\u0275mod=W.oAB({type:N}),N.\u0275inj=W.cJS({imports:[m.ez,Z,F]}),N})()},4327:function(he,M){var oe;void 0!==(oe=function(){"use strict";function W(u,r,_){var n=new XMLHttpRequest;n.open("GET",u),n.responseType="blob",n.onload=function(){f(n.response,r,_)},n.onerror=function(){console.error("could not download file")},n.send()}function K(u){var r=new XMLHttpRequest;r.open("HEAD",u,!1);try{r.send()}catch{}return 200<=r.status&&299>=r.status}function k(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(r)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,P=c.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype&&!P?function(u,r,_){var n=c.URL||c.webkitURL,i=document.createElement("a");i.download=r=r||u.name||"download",i.rel="noopener","string"==typeof u?(i.href=u,i.origin===location.origin?k(i):K(i.href)?W(u,r,_):k(i,i.target="_blank")):(i.href=n.createObjectURL(u),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){k(i)},0))}:"msSaveOrOpenBlob"in navigator?function(u,r,_){if(r=r||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function ie(u,r){return typeof r>"u"?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,_),r);else if(K(u))W(u,r,_);else{var n=document.createElement("a");n.href=u,n.target="_blank",setTimeout(function(){k(n)})}}:function(u,r,_,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof u)return W(u,r,_);var i="application/octet-stream"===u.type,h=/constructor/i.test(c.HTMLElement)||c.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||i&&h||P)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var s=p.result;s=x?s:s.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=s:location=s,n=null},p.readAsDataURL(u)}else{var g=c.URL||c.webkitURL,t=g.createObjectURL(u);n?n.location=t:location.href=t,n=null,setTimeout(function(){g.revokeObjectURL(t)},4e4)}});c.saveAs=f.saveAs=f,he.exports=f}.apply(M,[]))&&(he.exports=oe)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,ee;ee=()=>(()=>{"use strict";var __webpack_modules__=[,(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.VerbosityLevel=M.Util=M.UnknownErrorException=M.UnexpectedResponseException=M.UNSUPPORTED_FEATURES=M.TextRenderingMode=M.StreamType=M.RenderingIntentFlag=M.PermissionFlag=M.PasswordResponses=M.PasswordException=M.PageActionEventType=M.OPS=M.MissingPDFException=M.InvalidPDFException=M.ImageKind=M.IDENTITY_MATRIX=M.FormatError=M.FontType=M.FeatureTest=M.FONT_IDENTITY_MATRIX=M.DocumentActionEventType=M.CMapCompressionType=M.BaseException=M.AnnotationType=M.AnnotationStateModelType=M.AnnotationReviewState=M.AnnotationReplyType=M.AnnotationMode=M.AnnotationMarkedState=M.AnnotationFlag=M.AnnotationFieldFlag=M.AnnotationBorderStyleType=M.AnnotationActionEventType=M.AbortException=void 0,M.arrayByteLength=H,M.arraysToBytes=function j(te){const O=te.length;if(1===O&&te[0]instanceof Uint8Array)return te[0];let D=0;for(let fe=0;fe<O;fe++)D+=H(te[fe]);let ae=0;const le=new Uint8Array(D);for(let fe=0;fe<O;fe++){let ge=te[fe];ge instanceof Uint8Array||(ge="string"==typeof ge?U(ge):new Uint8Array(ge));const Ce=ge.byteLength;le.set(ge,ae),ae+=Ce}return le},M.assert=function N(te,O){te||V(O)},M.bytesToString=function E(te){("object"!=typeof te||null===te||void 0===te.length)&&V("Invalid argument for bytesToString");const O=te.length,D=8192;if(O<D)return String.fromCharCode.apply(null,te);const ae=[];for(let le=0;le<O;le+=D){const fe=Math.min(le+D,O),ge=te.subarray(le,fe);ae.push(String.fromCharCode.apply(null,ge))}return ae.join("")},M.createPromiseCapability=function Ee(){const te=Object.create(null);let O=!1;return Object.defineProperty(te,"settled",{get:()=>O}),te.promise=new Promise(function(D,ae){te.resolve=function(le){O=!0,D(le)},te.reject=function(le){O=!0,ae(le)}}),te},M.createValidAbsoluteUrl=function T(te,O=null,D=null){if(!te)return null;try{if(D&&"string"==typeof te){if(D.addDefaultProtocol&&te.startsWith("www.")){const le=te.match(/\./g);le&&le.length>=2&&(te=`http://${te}`)}if(D.tryConvertEncoding)try{te=ue(te)}catch{}}const ae=O?new URL(te,O):new URL(te);if(function G(te){if(!te)return!1;switch(te.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ae))return ae}catch{}return null},M.escapeString=function $(te){return te.replace(/([()\\\n\r])/g,O=>"\n"===O?"\\n":"\r"===O?"\\r":`\\${O}`)},M.getModificationDate=function Pe(te=new Date){return[te.getUTCFullYear().toString(),(te.getUTCMonth()+1).toString().padStart(2,"0"),te.getUTCDate().toString().padStart(2,"0"),te.getUTCHours().toString().padStart(2,"0"),te.getUTCMinutes().toString().padStart(2,"0"),te.getUTCSeconds().toString().padStart(2,"0")].join("")},M.getVerbosityLevel=function q(){return F},M.info=function Y(te){F>=A.INFOS&&console.log(`Info: ${te}`)},M.isArrayBuffer=function _e(te){return"object"==typeof te&&null!==te&&void 0!==te.byteLength},M.isArrayEqual=function Se(te,O){if(te.length!==O.length)return!1;for(let D=0,ae=te.length;D<ae;D++)if(te[D]!==O[D])return!1;return!0},M.isAscii=function pe(te){return/^[\x00-\x7F]*$/.test(te)},M.objectFromMap=function ne(te){const O=Object.create(null);for(const[D,ae]of te)O[D]=ae;return O},M.objectSize=function Q(te){return Object.keys(te).length},M.setVerbosityLevel=function B(te){Number.isInteger(te)&&(F=te)},M.shadow=z,M.string32=function X(te){return String.fromCharCode(te>>24&255,te>>16&255,te>>8&255,255&te)},M.stringToBytes=U,M.stringToPDFString=function I(te){if(te[0]>="\xef"){let D;if("\xfe"===te[0]&&"\xff"===te[1]?D="utf-16be":"\xff"===te[0]&&"\xfe"===te[1]?D="utf-16le":"\xef"===te[0]&&"\xbb"===te[1]&&"\xbf"===te[2]&&(D="utf-8"),D)try{const ae=new TextDecoder(D,{fatal:!0}),le=U(te);return ae.decode(le)}catch(ae){Z(`stringToPDFString: "${ae}".`)}}const O=[];for(let D=0,ae=te.length;D<ae;D++){const le=S[te.charCodeAt(D)];O.push(le?String.fromCharCode(le):te.charAt(D))}return O.join("")},M.stringToUTF16BEString=function de(te){const O=["\xfe\xff"];for(let D=0,ae=te.length;D<ae;D++){const le=te.charCodeAt(D);O.push(String.fromCharCode(le>>8&255),String.fromCharCode(255&le))}return O.join("")},M.stringToUTF8String=ue,M.unreachable=V,M.utf8StringToString=function me(te){return unescape(encodeURIComponent(te))},M.warn=Z,ee(2),M.IDENTITY_MATRIX=[1,0,0,1,0,0],M.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],M.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},M.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},M.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},M.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},M.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},M.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},M.AnnotationReplyType={GROUP:"Group",REPLY:"R"},M.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},M.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},M.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},M.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},M.PageActionEventType={O:"PageOpen",C:"PageClose"},M.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},M.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const A={ERRORS:0,WARNINGS:1,INFOS:5};M.VerbosityLevel=A,M.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=A.WARNINGS;function Z(te){F>=A.WARNINGS&&console.log(`Warning: ${te}`)}function V(te){throw new Error(te)}function z(te,O,D){return Object.defineProperty(te,O,{value:D,enumerable:!0,configurable:!0,writable:!1}),D}const v=function(){function O(D,ae){this.constructor===O&&V("Cannot initialize BaseException."),this.message=D,this.name=ae}return O.prototype=new Error,O.constructor=O,O}();function U(te){"string"!=typeof te&&V("Invalid argument for stringToBytes");const O=te.length,D=new Uint8Array(O);for(let ae=0;ae<O;++ae)D[ae]=255&te.charCodeAt(ae);return D}function H(te){return void 0!==te.length?te.length:void 0!==te.byteLength?te.byteLength:void V("Invalid argument for arrayByteLength")}M.BaseException=v,M.PasswordException=class a extends v{constructor(O,D){super(O,"PasswordException"),this.code=D}},M.UnknownErrorException=class l extends v{constructor(O,D){super(O,"UnknownErrorException"),this.details=D}},M.InvalidPDFException=class e extends v{constructor(O){super(O,"InvalidPDFException")}},M.MissingPDFException=class o extends v{constructor(O){super(O,"MissingPDFException")}},M.UnexpectedResponseException=class d extends v{constructor(O,D){super(O,"UnexpectedResponseException"),this.status=D}},M.FormatError=class w extends v{constructor(O){super(O,"FormatError")}},M.AbortException=class C extends v{constructor(O){super(O,"AbortException")}},M.FeatureTest=class J{static get isLittleEndian(){return z(this,"isLittleEndian",function ce(){const te=new Uint8Array(4);return te[0]=1,1===new Uint32Array(te.buffer,0,1)[0]}())}static get isEvalSupported(){return z(this,"isEvalSupported",function be(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return z(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const se=[...Array(256).keys()].map(te=>te.toString(16).padStart(2,"0"));class re{static makeHexColor(O,D,ae){return`#${se[O]}${se[D]}${se[ae]}`}static scaleMinMax(O,D){let ae;O[0]?(O[0]<0&&(ae=D[0],D[0]=D[1],D[1]=ae),D[0]*=O[0],D[1]*=O[0],O[3]<0&&(ae=D[2],D[2]=D[3],D[3]=ae),D[2]*=O[3],D[3]*=O[3]):(ae=D[0],D[0]=D[2],D[2]=ae,ae=D[1],D[1]=D[3],D[3]=ae,O[1]<0&&(ae=D[2],D[2]=D[3],D[3]=ae),D[2]*=O[1],D[3]*=O[1],O[2]<0&&(ae=D[0],D[0]=D[1],D[1]=ae),D[0]*=O[2],D[1]*=O[2]),D[0]+=O[4],D[1]+=O[4],D[2]+=O[5],D[3]+=O[5]}static transform(O,D){return[O[0]*D[0]+O[2]*D[1],O[1]*D[0]+O[3]*D[1],O[0]*D[2]+O[2]*D[3],O[1]*D[2]+O[3]*D[3],O[0]*D[4]+O[2]*D[5]+O[4],O[1]*D[4]+O[3]*D[5]+O[5]]}static applyTransform(O,D){return[O[0]*D[0]+O[1]*D[2]+D[4],O[0]*D[1]+O[1]*D[3]+D[5]]}static applyInverseTransform(O,D){const ae=D[0]*D[3]-D[1]*D[2];return[(O[0]*D[3]-O[1]*D[2]+D[2]*D[5]-D[4]*D[3])/ae,(-O[0]*D[1]+O[1]*D[0]+D[4]*D[1]-D[5]*D[0])/ae]}static getAxialAlignedBoundingBox(O,D){const ae=re.applyTransform(O,D),le=re.applyTransform(O.slice(2,4),D),fe=re.applyTransform([O[0],O[3]],D),ge=re.applyTransform([O[2],O[1]],D);return[Math.min(ae[0],le[0],fe[0],ge[0]),Math.min(ae[1],le[1],fe[1],ge[1]),Math.max(ae[0],le[0],fe[0],ge[0]),Math.max(ae[1],le[1],fe[1],ge[1])]}static inverseTransform(O){const D=O[0]*O[3]-O[1]*O[2];return[O[3]/D,-O[1]/D,-O[2]/D,O[0]/D,(O[2]*O[5]-O[4]*O[3])/D,(O[4]*O[1]-O[5]*O[0])/D]}static apply3dTransform(O,D){return[O[0]*D[0]+O[1]*D[1]+O[2]*D[2],O[3]*D[0]+O[4]*D[1]+O[5]*D[2],O[6]*D[0]+O[7]*D[1]+O[8]*D[2]]}static singularValueDecompose2dScale(O){const D=[O[0],O[2],O[1],O[3]],ae=O[0]*D[0]+O[1]*D[2],ge=O[2]*D[1]+O[3]*D[3],Ce=(ae+ge)/2,we=Math.sqrt((ae+ge)**2-4*(ae*ge-(O[2]*D[0]+O[3]*D[2])*(O[0]*D[1]+O[1]*D[3])))/2,xe=Ce-we||1;return[Math.sqrt(Ce+we||1),Math.sqrt(xe)]}static normalizeRect(O){const D=O.slice(0);return O[0]>O[2]&&(D[0]=O[2],D[2]=O[0]),O[1]>O[3]&&(D[1]=O[3],D[3]=O[1]),D}static intersect(O,D){const ae=Math.max(Math.min(O[0],O[2]),Math.min(D[0],D[2])),le=Math.min(Math.max(O[0],O[2]),Math.max(D[0],D[2]));if(ae>le)return null;const fe=Math.max(Math.min(O[1],O[3]),Math.min(D[1],D[3])),ge=Math.min(Math.max(O[1],O[3]),Math.max(D[1],D[3]));return fe>ge?null:[ae,fe,le,ge]}static bezierBoundingBox(O,D,ae,le,fe,ge,Ce,we){const Me=[],xe=[[],[]];let Re,ke,Be,Le,Fe,Oe,Ne,De;for(let Ye=0;Ye<2;++Ye)if(0===Ye?(ke=6*O-12*ae+6*fe,Re=-3*O+9*ae-9*fe+3*Ce,Be=3*ae-3*O):(ke=6*D-12*le+6*ge,Re=-3*D+9*le-9*ge+3*we,Be=3*le-3*D),Math.abs(Re)<1e-12){if(Math.abs(ke)<1e-12)continue;Le=-Be/ke,0<Le&&Le<1&&Me.push(Le)}else Ne=ke*ke-4*Be*Re,De=Math.sqrt(Ne),!(Ne<0)&&(Fe=(-ke+De)/(2*Re),0<Fe&&Fe<1&&Me.push(Fe),Oe=(-ke-De)/(2*Re),0<Oe&&Oe<1&&Me.push(Oe));let Ie,Ve=Me.length;const je=Ve;for(;Ve--;)Le=Me[Ve],Ie=1-Le,xe[0][Ve]=Ie*Ie*Ie*O+3*Ie*Ie*Le*ae+3*Ie*Le*Le*fe+Le*Le*Le*Ce,xe[1][Ve]=Ie*Ie*Ie*D+3*Ie*Ie*Le*le+3*Ie*Le*Le*ge+Le*Le*Le*we;return xe[0][je]=O,xe[1][je]=D,xe[0][je+1]=Ce,xe[1][je+1]=we,xe[0].length=xe[1].length=je+2,[Math.min(...xe[0]),Math.min(...xe[1]),Math.max(...xe[0]),Math.max(...xe[1])]}}M.Util=re;const S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ue(te){return decodeURIComponent(escape(te))}},(he,M,ee)=>{ee(3)},(he,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.isNodeJS=void 0;const ee=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);M.isNodeJS=ee},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var he,ee,m,oe,ie,W,K,k,Ke,P;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:u,NodeCMapReaderFactory:r,NodeStandardFontDataFactory:_}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=u,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=r,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=_}function setPDFNetworkStreamFactory(u){createPDFNetworkStream=u}function getDocument(u){const r=new PDFDocumentLoadingTask;let _;if("string"==typeof u||u instanceof URL)_={url:u};else if((0,_util.isArrayBuffer)(u))_={data:u};else if(u instanceof PDFDataRangeTransport)_={range:u};else{if("object"!=typeof u)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!u.url&&!u.data&&!u.range)throw new Error("Invalid parameter object: need either .data, .range or .url");_=u}const n=Object.create(null);let i=null,h=null;for(const p in _){const g=_[p];switch(p){case"url":if(typeof window<"u")try{n[p]=new URL(g,window.location).href;continue}catch(t){(0,_util.warn)(`Cannot create valid URL: "${t}".`)}else if("string"==typeof g||g instanceof URL){n[p]=g.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=g;continue;case"worker":h=g;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&g instanceof Buffer)n[p]=new Uint8Array(g);else{if(g instanceof Uint8Array)break;if("string"==typeof g)n[p]=(0,_util.stringToBytes)(g);else if("object"!=typeof g||null===g||isNaN(g.length)){if(!(0,_util.isArrayBuffer)(g))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");n[p]=new Uint8Array(g)}else n[p]=new Uint8Array(g)}continue}n[p]=g}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.fontExtraProperties=!0===n.fontExtraProperties,n.pdfBug=!0===n.pdfBug,n.enableXfa=!0===n.enableXfa,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof n.docBaseUrl||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),"string"!=typeof n.cMapUrl&&(n.cMapUrl=null),"string"!=typeof n.standardFontDataUrl&&(n.standardFontDataUrl=null),"boolean"!=typeof n.useWorkerFetch&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof n.useSystemFonts&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),("object"!=typeof n.ownerDocument||null===n.ownerDocument)&&(n.ownerDocument=globalThis.document),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!h){const p={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};h=p.port?PDFWorker.fromPort(p):new PDFWorker(p),r._worker=h}const x=r.docId;return h.promise.then(function(){if(r.destroyed)throw new Error("Loading aborted");const p=_fetchDocument(h,n,i,x),g=new Promise(function(t){let s;i?s=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(s=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),t(s)});return Promise.all([p,g]).then(function([t,s]){if(r.destroyed)throw new Error("Loading aborted");const A=new _message_handler.MessageHandler(x,t,h.port),b=new WorkerTransport(A,r,s,n);r._transport=b,A.send("Ready",null)})}).catch(r._capability.reject),r}function _fetchDocument(u,r,_,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(u,r,_,n){if(u.destroyed)throw new Error("Worker was destroyed");_&&(r.length=_.length,r.initialData=_.initialData,r.progressiveDone=_.progressiveDone,r.contentDispositionFilename=_.contentDispositionFilename);const i=yield u.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.14.305",source:{data:r.data,url:r.url,password:r.password,disableAutoFetch:r.disableAutoFetch,rangeChunkSize:r.rangeChunkSize,length:r.length},maxImageSize:r.maxImageSize,disableFontFace:r.disableFontFace,docBaseUrl:r.docBaseUrl,ignoreErrors:r.ignoreErrors,isEvalSupported:r.isEvalSupported,fontExtraProperties:r.fontExtraProperties,enableXfa:r.enableXfa,useSystemFonts:r.useSystemFonts,cMapUrl:r.useWorkerFetch?r.cMapUrl:null,standardFontDataUrl:r.useWorkerFetch?r.standardFontDataUrl:null});if(u.destroyed)throw new Error("Worker was destroyed");return i})).apply(this,arguments)}const M=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+lt(M,he)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var r=this;return _asyncToGenerator(function*(){r.destroyed=!0,yield r._transport?.destroy(),r._transport=null,r._worker&&(r._worker.destroy(),r._worker=null)})()}};let PDFDocumentLoadingTask=M;he=new WeakMap,ve(PDFDocumentLoadingTask,he,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(r,_,n=!1,i=null){this.length=r,this.initialData=_,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(r){this._rangeListeners.push(r)}addProgressListener(r){this._progressListeners.push(r)}addProgressiveReadListener(r){this._progressiveReadListeners.push(r)}addProgressiveDoneListener(r){this._progressiveDoneListeners.push(r)}onDataRange(r,_){for(const n of this._rangeListeners)n(r,_)}onDataProgress(r,_){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(r,_)})}onDataProgressiveRead(r){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveReadListeners)_(r)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const r of this._progressiveDoneListeners)r()})}transportReady(){this._readyCapability.resolve()}requestDataRange(r,_){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(r,_){var i,n=this;this._pdfInfo=r,this._transport=_,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(i=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),n.stats||{streamTypes:{},fontTypes:{}}}),function(){return i.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(r){return this._transport.getPage(r)}getPageIndex(r){return this._transport.getPageIndex(r)}getDestinations(){return this._transport.getDestinations()}getDestination(r){return this._transport.getDestination(r)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(r=!1){return this._transport.startCleanup(r||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(r,_,n,i,h=!1){this._pageIndex=r,this._pageInfo=_,this._ownerDocument=i,this._transport=n,this._stats=h?new _display_utils.StatTimer:null,this._pdfBug=h,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:r,rotation:_=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:h=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:_,offsetX:n,offsetY:i,dontFlip:h})}getAnnotations({intent:r="display"}={}){const _=this._transport.getRenderingIntent(r);let n=this._annotationPromises.get(_.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,_.renderingIntent),this._annotationPromises.set(_.cacheKey,n),n=n.then(i=>{for(const h of i)void 0!==h.titleObj&&Object.defineProperty(h,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),h.titleObj.str)}),void 0!==h.contentsObj&&Object.defineProperty(h,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),h.contentsObj.str)});return i})),n}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var r=this;return _asyncToGenerator(function*(){return r._transport._htmlForXfa?.children[r._pageIndex]||null})()}render({canvasContext:r,viewport:_,intent:n="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:h=null,imageLayer:x=null,canvasFactory:p=null,background:g=null,optionalContentConfigPromise:t=null,annotationCanvasMap:s=null,pageColors:A=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const b=this._transport.getRenderingIntent(n,i);this.pendingCleanup=!1,t||(t=this._transport.getOptionalContentConfig());let y=this._intentStates.get(b.cacheKey);y||(y=Object.create(null),this._intentStates.set(b.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const L=p||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),R=!!(b.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=(0,_util.createPromiseCapability)(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(b));const F=Y=>{y.renderTasks.delete(B),(this.cleanupAfterRender||R)&&(this.pendingCleanup=!0),this._tryCleanup(),Y?(B.capability.reject(Y),this._abortOperatorList({intentState:y,reason:Y instanceof Error?Y:new Error(Y)})):B.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},B=new InternalRenderTask({callback:F,params:{canvasContext:r,viewport:_,transform:h,imageLayer:x,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:s,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:L,useRequestAnimationFrame:!R,pdfBug:this._pdfBug,pageColors:A});(y.renderTasks||(y.renderTasks=new Set)).add(B);const q=B.task;return Promise.all([y.displayReadyCapability.promise,t]).then(([Y,Z])=>{this.pendingCleanup?F():(this._stats&&this._stats.time("Rendering"),B.initializeGraphics({transparency:Y,optionalContentConfig:Z}),B.operatorListChanged())}).catch(F),q}getOperatorList({intent:r="display",annotationMode:_=_util.AnnotationMode.ENABLE}={}){const i=this._transport.getRenderingIntent(r,_,!0);let x,h=this._intentStates.get(i.cacheKey);return h||(h=Object.create(null),this._intentStates.set(i.cacheKey,h)),h.opListReadCapability||(x=Object.create(null),x.operatorListChanged=function n(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(x))},h.opListReadCapability=(0,_util.createPromiseCapability)(),(h.renderTasks||(h.renderTasks=new Set)).add(x),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(i)),h.opListReadCapability.promise}streamTextContent({disableCombineTextItems:r=!1,includeMarkedContent:_=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==r,includeMarkedContent:!0===_},{highWaterMark:100,size:i=>i.items.length})}getTextContent(r={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));const _=this.streamTextContent(r);return new Promise(function(n,i){const x=_.getReader(),p={items:[],styles:Object.create(null)};!function h(){x.read().then(function({value:g,done:t}){t?n(p):(Object.assign(p.styles,g.styles),p.items.push(...g.items),h())},i)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const r=[];for(const _ of this._intentStates.values())if(this._abortOperatorList({intentState:_,reason:new Error("Page was destroyed."),force:!0}),!_.opListReadCapability)for(const n of _.renderTasks)r.push(n.completed),n.cancel();this.objs.clear();for(const _ of this._bitmaps)_.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(r)}cleanup(r=!1){return this.pendingCleanup=!0,this._tryCleanup(r)}_tryCleanup(r=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:_,operatorList:n}of this._intentStates.values())if(_.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,r&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const _ of this._bitmaps)_.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(r,_){const n=this._intentStates.get(_);!n||(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(r))}_renderPageChunk(r,_){for(let n=0,i=r.length;n<i;n++)_.operatorList.fnArray.push(r.fnArray[n]),_.operatorList.argsArray.push(r.argsArray[n]);_.operatorList.lastChunk=r.lastChunk;for(const n of _.renderTasks)n.operatorListChanged();r.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:r,cacheKey:_}){const i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:_,annotationStorage:r&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),h=this._intentStates.get(_);h.streamReader=i;const x=()=>{i.read().then(({value:p,done:g})=>{g?h.streamReader=null:this._transport.destroyed||(this._renderPageChunk(p,h),x())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this._tryCleanup()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else{if(!h.opListReadCapability)throw p;h.opListReadCapability.reject(p)}}})};x()}_abortOperatorList({intentState:r,reason:_,force:n=!1}){if(r.streamReader){if(!n){if(r.renderTasks.size>0)return;if(_ instanceof _display_utils.RenderingCancelledException)return void(r.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:r,reason:_,force:!0}),r.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(r.streamReader.cancel(new _util.AbortException(_.message)).catch(()=>{}),r.streamReader=null,!this._transport.destroyed){for(const[i,h]of this._intentStates)if(h===r){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(r,_){const n={data:structuredClone(r,_)};this._deferred.then(()=>{for(const i of this._listeners)i.call(this,n)})}addEventListener(r,_){this._listeners.push(_)}removeEventListener(r,_){const n=this._listeners.indexOf(_);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const u=document?.currentScript?.src;u&&(PDFWorkerUtil.fallbackWorkerSrc=u.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(u,r){let _;try{if(_=new URL(u),!_.origin||"null"===_.origin)return!1}catch{return!1}const n=new URL(r,_);return _.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(u){return URL.createObjectURL(new Blob([`importScripts("${u}");`]))};const _PDFWorker=class{constructor({name:u=null,port:r=null,verbosity:_=(0,_util.getVerbosityLevel)()}={}){if(r&&Ae(_PDFWorker,ee).has(r))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=u,this.destroyed=!1,this.verbosity=_,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,r)return Ae(_PDFWorker,ee).set(r,this),void this._initializeFromPort(r);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(u){this._port=u,this._messageHandler=new _message_handler.MessageHandler("main","worker",u),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let u=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,u)||(u=PDFWorkerUtil.createCDNWrapper(new URL(u,window.location).href));const r=new Worker(u),_=new _message_handler.MessageHandler("main","worker",r),n=()=>{r.removeEventListener("error",i),_.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};r.addEventListener("error",i),_.on("test",x=>{r.removeEventListener("error",i),this.destroyed?n():x?(this._messageHandler=_,this._port=r,this._webWorker=r,this._readyCapability.resolve(),_.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_.destroy(),r.terminate())}),_.on("ready",x=>{if(r.removeEventListener("error",i),this.destroyed)n();else try{h()}catch{this._setupFakeWorker()}});const h=()=>{const x=new Uint8Array;_.send("test",x,[x.buffer])};return void h()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(u=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const r=new LoopbackPort;this._port=r;const _="fake"+PDFWorkerUtil.fakeWorkerId++,n=new _message_handler.MessageHandler(_+"_worker",_,r);u.setup(n,r);const i=new _message_handler.MessageHandler(_,_+"_worker",r);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(u=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${u.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ae(_PDFWorker,ee).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(u){if(!u?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ae(this,ee).has(u.port)?Ae(this,ee).get(u.port):new _PDFWorker(u)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function u(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ee=new WeakMap,ve(PDFWorker,ee,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(r,_,n,i){ve(this,m,null),ve(this,oe,new Map),ve(this,ie,new Map),ve(this,W,null),this.messageHandler=r,this.loadingTask=_,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:_.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ae(this,m)}getRenderingIntent(r,_=_util.AnnotationMode.ENABLE,n=!1){let i=_util.RenderingIntentFlag.DISPLAY,h="";switch(r){case"any":i=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":i=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${r}`)}switch(_){case _util.AnnotationMode.DISABLE:i+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:i+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:i+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,h=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_}`)}return n&&(i+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:i,cacheKey:`${i}_${h}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const r=[];for(const n of Ae(this,oe).values())r.push(n._destroy());Ae(this,oe).clear(),Ae(this,ie).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _=this.messageHandler.sendWithPromise("Terminate",null);return r.push(_),Promise.all(r).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Te(this,W,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:r,loadingTask:_}=this;r.on("GetReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=h=>{this._lastProgress={loaded:h.loaded,total:h.total}},i.onPull=()=>{this._fullReader.read().then(function({value:h,done:x}){x?i.close():((0,_util.assert)((0,_util.isArrayBuffer)(h),"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(h),1,[h]))}).catch(h=>{i.error(h)})},i.onCancel=h=>{this._fullReader.cancel(h),i.ready.catch(x=>{if(!this.destroyed)throw x})}}),r.on("ReaderHeadersReady",n=>{const i=(0,_util.createPromiseCapability)(),h=this._fullReader;return h.headersReady.then(()=>{(!h.isStreamingSupported||!h.isRangeSupported)&&(this._lastProgress&&_.onProgress?.(this._lastProgress),h.onProgress=x=>{_.onProgress?.({loaded:x.loaded,total:x.total})}),i.resolve({isStreamingSupported:h.isStreamingSupported,isRangeSupported:h.isRangeSupported,contentLength:h.contentLength})},i.reject),i.promise}),r.on("GetRangeReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const h=this._networkStream.getRangeReader(n.begin,n.end);h?(i.onPull=()=>{h.read().then(function({value:x,done:p}){p?i.close():((0,_util.assert)((0,_util.isArrayBuffer)(x),"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(x),1,[x]))}).catch(x=>{i.error(x)})},i.onCancel=x=>{h.cancel(x),i.ready.catch(p=>{if(!this.destroyed)throw p})}):i.close()}),r.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,_._capability.resolve(new PDFDocumentProxy(n,this))}),r.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":i=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_._capability.reject(i)}),r.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),_.onPassword){const i=h=>{h instanceof Error?this._passwordCapability.reject(h):this._passwordCapability.resolve({password:h})};try{_.onPassword(i,n.code)}catch(h){this._passwordCapability.reject(h)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),r.on("DataLoaded",n=>{_.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),r.on("StartRenderPage",n=>{this.destroyed||Ae(this,oe).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),r.on("commonobj",([n,i,h])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(i){case"Font":const x=this._params;if("error"in h){const t=h.error;(0,_util.warn)(`Error during font loading: ${t}`),this.commonObjs.resolve(n,t);break}let p=null;x.pdfBug&&globalThis.FontInspector?.enabled&&(p={registerFont(t,s){globalThis.FontInspector.fontAdded(t,s)}});const g=new _font_loader.FontFaceObject(h,{isEvalSupported:x.isEvalSupported,disableFontFace:x.disableFontFace,ignoreErrors:x.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:p});this.fontLoader.bind(g).catch(t=>r.sendWithPromise("FontFallback",{id:n})).finally(()=>{!x.fontExtraProperties&&g.data&&(g.data=null),this.commonObjs.resolve(n,g)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,h);break;default:throw new Error(`Got unknown common object type ${i}`)}}),r.on("obj",([n,i,h,x])=>{if(this.destroyed)return;const p=Ae(this,oe).get(i);if(!p.objs.has(n))switch(h){case"Image":p.objs.resolve(n,x);const g=8e6;if(x){let t;if(x.bitmap){const{bitmap:s,width:A,height:b}=x;t=A*b*4,p._bitmaps.add(s)}else t=x.data?.length||0;t>g&&(p.cleanupAfterRender=!0)}break;case"Pattern":p.objs.resolve(n,x);break;default:throw new Error(`Got unknown object type ${h}`)}}),r.on("DocProgress",n=>{this.destroyed||_.onProgress?.({loaded:n.loaded,total:n.total})}),r.on("DocStats",n=>{this.destroyed||Te(this,m,Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),r.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),r.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),r.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:r}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(r)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(r){if(!Number.isInteger(r)||r<=0||r>this._numPages)return Promise.reject(new Error("Invalid page request."));const _=r-1,n=Ae(this,ie).get(_);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_}).then(h=>{if(this.destroyed)throw new Error("Transport destroyed");const x=new PDFPageProxy(_,h,this,this._params.ownerDocument,this._params.pdfBug);return Ae(this,oe).set(_,x),x});return Ae(this,ie).set(_,i),i}getPageIndex(r){return"object"!=typeof r||null===r||!Number.isInteger(r.num)||r.num<0||!Number.isInteger(r.gen)||r.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:r.num,gen:r.gen})}getAnnotations(r,_){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:r,intent:_})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(r){return"string"!=typeof r?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:r})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(r){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:r})}getStructTree(r){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:r})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(r=>new _optional_content_config.OptionalContentConfig(r))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ae(this,W)||Te(this,W,this.messageHandler.sendWithPromise("GetMetadata",null).then(r=>({info:r[0],metadata:r[1]?new _metadata.Metadata(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(r=!1){var _=this;return _asyncToGenerator(function*(){if(yield _.messageHandler.sendWithPromise("Cleanup",null),!_.destroyed){for(const n of Ae(_,oe).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);_.commonObjs.clear(),r||_.fontLoader.clear(),Te(_,W,null),_._getFieldObjectsPromise=null,_._hasJSActionsPromise=null}})()}get loadingParams(){const r=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:r.disableAutoFetch,enableXfa:r.enableXfa})}}m=new WeakMap,oe=new WeakMap,ie=new WeakMap,W=new WeakMap;class PDFObjects{constructor(){ve(this,k),ve(this,K,Object.create(null))}get(r,_=null){if(_){const i=ye(this,k,Ke).call(this,r);return i.capability.promise.then(()=>_(i.data)),null}const n=Ae(this,K)[r];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${r}.`);return n.data}has(r){return Ae(this,K)[r]?.capability.settled||!1}resolve(r,_=null){const n=ye(this,k,Ke).call(this,r);n.data=_,n.capability.resolve()}clear(){Te(this,K,Object.create(null))}}K=new WeakMap,k=new WeakSet,Ke=function(r){return Ae(this,K)[r]||(Ae(this,K)[r]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(r){this._internalRenderTask=r,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const f=class{constructor({callback:r,params:_,objs:n,commonObjs:i,annotationCanvasMap:h,operatorList:x,pageIndex:p,canvasFactory:g,useRequestAnimationFrame:t=!1,pdfBug:s=!1,pageColors:A=null}){this.callback=r,this.params=_,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=h,this.operatorListIdx=null,this.operatorList=x,this._pageIndex=p,this.canvasFactory=g,this._pdfBug=s,this.pageColors=A,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===t&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:r=!1,optionalContentConfig:_}){if(this.cancelled)return;if(this._canvas){if(Ae(f,P).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ae(f,P).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:h,imageLayer:x,background:p}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,x,_,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:h,viewport:i,transparency:r,background:p}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(r=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ae(f,P).delete(this._canvas),this.callback(r||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var r=this;return _asyncToGenerator(function*(){r.cancelled||(r.operatorListIdx=r.gfx.executeOperatorList(r.operatorList,r.operatorListIdx,r._continueBound,r.stepper),r.operatorListIdx===r.operatorList.argsArray.length&&(r.running=!1,r.operatorList.lastChunk&&(r.gfx.endDrawing(),r._canvas&&Ae(f,P).delete(r._canvas),r.callback())))})()}};let InternalRenderTask=f;P=new WeakMap,ve(InternalRenderTask,P,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StatTimer=M.RenderingCancelledException=M.PixelsPerInch=M.PageViewport=M.PDFDateString=M.DOMStandardFontDataFactory=M.DOMSVGFactory=M.DOMCanvasFactory=M.DOMCMapReaderFactory=void 0,M.deprecated=function s(R){console.log("Deprecated API usage: "+R)},M.getFilenameFromUrl=function h(R){const F=R.indexOf("#"),B=R.indexOf("?"),q=Math.min(F>0?F:R.length,B>0?B:R.length);return R.substring(R.lastIndexOf("/",q)+1,q)},M.getPdfFilenameFromUrl=function x(R,F="document.pdf"){if("string"!=typeof R)return F;if(n(R))return(0,oe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),F;const q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Y=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let Z=q.exec(Y[1])||q.exec(Y[2])||q.exec(Y[3]);if(Z&&(Z=Z[0],Z.includes("%")))try{Z=q.exec(decodeURIComponent(Z))[0]}catch{}return Z||F},M.getXfaPageViewport=function y(R,{scale:F=1,rotation:B=0}){const{width:q,height:Y}=R.attributes.style,Z=[0,0,parseInt(q),parseInt(Y)];return new r({viewBox:Z,scale:F,rotation:B})},M.isDataScheme=n,M.isPdfFile=function i(R){return"string"==typeof R&&/\.pdf$/i.test(R)},M.isValidFetchUrl=g,M.loadScript=function t(R,F=!1){return new Promise((B,q)=>{const Y=document.createElement("script");Y.src=R,Y.onload=function(Z){F&&Y.remove(),B(Z)},Y.onerror=function(){q(new Error(`Cannot load script at: ${Y.src}`))},(document.head||document.documentElement).appendChild(Y)})};var m=ee(6),oe=ee(1);const L=class{};let A,W=L;function k(R){return c.apply(this,arguments)}function c(){return(c=_asyncToGenerator(function*(R,F=!1){if(g(R,document.baseURI)){const B=yield fetch(R);if(!B.ok)throw new Error(B.statusText);return F?new Uint8Array(yield B.arrayBuffer()):(0,oe.stringToBytes)(yield B.text())}return new Promise((B,q)=>{const Y=new XMLHttpRequest;Y.open("GET",R,!0),F&&(Y.responseType="arraybuffer"),Y.onreadystatechange=()=>{if(Y.readyState===XMLHttpRequest.DONE){if(200===Y.status||0===Y.status){let Z;if(F&&Y.response?Z=new Uint8Array(Y.response):!F&&Y.responseText&&(Z=(0,oe.stringToBytes)(Y.responseText)),Z)return void B(Z)}q(new Error(Y.statusText))}},Y.send(null)})})).apply(this,arguments)}ze(W,"CSS",96),ze(W,"PDF",72),ze(W,"PDF_TO_CSS_UNITS",L.CSS/L.PDF),M.PixelsPerInch=W,M.DOMCanvasFactory=class K extends m.BaseCanvasFactory{constructor({ownerDocument:F=globalThis.document}={}){super(),this._document=F}_createCanvas(F,B){const q=this._document.createElement("canvas");return q.width=F,q.height=B,q}},M.DOMCMapReaderFactory=class P extends m.BaseCMapReaderFactory{_fetchData(F,B){return k(F,this.isCompressed).then(q=>({cMapData:q,compressionType:B}))}},M.DOMStandardFontDataFactory=class f extends m.BaseStandardFontDataFactory{_fetchData(F){return k(F,!0)}},M.DOMSVGFactory=class u extends m.BaseSVGFactory{_createSVG(F){return document.createElementNS("http://www.w3.org/2000/svg",F)}};class r{constructor({viewBox:F,scale:B,rotation:q,offsetX:Y=0,offsetY:Z=0,dontFlip:V=!1}){this.viewBox=F,this.scale=B,this.rotation=q,this.offsetX=Y,this.offsetY=Z;const N=(F[2]+F[0])/2,G=(F[3]+F[1])/2;let T,z,v,a,l,e,o,d;switch((q%=360)<0&&(q+=360),q){case 180:T=-1,z=0,v=0,a=1;break;case 90:T=0,z=1,v=1,a=0;break;case 270:T=0,z=-1,v=-1,a=0;break;case 0:T=1,z=0,v=0,a=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}V&&(v=-v,a=-a),0===T?(l=Math.abs(G-F[1])*B+Y,e=Math.abs(N-F[0])*B+Z,o=Math.abs(F[3]-F[1])*B,d=Math.abs(F[2]-F[0])*B):(l=Math.abs(N-F[0])*B+Y,e=Math.abs(G-F[1])*B+Z,o=Math.abs(F[2]-F[0])*B,d=Math.abs(F[3]-F[1])*B),this.transform=[T*B,z*B,v*B,a*B,l-T*B*N-v*B*G,e-z*B*N-a*B*G],this.width=o,this.height=d}clone({scale:F=this.scale,rotation:B=this.rotation,offsetX:q=this.offsetX,offsetY:Y=this.offsetY,dontFlip:Z=!1}={}){return new r({viewBox:this.viewBox.slice(),scale:F,rotation:B,offsetX:q,offsetY:Y,dontFlip:Z})}convertToViewportPoint(F,B){return oe.Util.applyTransform([F,B],this.transform)}convertToViewportRectangle(F){const B=oe.Util.applyTransform([F[0],F[1]],this.transform),q=oe.Util.applyTransform([F[2],F[3]],this.transform);return[B[0],B[1],q[0],q[1]]}convertToPdfPoint(F,B){return oe.Util.applyInverseTransform([F,B],this.transform)}}function n(R){const F=R.length;let B=0;for(;B<F&&""===R[B].trim();)B++;return"data:"===R.substring(B,B+5).toLowerCase()}function g(R,F){try{const{protocol:B}=F?new URL(R,F):new URL(R);return"http:"===B||"https:"===B}catch{return!1}}M.PageViewport=r,M.RenderingCancelledException=class _ extends oe.BaseException{constructor(F,B){super(F,"RenderingCancelledException"),this.type=B}},M.StatTimer=class p{constructor(){this.started=Object.create(null),this.times=[]}time(F){F in this.started&&(0,oe.warn)(`Timer is already running for ${F}`),this.started[F]=Date.now()}timeEnd(F){F in this.started||(0,oe.warn)(`Timer has not been started for ${F}`),this.times.push({name:F,start:this.started[F],end:Date.now()}),delete this.started[F]}toString(){const F=[];let B=0;for(const q of this.times){const Y=q.name;Y.length>B&&(B=Y.length)}for(const q of this.times){const Y=q.end-q.start;F.push(`${q.name.padEnd(B)} ${Y}ms\n`)}return F.join("")}},M.PDFDateString=class b{static toDateObject(F){if(!F||"string"!=typeof F)return null;A||(A=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const B=A.exec(F);if(!B)return null;const q=parseInt(B[1],10);let Y=parseInt(B[2],10);Y=Y>=1&&Y<=12?Y-1:0;let Z=parseInt(B[3],10);Z=Z>=1&&Z<=31?Z:1;let V=parseInt(B[4],10);V=V>=0&&V<=23?V:0;let N=parseInt(B[5],10);N=N>=0&&N<=59?N:0;let G=parseInt(B[6],10);G=G>=0&&G<=59?G:0;const T=B[7]||"Z";let z=parseInt(B[8],10);z=z>=0&&z<=23?z:0;let v=parseInt(B[9],10)||0;return v=v>=0&&v<=59?v:0,"-"===T?(V+=z,N+=v):"+"===T&&(V-=z,N-=v),new Date(Date.UTC(q,Y,Z,V,N,G))}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.BaseStandardFontDataFactory=M.BaseSVGFactory=M.BaseCanvasFactory=M.BaseCMapReaderFactory=void 0;var m=ee(1);class oe{constructor(){this.constructor===oe&&(0,m.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,P){if(c<=0||P<=0)throw new Error("Invalid canvas size");const f=this._createCanvas(c,P);return{canvas:f,context:f.getContext("2d")}}reset(c,P,f){if(!c.canvas)throw new Error("Canvas is not specified");if(P<=0||f<=0)throw new Error("Invalid canvas size");c.canvas.width=P,c.canvas.height=f}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,P){(0,m.unreachable)("Abstract method `_createCanvas` called.")}}M.BaseCanvasFactory=oe;class ie{constructor({baseUrl:c=null,isCompressed:P=!1}){this.constructor===ie&&(0,m.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=P}fetch({name:c}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const f=P.baseUrl+c+(P.isCompressed?".bcmap":"");return P._fetchData(f,P.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE).catch(r=>{throw new Error(`Unable to load ${P.isCompressed?"binary ":""}CMap at: ${f}`)})})()}_fetchData(c,P){(0,m.unreachable)("Abstract method `_fetchData` called.")}}M.BaseCMapReaderFactory=ie;class W{constructor({baseUrl:c=null}){this.constructor===W&&(0,m.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch({filename:c}){var P=this;return _asyncToGenerator(function*(){if(!P.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const f=`${P.baseUrl}${c}`;return P._fetchData(f).catch(u=>{throw new Error(`Unable to load font data at: ${f}`)})})()}_fetchData(c){(0,m.unreachable)("Abstract method `_fetchData` called.")}}M.BaseStandardFontDataFactory=W;class K{constructor(){this.constructor===K&&(0,m.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,P){if(c<=0||P<=0)throw new Error("Invalid SVG dimensions");const f=this._createSVG("svg:svg");return f.setAttribute("version","1.1"),f.setAttribute("width",`${c}px`),f.setAttribute("height",`${P}px`),f.setAttribute("preserveAspectRatio","none"),f.setAttribute("viewBox",`0 0 ${c} ${P}`),f}createElement(c){if("string"!=typeof c)throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,m.unreachable)("Abstract method `_createSVG` called.")}}M.BaseSVGFactory=K},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.FontLoader=M.FontFaceObject=void 0;var m=ee(1);class oe{constructor({docId:k,onUnsupportedFeature:c,ownerDocument:P=globalThis.document,styleElement:f=null}){this.constructor===oe&&(0,m.unreachable)("Cannot initialize BaseFontLoader."),this.docId=k,this._onUnsupportedFeature=c,this._document=P,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(k){this.nativeFontFaces.push(k),this._document.fonts.add(k)}insertRule(k){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(c));const P=c.sheet;P.insertRule(k,P.cssRules.length)}clear(){for(const k of this.nativeFontFaces)this._document.fonts.delete(k);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(k){var c=this;return _asyncToGenerator(function*(){if(k.attached||k.missingFile)return;if(k.attached=!0,c.isFontLoadingAPISupported){const f=k.createNativeFontFace();if(f){c.addNativeFontFace(f);try{yield f.loaded}catch(u){throw c._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,m.warn)(`Failed to load font '${f.family}': '${u}'.`),k.disableFontFace=!0,u}}return}const P=k.createFontFaceRule();if(P){if(c.insertRule(P),c.isSyncFontLoadingSupported)return;yield new Promise(f=>{const u=c._queueLoadingCallback(f);c._prepareFontLoadEvent([P],[k],u)})}})()}_queueLoadingCallback(k){(0,m.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,m.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,m.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,m.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(k,c,P){(0,m.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ie;M.FontLoader=ie,M.FontLoader=ie=class extends oe{constructor(k){super(k),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let k=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(k=!0),(0,m.shadow)(this,"isSyncFontLoadingSupported",k)}_queueLoadingCallback(k){const P=this.loadingContext,f={id:"pdfjs-font-loading-"+P.nextRequestId++,done:!1,complete:function c(){for((0,m.assert)(!f.done,"completeRequest() cannot be called twice."),f.done=!0;P.requests.length>0&&P.requests[0].done;){const u=P.requests.shift();setTimeout(u.callback,0)}},callback:k};return P.requests.push(f),f}get _loadTestFont(){return(0,m.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(k,c,P){function f(B,q){return B.charCodeAt(q)<<24|B.charCodeAt(q+1)<<16|B.charCodeAt(q+2)<<8|255&B.charCodeAt(q+3)}function u(B,q,Y,Z){return B.substring(0,q)+Z+B.substring(q+Y)}let r,_;const n=this._document.createElement("canvas");n.width=1,n.height=1;const i=n.getContext("2d");let h=0;const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=u(g,976,p.length,p);const A=1482184792;let b=f(g,16);for(r=0,_=p.length-3;r<_;r+=4)b=b-A+f(p,r)|0;r<p.length&&(b=b-A+f(p+"XXX",r)|0),g=u(g,16,4,(0,m.string32)(b));const y=`url(data:font/opentype;base64,${btoa(g)});`;this.insertRule(`@font-face {font-family:"${p}";src:${y}}`);const R=[];for(const B of c)R.push(B.loadedName);R.push(p);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const B of R){const q=this._document.createElement("span");q.textContent="Hi",q.style.fontFamily=B,F.appendChild(q)}this._document.body.appendChild(F),function x(B,q){if(h++,h>30)return(0,m.warn)("Load test font never loaded."),void q();i.font="30px "+B,i.fillText(".",0,20),i.getImageData(0,0,1,1).data[3]>0?q():setTimeout(x.bind(null,B,q))}(p,()=>{F.remove(),P.complete()})}},M.FontFaceObject=class W{constructor(k,{isEvalSupported:c=!0,disableFontFace:P=!1,ignoreErrors:f=!1,onUnsupportedFeature:u,fontRegistry:r=null}){this.compiledGlyphs=Object.create(null);for(const _ in k)this[_]=k[_];this.isEvalSupported=!1!==c,this.disableFontFace=!0===P,this.ignoreErrors=!0===f,this._onUnsupportedFeature=u,this.fontRegistry=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let k;if(this.cssFontInfo){const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),k=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}else k=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),k}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const k=(0,m.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(k)});`;let P;if(this.cssFontInfo){let f=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(f+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),P=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${f}src:${c}}`}else P=`@font-face {font-family:"${this.loadedName}";src:${c}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,c),P}getPathGenerator(k,c){if(void 0!==this.compiledGlyphs[c])return this.compiledGlyphs[c];let P;try{P=k.get(this.loadedName+"_path_"+c)}catch(f){if(!this.ignoreErrors)throw f;return this._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,m.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[c]=function(u,r){}}if(this.isEvalSupported&&m.FeatureTest.isEvalSupported){const f=[];for(const u of P){const r=void 0!==u.args?u.args.join(","):"";f.push("c.",u.cmd,"(",r,");\n")}return this.compiledGlyphs[c]=new Function("c","size",f.join(""))}return this.compiledGlyphs[c]=function(f,u){for(const r of P)"scale"===r.cmd&&(r.args=[u,-u]),f[r.cmd].apply(f,r.args)}}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationStorage=void 0;var m=ee(9),oe=ee(1);M.AnnotationStorage=class ie{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(K,k){const c=this._storage.get(K);return void 0===c?k:Object.assign(k,c)}getRawValue(K){return this._storage.get(K)}setValue(K,k){const c=this._storage.get(K);let P=!1;if(void 0!==c)for(const[f,u]of Object.entries(k))c[f]!==u&&(P=!0,c[f]=u);else P=!0,this._storage.set(K,k);P&&this._setModified()}getAll(){return this._storage.size>0?(0,oe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const K=new m.MurmurHash3_64;for(const[k,c]of this._storage)K.update(`${k}:${JSON.stringify(c)}`);return K.hexdigest()}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MurmurHash3_64=void 0;var m=ee(1);const oe=3285377520,ie=4294901760,W=65535;M.MurmurHash3_64=class K{constructor(c){this.h1=c?4294967295&c:oe,this.h2=c?4294967295&c:oe}update(c){let P,f;if("string"==typeof c){P=new Uint8Array(2*c.length),f=0;for(let A=0,b=c.length;A<b;A++){const y=c.charCodeAt(A);y<=255?P[f++]=y:(P[f++]=y>>>8,P[f++]=255&y)}}else{if(!(0,m.isArrayBuffer)(c))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=c.slice(),f=P.byteLength}const u=f>>2,r=f-4*u,_=new Uint32Array(P.buffer,0,u);let n=0,i=0,h=this.h1,x=this.h2;const p=3432918353,g=461845907,t=p&W,s=g&W;for(let A=0;A<u;A++)1&A?(n=_[A],n=n*p&ie|n*t&W,n=n<<15|n>>>17,n=n*g&ie|n*s&W,h^=n,h=h<<13|h>>>19,h=5*h+3864292196):(i=_[A],i=i*p&ie|i*t&W,i=i<<15|i>>>17,i=i*g&ie|i*s&W,x^=i,x=x<<13|x>>>19,x=5*x+3864292196);switch(n=0,r){case 3:n^=P[4*u+2]<<16;case 2:n^=P[4*u+1]<<8;case 1:n^=P[4*u],n=n*p&ie|n*t&W,n=n<<15|n>>>17,n=n*g&ie|n*s&W,1&u?h^=n:x^=n}this.h1=h,this.h2=x}hexdigest(){let c=this.h1,P=this.h2;c^=P>>>1,c=3981806797*c&ie|36045*c&W,P=4283543511*P&ie|(2950163797*(P<<16|c>>>16)&ie)>>>16,c^=P>>>1,c=444984403*c&ie|60499*c&W,P=3301882366*P&ie|(3120437893*(P<<16|c>>>16)&ie)>>>16,c^=P>>>1;const f=(c>>>0).toString(16),u=(P>>>0).toString(16);return f.padStart(8,"0")+u.padStart(8,"0")}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CanvasGraphics=void 0;var m=ee(1),oe=ee(11),ie=ee(12),W=ee(3),K=ee(5);const P=4096,n=16;function x(v){if(v._transformStack&&(v._transformStack=[]),!v.mozCurrentTransform){v._originalSave=v.save,v._originalRestore=v.restore,v._originalRotate=v.rotate,v._originalScale=v.scale,v._originalTranslate=v.translate,v._originalTransform=v.transform,v._originalSetTransform=v.setTransform,v._originalResetTransform=v.resetTransform,v._transformMatrix=v._transformMatrix||[1,0,0,1,0,0],v._transformStack=[];try{const a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(v),"lineWidth");v._setLineWidth=a.set,v._getLineWidth=a.get,Object.defineProperty(v,"lineWidth",{set:function(e){this._setLineWidth(1.000001*e)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(v,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(v,"mozCurrentTransformInverse",{get:function(){const[l,e,o,d,w,C]=this._transformMatrix,E=l*d-e*o,U=e*o-l*d;return[d/E,e/U,o/U,l/E,(d*w-o*C)/U,(e*w-l*C)/E]}}),v.save=function(){const l=this._transformMatrix;this._transformStack.push(l),this._transformMatrix=l.slice(0,6),this._originalSave()},v.restore=function(){0===this._transformStack.length&&(0,m.warn)("Tried to restore a ctx when the stack was already empty.");const l=this._transformStack.pop();l&&(this._transformMatrix=l,this._originalRestore())},v.translate=function(l,e){const o=this._transformMatrix;o[4]=o[0]*l+o[2]*e+o[4],o[5]=o[1]*l+o[3]*e+o[5],this._originalTranslate(l,e)},v.scale=function(l,e){const o=this._transformMatrix;o[0]*=l,o[1]*=l,o[2]*=e,o[3]*=e,this._originalScale(l,e)},v.transform=function(l,e,o,d,w,C){const E=this._transformMatrix;this._transformMatrix=[E[0]*l+E[2]*e,E[1]*l+E[3]*e,E[0]*o+E[2]*d,E[1]*o+E[3]*d,E[0]*w+E[2]*C+E[4],E[1]*w+E[3]*C+E[5]],v._originalTransform(l,e,o,d,w,C)},v.setTransform=function(l,e,o,d,w,C){this._transformMatrix=[l,e,o,d,w,C],v._originalSetTransform(l,e,o,d,w,C)},v.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],v._originalResetTransform()},v.rotate=function(l){const e=Math.cos(l),o=Math.sin(l),d=this._transformMatrix;this._transformMatrix=[d[0]*e+d[2]*o,d[1]*e+d[3]*o,d[0]*-o+d[2]*e,d[1]*-o+d[3]*e,d[4],d[5]],this._originalRotate(l)}}}class p{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,l,e,o){let d;return void 0!==this.cache[a]?(d=this.cache[a],this.canvasFactory.reset(d,l,e),d.context.setTransform(1,0,0,1,0,0)):(d=this.canvasFactory.create(l,e),this.cache[a]=d),o&&x(d.context),d}delete(a){delete this.cache[a]}clear(){for(const a in this.cache)this.canvasFactory.destroy(this.cache[a]),delete this.cache[a]}}function g(v,a,l,e,o,d,w,C,E,U){const[H,j,X,Q,ne,ce]=v.mozCurrentTransform;if(0===j&&0===X){const re=Math.round(w*H+ne),I=Math.round(C*Q+ce),pe=Math.abs(Math.round((w+E)*H+ne)-re)||1,ue=Math.abs(Math.round((C+U)*Q+ce)-I)||1;return v.setTransform(Math.sign(H),0,0,Math.sign(Q),re,I),v.drawImage(a,l,e,o,d,0,0,pe,ue),v.setTransform(H,j,X,Q,ne,ce),[pe,ue]}if(0===H&&0===Q){const re=Math.round(C*X+ne),I=Math.round(w*j+ce),pe=Math.abs(Math.round((C+U)*X+ne)-re)||1,ue=Math.abs(Math.round((w+E)*j+ce)-I)||1;return v.setTransform(0,Math.sign(j),Math.sign(X),0,re,I),v.drawImage(a,l,e,o,d,0,0,ue,pe),v.setTransform(H,j,X,Q,ne,ce),[ue,pe]}return v.drawImage(a,l,e,o,d,w,C,E,U),[Math.hypot(H,j)*E,Math.hypot(X,Q)*U]}class s{constructor(a,l){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=m.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=m.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,a,l])}clone(){const a=Object.create(this);return a.clipBox=this.clipBox.slice(),a}setCurrentPoint(a,l){this.x=a,this.y=l}updatePathMinMax(a,l,e){[l,e]=m.Util.applyTransform([l,e],a),this.minX=Math.min(this.minX,l),this.minY=Math.min(this.minY,e),this.maxX=Math.max(this.maxX,l),this.maxY=Math.max(this.maxY,e)}updateRectMinMax(a,l){const e=m.Util.applyTransform(l,a),o=m.Util.applyTransform(l.slice(2),a);this.minX=Math.min(this.minX,e[0],o[0]),this.minY=Math.min(this.minY,e[1],o[1]),this.maxX=Math.max(this.maxX,e[0],o[0]),this.maxY=Math.max(this.maxY,e[1],o[1])}updateScalingPathMinMax(a,l){m.Util.scaleMinMax(a,l),this.minX=Math.min(this.minX,l[0]),this.maxX=Math.max(this.maxX,l[1]),this.minY=Math.min(this.minY,l[2]),this.maxY=Math.max(this.maxY,l[3])}updateCurvePathMinMax(a,l,e,o,d,w,C,E,U,H){const j=m.Util.bezierBoundingBox(l,e,o,d,w,C,E,U);if(H)return H[0]=Math.min(H[0],j[0],j[2]),H[1]=Math.max(H[1],j[0],j[2]),H[2]=Math.min(H[2],j[1],j[3]),void(H[3]=Math.max(H[3],j[1],j[3]));this.updateRectMinMax(a,j)}getPathBoundingBox(a=oe.PathType.FILL,l=null){const e=[this.minX,this.minY,this.maxX,this.maxY];if(a===oe.PathType.STROKE){l||(0,m.unreachable)("Stroke bounding box must include transform.");const o=m.Util.singularValueDecompose2dScale(l),d=o[0]*this.lineWidth/2,w=o[1]*this.lineWidth/2;e[0]-=d,e[1]-=w,e[2]+=d,e[3]+=w}return e}updateClipFromPath(){const a=m.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(a){this.clipBox=a,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(a=oe.PathType.FILL,l=null){return m.Util.intersect(this.clipBox,this.getPathBoundingBox(a,l))}}function A(v,a,l=null){if(typeof ImageData<"u"&&a instanceof ImageData)return void v.putImageData(a,0,0);const e=a.height,o=a.width,d=e%n,w=(e-d)/n,C=0===d?w:w+1,E=v.createImageData(o,n);let H,U=0;const j=a.data,X=E.data;let Q,ne,ce,be,J,se,re,S;if(l)switch(l.length){case 1:J=l[0],se=l[0],re=l[0],S=l[0];break;case 4:J=l[0],se=l[1],re=l[2],S=l[3]}if(a.kind===m.ImageKind.GRAYSCALE_1BPP){const I=j.byteLength,$=new Uint32Array(X.buffer,0,X.byteLength>>2),pe=$.length,de=o+7>>3;let ue=4294967295,me=m.FeatureTest.isLittleEndian?4278190080:255;for(S&&255===S[0]&&0===S[255]&&([ue,me]=[me,ue]),Q=0;Q<C;Q++){for(ce=Q<w?n:d,H=0,ne=0;ne<ce;ne++){const _e=I-U;let Se=0;const Pe=_e>de?o:8*_e-7,Ee=-8&Pe;let te=0,O=0;for(;Se<Ee;Se+=8)O=j[U++],$[H++]=128&O?ue:me,$[H++]=64&O?ue:me,$[H++]=32&O?ue:me,$[H++]=16&O?ue:me,$[H++]=8&O?ue:me,$[H++]=4&O?ue:me,$[H++]=2&O?ue:me,$[H++]=1&O?ue:me;for(;Se<Pe;Se++)0===te&&(O=j[U++],te=128),$[H++]=O&te?ue:me,te>>=1}for(;H<pe;)$[H++]=0;v.putImageData(E,0,Q*n)}}else if(a.kind===m.ImageKind.RGBA_32BPP){const I=!!(J||se||re);for(ne=0,be=o*n*4,Q=0;Q<w;Q++){if(X.set(j.subarray(U,U+be)),U+=be,I)for(let $=0;$<be;$+=4)J&&(X[$+0]=J[X[$+0]]),se&&(X[$+1]=se[X[$+1]]),re&&(X[$+2]=re[X[$+2]]);v.putImageData(E,0,ne),ne+=n}if(Q<C){if(be=o*d*4,X.set(j.subarray(U,U+be)),I)for(let $=0;$<be;$+=4)J&&(X[$+0]=J[X[$+0]]),se&&(X[$+1]=se[X[$+1]]),re&&(X[$+2]=re[X[$+2]]);v.putImageData(E,0,ne)}}else{if(a.kind!==m.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${a.kind}`);{const I=!!(J||se||re);for(ce=n,be=o*ce,Q=0;Q<C;Q++){for(Q>=w&&(ce=d,be=o*ce),H=0,ne=be;ne--;)X[H++]=j[U++],X[H++]=j[U++],X[H++]=j[U++],X[H++]=255;if(I)for(let $=0;$<H;$+=4)J&&(X[$+0]=J[X[$+0]]),se&&(X[$+1]=se[X[$+1]]),re&&(X[$+2]=re[X[$+2]]);v.putImageData(E,0,Q*n)}}}}function b(v,a){if(a.bitmap)return void v.drawImage(a.bitmap,0,0);const l=a.height,e=a.width,o=l%n,d=(l-o)/n,w=0===o?d:d+1,C=v.createImageData(e,n);let E=0;const U=a.data,H=C.data;for(let j=0;j<w;j++){const X=j<d?n:o;({srcPos:E}=(0,ie.applyMaskImageData)({src:U,srcPos:E,dest:H,width:e,height:X})),v.putImageData(C,0,j*n)}}function y(v,a){const l=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let e=0,o=l.length;e<o;e++){const d=l[e];void 0!==v[d]&&(a[d]=v[d])}void 0!==v.setLineDash&&(a.setLineDash(v.getLineDash()),a.lineDashOffset=v.lineDashOffset)}function L(v,a){v.strokeStyle=v.fillStyle=a||"#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",void 0!==v.setLineDash&&(v.setLineDash([]),v.lineDashOffset=0)}function R(v,a,l,e){const o=v.length;for(let d=3;d<o;d+=4){const w=v[d];if(0===w)v[d-3]=a,v[d-2]=l,v[d-1]=e;else if(w<255){const C=255-w;v[d-3]=v[d-3]*w+a*C>>8,v[d-2]=v[d-2]*w+l*C>>8,v[d-1]=v[d-1]*w+e*C>>8}}}function F(v,a,l){const e=v.length;for(let d=3;d<e;d+=4)a[d]=a[d]*(l?l[v[d]]:v[d])*.00392156862745098|0}function B(v,a,l){const e=v.length;for(let o=3;o<e;o+=4){const d=77*v[o-3]+152*v[o-2]+28*v[o-1];a[o]=l?a[o]*l[d>>8]>>8:a[o]*d>>16}}function Z(v,a){const l=m.Util.singularValueDecompose2dScale(v);l[0]=Math.fround(l[0]),l[1]=Math.fround(l[1]);const e=Math.fround((globalThis.devicePixelRatio||1)*K.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==a?a:l[0]<=e||l[1]<=e}const V=["butt","round","square"],N=["miter","round","bevel"],G={},T={};class z{constructor(a,l,e,o,d,w,C,E){this.ctx=a,this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=l,this.objs=e,this.canvasFactory=o,this.imageLayer=d,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=C,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=E?.background||null,this.foregroundColor=E?.foreground||null,a&&x(a),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(a,l=null){return"string"==typeof a?a.startsWith("g_")?this.commonObjs.get(a):this.objs.get(a):l}beginDrawing({transform:a,viewport:l,transparency:e=!1,background:o=null}){const d=this.ctx.canvas.width,w=this.ctx.canvas.height,C=o||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const E=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const U=this.backgroundColor=this.ctx.fillStyle;let H=!0,j=C;if(this.ctx.fillStyle=C,j=this.ctx.fillStyle,H="string"==typeof j&&/^#[0-9A-Fa-f]{6}$/.test(j),"#000000"===E&&"#ffffff"===U||E===U||!H)this.foregroundColor=this.backgroundColor=null;else{const X=parseInt(j.slice(1),16),ne=(X&&65280)>>8,ce=X&&255,be=se=>(se/=255)<=.03928?se/12.92:((se+.055)/1.055)**2.4,J=Math.round(.2126*be((X&&16711680)>>16)+.7152*be(ne)+.0722*be(ce));this.selectColor=(se,re,S)=>{const I=.2126*be(se)+.7152*be(re)+.0722*be(S);return Math.round(I)===J?U:E}}}if(this.ctx.fillStyle=this.backgroundColor||C,this.ctx.fillRect(0,0,d,w),this.ctx.restore(),e){const E=this.cachedCanvases.getCanvas("transparent",d,w,!0);this.compositeCtx=this.ctx,this.transparentCanvas=E.canvas,this.ctx=E.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),L(this.ctx,this.foregroundColor),a&&(this.ctx.transform.apply(this.ctx,a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform.apply(this.ctx,l.transform),this.viewportScale=l.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(a,l,e,o){const d=a.argsArray,w=a.fnArray;let C=l||0;const E=d.length;if(E===C)return C;const U=E-C>10&&"function"==typeof e,H=U?Date.now()+15:0;let j=0;const X=this.commonObjs,Q=this.objs;let ne;for(;;){if(void 0!==o&&C===o.nextBreakPoint)return o.breakIt(C,e),C;if(ne=w[C],ne!==m.OPS.dependency)this[ne].apply(this,d[C]);else for(const ce of d[C]){const be=ce.startsWith("g_")?X:Q;if(!be.has(ce))return be.get(ce,e),C}if(C++,C===E)return C;if(U&&++j>10){if(Date.now()>H)return e(),C;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const a of this._cachedBitmapsMap.values()){for(const l of a.values())typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&(l.width=l.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(a,l){const e=a.width,o=a.height;let H,j,d=Math.max(Math.hypot(l[0],l[1]),1),w=Math.max(Math.hypot(l[2],l[3]),1),C=e,E=o,U="prescale1";for(;d>2&&C>1||w>2&&E>1;){let X=C,Q=E;d>2&&C>1&&(X=Math.ceil(C/2),d/=C/X),w>2&&E>1&&(Q=Math.ceil(E/2),w/=E/Q),H=this.cachedCanvases.getCanvas(U,X,Q,!1),j=H.context,j.clearRect(0,0,X,Q),j.drawImage(a,0,0,C,E,0,0,X,Q),a=H.canvas,C=X,E=Q,U="prescale1"===U?"prescale2":"prescale1"}return{img:a,paintWidth:C,paintHeight:E}}_createMaskCanvas(a){const l=this.ctx,{width:e,height:o}=a,d=this.current.fillColor,w=this.current.patternFill,C=l.mozCurrentTransform;let E,U,H,j;if((a.bitmap||a.data)&&a.count>1){const pe=a.bitmap||a.data.buffer,de=C.slice(0,4);U=JSON.stringify(w?de:[de,d]),E=this._cachedBitmapsMap.get(pe),E||(E=new Map,this._cachedBitmapsMap.set(pe,E));const ue=E.get(U);if(ue&&!w)return{canvas:ue,offsetX:Math.round(Math.min(C[0],C[2])+C[4]),offsetY:Math.round(Math.min(C[1],C[3])+C[5])};H=ue}H||(j=this.cachedCanvases.getCanvas("maskCanvas",e,o,!1),b(j.context,a));let X=m.Util.transform(C,[1/e,0,0,-1/o,0,0]);X=m.Util.transform(X,[1,0,0,1,0,-o]);const Q=m.Util.applyTransform([0,0],X),ne=m.Util.applyTransform([e,o],X),ce=m.Util.normalizeRect([Q[0],Q[1],ne[0],ne[1]]),be=Math.round(ce[2]-ce[0])||1,J=Math.round(ce[3]-ce[1])||1,se=this.cachedCanvases.getCanvas("fillCanvas",be,J,!0),re=se.context,S=Math.min(Q[0],ne[0]),I=Math.min(Q[1],ne[1]);re.translate(-S,-I),re.transform.apply(re,X),H||(H=this._scaleImage(j.canvas,re.mozCurrentTransformInverse),H=H.img,E&&w&&E.set(U,H)),re.imageSmoothingEnabled=Z(re.mozCurrentTransform,a.interpolate),g(re,H,0,0,H.width,H.height,0,0,e,o),re.globalCompositeOperation="source-in";const $=m.Util.transform(re.mozCurrentTransformInverse,[1,0,0,1,-S,-I]);return re.fillStyle=w?d.getPattern(l,this,$,oe.PathType.FILL):d,re.fillRect(0,0,e,o),E&&!w&&(this.cachedCanvases.delete("fillCanvas"),E.set(U,se.canvas)),{canvas:se.canvas,offsetX:Math.round(S),offsetY:Math.round(I)}}setLineWidth(a){a!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=a,this.ctx.lineWidth=a}setLineCap(a){this.ctx.lineCap=V[a]}setLineJoin(a){this.ctx.lineJoin=N[a]}setMiterLimit(a){this.ctx.miterLimit=a}setDash(a,l){const e=this.ctx;void 0!==e.setLineDash&&(e.setLineDash(a),e.lineDashOffset=l)}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let l=0,e=a.length;l<e;l++){const o=a[l],w=o[1];switch(o[0]){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=o[1];break;case"ca":this.current.fillAlpha=o[1],this.ctx.globalAlpha=o[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const o=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=o.context;const d=this.ctx;d.setTransform.apply(d,this.suspendedCtx.mozCurrentTransform),y(this.suspendedCtx,d),function h(v,a){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){a.save(),this.__originalSave()},v.restore=function(){a.restore(),this.__originalRestore()},v.translate=function(e,o){a.translate(e,o),this.__originalTranslate(e,o)},v.scale=function(e,o){a.scale(e,o),this.__originalScale(e,o)},v.transform=function(e,o,d,w,C,E){a.transform(e,o,d,w,C,E),this.__originalTransform(e,o,d,w,C,E)},v.setTransform=function(e,o,d,w,C,E){a.setTransform(e,o,d,w,C,E),this.__originalSetTransform(e,o,d,w,C,E)},v.resetTransform=function(){a.resetTransform(),this.__originalResetTransform()},v.rotate=function(e){a.rotate(e),this.__originalRotate(e)},v.clip=function(e){a.clip(e),this.__originalClip(e)},v.moveTo=function(l,e){a.moveTo(l,e),this.__originalMoveTo(l,e)},v.lineTo=function(l,e){a.lineTo(l,e),this.__originalLineTo(l,e)},v.bezierCurveTo=function(l,e,o,d,w,C){a.bezierCurveTo(l,e,o,d,w,C),this.__originalBezierCurveTo(l,e,o,d,w,C)},v.rect=function(l,e,o,d){a.rect(l,e,o,d),this.__originalRect(l,e,o,d)},v.closePath=function(){a.closePath(),this.__originalClosePath()},v.beginPath=function(){a.beginPath(),this.__originalBeginPath()}}(d,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){this.current.activeSMask&&(a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function Y(v,a,l,e){const o=e[0],d=e[1],w=e[2]-o,C=e[3]-d;0===w||0===C||(function q(v,a,l,e,o,d,w,C,E,U,H){const j=!!d,X=j?d[0]:0,Q=j?d[1]:0,ne=j?d[2]:0;let ce;ce="Luminosity"===o?B:F;const J=Math.min(e,Math.ceil(1048576/l));for(let se=0;se<e;se+=J){const re=Math.min(J,e-se),S=v.getImageData(C-U,se+(E-H),l,re),I=a.getImageData(C,se+E,l,re);j&&R(S.data,X,Q,ne),ce(S.data,I.data,w),a.putImageData(I,C,se+E)}}(a.context,l,w,C,a.subtype,a.backdrop,a.transferMap,o,d,a.offsetX,a.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(l.canvas,0,0),v.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const a=this.current;this.stateStack.push(a),this.current=a.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(a,l,e,o,d,w){this.ctx.transform(a,l,e,o,d,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(a,l,e){const o=this.ctx,d=this.current;let E,U,w=d.x,C=d.y;const H=o.mozCurrentTransform,j=0===H[0]&&0===H[3]||0===H[1]&&0===H[2],X=j?e.slice(0):null;for(let Q=0,ne=0,ce=a.length;Q<ce;Q++)switch(0|a[Q]){case m.OPS.rectangle:w=l[ne++],C=l[ne++];const be=l[ne++],J=l[ne++],se=w+be,re=C+J;o.moveTo(w,C),0===be||0===J?o.lineTo(se,re):(o.lineTo(se,C),o.lineTo(se,re),o.lineTo(w,re)),j||d.updateRectMinMax(H,[w,C,se,re]),o.closePath();break;case m.OPS.moveTo:w=l[ne++],C=l[ne++],o.moveTo(w,C),j||d.updatePathMinMax(H,w,C);break;case m.OPS.lineTo:w=l[ne++],C=l[ne++],o.lineTo(w,C),j||d.updatePathMinMax(H,w,C);break;case m.OPS.curveTo:E=w,U=C,w=l[ne+4],C=l[ne+5],o.bezierCurveTo(l[ne],l[ne+1],l[ne+2],l[ne+3],w,C),d.updateCurvePathMinMax(H,E,U,l[ne],l[ne+1],l[ne+2],l[ne+3],w,C,X),ne+=6;break;case m.OPS.curveTo2:E=w,U=C,o.bezierCurveTo(w,C,l[ne],l[ne+1],l[ne+2],l[ne+3]),d.updateCurvePathMinMax(H,E,U,w,C,l[ne],l[ne+1],l[ne+2],l[ne+3],X),w=l[ne+2],C=l[ne+3],ne+=4;break;case m.OPS.curveTo3:E=w,U=C,w=l[ne+2],C=l[ne+3],o.bezierCurveTo(l[ne],l[ne+1],w,C,w,C),d.updateCurvePathMinMax(H,E,U,l[ne],l[ne+1],w,C,w,C,X),ne+=4;break;case m.OPS.closePath:o.closePath()}j&&d.updateScalingPathMinMax(H,X),d.setCurrentPoint(w,C)}closePath(){this.ctx.closePath()}stroke(a){a=!(typeof a<"u")||a;const l=this.ctx,e=this.current.strokeColor;l.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof e&&e?.getPattern?(l.save(),l.strokeStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,oe.PathType.STROKE),this.rescaleAndStroke(!1),l.restore()):this.rescaleAndStroke(!0)),a&&this.consumePath(this.current.getClippedPathBoundingBox()),l.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(a){a=!(typeof a<"u")||a;const l=this.ctx,e=this.current.fillColor;let d=!1;this.current.patternFill&&(l.save(),l.fillStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,oe.PathType.FILL),d=!0);const w=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==w&&(this.pendingEOFill?(l.fill("evenodd"),this.pendingEOFill=!1):l.fill()),d&&l.restore(),a&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=G}eoClip(){this.pendingClip=T}beginText(){this.current.textMatrix=m.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const a=this.pendingTextPaths,l=this.ctx;if(void 0!==a){l.save(),l.beginPath();for(let e=0;e<a.length;e++){const o=a[e];l.setTransform.apply(l,o.transform),l.translate(o.x,o.y),o.addToPath(l,o.fontSize)}l.restore(),l.clip(),l.beginPath(),delete this.pendingTextPaths}else l.beginPath()}setCharSpacing(a){this.current.charSpacing=a}setWordSpacing(a){this.current.wordSpacing=a}setHScale(a){this.current.textHScale=a/100}setLeading(a){this.current.leading=-a}setFont(a,l){const e=this.commonObjs.get(a),o=this.current;if(!e)throw new Error(`Can't find font for ${a}`);if(o.fontMatrix=e.fontMatrix||m.FONT_IDENTITY_MATRIX,(0===o.fontMatrix[0]||0===o.fontMatrix[3])&&(0,m.warn)("Invalid font matrix for font "+a),l<0?(l=-l,o.fontDirection=-1):o.fontDirection=1,this.current.font=e,this.current.fontSize=l,e.isType3Font)return;let w="normal";e.black?w="900":e.bold&&(w="bold");const C=e.italic?"italic":"normal",E=`"${e.loadedName||"sans-serif"}", ${e.fallbackName}`;let U=l;l<16?U=16:l>100&&(U=100),this.current.fontSizeScale=l/U,this.ctx.font=`${C} ${w} ${U}px ${E}`}setTextRenderingMode(a){this.current.textRenderingMode=a}setTextRise(a){this.current.textRise=a}moveText(a,l){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=l}setLeadingMoveText(a,l){this.setLeading(-l),this.moveText(a,l)}setTextMatrix(a,l,e,o,d,w){this.current.textMatrix=[a,l,e,o,d,w],this.current.textMatrixScale=Math.hypot(a,l),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(a,l,e,o){const d=this.ctx,w=this.current,C=w.font,E=w.textRenderingMode,U=w.fontSize/w.fontSizeScale,H=E&m.TextRenderingMode.FILL_STROKE_MASK,j=!!(E&m.TextRenderingMode.ADD_TO_PATH_FLAG),X=w.patternFill&&!C.missingFile;let Q;(C.disableFontFace||j||X)&&(Q=C.getPathGenerator(this.commonObjs,a)),C.disableFontFace||X?(d.save(),d.translate(l,e),d.beginPath(),Q(d,U),o&&d.setTransform.apply(d,o),(H===m.TextRenderingMode.FILL||H===m.TextRenderingMode.FILL_STROKE)&&d.fill(),(H===m.TextRenderingMode.STROKE||H===m.TextRenderingMode.FILL_STROKE)&&d.stroke(),d.restore()):((H===m.TextRenderingMode.FILL||H===m.TextRenderingMode.FILL_STROKE)&&d.fillText(a,l,e),(H===m.TextRenderingMode.STROKE||H===m.TextRenderingMode.FILL_STROKE)&&d.strokeText(a,l,e)),j&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:l,y:e,fontSize:U,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);a.scale(1.5,1),a.fillText("I",0,10);const l=a.getImageData(0,0,10,10).data;let e=!1;for(let o=3;o<l.length;o+=4)if(l[o]>0&&l[o]<255){e=!0;break}return(0,m.shadow)(this,"isFontSubpixelAAEnabled",e)}showText(a){const l=this.current,e=l.font;if(e.isType3Font)return this.showType3Text(a);const o=l.fontSize;if(0===o)return;const d=this.ctx,w=l.fontSizeScale,C=l.charSpacing,E=l.wordSpacing,U=l.fontDirection,H=l.textHScale*U,j=a.length,X=e.vertical,Q=X?1:-1,ne=e.defaultVMetrics,ce=o*l.fontMatrix[0],be=l.textRenderingMode===m.TextRenderingMode.FILL&&!e.disableFontFace&&!l.patternFill;let J;if(d.save(),d.transform.apply(d,l.textMatrix),d.translate(l.x,l.y+l.textRise),d.scale(H,U>0?-1:1),l.patternFill){d.save();const $=l.fillColor.getPattern(d,this,d.mozCurrentTransformInverse,oe.PathType.FILL);J=d.mozCurrentTransform,d.restore(),d.fillStyle=$}let se=l.lineWidth;const re=l.textMatrixScale;if(0===re||0===se){const $=l.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;($===m.TextRenderingMode.STROKE||$===m.TextRenderingMode.FILL_STROKE)&&(se=this.getSinglePixelWidth())}else se/=re;1!==w&&(d.scale(w,w),se/=w),d.lineWidth=se;let I,S=0;for(I=0;I<j;++I){const $=a[I];if("number"==typeof $){S+=Q*$*o/1e3;continue}let pe=!1;const de=($.isSpace?E:0)+C,ue=$.fontChar,me=$.accent;let _e,Se,Ee,Pe=$.width;if(X){const te=$.vmetric||ne,O=-($.vmetric?te[1]:.5*Pe)*ce;Pe=te?-te[0]:Pe,_e=O/w,Se=(S+te[2]*ce)/w}else _e=S/w,Se=0;if(e.remeasure&&Pe>0){const te=1e3*d.measureText(ue).width/o*w;if(Pe<te&&this.isFontSubpixelAAEnabled){const O=Pe/te;pe=!0,d.save(),d.scale(O,1),_e/=O}else Pe!==te&&(_e+=(Pe-te)/2e3*o/w)}this.contentVisible&&($.isInFont||e.missingFile)&&(be&&!me?d.fillText(ue,_e,Se):(this.paintChar(ue,_e,Se,J),me&&this.paintChar(me.fontChar,_e+o*me.offset.x/w,Se-o*me.offset.y/w,J))),Ee=X?Pe*ce-de*U:Pe*ce+de*U,S+=Ee,pe&&d.restore()}X?l.y-=S:l.x+=S*H,d.restore(),this.compose()}showType3Text(a){const l=this.ctx,e=this.current,o=e.font,d=e.fontSize,w=e.fontDirection,C=o.vertical?1:-1,E=e.charSpacing,U=e.wordSpacing,H=e.textHScale*w,j=e.fontMatrix||m.FONT_IDENTITY_MATRIX,X=a.length;let ne,ce,be,J;if(e.textRenderingMode!==m.TextRenderingMode.INVISIBLE&&0!==d){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,l.save(),l.transform.apply(l,e.textMatrix),l.translate(e.x,e.y),l.scale(H,w),ne=0;ne<X;++ne){if(ce=a[ne],"number"==typeof ce){J=C*ce*d/1e3,this.ctx.translate(J,0),e.x+=J*H;continue}const se=(ce.isSpace?U:0)+E,re=o.charProcOperatorList[ce.operatorListId];re?(this.contentVisible&&(this.processingType3=ce,this.save(),l.scale(d,d),l.transform.apply(l,j),this.executeOperatorList(re),this.restore()),be=m.Util.applyTransform([ce.width,0],j)[0]*d+se,l.translate(be,0),e.x+=be*H):(0,m.warn)(`Type3 character "${ce.operatorListId}" is not available.`)}l.restore(),this.processingType3=null}}setCharWidth(a,l){}setCharWidthAndBounds(a,l,e,o,d,w){this.ctx.rect(e,o,d-e,w-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(a){let l;if("TilingPattern"===a[0]){const e=a[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();l=new oe.TilingPattern(a,e,this.ctx,{createCanvasGraphics:w=>new z(w,this.commonObjs,this.objs,this.canvasFactory)},o)}else l=this._getPattern(a[1],a[2]);return l}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(a,l,e){const o=this.selectColor?.(a,l,e)||m.Util.makeHexColor(a,l,e);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(a,l,e){const o=this.selectColor?.(a,l,e)||m.Util.makeHexColor(a,l,e);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(a,l=null){let e;return this.cachedPatterns.has(a)?e=this.cachedPatterns.get(a):(e=(0,oe.getShadingPattern)(this.objs.get(a)),this.cachedPatterns.set(a,e)),l&&(e.matrix=l),e}shadingFill(a){if(!this.contentVisible)return;const l=this.ctx;this.save();const e=this._getPattern(a);l.fillStyle=e.getPattern(l,this,l.mozCurrentTransformInverse,oe.PathType.SHADING);const o=l.mozCurrentTransformInverse;if(o){const d=l.canvas,w=d.width,C=d.height,E=m.Util.applyTransform([0,0],o),U=m.Util.applyTransform([0,C],o),H=m.Util.applyTransform([w,0],o),j=m.Util.applyTransform([w,C],o),X=Math.min(E[0],U[0],H[0],j[0]),Q=Math.min(E[1],U[1],H[1],j[1]),ne=Math.max(E[0],U[0],H[0],j[0]),ce=Math.max(E[1],U[1],H[1],j[1]);this.ctx.fillRect(X,Q,ne-X,ce-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,m.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,m.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(a,l){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,l)&&(this.ctx.rect(l[0],l[1],l[2]-l[0],l[3]-l[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,l),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const l=this.ctx;a.isolated||(0,m.info)("TODO: Support non-isolated groups."),a.knockout&&(0,m.warn)("Knockout groups not supported.");const e=l.mozCurrentTransform;if(a.matrix&&l.transform.apply(l,a.matrix),!a.bbox)throw new Error("Bounding box is required.");let o=m.Util.getAxialAlignedBoundingBox(a.bbox,l.mozCurrentTransform);o=m.Util.intersect(o,[0,0,l.canvas.width,l.canvas.height])||[0,0,0,0];const w=Math.floor(o[0]),C=Math.floor(o[1]);let E=Math.max(Math.ceil(o[2])-w,1),U=Math.max(Math.ceil(o[3])-C,1),H=1,j=1;E>P&&(H=E/P,E=P),U>P&&(j=U/P,U=P),this.current.startNewPathAndClipBox([0,0,E,U]);let X="groupAt"+this.groupLevel;a.smask&&(X+="_smask_"+this.smaskCounter++%2);const Q=this.cachedCanvases.getCanvas(X,E,U,!0),ne=Q.context;ne.scale(1/H,1/j),ne.translate(-w,-C),ne.transform.apply(ne,e),a.smask?this.smaskStack.push({canvas:Q.canvas,context:ne,offsetX:w,offsetY:C,scaleX:H,scaleY:j,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(l.setTransform(1,0,0,1,0,0),l.translate(w,C),l.scale(H,j),l.save()),y(l,ne),this.ctx=ne,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(l),this.groupLevel++}endGroup(a){if(!this.contentVisible)return;this.groupLevel--;const l=this.ctx,e=this.groupStack.pop();if(this.ctx=e,this.ctx.imageSmoothingEnabled=!1,a.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,o);const d=m.Util.getAxialAlignedBoundingBox([0,0,l.canvas.width,l.canvas.height],o);this.ctx.drawImage(l.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(a,l,e,o,d){if(this.save(),Array.isArray(l)&&4===l.length){const w=l[2]-l[0],C=l[3]-l[1];if(d&&this.annotationCanvasMap){(e=e.slice())[4]-=l[0],e[5]-=l[1],(l=l.slice())[0]=l[1]=0,l[2]=w,l[3]=C;const[E,U]=m.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:H}=this,j=Math.ceil(w*this.outputScaleX*H),X=Math.ceil(C*this.outputScaleY*H);this.annotationCanvas=this.canvasFactory.create(j,X);const{canvas:Q,context:ne}=this.annotationCanvas,ce=`var(--zoom-factor) * ${K.PixelsPerInch.PDF_TO_CSS_UNITS}`;Q.style.width=`calc(${w}px * ${ce})`,Q.style.height=`calc(${C}px * ${ce})`,this.annotationCanvasMap.set(a,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ne,this.ctx.setTransform(E,0,0,-U,0,C*U),x(this.ctx),L(this.ctx,this.foregroundColor)}else L(this.ctx,this.foregroundColor),this.ctx.rect(l[0],l[1],w,C),this.ctx.clip(),this.endPath()}this.current=new s(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,e),this.transform.apply(this,o)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(a){if(!this.contentVisible)return;const l=a.count;(a=this.getObject(a.data,a)).count=l;const e=this.ctx,o=this.processingType3;if(o&&(void 0===o.compiled&&(o.compiled=function t(v){const{width:a,height:l}=v;if(a>1e3||l>1e3)return null;const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=a+1;let C,E,U,w=new Uint8Array(d*(l+1));const H=a+7&-8;let j=new Uint8Array(H*l),X=0;for(const re of v.data){let S=128;for(;S>0;)j[X++]=re&S?0:255,S>>=1}let Q=0;for(X=0,0!==j[X]&&(w[0]=1,++Q),E=1;E<a;E++)j[X]!==j[X+1]&&(w[E]=j[X]?2:1,++Q),X++;for(0!==j[X]&&(w[E]=2,++Q),C=1;C<l;C++){X=C*H,U=C*d,j[X-H]!==j[X]&&(w[U]=j[X]?1:8,++Q);let re=(j[X]?4:0)+(j[X-H]?8:0);for(E=1;E<a;E++)re=(re>>2)+(j[X+1]?4:0)+(j[X-H+1]?8:0),o[re]&&(w[U+E]=o[re],++Q),X++;if(j[X-H]!==j[X]&&(w[U+E]=j[X]?2:4,++Q),Q>1e3)return null}for(X=H*(l-1),U=C*d,0!==j[X]&&(w[U]=8,++Q),E=1;E<a;E++)j[X]!==j[X+1]&&(w[U+E]=j[X]?4:8,++Q),X++;if(0!==j[X]&&(w[U+E]=4,++Q),Q>1e3)return null;const ne=new Int32Array([0,d,-1,0,-d,0,0,0,1]);let ce,be,J;for(W.isNodeJS?be=[]:ce=new Path2D,C=0;Q&&C<=l;C++){let re=C*d;const S=re+a;for(;re<S&&!w[re];)re++;if(re===S)continue;ce?ce.moveTo(re%d,C):J=[re%d,C];const I=re;let $=w[re];do{const pe=ne[$];do{re+=pe}while(!w[re]);const de=w[re];5!==de&&10!==de?($=de,w[re]=0):($=de&51*$>>4,w[re]&=$>>2|$<<2),ce?ce.lineTo(re%d,re/d|0):J.push(re%d,re/d|0),w[re]||--Q}while(I!==re);ce||be.push(J),--C}return j=null,w=null,function(re){if(re.save(),re.scale(1/a,-1/l),re.translate(0,-l),ce)re.fill(ce);else{re.beginPath();for(const S of be){re.moveTo(S[0],S[1]);for(let I=2,$=S.length;I<$;I+=2)re.lineTo(S[I],S[I+1])}re.fill()}re.beginPath(),re.restore()}}(a)),o.compiled))return void o.compiled(e);const d=this._createMaskCanvas(a),w=d.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(w,d.offsetX,d.offsetY),e.restore(),this.compose()}paintImageMaskXObjectRepeat(a,l,e=0,o=0,d,w){if(!this.contentVisible)return;a=this.getObject(a.data,a);const C=this.ctx;C.save();const E=C.mozCurrentTransform;C.transform(l,e,o,d,0,0);const U=this._createMaskCanvas(a);C.setTransform(1,0,0,1,0,0);for(let H=0,j=w.length;H<j;H+=2){const X=m.Util.transform(E,[l,e,o,d,w[H],w[H+1]]),[Q,ne]=m.Util.applyTransform([0,0],X);C.drawImage(U.canvas,Q,ne)}C.restore(),this.compose()}paintImageMaskXObjectGroup(a){if(!this.contentVisible)return;const l=this.ctx,e=this.current.fillColor,o=this.current.patternFill;for(let d=0,w=a.length;d<w;d++){const C=a[d],E=C.width,U=C.height,H=this.cachedCanvases.getCanvas("maskCanvas",E,U,!1),j=H.context;j.save(),b(j,C),j.globalCompositeOperation="source-in",j.fillStyle=o?e.getPattern(j,this,l.mozCurrentTransformInverse,oe.PathType.FILL):e,j.fillRect(0,0,E,U),j.restore(),l.save(),l.transform.apply(l,C.transform),l.scale(1,-1),g(l,H.canvas,0,0,E,U,0,-1,1,1),l.restore()}this.compose()}paintImageXObject(a){if(!this.contentVisible)return;const l=this.getObject(a);l?this.paintInlineImageXObject(l):(0,m.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,l,e,o){if(!this.contentVisible)return;const d=this.getObject(a);if(!d)return void(0,m.warn)("Dependent image isn't ready yet");const w=d.width,C=d.height,E=[];for(let U=0,H=o.length;U<H;U+=2)E.push({transform:[l,0,0,e,o[U],o[U+1]],x:0,y:0,w,h:C});this.paintInlineImageXObjectGroup(d,E)}paintInlineImageXObject(a){if(!this.contentVisible)return;const l=a.width,e=a.height,o=this.ctx;let d;if(this.save(),o.scale(1/l,-1/e),"function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)d=a;else{const U=this.cachedCanvases.getCanvas("inlineImage",l,e,!1);A(U.context,a,this.current.transferMaps),d=U.canvas}const w=this._scaleImage(d,o.mozCurrentTransformInverse);o.imageSmoothingEnabled=Z(o.mozCurrentTransform,a.interpolate);const[C,E]=g(o,w.img,0,0,w.paintWidth,w.paintHeight,0,-e,l,e);if(this.imageLayer){const U=this.getCanvasPosition(0,-e);this.imageLayer.appendImage({imgData:a,left:U[0],top:U[1],width:C,height:E})}this.compose(),this.restore()}paintInlineImageXObjectGroup(a,l){if(!this.contentVisible)return;const e=this.ctx,o=a.width,d=a.height,w=this.cachedCanvases.getCanvas("inlineImage",o,d,!1);A(w.context,a,this.current.transferMaps);for(let E=0,U=l.length;E<U;E++){const H=l[E];if(e.save(),e.transform.apply(e,H.transform),e.scale(1,-1),g(e,w.canvas,H.x,H.y,H.w,H.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(H.x,H.y);this.imageLayer.appendImage({imgData:a,left:j[0],top:j[1],width:o,height:d})}e.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a){}markPointProps(a,l){}beginMarkedContent(a){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,l){this.markedContentStack.push("OC"===a?{visible:this.optionalContentConfig.isVisible(l)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(a){const l=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(a);const e=this.ctx;this.pendingClip&&(l||(this.pendingClip===T?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const a=this.ctx.mozCurrentTransform;if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{const l=Math.abs(a[0]*a[3]-a[2]*a[1]),e=Math.hypot(a[0],a[2]),o=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(e,o)/l}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:a}=this.current,l=this.ctx.mozCurrentTransform;let e,o;if(0===l[1]&&0===l[2]){const d=Math.abs(l[0]),w=Math.abs(l[3]);if(0===a)e=1/d,o=1/w;else{const C=d*a,E=w*a;e=C<1?1/C:1,o=E<1?1/E:1}}else{const d=Math.abs(l[0]*l[3]-l[2]*l[1]),w=Math.hypot(l[0],l[1]),C=Math.hypot(l[2],l[3]);if(0===a)e=C/d,o=w/d;else{const E=a*d;e=C>E?C/E:1,o=w>E?w/E:1}}this._cachedScaleForStroking=[e,o]}return this._cachedScaleForStroking}rescaleAndStroke(a){const{ctx:l}=this,{lineWidth:e}=this.current,[o,d]=this.getScaleForStroking();if(l.lineWidth=e||1,1===o&&1===d)return void l.stroke();let w,C,E;a&&(w=l.mozCurrentTransform.slice(),C=l.getLineDash().slice(),E=l.lineDashOffset),l.scale(o,d);const U=Math.max(o,d);l.setLineDash(l.getLineDash().map(H=>H/U)),l.lineDashOffset/=U,l.stroke(),a&&(l.setTransform(...w),l.setLineDash(C),l.lineDashOffset=E)}getCanvasPosition(a,l){const e=this.ctx.mozCurrentTransform;return[e[0]*a+e[2]*l+e[4],e[1]*a+e[3]*l+e[5]]}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}M.CanvasGraphics=z;for(const v in m.OPS)void 0!==z.prototype[v]&&(z.prototype[m.OPS[v]]=z.prototype[v])},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TilingPattern=M.PathType=void 0,M.getShadingPattern=function r(i){switch(i[0]){case"RadialAxial":return new k(i);case"Mesh":return new f(i);case"Dummy":return new u}throw new Error(`Unknown IR type: ${i[0]}`)};var m=ee(1),oe=ee(3);const ie={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function W(i,h){if(!h||oe.isNodeJS)return;const x=h[2]-h[0],p=h[3]-h[1],g=new Path2D;g.rect(h[0],h[1],x,p),i.clip(g)}M.PathType=ie;class K{constructor(){this.constructor===K&&(0,m.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,m.unreachable)("Abstract method `getPattern` called.")}}class k extends K{constructor(h){super(),this._type=h[1],this._bbox=h[2],this._colorStops=h[3],this._p0=h[4],this._p1=h[5],this._r0=h[6],this._r1=h[7],this.matrix=null}_createGradient(h){let x;"axial"===this._type?x=h.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(x=h.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const p of this._colorStops)x.addColorStop(p[0],p[1]);return x}getPattern(h,x,p,g){let t;if(g===ie.STROKE||g===ie.FILL){const s=x.current.getClippedPathBoundingBox(g,h.mozCurrentTransform)||[0,0,0,0],A=Math.ceil(s[2]-s[0])||1,b=Math.ceil(s[3]-s[1])||1,y=x.cachedCanvases.getCanvas("pattern",A,b,!0),L=y.context;L.clearRect(0,0,L.canvas.width,L.canvas.height),L.beginPath(),L.rect(0,0,L.canvas.width,L.canvas.height),L.translate(-s[0],-s[1]),p=m.Util.transform(p,[1,0,0,1,s[0],s[1]]),L.transform.apply(L,x.baseTransform),this.matrix&&L.transform.apply(L,this.matrix),W(L,this._bbox),L.fillStyle=this._createGradient(L),L.fill(),t=h.createPattern(y.canvas,"no-repeat");const R=new DOMMatrix(p);try{t.setTransform(R)}catch(F){(0,m.warn)(`RadialAxialShadingPattern.getPattern: "${F?.message}".`)}}else W(h,this._bbox),t=this._createGradient(h);return t}}function c(i,h,x,p,g,t,s,A){const b=h.coords,y=h.colors,L=i.data,R=4*i.width;let F;b[x+1]>b[p+1]&&(F=x,x=p,p=F,F=t,t=s,s=F),b[p+1]>b[g+1]&&(F=p,p=g,g=F,F=s,s=A,A=F),b[x+1]>b[p+1]&&(F=x,x=p,p=F,F=t,t=s,s=F);const B=(b[x]+h.offsetX)*h.scaleX,q=(b[x+1]+h.offsetY)*h.scaleY,Y=(b[p]+h.offsetX)*h.scaleX,Z=(b[p+1]+h.offsetY)*h.scaleY,V=(b[g]+h.offsetX)*h.scaleX,N=(b[g+1]+h.offsetY)*h.scaleY;if(q>=N)return;const G=y[t],T=y[t+1],z=y[t+2],v=y[s],a=y[s+1],l=y[s+2],e=y[A],o=y[A+1],d=y[A+2],w=Math.round(q),C=Math.round(N);let E,U,H,j,X,Q,ne,ce;for(let be=w;be<=C;be++){if(be<Z){let I;I=be<q?0:(q-be)/(q-Z),E=B-(B-Y)*I,U=G-(G-v)*I,H=T-(T-a)*I,j=z-(z-l)*I}else{let I;I=be>N?1:Z===N?0:(Z-be)/(Z-N),E=Y-(Y-V)*I,U=v-(v-e)*I,H=a-(a-o)*I,j=l-(l-d)*I}let J;J=be<q?0:be>N?1:(q-be)/(q-N),X=B-(B-V)*J,Q=G-(G-e)*J,ne=T-(T-o)*J,ce=z-(z-d)*J;const se=Math.round(Math.min(E,X)),re=Math.round(Math.max(E,X));let S=R*be+4*se;for(let I=se;I<=re;I++)J=(E-I)/(E-X),J<0?J=0:J>1&&(J=1),L[S++]=U-(U-Q)*J|0,L[S++]=H-(H-ne)*J|0,L[S++]=j-(j-ce)*J|0,L[S++]=255}}function P(i,h,x){const p=h.coords,g=h.colors;let t,s;switch(h.type){case"lattice":const A=h.verticesPerRow,b=Math.floor(p.length/A)-1,y=A-1;for(t=0;t<b;t++){let L=t*A;for(let R=0;R<y;R++,L++)c(i,x,p[L],p[L+1],p[L+A],g[L],g[L+1],g[L+A]),c(i,x,p[L+A+1],p[L+1],p[L+A],g[L+A+1],g[L+1],g[L+A])}break;case"triangles":for(t=0,s=p.length;t<s;t+=3)c(i,x,p[t],p[t+1],p[t+2],g[t],g[t+1],g[t+2]);break;default:throw new Error("illegal figure")}}class f extends K{constructor(h){super(),this._coords=h[2],this._colors=h[3],this._figures=h[4],this._bounds=h[5],this._bbox=h[7],this._background=h[8],this.matrix=null}_createMeshCanvas(h,x,p){const A=Math.floor(this._bounds[0]),b=Math.floor(this._bounds[1]),y=Math.ceil(this._bounds[2])-A,L=Math.ceil(this._bounds[3])-b,R=Math.min(Math.ceil(Math.abs(y*h[0]*1.1)),3e3),F=Math.min(Math.ceil(Math.abs(L*h[1]*1.1)),3e3),B=y/R,q=L/F,Y={coords:this._coords,colors:this._colors,offsetX:-A,offsetY:-b,scaleX:1/B,scaleY:1/q},N=p.getCanvas("mesh",R+4,F+4,!1),G=N.context,T=G.createImageData(R,F);if(x){const v=T.data;for(let a=0,l=v.length;a<l;a+=4)v[a]=x[0],v[a+1]=x[1],v[a+2]=x[2],v[a+3]=255}for(const v of this._figures)P(T,v,Y);return G.putImageData(T,2,2),{canvas:N.canvas,offsetX:A-2*B,offsetY:b-2*q,scaleX:B,scaleY:q}}getPattern(h,x,p,g){let t;if(W(h,this._bbox),g===ie.SHADING)t=m.Util.singularValueDecompose2dScale(h.mozCurrentTransform);else if(t=m.Util.singularValueDecompose2dScale(x.baseTransform),this.matrix){const A=m.Util.singularValueDecompose2dScale(this.matrix);t=[t[0]*A[0],t[1]*A[1]]}const s=this._createMeshCanvas(t,g===ie.SHADING?null:this._background,x.cachedCanvases);return g!==ie.SHADING&&(h.setTransform.apply(h,x.baseTransform),this.matrix&&h.transform.apply(h,this.matrix)),h.translate(s.offsetX,s.offsetY),h.scale(s.scaleX,s.scaleY),h.createPattern(s.canvas,"no-repeat")}}class u extends K{getPattern(){return"hotpink"}}class n{static get MAX_PATTERN_SIZE(){return(0,m.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(h,x,p,g,t){this.operatorList=h[2],this.matrix=h[3]||[1,0,0,1,0,0],this.bbox=h[4],this.xstep=h[5],this.ystep=h[6],this.paintType=h[7],this.tilingType=h[8],this.color=x,this.ctx=p,this.canvasGraphicsFactory=g,this.baseTransform=t}createPatternCanvas(h){const x=this.operatorList,p=this.bbox,g=this.xstep,t=this.ystep,s=this.paintType,b=this.color,y=this.canvasGraphicsFactory;(0,m.info)("TilingType: "+this.tilingType);const L=p[0],R=p[1],F=p[2],B=p[3],q=m.Util.singularValueDecompose2dScale(this.matrix),Y=m.Util.singularValueDecompose2dScale(this.baseTransform),Z=[q[0]*Y[0],q[1]*Y[1]],V=this.getSizeAndScale(g,this.ctx.canvas.width,Z[0]),N=this.getSizeAndScale(t,this.ctx.canvas.height,Z[1]),G=h.cachedCanvases.getCanvas("pattern",V.size,N.size,!0),T=G.context,z=y.createCanvasGraphics(T);z.groupLevel=h.groupLevel,this.setFillAndStrokeStyleToContext(z,s,b);let v=L,a=R,l=F,e=B;return L<0&&(v=0,l+=Math.abs(L)),R<0&&(a=0,e+=Math.abs(R)),T.translate(-V.scale*v,-N.scale*a),z.transform(V.scale,0,0,N.scale,0,0),T.save(),this.clipBbox(z,v,a,l,e),z.baseTransform=z.ctx.mozCurrentTransform.slice(),z.executeOperatorList(x),z.endDrawing(),{canvas:G.canvas,scaleX:V.scale,scaleY:N.scale,offsetX:v,offsetY:a}}getSizeAndScale(h,x,p){h=Math.abs(h);const g=Math.max(n.MAX_PATTERN_SIZE,x);let t=Math.ceil(h*p);return t>=g?t=g:p=t/h,{scale:p,size:t}}clipBbox(h,x,p,g,t){h.ctx.rect(x,p,g-x,t-p),h.current.updateRectMinMax(h.ctx.mozCurrentTransform,[x,p,g,t]),h.clip(),h.endPath()}setFillAndStrokeStyleToContext(h,x,p){const g=h.ctx,t=h.current;switch(x){case 1:const s=this.ctx;g.fillStyle=s.fillStyle,g.strokeStyle=s.strokeStyle,t.fillColor=s.fillStyle,t.strokeColor=s.strokeStyle;break;case 2:const A=m.Util.makeHexColor(p[0],p[1],p[2]);g.fillStyle=A,g.strokeStyle=A,t.fillColor=A,t.strokeColor=A;break;default:throw new m.FormatError(`Unsupported paint type: ${x}`)}}getPattern(h,x,p,g){let t=p;g!==ie.SHADING&&(t=m.Util.transform(t,x.baseTransform),this.matrix&&(t=m.Util.transform(t,this.matrix)));const s=this.createPatternCanvas(x);let A=new DOMMatrix(t);A=A.translate(s.offsetX,s.offsetY),A=A.scale(1/s.scaleX,1/s.scaleY);const b=h.createPattern(s.canvas,"repeat");try{b.setTransform(A)}catch(y){(0,m.warn)(`TilingPattern.getPattern: "${y?.message}".`)}return b}}M.TilingPattern=n},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.applyMaskImageData=function oe({src:ie,srcPos:W=0,dest:K,destPos:k=0,width:c,height:P,inverseDecode:f=!1}){const u=m.FeatureTest.isLittleEndian?4278190080:255,[r,_]=f?[0,u]:[u,0],n=c>>3,i=7&c,h=ie.length;K=new Uint32Array(K.buffer);for(let x=0;x<P;x++){for(const g=W+n;W<g;W++){const t=W<h?ie[W]:255;K[k++]=128&t?_:r,K[k++]=64&t?_:r,K[k++]=32&t?_:r,K[k++]=16&t?_:r,K[k++]=8&t?_:r,K[k++]=4&t?_:r,K[k++]=2&t?_:r,K[k++]=1&t?_:r}if(0===i)continue;const p=W<h?ie[W++]:255;for(let g=0;g<i;g++)K[k++]=p&1<<7-g?_:r}return{srcPos:W,destPos:k}};var m=ee(1)},(he,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GlobalWorkerOptions=void 0;const ee=Object.create(null);M.GlobalWorkerOptions=ee,ee.workerPort=void 0===ee.workerPort?null:ee.workerPort,ee.workerSrc=void 0===ee.workerSrc?"":ee.workerSrc},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MessageHandler=void 0;var m=ee(1);function W(k){switch(k instanceof Error||"object"==typeof k&&null!==k||(0,m.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),k.name){case"AbortException":return new m.AbortException(k.message);case"MissingPDFException":return new m.MissingPDFException(k.message);case"PasswordException":return new m.PasswordException(k.message,k.code);case"UnexpectedResponseException":return new m.UnexpectedResponseException(k.message,k.status);case"UnknownErrorException":return new m.UnknownErrorException(k.message,k.details);default:return new m.UnknownErrorException(k.message,k.toString())}}M.MessageHandler=class K{constructor(c,P,f){this.sourceName=c,this.targetName=P,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=u=>{const r=u.data;if(r.targetName!==this.sourceName)return;if(r.stream)return void this._processStreamMessage(r);if(r.callback){const n=r.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],1===r.callback)i.resolve(r.data);else{if(2!==r.callback)throw new Error("Unexpected callback case");i.reject(W(r.reason))}return}const _=this.actionHandler[r.action];if(!_)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const n=this.sourceName,i=r.sourceName;new Promise(function(h){h(_(r.data))}).then(function(h){f.postMessage({sourceName:n,targetName:i,callback:1,callbackId:r.callbackId,data:h})},function(h){f.postMessage({sourceName:n,targetName:i,callback:2,callbackId:r.callbackId,reason:W(h)})})}else r.streamId?this._createStreamSink(r):_(r.data)},f.addEventListener("message",this._onComObjOnMessage)}on(c,P){const f=this.actionHandler;if(f[c])throw new Error(`There is already an actionName called "${c}"`);f[c]=P}send(c,P,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:P},f)}sendWithPromise(c,P,f){const u=this.callbackId++,r=(0,m.createPromiseCapability)();this.callbackCapabilities[u]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:u,data:P},f)}catch(_){r.reject(_)}return r.promise}sendWithStream(c,P,f,u){const r=this.streamId++,_=this.sourceName,n=this.targetName,i=this.comObj;return new ReadableStream({start:h=>{const x=(0,m.createPromiseCapability)();return this.streamControllers[r]={controller:h,startCall:x,pullCall:null,cancelCall:null,isClosed:!1},i.postMessage({sourceName:_,targetName:n,action:c,streamId:r,data:P,desiredSize:h.desiredSize},u),x.promise},pull:h=>{const x=(0,m.createPromiseCapability)();return this.streamControllers[r].pullCall=x,i.postMessage({sourceName:_,targetName:n,stream:6,streamId:r,desiredSize:h.desiredSize}),x.promise},cancel:h=>{(0,m.assert)(h instanceof Error,"cancel must have a valid reason");const x=(0,m.createPromiseCapability)();return this.streamControllers[r].cancelCall=x,this.streamControllers[r].isClosed=!0,i.postMessage({sourceName:_,targetName:n,stream:1,streamId:r,reason:W(h)}),x.promise}},f)}_createStreamSink(c){const P=c.streamId,f=this.sourceName,u=c.sourceName,r=this.comObj,_=this,n=this.actionHandler[c.action],i={enqueue(h,x=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=x,g>0&&this.desiredSize<=0&&(this.sinkCapability=(0,m.createPromiseCapability)(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:f,targetName:u,stream:4,streamId:P,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:f,targetName:u,stream:3,streamId:P}),delete _.streamSinks[P])},error(h){(0,m.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:f,targetName:u,stream:5,streamId:P,reason:W(h)}))},sinkCapability:(0,m.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};i.sinkCapability.resolve(),i.ready=i.sinkCapability.promise,this.streamSinks[P]=i,new Promise(function(h){h(n(c.data,i))}).then(function(){r.postMessage({sourceName:f,targetName:u,stream:8,streamId:P,success:!0})},function(h){r.postMessage({sourceName:f,targetName:u,stream:8,streamId:P,reason:W(h)})})}_processStreamMessage(c){const P=c.streamId,f=this.sourceName,u=c.sourceName,r=this.comObj,_=this.streamControllers[P],n=this.streamSinks[P];switch(c.stream){case 8:c.success?_.startCall.resolve():_.startCall.reject(W(c.reason));break;case 7:c.success?_.pullCall.resolve():_.pullCall.reject(W(c.reason));break;case 6:if(!n){r.postMessage({sourceName:f,targetName:u,stream:7,streamId:P,success:!0});break}n.desiredSize<=0&&c.desiredSize>0&&n.sinkCapability.resolve(),n.desiredSize=c.desiredSize,new Promise(function(i){i(n.onPull&&n.onPull())}).then(function(){r.postMessage({sourceName:f,targetName:u,stream:7,streamId:P,success:!0})},function(i){r.postMessage({sourceName:f,targetName:u,stream:7,streamId:P,reason:W(i)})});break;case 4:if((0,m.assert)(_,"enqueue should have stream controller"),_.isClosed)break;_.controller.enqueue(c.chunk);break;case 3:if((0,m.assert)(_,"close should have stream controller"),_.isClosed)break;_.isClosed=!0,_.controller.close(),this._deleteStreamController(_,P);break;case 5:(0,m.assert)(_,"error should have stream controller"),_.controller.error(W(c.reason)),this._deleteStreamController(_,P);break;case 2:c.success?_.cancelCall.resolve():_.cancelCall.reject(W(c.reason)),this._deleteStreamController(_,P);break;case 1:if(!n)break;new Promise(function(i){i(n.onCancel&&n.onCancel(W(c.reason)))}).then(function(){r.postMessage({sourceName:f,targetName:u,stream:2,streamId:P,success:!0})},function(i){r.postMessage({sourceName:f,targetName:u,stream:2,streamId:P,reason:W(i)})}),n.sinkCapability.reject(W(c.reason)),n.isCancelled=!0,delete this.streamSinks[P];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,P){var f=this;return _asyncToGenerator(function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete f.streamControllers[P]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(he,M,ee)=>{var ie,W;Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var m=ee(1);ie=new WeakMap,W=new WeakMap,M.Metadata=class oe{constructor({parsedData:k,rawData:c}){ve(this,ie,void 0),ve(this,W,void 0),Te(this,ie,k),Te(this,W,c)}getRaw(){return Ae(this,W)}get(k){return Ae(this,ie).get(k)??null}getAll(){return(0,m.objectFromMap)(Ae(this,ie))}has(k){return Ae(this,ie).has(k)}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.OptionalContentConfig=void 0;var m=ee(1);class oe{constructor(K,k){this.visible=!0,this.name=K,this.intent=k}}M.OptionalContentConfig=class ie{constructor(K){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==K){this.name=K.name,this.creator=K.creator,this._order=K.order;for(const k of K.groups)this._groups.set(k.id,new oe(k.name,k.intent));if("OFF"===K.baseState)for(const k of this._groups)k.visible=!1;for(const k of K.on)this._groups.get(k).visible=!0;for(const k of K.off)this._groups.get(k).visible=!1}}_evaluateVisibilityExpression(K){const k=K.length;if(k<2)return!0;const c=K[0];for(let P=1;P<k;P++){const f=K[P];let u;if(Array.isArray(f))u=this._evaluateVisibilityExpression(f);else{if(!this._groups.has(f))return(0,m.warn)(`Optional content group not found: ${f}`),!0;u=this._groups.get(f).visible}switch(c){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return"And"===c}isVisible(K){if(0===this._groups.size)return!0;if(!K)return(0,m.warn)("Optional content group not defined."),!0;if("OCG"===K.type)return this._groups.has(K.id)?this._groups.get(K.id).visible:((0,m.warn)(`Optional content group not found: ${K.id}`),!0);if("OCMD"===K.type){if(K.expression)return this._evaluateVisibilityExpression(K.expression);if(!K.policy||"AnyOn"===K.policy){for(const k of K.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(this._groups.get(k).visible)return!0}return!1}if("AllOn"===K.policy){for(const k of K.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(!this._groups.get(k).visible)return!1}return!0}if("AnyOff"===K.policy){for(const k of K.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(!this._groups.get(k).visible)return!0}return!1}if("AllOff"===K.policy){for(const k of K.ids){if(!this._groups.has(k))return(0,m.warn)(`Optional content group not found: ${k}`),!0;if(this._groups.get(k).visible)return!1}return!0}return(0,m.warn)(`Unknown optional content policy ${K.policy}.`),!0}return(0,m.warn)(`Unknown group type ${K.type}.`),!0}setVisibility(K,k=!0){this._groups.has(K)?this._groups.get(K).visible=!!k:(0,m.warn)(`Optional content group not found: ${K}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,m.objectFromMap)(this._groups):null}getGroup(K){return this._groups.get(K)||null}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFDataTransportStream=void 0;var m=ee(1),oe=ee(5);M.PDFDataTransportStream=class ie{constructor(c,P){(0,m.assert)(P,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;const f=c.initialData;if(f?.length>0){const u=new Uint8Array(f).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=P,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((u,r)=>{this._onReceiveData({begin:u,chunk:r})}),this._pdfDataRangeTransport.addProgressListener((u,r)=>{this._onProgress({loaded:u,total:r})}),this._pdfDataRangeTransport.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){const P=new Uint8Array(c.chunk).buffer;if(void 0===c.begin)this._fullRequestReader?this._fullRequestReader._enqueue(P):this._queuedChunks.push(P);else{const f=this._rangeReaders.some(function(u){return u._begin===c.begin&&(u._enqueue(P),!0)});(0,m.assert)(f,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){if(void 0===c.total){const P=this._rangeReaders[0];P?.onProgress&&P.onProgress({loaded:c.loaded})}else{const P=this._fullRequestReader;P?.onProgress&&P.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const P=this._rangeReaders.indexOf(c);P>=0&&this._rangeReaders.splice(P,1)}getFullReader(){(0,m.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new W(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,P){if(P<=this._progressiveDataLength)return null;const f=new K(this,c,P);return this._pdfDataRangeTransport.requestDataRange(c,P),this._rangeReaders.push(f),f}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(const P of this._rangeReaders.slice(0))P.cancel(c);this._pdfDataRangeTransport.abort()}};class W{constructor(c,P,f=!1,u=null){this._stream=c,this._done=f||!1,this._filename=(0,oe.isPdfFile)(u)?u:null,this._queuedChunks=P||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunks.length>0)return{value:c._queuedChunks.shift(),done:!1};if(c._done)return{value:void 0,done:!0};const P=(0,m.createPromiseCapability)();return c._requests.push(P),P.promise})()}cancel(c){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class K{constructor(c,P,f){this._stream=c,this._begin=P,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(0===this._requests.length)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var c=this;return _asyncToGenerator(function*(){if(c._queuedChunk){const f=c._queuedChunk;return c._queuedChunk=null,{value:f,done:!1}}if(c._done)return{value:void 0,done:!0};const P=(0,m.createPromiseCapability)();return c._requests.push(P),P.promise})()}cancel(c){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(he,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaText=void 0;class ee{static textContent(oe){const ie=[],W={items:ie,styles:Object.create(null)};return function K(k){if(!k)return;let c=null;const P=k.name;if("#text"===P)c=k.value;else{if(!ee.shouldBuildText(P))return;k?.attributes?.textContent?c=k.attributes.textContent:k.value&&(c=k.value)}if(null!==c&&ie.push({str:c}),k.children)for(const f of k.children)K(f)}(oe),W}static shouldBuildText(oe){return!("textarea"===oe||"input"===oe||"option"===oe||"select"===oe)}}M.XfaText=ee},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NodeStandardFontDataFactory=M.NodeCanvasFactory=M.NodeCMapReaderFactory=void 0;var m=ee(6);const oe=function(k){return new Promise((c,P)=>{__webpack_require__(172).readFile(k,(u,r)=>{!u&&r?c(new Uint8Array(r)):P(new Error(u))})})};M.NodeCanvasFactory=class ie extends m.BaseCanvasFactory{_createCanvas(c,P){return __webpack_require__(3414).createCanvas(c,P)}},M.NodeCMapReaderFactory=class W extends m.BaseCMapReaderFactory{_fetchData(c,P){return oe(c).then(f=>({cMapData:f,compressionType:P}))}},M.NodeStandardFontDataFactory=class K extends m.BaseStandardFontDataFactory{_fetchData(c){return oe(c)}}},(he,M,ee)=>{var v,Je;Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayer=void 0;var m=ee(1),oe=ee(5),ie=ee(8),W=ee(21),K=ee(22);const k=1e3,c=new WeakSet;function P(l){return{width:l[2]-l[0],height:l[3]-l[1]}}class f{static create(e){switch(e.data.annotationType){case m.AnnotationType.LINK:return new r(e);case m.AnnotationType.TEXT:return new _(e);case m.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new i(e);case"Btn":return e.data.radioButton?new x(e):e.data.checkBox?new h(e):new p(e);case"Ch":return new g(e)}return new n(e);case m.AnnotationType.POPUP:return new t(e);case m.AnnotationType.FREETEXT:return new A(e);case m.AnnotationType.LINE:return new b(e);case m.AnnotationType.SQUARE:return new y(e);case m.AnnotationType.CIRCLE:return new L(e);case m.AnnotationType.POLYLINE:return new R(e);case m.AnnotationType.CARET:return new B(e);case m.AnnotationType.INK:return new q(e);case m.AnnotationType.POLYGON:return new F(e);case m.AnnotationType.HIGHLIGHT:return new Y(e);case m.AnnotationType.UNDERLINE:return new Z(e);case m.AnnotationType.SQUIGGLY:return new V(e);case m.AnnotationType.STRIKEOUT:return new N(e);case m.AnnotationType.STAMP:return new G(e);case m.AnnotationType.FILEATTACHMENT:return new T(e);default:return new u(e)}}}class u{constructor(e,{isRenderable:o=!1,ignoreBorder:d=!1,createQuadrilaterals:w=!1}={}){this.isRenderable=o,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,o&&(this.container=this._createContainer(d)),w&&(this.quadrilaterals=this._createQuadrilaterals(d))}_createContainer(e=!1){const o=this.data,d=this.page,w=this.viewport,C=document.createElement("section");let{width:E,height:U}=P(o.rect);C.setAttribute("data-annotation-id",o.id);const H=m.Util.normalizeRect([o.rect[0],d.view[3]-o.rect[1]+d.view[1],o.rect[2],d.view[3]-o.rect[3]+d.view[1]]);if(o.hasOwnCanvas){const j=w.transform.slice(),[X,Q]=m.Util.singularValueDecompose2dScale(j);E=Math.ceil(E*X),U=Math.ceil(U*Q),H[0]*=X,H[1]*=Q;for(let ne=0;ne<4;ne++)j[ne]=Math.sign(j[ne]);C.style.transform=`matrix(${j.join(",")})`}else C.style.transform=`matrix(${w.transform.join(",")})`;if(C.style.transformOrigin=`${-H[0]}px ${-H[1]}px`,!e&&o.borderStyle.width>0){C.style.borderWidth=`${o.borderStyle.width}px`,o.borderStyle.style!==m.AnnotationBorderStyleType.UNDERLINE&&(E-=2*o.borderStyle.width,U-=2*o.borderStyle.width);const j=o.borderStyle.horizontalCornerRadius,X=o.borderStyle.verticalCornerRadius;switch((j>0||X>0)&&(C.style.borderRadius=`${j}px / ${X}px`),o.borderStyle.style){case m.AnnotationBorderStyleType.SOLID:C.style.borderStyle="solid";break;case m.AnnotationBorderStyleType.DASHED:C.style.borderStyle="dashed";break;case m.AnnotationBorderStyleType.BEVELED:(0,m.warn)("Unimplemented border style: beveled");break;case m.AnnotationBorderStyleType.INSET:(0,m.warn)("Unimplemented border style: inset");break;case m.AnnotationBorderStyleType.UNDERLINE:C.style.borderBottomStyle="solid"}o.borderColor||o.color?C.style.borderColor=m.Util.makeHexColor(0|o.color[0],0|o.color[1],0|o.color[2]):C.style.borderWidth=0}return C.style.left=`${H[0]}px`,C.style.top=`${H[1]}px`,o.hasOwnCanvas?C.style.width=C.style.height="auto":(C.style.width=`${E}px`,C.style.height=`${U}px`),C}get _commonActions(){const e=(o,d,w)=>{const C=w.detail[o];w.target.style[d]=W.ColorConverters[`${C[0]}_HTML`](C.slice(1))};return(0,m.shadow)(this,"_commonActions",{display:o=>{const d=o.detail.display%2==1;o.target.style.visibility=d?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:d,print:0===o.detail.display||3===o.detail.display})},print:o=>{this.annotationStorage.setValue(this.data.id,{print:o.detail.print})},hidden:o=>{o.target.style.visibility=o.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:o.detail.hidden})},focus:o=>{setTimeout(()=>o.target.focus({preventScroll:!1}),0)},userName:o=>{o.target.title=o.detail.userName},readonly:o=>{o.detail.readonly?o.target.setAttribute("readonly",""):o.target.removeAttribute("readonly")},required:o=>{o.detail.required?o.target.setAttribute("required",""):o.target.removeAttribute("required")},bgColor:o=>{e("bgColor","backgroundColor",o)},fillColor:o=>{e("fillColor","backgroundColor",o)},fgColor:o=>{e("fgColor","color",o)},textColor:o=>{e("textColor","color",o)},borderColor:o=>{e("borderColor","borderColor",o)},strokeColor:o=>{e("strokeColor","borderColor",o)}})}_dispatchEventFromSandbox(e,o){const d=this._commonActions;for(const w of Object.keys(o.detail)){const C=e[w]||d[w];C&&C(o)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const o=this.annotationStorage.getRawValue(this.data.id);if(!o)return;const d=this._commonActions;for(const[w,C]of Object.entries(o)){const E=d[w];E&&(E({detail:C,target:e}),delete o[w])}}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const o=[],d=this.data.rect;for(const w of this.data.quadPoints)this.data.rect=[w[2].x,w[2].y,w[1].x,w[1].y],o.push(this._createContainer(e));return this.data.rect=d,o}_createPopup(e,o){let d=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,d=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=d.style.height,e.style.width=d.style.width,d.appendChild(e));const C=new s({container:d,trigger:e,color:o.color,titleObj:o.titleObj,modificationDate:o.modificationDate,contentsObj:o.contentsObj,richText:o.richText,hideWrapper:!0}).render();C.style.left=d.style.width,d.appendChild(C)}_renderQuadrilaterals(e){for(const o of this.quadrilaterals)o.className=e;return this.quadrilaterals}render(){(0,m.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,o=null){const d=[];if(this._fieldObjects){const w=this._fieldObjects[e];if(w)for(const{page:C,id:E,exportValues:U}of w){if(-1===C||E===o)continue;const H="string"==typeof U?U:null,j=document.getElementById(E);!j||c.has(j)?d.push({id:E,exportValue:H,domElement:j}):(0,m.warn)(`_getElementsByName - element not allowed: ${E}`)}return d}for(const w of document.getElementsByName(e)){const{id:C,exportValue:E}=w;C!==o&&(!c.has(w)||d.push({id:C,exportValue:E,domElement:w}))}return d}static get platform(){const e=typeof navigator<"u"?navigator.platform:"";return(0,m.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class r extends u{constructor(e,o=null){super(e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),ignoreBorder:!!o?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:e,linkService:o}=this,d=document.createElement("a");if(e.url)o.addLinkAttributes(d,e.url,e.newWindow);else if(e.action)this._bindNamedAction(d,e.action);else if(e.dest)this._bindLink(d,e.dest);else{let w=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(w=!0,this._bindJSAction(d,e)),e.resetForm?this._bindResetFormAction(d,e.resetForm):w||this._bindLink(d,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((w,C)=>{const E=0===C?d:d.cloneNode();return w.appendChild(E),w}):(this.container.className="linkAnnotation",this.container.appendChild(d),this.container)}_bindLink(e,o){e.href=this.linkService.getDestinationHash(o),e.onclick=()=>(o&&this.linkService.goToDestination(o),!1),(o||""===o)&&(e.className="internalLink")}_bindNamedAction(e,o){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(o),!1),e.className="internalLink"}_bindJSAction(e,o){e.href=this.linkService.getAnchorUrl("");const d=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const w of Object.keys(o.actions)){const C=d.get(w);!C||(e[C]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o.id,name:w}}),!1))}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,o){const d=e.onclick;if(d||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,m.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(d||(e.onclick=()=>!1));e.onclick=()=>{d&&d();const{fields:w,refs:C,include:E}=o,U=[];if(0!==w.length||0!==C.length){const X=new Set(C);for(const Q of w){const ne=this._fieldObjects[Q]||[];for(const{id:ce}of ne)X.add(ce)}for(const Q of Object.values(this._fieldObjects))for(const ne of Q)X.has(ne.id)===E&&U.push(ne)}else for(const X of Object.values(this._fieldObjects))U.push(...X);const H=this.annotationStorage,j=[];for(const X of U){const{id:Q}=X;switch(j.push(Q),X.type){case"text":case"combobox":case"listbox":H.setValue(Q,{value:X.defaultValue||""});break;case"checkbox":case"radiobutton":H.setValue(Q,{value:X.defaultValue===X.exportValues});break;default:continue}const ne=document.getElementById(Q);!ne||!c.has(ne)||ne.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:j,name:"ResetForm"}}),!1}}}class _ extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class n extends u{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:o,isMac:d}=u.platform;return o&&e.ctrlKey||d&&e.metaKey}_setEventListener(e,o,d,w){o.includes("mouse")?e.addEventListener(o,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:w(C),shift:C.shiftKey,modifier:this._getKeyModifier(C)}})}):e.addEventListener(o,C=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:w(C)}})})}_setEventListeners(e,o,d){for(const[w,C]of o)("Action"===C||this.data.actions?.[C])&&this._setEventListener(e,w,C,d)}_setBackgroundColor(e){const o=this.data.backgroundColor||null;e.style.backgroundColor=null===o?"transparent":m.Util.makeHexColor(o[0],o[1],o[2])}}class i extends n{constructor(e){super(e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,o,d,w){const C=this.annotationStorage;for(const E of this._getElementsByName(e.name,e.id))E.domElement&&(E.domElement[o]=d),C.setValue(E.id,{[w]:d})}render(){const e=this.annotationStorage,o=this.data.id;this.container.className="textWidgetAnnotation";let d=null;if(this.renderForms){const w=e.getValue(o,{value:this.data.fieldValue}),C=w.formattedValue||w.value||"",E={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(d=document.createElement("textarea"),d.textContent=C):(d=document.createElement("input"),d.type="text",d.setAttribute("value",C)),c.add(d),d.disabled=this.data.readOnly,d.name=this.data.fieldName,d.tabIndex=k,E.userValue=C,d.setAttribute("id",o),d.addEventListener("input",H=>{e.setValue(o,{value:H.target.value}),this.setPropertyOnSiblings(d,"value",H.target.value,"value")}),d.addEventListener("resetform",H=>{d.value=E.userValue=this.data.defaultFieldValue??"",E.formattedValue=null});let U=H=>{const{formattedValue:j}=E;null!=j&&(H.target.value=j),H.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){d.addEventListener("focus",j=>{E.userValue&&(j.target.value=E.userValue),E.valueOnFocus=j.target.value}),d.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(Q){E.userValue=Q.detail.value??"",e.setValue(o,{value:E.userValue.toString()}),Q.target.value=E.userValue},formattedValue(Q){const{formattedValue:ne}=Q.detail;E.formattedValue=ne,null!=ne&&Q.target!==document.activeElement&&(Q.target.value=ne),e.setValue(o,{formattedValue:ne})},selRange(Q){Q.target.setSelectionRange(...Q.detail.selRange)}},j)}),d.addEventListener("keydown",j=>{let X=-1;if("Escape"===j.key?X=0:"Enter"===j.key?X=2:"Tab"===j.key&&(X=3),-1===X)return;const{value:Q}=j.target;E.valueOnFocus!==Q&&(E.userValue=Q,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Q,willCommit:!0,commitKey:X,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const H=U;U=null,d.addEventListener("blur",j=>{const{value:X}=j.target;E.userValue=X,this._mouseState.isDown&&E.valueOnFocus!==X&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:X,willCommit:!0,commitKey:1,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}),H(j)}),this.data.actions?.Keystroke&&d.addEventListener("beforeinput",j=>{const{data:X,target:Q}=j,{value:ne,selectionStart:ce,selectionEnd:be}=Q;let J=ce,se=be;switch(j.inputType){case"deleteWordBackward":{const re=ne.substring(0,ce).match(/\w*[^\w]*$/);re&&(J-=re[0].length);break}case"deleteWordForward":{const re=ne.substring(ce).match(/^[^\w]*\w*/);re&&(se+=re[0].length);break}case"deleteContentBackward":ce===be&&(J-=1);break;case"deleteContentForward":ce===be&&(se+=1)}j.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:ne,change:X||"",willCommit:!1,selStart:J,selEnd:se}})}),this._setEventListeners(d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(U&&d.addEventListener("blur",U),null!==this.data.maxLen&&(d.maxLength=this.data.maxLen),this.data.comb){const j=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;d.classList.add("comb"),d.style.letterSpacing=`calc(${j}px - 1ch)`}}else d=document.createElement("div"),d.textContent=this.data.fieldValue,d.style.verticalAlign="middle",d.style.display="table-cell";return this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.appendChild(d),this.container}_setTextStyle(e){const{fontSize:d,fontColor:w}=this.data.defaultAppearanceData,C=e.style;d&&(C.fontSize=`${d}px`),C.color=m.Util.makeHexColor(w[0],w[1],w[2]),null!==this.data.textAlignment&&(C.textAlign=["left","center","right"][this.data.textAlignment])}}class h extends n{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,o=this.data,d=o.id;let w=e.getValue(d,{value:o.exportValue===o.fieldValue}).value;"string"==typeof w&&(w="Off"!==w,e.setValue(d,{value:w})),this.container.className="buttonWidgetAnnotation checkBox";const C=document.createElement("input");return c.add(C),C.disabled=o.readOnly,C.type="checkbox",C.name=o.fieldName,w&&C.setAttribute("checked",!0),C.setAttribute("id",d),C.setAttribute("exportValue",o.exportValue),C.tabIndex=k,C.addEventListener("change",E=>{const{name:U,checked:H}=E.target;for(const j of this._getElementsByName(U,d)){const X=H&&j.exportValue===o.exportValue;j.domElement&&(j.domElement.checked=X),e.setValue(j.id,{value:X})}e.setValue(d,{value:H})}),C.addEventListener("resetform",E=>{E.target.checked=(o.defaultFieldValue||"Off")===o.exportValue}),this.enableScripting&&this.hasJSActions&&(C.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({value(H){H.target.checked="Off"!==H.detail.value,e.setValue(d,{value:H.target.checked})}},E)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.checked)),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class x extends n{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,o=this.data,d=o.id;let w=e.getValue(d,{value:o.fieldValue===o.buttonValue}).value;"string"==typeof w&&(w=w!==o.buttonValue,e.setValue(d,{value:w}));const C=document.createElement("input");if(c.add(C),C.disabled=o.readOnly,C.type="radio",C.name=o.fieldName,w&&C.setAttribute("checked",!0),C.setAttribute("id",d),C.tabIndex=k,C.addEventListener("change",E=>{const{name:U,checked:H}=E.target;for(const j of this._getElementsByName(U,d))e.setValue(j.id,{value:!1});e.setValue(d,{value:H})}),C.addEventListener("resetform",E=>{const U=o.defaultFieldValue;E.target.checked=null!=U&&U===o.buttonValue}),this.enableScripting&&this.hasJSActions){const E=o.buttonValue;C.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value:j=>{const X=E===j.detail.value;for(const Q of this._getElementsByName(j.target.name)){const ne=X&&Q.id===d;Q.domElement&&(Q.domElement.checked=ne),e.setValue(Q.id,{value:ne})}}},U)}),this._setEventListeners(C,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)}return this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.appendChild(C),this.container}}class p extends r{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(e),e}}class g extends n{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,o=this.data.id,d=e.getValue(o,{value:this.data.fieldValue});let{fontSize:w}=this.data.defaultAppearanceData;w||(w=9);const C=`calc(${w}px * var(--zoom-factor))`,E=document.createElement("select");c.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.setAttribute("id",o),E.tabIndex=k,E.style.fontSize=`${w}px`,this.data.combo||(E.size=this.data.options.length,this.data.multiSelect&&(E.multiple=!0)),E.addEventListener("resetform",j=>{const X=this.data.defaultFieldValue;for(const Q of E.options)Q.selected=Q.value===X});for(const j of this.data.options){const X=document.createElement("option");X.textContent=j.displayValue,X.value=j.exportValue,this.data.combo&&(X.style.fontSize=C),d.value.includes(j.exportValue)&&X.setAttribute("selected",!0),E.appendChild(X)}const U=(j,X)=>{const Q=X?"value":"textContent",ne=j.target.options;return j.target.multiple?Array.prototype.filter.call(ne,ce=>ce.selected).map(ce=>ce[Q]):-1===ne.selectedIndex?null:ne[ne.selectedIndex][Q]},H=j=>Array.prototype.map.call(j.target.options,Q=>({displayValue:Q.textContent,exportValue:Q.value}));return this.enableScripting&&this.hasJSActions?(E.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(Q){const ne=Q.detail.value,ce=new Set(Array.isArray(ne)?ne:[ne]);for(const be of E.options)be.selected=ce.has(be.value);e.setValue(o,{value:U(Q,!0)})},multipleSelection(Q){E.multiple=!0},remove(Q){const ne=E.options,ce=Q.detail.remove;ne[ce].selected=!1,E.remove(ce),ne.length>0&&-1===Array.prototype.findIndex.call(ne,J=>J.selected)&&(ne[0].selected=!0),e.setValue(o,{value:U(Q,!0),items:H(Q)})},clear(Q){for(;0!==E.length;)E.remove(0);e.setValue(o,{value:null,items:[]})},insert(Q){const{index:ne,displayValue:ce,exportValue:be}=Q.detail.insert,J=document.createElement("option");J.textContent=ce,J.value=be,E.insertBefore(J,E.children[ne]),e.setValue(o,{value:U(Q,!0),items:H(Q)})},items(Q){const{items:ne}=Q.detail;for(;0!==E.length;)E.remove(0);for(const ce of ne){const{displayValue:be,exportValue:J}=ce,se=document.createElement("option");se.textContent=be,se.value=J,E.appendChild(se)}E.options.length>0&&(E.options[0].selected=!0),e.setValue(o,{value:U(Q,!0),items:H(Q)})},indices(Q){const ne=new Set(Q.detail.indices);for(const ce of Q.target.options)ce.selected=ne.has(ce.index);e.setValue(o,{value:U(Q,!0)})},editable(Q){Q.target.disabled=!Q.detail.editable}},j)}),E.addEventListener("input",j=>{const X=U(j,!0),Q=U(j,!1);e.setValue(o,{value:X}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:o,name:"Keystroke",value:Q,changeEx:X,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],j=>j.target.checked)):E.addEventListener("input",function(j){e.setValue(o,{value:U(j,!0)})}),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.appendChild(E),this.container}}class t extends u{constructor(e){super(e,{isRenderable:!!(e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const w=new s({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),C=this.page,E=m.Util.normalizeRect([this.data.parentRect[0],C.view[3]-this.data.parentRect[1]+C.view[1],this.data.parentRect[2],C.view[3]-this.data.parentRect[3]+C.view[1]]),U=E[0]+this.data.parentRect[2]-this.data.parentRect[0],H=E[1];return this.container.style.transformOrigin=`${-U}px ${-H}px`,this.container.style.left=`${U}px`,this.container.style.top=`${H}px`,this.container.appendChild(w.render()),this.container}}class s{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){const o=document.createElement("div");o.className="popupWrapper",this.hideElement=this.hideWrapper?o:this.container,this.hideElement.hidden=!0;const d=document.createElement("div");d.className="popup";const w=this.color;w&&(d.style.backgroundColor=m.Util.makeHexColor(0|.7*(255-w[0])+w[0],0|.7*(255-w[1])+w[1],0|.7*(255-w[2])+w[2]));const C=document.createElement("h1");C.dir=this.titleObj.dir,C.textContent=this.titleObj.str,d.appendChild(C);const E=oe.PDFDateString.toDateObject(this.modificationDate);if(E){const U=document.createElement("span");U.className="popupDate",U.textContent="{{date}}, {{time}}",U.dataset.l10nId="annotation_date_string",U.dataset.l10nArgs=JSON.stringify({date:E.toLocaleDateString(),time:E.toLocaleTimeString()}),d.appendChild(U)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const U=this._formatContents(this.contentsObj);d.appendChild(U)}else K.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:d}),d.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const U of this.trigger)U.addEventListener("click",this._toggle.bind(this)),U.addEventListener("mouseover",this._show.bind(this,!1)),U.addEventListener("mouseout",this._hide.bind(this,!1));return d.addEventListener("click",this._hide.bind(this,!0)),o.appendChild(d),o}_formatContents({str:e,dir:o}){const d=document.createElement("p");d.className="popupContent",d.dir=o;const w=e.split(/(?:\r\n?|\n)/);for(let C=0,E=w.length;C<E;++C)d.appendChild(document.createTextNode(w[C])),C<E-1&&d.appendChild(document.createElement("br"));return d}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class A extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:o,height:d}=P(e.rect),w=this.svgFactory.create(o,d),C=this.svgFactory.createElement("svg:line");return C.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),C.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),C.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),C.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),C.setAttribute("stroke-width",e.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),w.appendChild(C),this.container.append(w),this._createPopup(C,e),this.container}}class y extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:o,height:d}=P(e.rect),w=this.svgFactory.create(o,d),C=e.borderStyle.width,E=this.svgFactory.createElement("svg:rect");return E.setAttribute("x",C/2),E.setAttribute("y",C/2),E.setAttribute("width",o-C),E.setAttribute("height",d-C),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class L extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:o,height:d}=P(e.rect),w=this.svgFactory.create(o,d),C=e.borderStyle.width,E=this.svgFactory.createElement("svg:ellipse");return E.setAttribute("cx",o/2),E.setAttribute("cy",d/2),E.setAttribute("rx",o/2-C/2),E.setAttribute("ry",d/2-C/2),E.setAttribute("stroke-width",C||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class R extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:o,height:d}=P(e.rect),w=this.svgFactory.create(o,d);let C=[];for(const U of e.vertices)C.push(U.x-e.rect[0]+","+(e.rect[3]-U.y));C=C.join(" ");const E=this.svgFactory.createElement(this.svgElementName);return E.setAttribute("points",C),E.setAttribute("stroke-width",e.borderStyle.width||1),E.setAttribute("stroke","transparent"),E.setAttribute("fill","transparent"),w.appendChild(E),this.container.append(w),this._createPopup(E,e),this.container}}class F extends R{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class B extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class q extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:o,height:d}=P(e.rect),w=this.svgFactory.create(o,d);for(const C of e.inkLists){let E=[];for(const H of C)E.push(`${H.x-e.rect[0]},${e.rect[3]-H.y}`);E=E.join(" ");const U=this.svgFactory.createElement(this.svgElementName);U.setAttribute("points",E),U.setAttribute("stroke-width",e.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),this._createPopup(U,e),w.appendChild(U)}return this.container.append(w),this.container}}class Y extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Z extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class V extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class N extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class G extends u{constructor(e){super(e,{isRenderable:!!(e.data.hasPopup||e.data.titleObj?.str||e.data.contentsObj?.str||e.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class T extends u{constructor(e){super(e,{isRenderable:!0});const{filename:o,content:d}=this.data.file;this.filename=(0,oe.getFilenameFromUrl)(o),this.content=d,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:o,content:d})}render(){this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class z{static render(e){const o=[],d=[];for(const C of e.annotations){if(!C)continue;const{width:E,height:U}=P(C.rect);if(!(E<=0||U<=0)){if(C.annotationType===m.AnnotationType.POPUP){d.push(C);continue}o.push(C)}}d.length&&o.push(...d);const w=e.div;for(const C of o){const E=f.create({data:C,layer:w,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new oe.DOMSVGFactory,annotationStorage:e.annotationStorage||new ie.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(E.isRenderable){const U=E.render();if(C.hidden&&(U.style.visibility="hidden"),Array.isArray(U))for(const H of U)w.appendChild(H);else E instanceof t?w.prepend(U):w.appendChild(U)}}ye(this,v,Je).call(this,w,e.annotationCanvasMap)}static update(e){const{page:o,viewport:d,annotations:w,annotationCanvasMap:C,div:E}=e,U=d.transform,H=`matrix(${U.join(",")})`;let j,X;for(const Q of w){const ne=E.querySelectorAll(`[data-annotation-id="${Q.id}"]`);if(ne)for(const ce of ne)if(Q.hasOwnCanvas){const be=m.Util.normalizeRect([Q.rect[0],o.view[3]-Q.rect[1]+o.view[1],Q.rect[2],o.view[3]-Q.rect[3]+o.view[1]]);if(!X){j=Math.abs(U[0]||U[1]);const re=U.slice();for(let S=0;S<4;S++)re[S]=Math.sign(re[S]);X=`matrix(${re.join(",")})`}const J=be[0]*j,se=be[1]*j;ce.style.left=`${J}px`,ce.style.top=`${se}px`,ce.style.transformOrigin=`${-J}px ${-se}px`,ce.style.transform=X}else ce.style.transform=H}ye(this,v,Je).call(this,E,C),E.hidden=!1}}v=new WeakSet,Je=function(e,o){if(o){for(const[d,w]of o){const C=e.querySelector(`[data-annotation-id="${d}"]`);if(!C)continue;const{firstChild:E}=C;"CANVAS"===E.nodeName?C.replaceChild(w,E):C.insertBefore(w,E)}o.clear()}},ve(z,v),M.AnnotationLayer=z},(he,M)=>{function ee(oe){return Math.floor(255*Math.max(0,Math.min(1,oe))).toString(16).padStart(2,"0")}Object.defineProperty(M,"__esModule",{value:!0}),M.ColorConverters=void 0,M.ColorConverters=class m{static CMYK_G([ie,W,K,k]){return["G",1-Math.min(1,.3*ie+.59*K+.11*W+k)]}static G_CMYK([ie]){return["CMYK",0,0,0,1-ie]}static G_RGB([ie]){return["RGB",ie,ie,ie]}static G_HTML([ie]){const W=ee(ie);return`#${W}${W}${W}`}static RGB_G([ie,W,K]){return["G",.3*ie+.59*W+.11*K]}static RGB_HTML([ie,W,K]){return`#${ee(ie)}${ee(W)}${ee(K)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ie,W,K,k]){return["RGB",1-Math.min(1,ie+k),1-Math.min(1,K+k),1-Math.min(1,W+k)]}static CMYK_HTML(ie){return this.RGB_HTML(this.CMYK_RGB(ie))}static RGB_CMYK([ie,W,K]){const k=1-ie,c=1-W,P=1-K;return["CMYK",k,c,P,Math.min(k,c,P)]}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayer=void 0;var m=ee(18);M.XfaLayer=class oe{static setupStorage(W,K,k,c,P){const f=c.getValue(K,{value:null});switch(k.name){case"textarea":if(null!==f.value&&(W.textContent=f.value),"print"===P)break;W.addEventListener("input",u=>{c.setValue(K,{value:u.target.value})});break;case"input":if("radio"===k.attributes.type||"checkbox"===k.attributes.type){if(f.value===k.attributes.xfaOn?W.setAttribute("checked",!0):f.value===k.attributes.xfaOff&&W.removeAttribute("checked"),"print"===P)break;W.addEventListener("change",u=>{c.setValue(K,{value:u.target.getAttribute(u.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==f.value&&W.setAttribute("value",f.value),"print"===P)break;W.addEventListener("input",u=>{c.setValue(K,{value:u.target.value})})}break;case"select":if(null!==f.value)for(const u of k.children)u.attributes.value===f.value&&(u.attributes.selected=!0);W.addEventListener("input",u=>{const r=u.target.options;c.setValue(K,{value:-1===r.selectedIndex?"":r[r.selectedIndex].value})})}}static setAttributes({html:W,element:K,storage:k=null,intent:c,linkService:P}){const{attributes:f}=K,u=W instanceof HTMLAnchorElement;"radio"===f.type&&(f.name=`${f.name}-${c}`);for(const[r,_]of Object.entries(f))if(null!=_&&"dataId"!==r)if("style"!==r)if("textContent"===r)W.textContent=_;else if("class"===r)_.length&&W.setAttribute(r,_.join(" "));else{if(u&&("href"===r||"newWindow"===r))continue;W.setAttribute(r,_)}else Object.assign(W.style,_);u&&P.addLinkAttributes(W,f.href,f.newWindow),k&&f.dataId&&this.setupStorage(W,f.dataId,K,k)}static render(W){const K=W.annotationStorage,k=W.linkService,c=W.xfaHtml,P=W.intent||"display",f=document.createElement(c.name);c.attributes&&this.setAttributes({html:f,element:c,intent:P,linkService:k});const u=[[c,-1,f]],r=W.div;if(r.appendChild(f),W.viewport){const n=`matrix(${W.viewport.transform.join(",")})`;r.style.transform=n}"richText"!==P&&r.setAttribute("class","xfaLayer xfaFont");const _=[];for(;u.length>0;){const[n,i,h]=u[u.length-1];if(i+1===n.children.length){u.pop();continue}const x=n.children[++u[u.length-1][1]];if(null===x)continue;const{name:p}=x;if("#text"===p){const t=document.createTextNode(x.value);_.push(t),h.appendChild(t);continue}let g;if(g=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,p):document.createElement(p),h.appendChild(g),x.attributes&&this.setAttributes({html:g,element:x,storage:K,intent:P,linkService:k}),x.children&&x.children.length>0)u.push([x,-1,g]);else if(x.value){const t=document.createTextNode(x.value);m.XfaText.shouldBuildText(p)&&_.push(t),g.appendChild(t)}}for(const n of r.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))n.setAttribute("readOnly",!0);return{textDivs:_}}static update(W){const K=`matrix(${W.viewport.transform.join(",")})`;W.div.style.transform=K,W.div.hidden=!1}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.renderTextLayer=function h(x){const p=new i({textContent:x.textContent,textContentStream:x.textContentStream,container:x.container,viewport:x.viewport,textDivs:x.textDivs,textContentItemsStr:x.textContentItemsStr,enhanceTextSelection:x.enhanceTextSelection});return p._render(x.timeout),p};var m=ee(1);const K=new Map,k=/^\s+$/g;function P(x,p,g,t){const s=document.createElement("span"),A=x._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==p.str,hasEOL:p.hasEOL};x._textDivs.push(s);const b=m.Util.transform(x._viewport.transform,p.transform);let y=Math.atan2(b[1],b[0]);const L=g[p.fontName];L.vertical&&(y+=Math.PI/2);const R=Math.hypot(b[2],b[3]),F=R*function c(x,p){const g=K.get(x);if(g)return g;p.save(),p.font=`30px ${x}`;const t=p.measureText("");let s=t.fontBoundingBoxAscent,A=Math.abs(t.fontBoundingBoxDescent);if(s){p.restore();const y=s/(s+A);return K.set(x,y),y}p.strokeStyle="red",p.clearRect(0,0,30,30),p.strokeText("g",0,0);let b=p.getImageData(0,0,30,30).data;A=0;for(let y=b.length-1-3;y>=0;y-=4)if(b[y]>0){A=Math.ceil(y/4/30);break}p.clearRect(0,0,30,30),p.strokeText("A",0,30),b=p.getImageData(0,0,30,30).data,s=0;for(let y=0,L=b.length;y<L;y+=4)if(b[y]>0){s=30-Math.floor(y/4/30);break}if(p.restore(),s){const y=s/(s+A);return K.set(x,y),y}return K.set(x,.8),.8}(L.fontFamily,t);let B,q;0===y?(B=b[4],q=b[5]-F):(B=b[4]+F*Math.sin(y),q=b[5]-F*Math.cos(y)),s.style.left=`${B}px`,s.style.top=`${q}px`,s.style.fontSize=`${R}px`,s.style.fontFamily=L.fontFamily,s.setAttribute("role","presentation"),s.textContent=p.str,s.dir=p.dir,x._fontInspectorEnabled&&(s.dataset.fontName=p.fontName),0!==y&&(A.angle=y*(180/Math.PI));let Y=!1;if(p.str.length>1||x._enhanceTextSelection&&k.test(p.str))Y=!0;else if(" "!==p.str&&p.transform[0]!==p.transform[3]){const Z=Math.abs(p.transform[0]),V=Math.abs(p.transform[3]);Z!==V&&Math.max(Z,V)/Math.min(Z,V)>1.5&&(Y=!0)}if(Y&&(A.canvasWidth=L.vertical?p.height*x._viewport.scale:p.width*x._viewport.scale),x._textDivProperties.set(s,A),x._textContentStream&&x._layoutText(s),x._enhanceTextSelection&&A.hasText){let Z=1,V=0;0!==y&&(Z=Math.cos(y),V=Math.sin(y));const N=(L.vertical?p.height:p.width)*x._viewport.scale,G=R;let T,z;0!==y?(T=[Z,V,-V,Z,B,q],z=m.Util.getAxialAlignedBoundingBox([0,0,N,G],T)):z=[B,q,B+N,q+G],x._bounds.push({left:z[0],top:z[1],right:z[2],bottom:z[3],div:s,size:[N,G],m:T})}}function f(x){if(x._canceled)return;const p=x._textDivs,g=x._capability,t=p.length;if(t>1e5)return x._renderingDone=!0,void g.resolve();if(!x._textContentStream)for(let s=0;s<t;s++)x._layoutText(p[s]);x._renderingDone=!0,g.resolve()}function u(x,p,g){let t=0;for(let s=0;s<g;s++){const A=x[p++];A>0&&(t=t?Math.min(A,t):A)}return t}function n(x,p){p.sort(function(s,A){return s.x1-A.x1||s.index-A.index});const t=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const s of p){let A=0;for(;A<t.length&&t[A].end<=s.y1;)A++;let b=t.length-1;for(;b>=0&&t[b].start>=s.y2;)b--;let y,L,R,F,B=-1/0;for(R=A;R<=b;R++){let Z;y=t[R],L=y.boundary,Z=L.x2>s.x1?L.index>s.index?L.x1New:s.x1:void 0===L.x2New?(L.x2+s.x1)/2:L.x2New,Z>B&&(B=Z)}for(s.x1New=B,R=A;R<=b;R++)y=t[R],L=y.boundary,void 0===L.x2New?L.x2>s.x1?L.index>s.index&&(L.x2New=L.x2):L.x2New=B:L.x2New>B&&(L.x2New=Math.max(B,L.x2));const q=[];let Y=null;for(R=A;R<=b;R++){y=t[R],L=y.boundary;const Z=L.x2>s.x2?L:s;Y===Z?q[q.length-1].end=y.end:(q.push({start:y.start,end:y.end,boundary:Z}),Y=Z)}for(t[A].start<s.y1&&(q[0].start=s.y1,q.unshift({start:t[A].start,end:s.y1,boundary:t[A].boundary})),s.y2<t[b].end&&(q[q.length-1].end=s.y2,q.push({start:s.y2,end:t[b].end,boundary:t[b].boundary})),R=A;R<=b;R++){if(y=t[R],L=y.boundary,void 0!==L.x2New)continue;let Z=!1;for(F=A-1;!Z&&F>=0&&t[F].start>=L.y1;F--)Z=t[F].boundary===L;for(F=b+1;!Z&&F<t.length&&t[F].end<=L.y2;F++)Z=t[F].boundary===L;for(F=0;!Z&&F<q.length;F++)Z=q[F].boundary===L;Z||(L.x2New=B)}Array.prototype.splice.apply(t,[A,b-A+1].concat(q))}for(const s of t){const A=s.boundary;void 0===A.x2New&&(A.x2New=Math.max(x,A.x2))}}class i{constructor({textContent:p,textContentStream:g,container:t,viewport:s,textDivs:A,textContentItemsStr:b,enhanceTextSelection:y}){this._textContent=p,this._textContentStream=g,this._container=t,this._document=t.ownerDocument,this._viewport=s,this._textDivs=A||[],this._textContentItemsStr=b||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,m.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new m.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(p,g){for(let t=0,s=p.length;t<s;t++)if(void 0!==p[t].str)this._textContentItemsStr.push(p[t].str),P(this,p[t],g,this._layoutTextCtx);else if("beginMarkedContentProps"===p[t].type||"beginMarkedContent"===p[t].type){const A=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==p[t].id&&this._container.setAttribute("id",`${p[t].id}`),A.appendChild(this._container)}else"endMarkedContent"===p[t].type&&(this._container=this._container.parentNode)}_layoutText(p){const g=this._textDivProperties.get(p);let t="";if(0!==g.canvasWidth&&g.hasText){const{fontSize:s,fontFamily:A}=p.style;(s!==this._layoutTextLastFontSize||A!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${s} ${A}`,this._layoutTextLastFontSize=s,this._layoutTextLastFontFamily=A);const{width:b}=this._layoutTextCtx.measureText(p.textContent);if(b>0){const y=g.canvasWidth/b;this._enhanceTextSelection&&(g.scale=y),t=`scaleX(${y})`}}if(0!==g.angle&&(t=`rotate(${g.angle}deg) ${t}`),t.length>0&&(this._enhanceTextSelection&&(g.originalTransform=t),p.style.transform=t),g.hasText&&this._container.appendChild(p),g.hasEOL){const s=document.createElement("br");s.setAttribute("role","presentation"),this._container.appendChild(s)}}_render(p=0){const g=(0,m.createPromiseCapability)();let t=Object.create(null);const s=this._document.createElement("canvas");if(s.height=s.width=30,this._layoutTextCtx=s.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),g.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const A=()=>{this._reader.read().then(({value:b,done:y})=>{y?g.resolve():(Object.assign(t,b.styles),this._processItems(b.items,t),A())},g.reject)};this._reader=this._textContentStream.getReader(),A()}}g.promise.then(()=>{t=null,p?this._renderTimer=setTimeout(()=>{f(this),this._renderTimer=null},p):f(this)},this._capability.reject)}expandTextDivs(p=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function r(x){const p=x._bounds,g=x._viewport,t=function _(x,p,g){const t=g.map(function(A,b){return{x1:A.left,y1:A.top,x2:A.right,y2:A.bottom,index:b,x1New:void 0,x2New:void 0}});n(x,t);const s=new Array(g.length);for(const A of t)s[A.index]={left:A.x1New,top:0,right:A.x2New,bottom:0};g.map(function(A,b){const y=s[b],L=t[b];L.x1=A.top,L.y1=x-y.right,L.x2=A.bottom,L.y2=x-y.left,L.index=b,L.x1New=void 0,L.x2New=void 0}),n(p,t);for(const A of t){const b=A.index;s[b].top=A.x1New,s[b].bottom=A.x2New}return s}(g.width,g.height,p);for(let s=0;s<t.length;s++){const A=p[s].div,b=x._textDivProperties.get(A);if(0===b.angle){b.paddingLeft=p[s].left-t[s].left,b.paddingTop=p[s].top-t[s].top,b.paddingRight=t[s].right-p[s].right,b.paddingBottom=t[s].bottom-p[s].bottom,x._textDivProperties.set(A,b);continue}const y=t[s],L=p[s],R=L.m,F=R[0],B=R[1],q=[[0,0],[0,L.size[1]],[L.size[0],0],L.size],Y=new Float64Array(64);for(let V=0,N=q.length;V<N;V++){const G=m.Util.applyTransform(q[V],R);Y[V+0]=F&&(y.left-G[0])/F,Y[V+4]=B&&(y.top-G[1])/B,Y[V+8]=F&&(y.right-G[0])/F,Y[V+12]=B&&(y.bottom-G[1])/B,Y[V+16]=B&&(y.left-G[0])/-B,Y[V+20]=F&&(y.top-G[1])/F,Y[V+24]=B&&(y.right-G[0])/-B,Y[V+28]=F&&(y.bottom-G[1])/F,Y[V+32]=F&&(y.left-G[0])/-F,Y[V+36]=B&&(y.top-G[1])/-B,Y[V+40]=F&&(y.right-G[0])/-F,Y[V+44]=B&&(y.bottom-G[1])/-B,Y[V+48]=B&&(y.left-G[0])/B,Y[V+52]=F&&(y.top-G[1])/-F,Y[V+56]=B&&(y.right-G[0])/B,Y[V+60]=F&&(y.bottom-G[1])/-F}const Z=1+Math.min(Math.abs(F),Math.abs(B));b.paddingLeft=u(Y,32,16)/Z,b.paddingTop=u(Y,48,16)/Z,b.paddingRight=u(Y,0,16)/Z,b.paddingBottom=u(Y,16,16)/Z,x._textDivProperties.set(A,b)}}(this),this._bounds=null);const g=[],t=[];for(let s=0,A=this._textDivs.length;s<A;s++){const b=this._textDivs[s],y=this._textDivProperties.get(b);!y.hasText||(p?(g.length=0,t.length=0,y.originalTransform&&g.push(y.originalTransform),y.paddingTop>0?(t.push(`${y.paddingTop}px`),g.push(`translateY(${-y.paddingTop}px)`)):t.push(0),t.push(y.paddingRight>0?y.paddingRight/y.scale+"px":0),t.push(y.paddingBottom>0?`${y.paddingBottom}px`:0),y.paddingLeft>0?(t.push(y.paddingLeft/y.scale+"px"),g.push(`translateX(${-y.paddingLeft/y.scale}px)`)):t.push(0),b.style.padding=t.join(" "),g.length&&(b.style.transform=g.join(" "))):(b.style.padding=null,b.style.transform=y.originalTransform))}}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SVGGraphics=void 0;var m=ee(1),oe=ee(5),ie=ee(3);let W=class{constructor(){(0,m.unreachable)("Not implemented: SVGGraphics")}};M.SVGGraphics=W;{let n=function(t){let s=[];const A=[];for(const b of t)"save"!==b.fn?"restore"===b.fn?s=A.pop():s.push(b):(s.push({fnId:92,fn:"group",items:[]}),A.push(s),s=s[s.length-1].items);return s},i=function(t){if(Number.isInteger(t))return t.toString();const s=t.toFixed(10);let A=s.length-1;if("0"!==s[A])return s;do{A--}while("0"===s[A]);return s.substring(0,"."===s[A]?A:A+1)},h=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":`scale(${i(t[0])} ${i(t[3])})`;if(t[0]===t[3]&&t[1]===-t[2]){const s=180*Math.acos(t[0])/Math.PI;return`rotate(${i(s)})`}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return`translate(${i(t[4])} ${i(t[5])})`;return`matrix(${i(t[0])} ${i(t[1])} ${i(t[2])} ${i(t[3])} ${i(t[4])} ${i(t[5])})`};const K={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},k="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",P=["butt","round","square"],f=["miter","round","bevel"],u=function(t,s="",A=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!A)return URL.createObjectURL(new Blob([t],{type:s}));const b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${s};base64,`;for(let L=0,R=t.length;L<R;L+=3){const F=255&t[L],B=255&t[L+1],q=255&t[L+2];y+=b[F>>2]+b[(3&F)<<4|B>>4]+b[L+1<R?(15&B)<<2|q>>6:64]+b[L+2<R?63&q:64]}return y},r=function(){const t=new Uint8Array([137,80,78,71,13,10,26,10]),A=new Int32Array(256);for(let q=0;q<256;q++){let Y=q;for(let Z=0;Z<8;Z++)Y=1&Y?3988292384^Y>>1&2147483647:Y>>1&2147483647;A[q]=Y}function y(q,Y,Z,V){let N=V;const G=Y.length;Z[N]=G>>24&255,Z[N+1]=G>>16&255,Z[N+2]=G>>8&255,Z[N+3]=255&G,N+=4,Z[N]=255&q.charCodeAt(0),Z[N+1]=255&q.charCodeAt(1),Z[N+2]=255&q.charCodeAt(2),Z[N+3]=255&q.charCodeAt(3),N+=4,Z.set(Y,N),N+=Y.length;const T=function b(q,Y,Z){let V=-1;for(let N=Y;N<Z;N++)V=V>>>8^A[255&(V^q[N])];return-1^V}(Z,V+4,N);Z[N]=T>>24&255,Z[N+1]=T>>16&255,Z[N+2]=T>>8&255,Z[N+3]=255&T}function F(q){let Y=q.length;const Z=65535,V=Math.ceil(Y/Z),N=new Uint8Array(2+Y+5*V+4);let G=0;N[G++]=120,N[G++]=156;let T=0;for(;Y>Z;)N[G++]=0,N[G++]=255,N[G++]=255,N[G++]=0,N[G++]=0,N.set(q.subarray(T,T+Z),G),G+=Z,T+=Z,Y-=Z;N[G++]=1,N[G++]=255&Y,N[G++]=Y>>8&255,N[G++]=255&~Y,N[G++]=(65535&~Y)>>8&255,N.set(q.subarray(T),G),G+=q.length-T;const z=function L(q,Y,Z){let V=1,N=0;for(let G=Y;G<Z;++G)V=(V+(255&q[G]))%65521,N=(N+V)%65521;return N<<16|V}(q,0,q.length);return N[G++]=z>>24&255,N[G++]=z>>16&255,N[G++]=z>>8&255,N[G++]=255&z,N}return function(Y,Z,V){return function B(q,Y,Z,V){const N=q.width,G=q.height;let T,z,v;const a=q.data;switch(Y){case m.ImageKind.GRAYSCALE_1BPP:z=0,T=1,v=N+7>>3;break;case m.ImageKind.RGB_24BPP:z=2,T=8,v=3*N;break;case m.ImageKind.RGBA_32BPP:z=6,T=8,v=4*N;break;default:throw new Error("invalid format")}const l=new Uint8Array((1+v)*G);let e=0,o=0;for(let H=0;H<G;++H)l[e++]=0,l.set(a.subarray(o,o+v),e),o+=v,e+=v;if(Y===m.ImageKind.GRAYSCALE_1BPP&&V){e=0;for(let H=0;H<G;H++){e++;for(let j=0;j<v;j++)l[e++]^=255}}const d=new Uint8Array([N>>24&255,N>>16&255,N>>8&255,255&N,G>>24&255,G>>16&255,G>>8&255,255&G,T,z,0,0,0]),w=function R(q){if(!ie.isNodeJS)return F(q);try{let Y;Y=parseInt(process.versions.node)>=8?q:Buffer.from(q);const Z=__webpack_require__(2258).deflateSync(Y,{level:9});return Z instanceof Uint8Array?Z:new Uint8Array(Z)}catch(Y){(0,m.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Y)}return F(q)}(l),E=new Uint8Array(t.length+36+d.length+w.length);let U=0;return E.set(t,U),U+=t.length,y("IHDR",d,E,U),U+=12+d.length,y("IDATA",w,E,U),U+=12+w.length,y("IEND",new Uint8Array(0),E,U),u(E,"image/png",Z)}(Y,void 0===Y.kind?m.ImageKind.GRAYSCALE_1BPP:Y.kind,Z,V)}}();class _{constructor(){this.fontSizeScale=1,this.fontWeight=K.fontWeight,this.fontSize=0,this.textMatrix=m.IDENTITY_MATRIX,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=m.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=K.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(s,A){this.x=s,this.y=A}}let x=0,p=0,g=0;M.SVGGraphics=W=class{constructor(t,s,A=!1){this.svgFactory=new oe.DOMSVGFactory,this.current=new _,this.transformMatrix=m.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=s,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(const b in m.OPS)this._operatorIdMapping[m.OPS[b]]=b}save(){this.transformStack.push(this.transformMatrix);const t=this.current;this.extraStack.push(t),this.current=t.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(t){this.save(),this.executeOpTree(t),this.restore()}loadDependencies(t){const s=t.fnArray,A=t.argsArray;for(let b=0,y=s.length;b<y;b++)if(s[b]===m.OPS.dependency)for(const L of A[b]){const R=L.startsWith("g_")?this.commonObjs:this.objs,F=new Promise(B=>{R.get(L,B)});this.current.dependencies.push(F)}return Promise.all(this.current.dependencies)}transform(t,s,A,b,y,L){this.transformMatrix=m.Util.transform(this.transformMatrix,[t,s,A,b,y,L]),this.tgrp=null}getSVG(t,s){this.viewport=s;const A=this._initialize(s);return this.loadDependencies(t).then(()=>(this.transformMatrix=m.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(t)),A))}convertOpList(t){const s=this._operatorIdMapping,A=t.argsArray,b=t.fnArray,y=[];for(let L=0,R=b.length;L<R;L++){const F=b[L];y.push({fnId:F,fn:s[F],args:A[L]})}return n(y)}executeOpTree(t){for(const s of t){const A=s.fn,y=s.args;switch(0|s.fnId){case m.OPS.beginText:this.beginText();break;case m.OPS.dependency:break;case m.OPS.setLeading:this.setLeading(y);break;case m.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case m.OPS.setFont:this.setFont(y);break;case m.OPS.showText:case m.OPS.showSpacedText:this.showText(y[0]);break;case m.OPS.endText:this.endText();break;case m.OPS.moveText:this.moveText(y[0],y[1]);break;case m.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case m.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case m.OPS.setHScale:this.setHScale(y[0]);break;case m.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case m.OPS.setTextRise:this.setTextRise(y[0]);break;case m.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case m.OPS.setLineWidth:this.setLineWidth(y[0]);break;case m.OPS.setLineJoin:this.setLineJoin(y[0]);break;case m.OPS.setLineCap:this.setLineCap(y[0]);break;case m.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case m.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case m.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case m.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case m.OPS.setFillColorN:this.setFillColorN(y);break;case m.OPS.shadingFill:this.shadingFill(y[0]);break;case m.OPS.setDash:this.setDash(y[0],y[1]);break;case m.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case m.OPS.setFlatness:this.setFlatness(y[0]);break;case m.OPS.setGState:this.setGState(y[0]);break;case m.OPS.fill:this.fill();break;case m.OPS.eoFill:this.eoFill();break;case m.OPS.stroke:this.stroke();break;case m.OPS.fillStroke:this.fillStroke();break;case m.OPS.eoFillStroke:this.eoFillStroke();break;case m.OPS.clip:this.clip("nonzero");break;case m.OPS.eoClip:this.clip("evenodd");break;case m.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case m.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case m.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case m.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case m.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case m.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case m.OPS.closePath:this.closePath();break;case m.OPS.closeStroke:this.closeStroke();break;case m.OPS.closeFillStroke:this.closeFillStroke();break;case m.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case m.OPS.nextLine:this.nextLine();break;case m.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case m.OPS.constructPath:this.constructPath(y[0],y[1]);break;case m.OPS.endPath:this.endPath();break;case 92:this.group(s.items);break;default:(0,m.warn)(`Unimplemented operator ${A}`)}}}setWordSpacing(t){this.current.wordSpacing=t}setCharSpacing(t){this.current.charSpacing=t}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(t,s,A,b,y,L){const R=this.current;R.textMatrix=R.lineMatrix=[t,s,A,b,y,L],R.textMatrixScale=Math.hypot(t,s),R.x=R.lineX=0,R.y=R.lineY=0,R.xcoords=[],R.ycoords=[],R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${i(R.fontSize)}px`),R.tspan.setAttributeNS(null,"y",i(-R.y)),R.txtElement=this.svgFactory.createElement("svg:text"),R.txtElement.appendChild(R.tspan)}beginText(){const t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=m.IDENTITY_MATRIX,t.lineMatrix=m.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}moveText(t,s){const A=this.current;A.x=A.lineX+=t,A.y=A.lineY+=s,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${i(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",i(-A.y))}showText(t){const s=this.current,A=s.font,b=s.fontSize;if(0===b)return;const y=s.fontSizeScale,L=s.charSpacing,R=s.wordSpacing,F=s.fontDirection,B=s.textHScale*F,q=A.vertical,Y=q?1:-1,Z=A.defaultVMetrics,V=b*s.fontMatrix[0];let N=0;for(const z of t){if(null===z){N+=F*R;continue}if("number"==typeof z){N+=Y*z*b/1e3;continue}const v=(z.isSpace?R:0)+L,a=z.fontChar;let l,e,d,o=z.width;if(q){let w;const C=z.vmetric||Z;w=z.vmetric?C[1]:.5*o,w=-w*V,o=C?-C[0]:o,l=w/y,e=(N+C[2]*V)/y}else l=N/y,e=0;(z.isInFont||A.missingFile)&&(s.xcoords.push(s.x+l),q&&s.ycoords.push(-s.y+e),s.tspan.textContent+=a),d=q?o*V-v*F:o*V+v*F,N+=d}s.tspan.setAttributeNS(null,"x",s.xcoords.map(i).join(" ")),s.tspan.setAttributeNS(null,"y",q?s.ycoords.map(i).join(" "):i(-s.y)),q?s.y-=N:s.x+=N*B,s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size",`${i(s.fontSize)}px`),s.fontStyle!==K.fontStyle&&s.tspan.setAttributeNS(null,"font-style",s.fontStyle),s.fontWeight!==K.fontWeight&&s.tspan.setAttributeNS(null,"font-weight",s.fontWeight);const G=s.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;G===m.TextRenderingMode.FILL||G===m.TextRenderingMode.FILL_STROKE?(s.fillColor!==K.fillColor&&s.tspan.setAttributeNS(null,"fill",s.fillColor),s.fillAlpha<1&&s.tspan.setAttributeNS(null,"fill-opacity",s.fillAlpha)):s.tspan.setAttributeNS(null,"fill",s.textRenderingMode===m.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(G===m.TextRenderingMode.STROKE||G===m.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(s.tspan,1/(s.textMatrixScale||1));let T=s.textMatrix;0!==s.textRise&&(T=T.slice(),T[5]+=s.textRise),s.txtElement.setAttributeNS(null,"transform",`${h(T)} scale(${i(B)}, -1)`),s.txtElement.setAttributeNS(k,"xml:space","preserve"),s.txtElement.appendChild(s.tspan),s.txtgrp.appendChild(s.txtElement),this._ensureTransformGroup().appendChild(s.txtElement)}setLeadingMoveText(t,s){this.setLeading(-s),this.moveText(t,s)}addFontStyle(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const s=u(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${t.loadedName}"; src: url(${s}); }\n`}setFont(t){const s=this.current,A=this.commonObjs.get(t[0]);let b=t[1];s.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),s.fontMatrix=A.fontMatrix||m.FONT_IDENTITY_MATRIX;let y="normal";A.black?y="900":A.bold&&(y="bold");const L=A.italic?"italic":"normal";b<0?(b=-b,s.fontDirection=-1):s.fontDirection=1,s.fontSize=b,s.fontFamily=A.loadedName,s.fontWeight=y,s.fontStyle=L,s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"y",i(-s.y)),s.xcoords=[],s.ycoords=[]}endText(){const t=this.current;t.textRenderingMode&m.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement?.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(t){t>0&&(this.current.lineWidth=t)}setLineCap(t){this.current.lineCap=P[t]}setLineJoin(t){this.current.lineJoin=f[t]}setMiterLimit(t){this.current.miterLimit=t}setStrokeAlpha(t){this.current.strokeAlpha=t}setStrokeRGBColor(t,s,A){this.current.strokeColor=m.Util.makeHexColor(t,s,A)}setFillAlpha(t){this.current.fillAlpha=t}setFillRGBColor(t,s,A){this.current.fillColor=m.Util.makeHexColor(t,s,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(t){this.current.strokeColor=this._makeColorN_Pattern(t)}setFillColorN(t){this.current.fillColor=this._makeColorN_Pattern(t)}shadingFill(t){const s=this.viewport.width,A=this.viewport.height,b=m.Util.inverseTransform(this.transformMatrix),y=m.Util.applyTransform([0,0],b),L=m.Util.applyTransform([0,A],b),R=m.Util.applyTransform([s,0],b),F=m.Util.applyTransform([s,A],b),B=Math.min(y[0],L[0],R[0],F[0]),q=Math.min(y[1],L[1],R[1],F[1]),Y=Math.max(y[0],L[0],R[0],F[0]),Z=Math.max(y[1],L[1],R[1],F[1]),V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x",B),V.setAttributeNS(null,"y",q),V.setAttributeNS(null,"width",Y-B),V.setAttributeNS(null,"height",Z-q),V.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&V.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(V)}_makeColorN_Pattern(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}_makeTilingPattern(t){const s=t[1],A=t[2],b=t[3]||m.IDENTITY_MATRIX,[y,L,R,F]=t[4],B=t[5],q=t[6],Y=t[7],Z="shading"+g++,[V,N,G,T]=m.Util.normalizeRect([...m.Util.applyTransform([y,L],b),...m.Util.applyTransform([R,F],b)]),[z,v]=m.Util.singularValueDecompose2dScale(b),a=B*z,l=q*v,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",Z),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",a),e.setAttributeNS(null,"height",l),e.setAttributeNS(null,"x",`${V}`),e.setAttributeNS(null,"y",`${N}`);const o=this.svg,d=this.transformMatrix,w=this.current.fillColor,C=this.current.strokeColor,E=this.svgFactory.create(G-V,T-N);if(this.svg=E,this.transformMatrix=b,2===Y){const U=m.Util.makeHexColor(...s);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(A)),this.svg=o,this.transformMatrix=d,this.current.fillColor=w,this.current.strokeColor=C,e.appendChild(E.childNodes[0]),this.defs.appendChild(e),`url(#${Z})`}_makeShadingPattern(t){switch("string"==typeof t&&(t=this.objs.get(t)),t[0]){case"RadialAxial":const s="shading"+g++,A=t[3];let b;switch(t[1]){case"axial":const y=t[4],L=t[5];b=this.svgFactory.createElement("svg:linearGradient"),b.setAttributeNS(null,"id",s),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"x1",y[0]),b.setAttributeNS(null,"y1",y[1]),b.setAttributeNS(null,"x2",L[0]),b.setAttributeNS(null,"y2",L[1]);break;case"radial":const R=t[4],F=t[5],B=t[6],q=t[7];b=this.svgFactory.createElement("svg:radialGradient"),b.setAttributeNS(null,"id",s),b.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),b.setAttributeNS(null,"cx",F[0]),b.setAttributeNS(null,"cy",F[1]),b.setAttributeNS(null,"r",q),b.setAttributeNS(null,"fx",R[0]),b.setAttributeNS(null,"fy",R[1]),b.setAttributeNS(null,"fr",B);break;default:throw new Error(`Unknown RadialAxial type: ${t[1]}`)}for(const y of A){const L=this.svgFactory.createElement("svg:stop");L.setAttributeNS(null,"offset",y[0]),L.setAttributeNS(null,"stop-color",y[1]),b.appendChild(L)}return this.defs.appendChild(b),`url(#${s})`;case"Mesh":return(0,m.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${t[0]}`)}}setDash(t,s){this.current.dashArray=t,this.current.dashPhase=s}constructPath(t,s){const A=this.current;let b=A.x,y=A.y,L=[],R=0;for(const F of t)switch(0|F){case m.OPS.rectangle:b=s[R++],y=s[R++];const Y=b+s[R++],Z=y+s[R++];L.push("M",i(b),i(y),"L",i(Y),i(y),"L",i(Y),i(Z),"L",i(b),i(Z),"Z");break;case m.OPS.moveTo:b=s[R++],y=s[R++],L.push("M",i(b),i(y));break;case m.OPS.lineTo:b=s[R++],y=s[R++],L.push("L",i(b),i(y));break;case m.OPS.curveTo:b=s[R+4],y=s[R+5],L.push("C",i(s[R]),i(s[R+1]),i(s[R+2]),i(s[R+3]),i(b),i(y)),R+=6;break;case m.OPS.curveTo2:L.push("C",i(b),i(y),i(s[R]),i(s[R+1]),i(s[R+2]),i(s[R+3])),b=s[R+2],y=s[R+3],R+=4;break;case m.OPS.curveTo3:b=s[R+2],y=s[R+3],L.push("C",i(s[R]),i(s[R+1]),i(b),i(y),i(b),i(y)),R+=4;break;case m.OPS.closePath:L.push("Z")}L=L.join(" "),A.path&&t.length>0&&t[0]!==m.OPS.rectangle&&t[0]!==m.OPS.moveTo?L=A.path.getAttributeNS(null,"d")+L:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(A.path)),A.path.setAttributeNS(null,"d",L),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(b,y)}endPath(){const t=this.current;if(t.path=null,!this.pendingClip)return;if(!t.element)return void(this.pendingClip=null);const s="clippath"+x++,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",s),A.setAttributeNS(null,"transform",h(this.transformMatrix));const b=t.element.cloneNode(!0);if(b.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,A.appendChild(b),this.defs.appendChild(A),t.activeClipUrl){t.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;A.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl=`url(#${s})`,this.tgrp=null}clip(t){this.pendingClip=t}closePath(){const t=this.current;if(t.path){const s=`${t.path.getAttributeNS(null,"d")}Z`;t.path.setAttributeNS(null,"d",s)}}setLeading(t){this.current.leading=-t}setTextRise(t){this.current.textRise=t}setTextRenderingMode(t){this.current.textRenderingMode=t}setHScale(t){this.current.textHScale=t/100}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[s,A]of t)switch(s){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,m.warn)(`Unimplemented graphic state operator ${s}`)}}fill(){const t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}stroke(){const t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(t,s=1){const A=this.current;let b=A.dashArray;1!==s&&b.length>0&&(b=b.map(function(y){return s*y})),t.setAttributeNS(null,"stroke",A.strokeColor),t.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",i(A.miterLimit)),t.setAttributeNS(null,"stroke-linecap",A.lineCap),t.setAttributeNS(null,"stroke-linejoin",A.lineJoin),t.setAttributeNS(null,"stroke-width",i(s*A.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",b.map(i).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",i(s*A.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}paintImageXObject(t){const s=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);s?this.paintInlineImageXObject(s):(0,m.warn)(`Dependent image with object ID ${t} is not ready yet`)}paintInlineImageXObject(t,s){const A=t.width,b=t.height,y=r(t,this.forceDataSchema,!!s),L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",i(A)),L.setAttributeNS(null,"height",i(b)),this.current.element=L,this.clip("nonzero");const R=this.svgFactory.createElement("svg:image");R.setAttributeNS(c,"xlink:href",y),R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y",i(-b)),R.setAttributeNS(null,"width",i(A)+"px"),R.setAttributeNS(null,"height",i(b)+"px"),R.setAttributeNS(null,"transform",`scale(${i(1/A)} ${i(-1/b)})`),s?s.appendChild(R):this._ensureTransformGroup().appendChild(R)}paintImageMaskXObject(t){const s=this.current,A=t.width,b=t.height,y=s.fillColor;s.maskId="mask"+p++;const L=this.svgFactory.createElement("svg:mask");L.setAttributeNS(null,"id",s.maskId);const R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x","0"),R.setAttributeNS(null,"y","0"),R.setAttributeNS(null,"width",i(A)),R.setAttributeNS(null,"height",i(b)),R.setAttributeNS(null,"fill",y),R.setAttributeNS(null,"mask",`url(#${s.maskId})`),this.defs.appendChild(L),this._ensureTransformGroup().appendChild(R),this.paintInlineImageXObject(t,L)}paintFormXObjectBegin(t,s){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),s){const A=s[2]-s[0],b=s[3]-s[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",s[0]),y.setAttributeNS(null,"y",s[1]),y.setAttributeNS(null,"width",i(A)),y.setAttributeNS(null,"height",i(b)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(t){const s=this.svgFactory.create(t.width,t.height),A=this.svgFactory.createElement("svg:defs");s.appendChild(A),this.defs=A;const b=this.svgFactory.createElement("svg:g");return b.setAttributeNS(null,"transform",h(t.transform)),s.appendChild(b),this.svg=b,s}_ensureClipGroup(){if(!this.current.clipGroup){const t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNodeStream=void 0;var m=ee(1),oe=ee(26);const ie=__webpack_require__(172),W=__webpack_require__(2001),K=__webpack_require__(3779),k=__webpack_require__(6558),c=/^file:\/\/\/[a-zA-Z]:\//;M.PDFNodeStream=class f{constructor(g){this.source=g,this.url=function P(p){const g=k.parse(p);return"file:"===g.protocol||g.host?g:/^[a-z]:[/\\]/i.test(p)?k.parse(`file:///${p}`):(g.host||(g.protocol="file:"),g)}(g.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new n(this),this._fullRequestReader}getRangeReader(g,t){if(t<=this._progressiveDataLength)return null;const s=this.isFsUrl?new x(this,g,t):new i(this,g,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(g){this._fullRequestReader&&this._fullRequestReader.cancel(g);for(const t of this._rangeRequestReaders.slice(0))t.cancel(g)}};class u{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=g.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._headersCapability=(0,m.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,m.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded,total:g._contentLength}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new m.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class r{constructor(g){this._url=g.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!g.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var g=this;return _asyncToGenerator(function*(){if(yield g._readCapability.promise,g._done)return{value:void 0,done:!0};if(g._storedError)throw g._storedError;const t=g._readableStream.read();return null===t?(g._readCapability=(0,m.createPromiseCapability)(),g.read()):(g._loaded+=t.length,g.onProgress&&g.onProgress({loaded:g._loaded}),{value:new Uint8Array(t).buffer,done:!1})})()}cancel(g){this._readableStream?this._readableStream.destroy(g):this._error(g)}_error(g){this._storedError=g,this._readCapability.resolve()}_setReadableStream(g){this._readableStream=g,g.on("readable",()=>{this._readCapability.resolve()}),g.on("end",()=>{g.destroy(),this._done=!0,this._readCapability.resolve()}),g.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function _(p,g){return{protocol:p.protocol,auth:p.auth,host:p.hostname,port:p.port,path:p.path,method:"GET",headers:g}}class n extends u{constructor(g){super(g);const t=s=>{if(404===s.statusCode){const L=new m.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=L,void this._headersCapability.reject(L)}this._headersCapability.resolve(),this._setReadableStream(s);const A=L=>this._readableStream.headers[L.toLowerCase()],{allowRangeRequests:b,suggestedLength:y}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:g.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=y||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(A)};this._request=null,this._request="http:"===this._url.protocol?W.request(_(this._url,g.httpHeaders),t):K.request(_(this._url,g.httpHeaders),t),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class i extends r{constructor(g,t,s){super(g),this._httpHeaders={};for(const b in g.httpHeaders){const y=g.httpHeaders[b];typeof y>"u"||(this._httpHeaders[b]=y)}this._httpHeaders.Range=`bytes=${t}-${s-1}`;const A=b=>{if(404!==b.statusCode)this._setReadableStream(b);else{const y=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y}};this._request=null,this._request="http:"===this._url.protocol?W.request(_(this._url,this._httpHeaders),A):K.request(_(this._url,this._httpHeaders),A),this._request.on("error",b=>{this._storedError=b}),this._request.end()}}class h extends u{constructor(g){super(g);let t=decodeURIComponent(this._url.path);c.test(this._url.href)&&(t=t.replace(/^\//,"")),ie.lstat(t,(s,A)=>{if(s)return"ENOENT"===s.code&&(s=new m.MissingPDFException(`Missing PDF "${t}".`)),this._storedError=s,void this._headersCapability.reject(s);this._contentLength=A.size,this._setReadableStream(ie.createReadStream(t)),this._headersCapability.resolve()})}}class x extends r{constructor(g,t,s){super(g);let A=decodeURIComponent(this._url.path);c.test(this._url.href)&&(A=A.replace(/^\//,"")),this._setReadableStream(ie.createReadStream(A,{start:t,end:s-1}))}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.createResponseStatusError=function k(P,f){return 404===P||0===P&&f.startsWith("file:")?new m.MissingPDFException('Missing PDF "'+f+'".'):new m.UnexpectedResponseException(`Unexpected server response (${P}) while retrieving PDF "${f}".`,P)},M.extractFilenameFromHeader=function K(P){const f=P("Content-Disposition");if(f){let u=(0,oe.getFilenameFromContentDispositionHeader)(f);if(u.includes("%"))try{u=decodeURIComponent(u)}catch{}if((0,ie.isPdfFile)(u))return u}return null},M.validateRangeRequestCapabilities=function W({getResponseHeader:P,isHttp:f,rangeChunkSize:u,disableRange:r}){const _={allowRangeRequests:!1,suggestedLength:void 0},n=parseInt(P("Content-Length"),10);return!Number.isInteger(n)||(_.suggestedLength=n,n<=2*u)||r||!f||"bytes"!==P("Accept-Ranges")||"identity"!==(P("Content-Encoding")||"identity")||(_.allowRangeRequests=!0),_},M.validateResponseStatus=function c(P){return 200===P||206===P};var m=ee(1),oe=ee(27),ie=ee(5)},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getFilenameFromContentDispositionHeader=function oe(ie){let W=!0,K=k("filename\\*","i").exec(ie);if(K){K=K[1];let n=u(K);return n=unescape(n),n=r(n),n=_(n),P(n)}if(K=function f(n){const i=[];let h;const x=k("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(h=x.exec(n));){let[,g,t,s]=h;if(g=parseInt(g,10),g in i){if(0===g)break}else i[g]=[t,s]}const p=[];for(let g=0;g<i.length&&g in i;++g){let[t,s]=i[g];s=u(s),t&&(s=unescape(s),0===g&&(s=r(s))),p.push(s)}return p.join("")}(ie),K)return P(_(K));if(K=k("filename","i").exec(ie),K){K=K[1];let n=u(K);return n=_(n),P(n)}function k(n,i){return new RegExp("(?:^|;)\\s*"+n+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',i)}function c(n,i){if(n){if(!/^[\x00-\xFF]+$/.test(i))return i;try{const h=new TextDecoder(n,{fatal:!0}),x=(0,m.stringToBytes)(i);i=h.decode(x),W=!1}catch{}}return i}function P(n){return W&&/[\x80-\xff]/.test(n)&&(n=c("utf-8",n),W&&(n=c("iso-8859-1",n))),n}function u(n){if(n.startsWith('"')){const i=n.slice(1).split('\\"');for(let h=0;h<i.length;++h){const x=i[h].indexOf('"');-1!==x&&(i[h]=i[h].slice(0,x),i.length=h+1),i[h]=i[h].replace(/\\(.)/g,"$1")}n=i.join('"')}return n}function r(n){const i=n.indexOf("'");return-1===i?n:c(n.slice(0,i),n.slice(i+1).replace(/^[^']*'/,""))}function _(n){return!n.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(n)?n:n.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(i,h,x,p){if("q"===x||"Q"===x)return c(h,p=(p=p.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(g,t){return String.fromCharCode(parseInt(t,16))}));try{p=atob(p)}catch{}return c(h,p)})}return""};var m=ee(1)},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNetworkStream=void 0;var m=ee(1),oe=ee(26);class k{constructor(r,_={}){this.url=r,this.isHttp=/^https?:/i.test(r),this.httpHeaders=this.isHttp&&_.httpHeaders||Object.create(null),this.withCredentials=_.withCredentials||!1,this.getXhr=_.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(r,_,n){const i={begin:r,end:_};for(const h in n)i[h]=n[h];return this.request(i)}requestFull(r){return this.request(r)}request(r){const _=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:_};_.open("GET",this.url),_.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const x=this.httpHeaders[h];typeof x>"u"||_.setRequestHeader(h,x)}return this.isHttp&&"begin"in r&&"end"in r?(_.setRequestHeader("Range",`bytes=${r.begin}-${r.end-1}`),i.expectedStatus=206):i.expectedStatus=200,_.responseType="arraybuffer",r.onError&&(_.onerror=function(h){r.onError(_.status)}),_.onreadystatechange=this.onStateChange.bind(this,n),_.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=r.onHeadersReceived,i.onDone=r.onDone,i.onError=r.onError,i.onProgress=r.onProgress,_.send(null),n}onProgress(r,_){const n=this.pendingRequests[r];!n||n.onProgress?.(_)}onStateChange(r,_){const n=this.pendingRequests[r];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState||!(r in this.pendingRequests))return;if(delete this.pendingRequests[r],0===i.status&&this.isHttp)return void n.onError?.(i.status);const h=i.status||200;if((200!==h||206!==n.expectedStatus)&&h!==n.expectedStatus)return void n.onError?.(i.status);const p=function K(u){const r=u.response;return"string"!=typeof r?r:(0,m.stringToBytes)(r).buffer}(i);if(206===h){const g=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(g);n.onDone({begin:parseInt(t[1],10),chunk:p})}else p?n.onDone({begin:0,chunk:p}):n.onError?.(i.status)}getRequestXhr(r){return this.pendingRequests[r].xhr}isPendingRequest(r){return r in this.pendingRequests}abortRequest(r){const _=this.pendingRequests[r].xhr;delete this.pendingRequests[r],_.abort()}}M.PDFNetworkStream=class c{constructor(r){this._source=r,this._manager=new k(r.url,{httpHeaders:r.httpHeaders,withCredentials:r.withCredentials}),this._rangeChunkSize=r.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(r){const _=this._rangeRequestReaders.indexOf(r);_>=0&&this._rangeRequestReaders.splice(_,1)}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P(this._manager,this._source),this._fullRequestReader}getRangeReader(r,_){const n=new f(this._manager,r,_);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(r){this._fullRequestReader?.cancel(r);for(const _ of this._rangeRequestReaders.slice(0))_.cancel(r)}};class P{constructor(r,_){this._manager=r;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._fullRequestId=r.requestFull(n),this._headersReceivedCapability=(0,m.createPromiseCapability)(),this._disableRange=_.disableRange||!1,this._contentLength=_.length,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const r=this._fullRequestId,_=this._manager.getRequestXhr(r),n=x=>_.getResponseHeader(x),{allowRangeRequests:i,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(r),this._headersReceivedCapability.resolve()}_onDone(r){if(r&&(this._requests.length>0?this._requests.shift().resolve({value:r.chunk,done:!1}):this._cachedChunks.push(r.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(r){this._storedError=(0,oe.createResponseStatusError)(r,this._url),this._headersReceivedCapability.reject(this._storedError);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(r){this.onProgress?.({loaded:r.loaded,total:r.lengthComputable?r.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var r=this;return _asyncToGenerator(function*(){if(r._storedError)throw r._storedError;if(r._cachedChunks.length>0)return{value:r._cachedChunks.shift(),done:!1};if(r._done)return{value:void 0,done:!0};const _=(0,m.createPromiseCapability)();return r._requests.push(_),_.promise})()}cancel(r){this._done=!0,this._headersReceivedCapability.reject(r);for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(r,_,n){this._manager=r;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=r.url,this._requestId=r.requestRange(_,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(r){const _=r.chunk;this._requests.length>0?this._requests.shift().resolve({value:_,done:!1}):this._queuedChunk=_,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(r){this._storedError=(0,oe.createResponseStatusError)(r,this._url);for(const _ of this._requests)_.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(r){this.isStreamingSupported||this.onProgress?.({loaded:r.loaded})}get isStreamingSupported(){return!1}read(){var r=this;return _asyncToGenerator(function*(){if(r._storedError)throw r._storedError;if(null!==r._queuedChunk){const n=r._queuedChunk;return r._queuedChunk=null,{value:n,done:!1}}if(r._done)return{value:void 0,done:!0};const _=(0,m.createPromiseCapability)();return r._requests.push(_),_.promise})()}cancel(r){this._done=!0;for(const _ of this._requests)_.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(he,M,ee)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFetchStream=void 0;var m=ee(1),oe=ee(26);function ie(P,f,u){return{method:"GET",headers:P,signal:u?.signal,mode:"cors",credentials:f?"include":"same-origin",redirect:"follow"}}function W(P){const f=new Headers;for(const u in P){const r=P[u];typeof r>"u"||f.append(u,r)}return f}M.PDFFetchStream=class K{constructor(f){this.source=f,this.isHttp=/^https?:/i.test(f.url),this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new k(this),this._fullRequestReader}getRangeReader(f,u){if(u<=this._progressiveDataLength)return null;const r=new c(this,f,u);return this._rangeRequestReaders.push(r),r}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const u of this._rangeRequestReaders.slice(0))u.cancel(f)}};class k{constructor(f){this._stream=f,this._reader=null,this._loaded=0,this._filename=null;const u=f.source;this._withCredentials=u.withCredentials||!1,this._contentLength=u.length,this._headersCapability=(0,m.createPromiseCapability)(),this._disableRange=u.disableRange||!1,this._rangeChunkSize=u.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!u.disableStream,this._isRangeSupported=!u.disableRange,this._headers=W(this._stream.httpHeaders);const r=u.url;fetch(r,ie(this._headers,this._withCredentials,this._abortController)).then(_=>{if(!(0,oe.validateResponseStatus)(_.status))throw(0,oe.createResponseStatusError)(_.status,r);this._reader=_.body.getReader(),this._headersCapability.resolve();const n=x=>_.headers.get(x),{allowRangeRequests:i,suggestedLength:h}=(0,oe.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=h||this._contentLength,this._filename=(0,oe.extractFilenameFromHeader)(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new m.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._headersCapability.promise;const{value:u,done:r}=yield f._reader.read();return r?{value:u,done:r}:(f._loaded+=u.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded,total:f._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}class c{constructor(f,u,r){this._stream=f,this._reader=null,this._loaded=0;const _=f.source;this._withCredentials=_.withCredentials||!1,this._readCapability=(0,m.createPromiseCapability)(),this._isStreamingSupported=!_.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=W(this._stream.httpHeaders),this._headers.append("Range",`bytes=${u}-${r-1}`);const n=_.url;fetch(n,ie(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!(0,oe.validateResponseStatus)(i.status))throw(0,oe.createResponseStatusError)(i.status,n);this._readCapability.resolve(),this._reader=i.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var f=this;return _asyncToGenerator(function*(){yield f._readCapability.promise;const{value:u,done:r}=yield f._reader.read();return r?{value:u,done:r}:(f._loaded+=u.byteLength,f.onProgress&&f.onProgress({loaded:f._loaded}),{value:new Uint8Array(u).buffer,done:!1})})()}cancel(f){this._reader&&this._reader.cancel(f),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(he){var M=__webpack_module_cache__[he];if(void 0!==M)return M.exports;var ee=__webpack_module_cache__[he]={exports:{}};return __webpack_modules__[he](ee,ee.exports,__w_pdfjs_require__),ee.exports}var __webpack_exports__={};return(()=>{var he=__webpack_exports__;Object.defineProperty(he,"__esModule",{value:!0}),Object.defineProperty(he,"AnnotationLayer",{enumerable:!0,get:function(){return oe.AnnotationLayer}}),Object.defineProperty(he,"AnnotationMode",{enumerable:!0,get:function(){return M.AnnotationMode}}),Object.defineProperty(he,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(he,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(he,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(he,"LoopbackPort",{enumerable:!0,get:function(){return ee.LoopbackPort}}),Object.defineProperty(he,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(he,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(he,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ee.PDFDataRangeTransport}}),Object.defineProperty(he,"PDFDateString",{enumerable:!0,get:function(){return m.PDFDateString}}),Object.defineProperty(he,"PDFWorker",{enumerable:!0,get:function(){return ee.PDFWorker}}),Object.defineProperty(he,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(he,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(he,"PixelsPerInch",{enumerable:!0,get:function(){return m.PixelsPerInch}}),Object.defineProperty(he,"RenderingCancelledException",{enumerable:!0,get:function(){return m.RenderingCancelledException}}),Object.defineProperty(he,"SVGGraphics",{enumerable:!0,get:function(){return k.SVGGraphics}}),Object.defineProperty(he,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(he,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(he,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(he,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(he,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}}),Object.defineProperty(he,"build",{enumerable:!0,get:function(){return ee.build}}),Object.defineProperty(he,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(he,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(he,"getDocument",{enumerable:!0,get:function(){return ee.getDocument}}),Object.defineProperty(he,"getFilenameFromUrl",{enumerable:!0,get:function(){return m.getFilenameFromUrl}}),Object.defineProperty(he,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return m.getPdfFilenameFromUrl}}),Object.defineProperty(he,"getXfaPageViewport",{enumerable:!0,get:function(){return m.getXfaPageViewport}}),Object.defineProperty(he,"isPdfFile",{enumerable:!0,get:function(){return m.isPdfFile}}),Object.defineProperty(he,"loadScript",{enumerable:!0,get:function(){return m.loadScript}}),Object.defineProperty(he,"renderTextLayer",{enumerable:!0,get:function(){return K.renderTextLayer}}),Object.defineProperty(he,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(he,"version",{enumerable:!0,get:function(){return ee.version}});var M=__w_pdfjs_require__(1),ee=__w_pdfjs_require__(4),m=__w_pdfjs_require__(5),oe=__w_pdfjs_require__(20),ie=__w_pdfjs_require__(13),W=__w_pdfjs_require__(3),K=__w_pdfjs_require__(23),k=__w_pdfjs_require__(24),c=__w_pdfjs_require__(22);if(W.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(25);(0,ee.setPDFNetworkStreamFactory)(r=>new u(r))}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(28),{PDFFetchStream:r}=__w_pdfjs_require__(29);(0,ee.setPDFNetworkStreamFactory)(_=>(0,m.isValidFetchUrl)(_.url)?new r(_):new u(_))}})(),__webpack_exports__})(),module.exports=ee()},2813:function(he,M,ee){var W,m=ee(7156).default;W=()=>(()=>{"use strict";var oe=[,(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultXfaLayerFactory=c.DefaultTextLayerFactory=c.DefaultStructTreeLayerFactory=c.DefaultAnnotationLayerFactory=void 0;var f=P(2),u=P(4),r=P(5),_=P(7),n=P(8),i=P(9);c.DefaultAnnotationLayerFactory=class h{createAnnotationLayerBuilder(s,A,b=null,y="",L=!0,R=u.NullL10n,F=!1,B=null,q=null,Y=null,Z=null){return new f.AnnotationLayerBuilder({pageDiv:s,pdfPage:A,imageResourcesPath:y,renderForms:L,linkService:new r.SimpleLinkService,l10n:R,annotationStorage:b,enableScripting:F,hasJSActionsPromise:B,fieldObjectsPromise:Y,mouseState:q,annotationCanvasMap:Z})}},c.DefaultStructTreeLayerFactory=class x{createStructTreeLayerBuilder(s){return new _.StructTreeLayerBuilder({pdfPage:s})}},c.DefaultTextLayerFactory=class p{createTextLayerBuilder(s,A,b,y=!1,L,R){return new n.TextLayerBuilder({textLayerDiv:s,pageIndex:A,viewport:b,enhanceTextSelection:y,eventBus:L,highlighter:R})}},c.DefaultXfaLayerFactory=class g{createXfaLayerBuilder(s,A,b=null,y=null){return new i.XfaLayerBuilder({pageDiv:s,pdfPage:A,annotationStorage:b,linkService:new r.SimpleLinkService,xfaHtml:y})}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayerBuilder=void 0;var f=P(3),u=P(4);c.AnnotationLayerBuilder=class r{constructor({pageDiv:n,pdfPage:i,linkService:h,downloadManager:x,annotationStorage:p=null,imageResourcesPath:g="",renderForms:t=!0,l10n:s=u.NullL10n,enableScripting:A=!1,hasJSActionsPromise:b=null,fieldObjectsPromise:y=null,mouseState:L=null,annotationCanvasMap:R=null}){this.pageDiv=n,this.pdfPage=i,this.linkService=h,this.downloadManager=x,this.imageResourcesPath=g,this.renderForms=t,this.l10n=s,this.annotationStorage=p,this.enableScripting=A,this._hasJSActionsPromise=b,this._fieldObjectsPromise=y,this._mouseState=L,this._annotationCanvasMap=R,this.div=null,this._cancelled=!1}render(n,i="display"){var h=this;return m(function*(){const[x,p=!1,g=null]=yield Promise.all([h.pdfPage.getAnnotations({intent:i}),h._hasJSActionsPromise,h._fieldObjectsPromise]);if(h._cancelled||0===x.length)return;const t={viewport:n.clone({dontFlip:!0}),div:h.div,annotations:x,page:h.pdfPage,imageResourcesPath:h.imageResourcesPath,renderForms:h.renderForms,linkService:h.linkService,downloadManager:h.downloadManager,annotationStorage:h.annotationStorage,enableScripting:h.enableScripting,hasJSActions:p,fieldObjects:g,mouseState:h._mouseState,annotationCanvasMap:h._annotationCanvasMap};h.div?f.AnnotationLayer.update(t):(h.div=document.createElement("div"),h.div.className="annotationLayer",h.pageDiv.appendChild(h.div),t.div=h.div,f.AnnotationLayer.render(t),h.l10n.translate(h.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},k=>{let c;c=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ee(6036),k.exports=c},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NullL10n=void 0,c.fixupLangCode=function r(i){return u[i?.toLowerCase()]||i},c.getL10nFallback=f;const P={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function f(i,h){switch(i){case"find_match_count":i=`find_match_count[${1===h.total?"one":"other"}]`;break;case"find_match_count_limit":i=`find_match_count_limit[${1===h.limit?"one":"other"}]`}return P[i]||""}const u={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};c.NullL10n={getLanguage:()=>m(function*(){return"en-us"})(),getDirection:()=>m(function*(){return"ltr"})(),get:(i,h=null,x=f(i,h))=>m(function*(){return function _(i,h){return h?i.replace(/\{\{\s*(\w+)\s*\}\}/g,(x,p)=>p in h?h[p]:"{{"+p+"}}"):i}(x,h)})(),translate:i=>m(function*(){})()}},(k,c,P)=>{var h,x,Ze,g,ct;Object.defineProperty(c,"__esModule",{value:!0}),c.SimpleLinkService=c.PDFLinkService=c.LinkTarget=void 0;var f=P(6);const r={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function _(A,{url:b,target:y,rel:L,enabled:R=!0}={}){if(!b||"string"!=typeof b)throw new Error('A valid "url" parameter must provided.');const F=(0,f.removeNullCharacters)(b);R?A.href=A.title=F:(A.href="",A.title=`Disabled: ${F}`,A.onclick=()=>!1);let B="";switch(y){case r.NONE:break;case r.SELF:B="_self";break;case r.BLANK:B="_blank";break;case r.PARENT:B="_parent";break;case r.TOP:B="_top"}A.target=B,A.rel="string"==typeof L?L:"noopener noreferrer nofollow"}c.LinkTarget=r;const s=class{constructor({eventBus:b,externalLinkTarget:y=null,externalLinkRel:L=null,ignoreDestinationZoom:R=!1}={}){ve(this,x),ve(this,h,new Map),this.eventBus=b,this.externalLinkTarget=y,this.externalLinkRel=L,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=R,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(b,y=null){this.baseUrl=y,this.pdfDocument=b,Ae(this,h).clear()}setViewer(b){this.pdfViewer=b}setHistory(b){this.pdfHistory=b}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(b){this.pdfViewer.currentPageNumber=b}get rotation(){return this.pdfViewer.pagesRotation}set rotation(b){this.pdfViewer.pagesRotation=b}goToDestination(b){var y=this;return m(function*(){var F;if(!y.pdfDocument)return;let L,R;"string"==typeof b?(L=b,R=yield y.pdfDocument.getDestination(b)):(L=null,R=yield b),Array.isArray(R)?ye(F=y,x,Ze).call(F,b,L,R):console.error(`PDFLinkService.goToDestination: "${R}" is not a valid destination array, for dest="${b}".`)})()}goToPage(b){if(!this.pdfDocument)return;const y="string"==typeof b&&this.pdfViewer.pageLabelToPageNumber(b)||0|b;Number.isInteger(y)&&y>0&&y<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(y)),this.pdfViewer.scrollPageIntoView({pageNumber:y})):console.error(`PDFLinkService.goToPage: "${b}" is not a valid page.`)}addLinkAttributes(b,y,L=!1){_(b,{url:y,target:L?r.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(b){if("string"==typeof b){if(b.length>0)return this.getAnchorUrl("#"+escape(b))}else if(Array.isArray(b)){const y=JSON.stringify(b);if(y.length>0)return this.getAnchorUrl("#"+escape(y))}return this.getAnchorUrl("")}getAnchorUrl(b){return(this.baseUrl||"")+b}setHash(b){var R;if(!this.pdfDocument)return;let y,L;if(b.includes("=")){const F=(0,f.parseQueryString)(b);if(F.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:F.get("search").replace(/"/g,""),phraseSearch:"true"===F.get("phrase")}),F.has("page")&&(y=0|F.get("page")||1),F.has("zoom")){const B=F.get("zoom").split(","),q=B[0],Y=parseFloat(q);q.includes("Fit")?"Fit"===q||"FitB"===q?L=[null,{name:q}]:"FitH"===q||"FitBH"===q||"FitV"===q||"FitBV"===q?L=[null,{name:q},B.length>1?0|B[1]:null]:"FitR"===q?5!==B.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):L=[null,{name:q},0|B[1],0|B[2],0|B[3],0|B[4]]:console.error(`PDFLinkService.setHash: "${q}" is not a valid zoom value.`):L=[null,{name:"XYZ"},B.length>1?0|B[1]:null,B.length>2?0|B[2]:null,Y?Y/100:q]}L?this.pdfViewer.scrollPageIntoView({pageNumber:y||this.page,destArray:L,allowNegativeOffset:!0}):y&&(this.page=y),F.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:F.get("pagemode")}),F.has("nameddest")&&this.goToDestination(F.get("nameddest"))}else{L=unescape(b);try{L=JSON.parse(L),Array.isArray(L)||(L=L.toString())}catch{}if("string"==typeof L||ye(R=s,g,ct).call(R,L))return void this.goToDestination(L);console.error(`PDFLinkService.setHash: "${unescape(b)}" is not a valid destination.`)}}executeNamedAction(b){switch(b){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}cachePageRef(b,y){if(!y)return;const L=0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`;Ae(this,h).set(L,b)}_cachedPageNumber(b){if(!b)return null;const y=0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`;return Ae(this,h).get(y)||null}isPageVisible(b){return this.pdfViewer.isPageVisible(b)}isPageCached(b){return this.pdfViewer.isPageCached(b)}};let n=s;h=new WeakMap,x=new WeakSet,Ze=function(b,y=null,L){const R=L[0];let F;if("object"==typeof R&&null!==R){if(F=this._cachedPageNumber(R),!F)return void this.pdfDocument.getPageIndex(R).then(B=>{this.cachePageRef(B+1,R),ye(this,x,Ze).call(this,b,y,L)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid page reference, for dest="${b}".`)})}else{if(!Number.isInteger(R))return void console.error(`PDFLinkService.#goToDestinationHelper: "${R}" is not a valid destination reference, for dest="${b}".`);F=R+1}!F||F<1||F>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${F}" is not a valid page number, for dest="${b}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:y,explicitDest:L,pageNumber:F})),this.pdfViewer.scrollPageIntoView({pageNumber:F,destArray:L,ignoreDestinationZoom:this._ignoreDestinationZoom}))},g=new WeakSet,ct=function(b){if(!Array.isArray(b))return!1;const y=b.length;if(y<2)return!1;const L=b[0];if(!("object"==typeof L&&Number.isInteger(L.num)&&Number.isInteger(L.gen)||Number.isInteger(L)&&L>=0))return!1;const R=b[1];if("object"!=typeof R||"string"!=typeof R.name)return!1;let F=!0;switch(R.name){case"XYZ":if(5!==y)return!1;break;case"Fit":case"FitB":return 2===y;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==y)return!1;break;case"FitR":if(6!==y)return!1;F=!1;break;default:return!1}for(let B=2;B<y;B++){const q=b[B];if(!("number"==typeof q||F&&null===q))return!1}return!0},ve(n,g),c.PDFLinkService=n,c.SimpleLinkService=class i{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(b){}get rotation(){return 0}set rotation(b){}goToDestination(b){return m(function*(){})()}goToPage(b){}addLinkAttributes(b,y,L=!1){_(b,{url:y,enabled:this.externalLinkEnabled})}getDestinationHash(b){return"#"}getAnchorUrl(b){return"#"}setHash(b){}executeNamedAction(b){}cachePageRef(b,y){}isPageVisible(b){return!0}isPageCached(b){return!0}}},(k,c)=>{var ce,ht;Object.defineProperty(c,"__esModule",{value:!0}),c.animationStarted=c.VERTICAL_PADDING=c.UNKNOWN_SCALE=c.TextLayerMode=c.SpreadMode=c.SidebarView=c.ScrollMode=c.SCROLLBAR_PADDING=c.RenderingStates=c.RendererType=c.ProgressBar=c.PresentationModeState=c.OutputScale=c.MIN_SCALE=c.MAX_SCALE=c.MAX_AUTO_SCALE=c.DEFAULT_SCALE_VALUE=c.DEFAULT_SCALE_DELTA=c.DEFAULT_SCALE=c.AutoPrintRegExp=void 0,c.apiPageLayoutToViewerModes=function Q(J){let se=b.VERTICAL,re=y.NONE;switch(J){case"SinglePage":se=b.PAGE;break;case"OneColumn":break;case"TwoPageLeft":se=b.PAGE;case"TwoColumnLeft":re=y.ODD;break;case"TwoPageRight":se=b.PAGE;case"TwoColumnRight":re=y.EVEN}return{scrollMode:se,spreadMode:re}},c.apiPageModeToSidebarView=function ne(J){switch(J){case"UseNone":return t.NONE;case"UseThumbs":return t.THUMBS;case"UseOutlines":return t.OUTLINE;case"UseAttachments":return t.ATTACHMENTS;case"UseOC":return t.LAYERS}return t.NONE},c.approximateFraction=function G(J){if(Math.floor(J)===J)return[J,1];const se=1/J;if(se>8)return[1,8];if(Math.floor(se)===se)return[1,se];const S=J>1?se:J;let ue,I=0,$=1,pe=1,de=1;for(;;){const me=I+pe,_e=$+de;if(_e>8)break;S<=me/_e?(pe=me,de=_e):(I=me,$=_e)}return ue=S-I/$<pe/de-S?S===J?[I,$]:[$,I]:S===J?[pe,de]:[de,pe],ue},c.backtrackBeforeAllVisibleElements=v,c.binarySearchFirstItem=N,c.getActiveOrFocusedElement=function X(){let J=document,se=J.activeElement||J.querySelector(":focus");for(;se?.shadowRoot;)J=se.shadowRoot,se=J.activeElement||J.querySelector(":focus");return se},c.getPageSizeInches=function z({view:J,userUnit:se,rotate:re}){const[S,I,$,pe]=J,de=re%180!=0,ue=($-S)/72*se,me=(pe-I)/72*se;return{width:de?me:ue,height:de?ue:me}},c.getVisibleElements=function a({scrollEl:J,views:se,sortByVisibility:re=!1,horizontal:S=!1,rtl:I=!1}){const $=J.scrollTop,pe=$+J.clientHeight,de=J.scrollLeft,ue=de+J.clientWidth,Se=[],Pe=new Set,Ee=se.length;let te=N(se,S?function _e(le){const fe=le.div,ge=fe.offsetLeft+fe.clientLeft;return I?ge<ue:ge+fe.clientWidth>de}:function me(le){const fe=le.div;return fe.offsetTop+fe.clientTop+fe.clientHeight>$});te>0&&te<Ee&&!S&&(te=v(te,se,$));let O=S?ue:-1;for(let le=te;le<Ee;le++){const fe=se[le],ge=fe.div,Ce=ge.offsetLeft+ge.clientLeft,we=ge.offsetTop+ge.clientTop,Me=ge.clientWidth,xe=ge.clientHeight,Re=Ce+Me,ke=we+xe;if(-1===O)ke>=pe&&(O=ke);else if((S?Ce:we)>O)break;if(ke<=$||we>=pe||Re<=de||Ce>=ue)continue;const Be=Math.max(0,$-we)+Math.max(0,ke-pe),Oe=(Me-(Math.max(0,de-Ce)+Math.max(0,Re-ue)))/Me;Se.push({id:fe.id,x:Ce,y:we,view:fe,percent:(xe-Be)/xe*Oe*100|0,widthPercent:100*Oe|0}),Pe.add(fe.id)}const D=Se[0],ae=Se[Se.length-1];return re&&Se.sort(function(le,fe){const ge=le.percent-fe.percent;return Math.abs(ge)>.001?-ge:le.id-fe.id}),{first:D,last:ae,views:Se,ids:Pe}},c.isPortraitOrientation=function E(J){return J.width<=J.height},c.isValidRotation=function d(J){return Number.isInteger(J)&&J%90==0},c.isValidScrollMode=function w(J){return Number.isInteger(J)&&Object.values(b).includes(J)&&J!==b.UNKNOWN},c.isValidSpreadMode=function C(J){return Number.isInteger(J)&&Object.values(y).includes(J)&&J!==y.UNKNOWN},c.noContextMenuHandler=function l(J){J.preventDefault()},c.normalizeWheelEventDelta=function o(J){let se=e(J);return 0===J.deltaMode?se/=900:1===J.deltaMode&&(se/=30),se},c.normalizeWheelEventDirection=e,c.parseQueryString=function q(J){const se=new Map;for(const[re,S]of new URLSearchParams(J))se.set(re.toLowerCase(),S);return se},c.removeNullCharacters=function V(J,se=!1){return"string"!=typeof J?(console.error("The argument must be a string."),J):(se&&(J=J.replace(Z," ")),J.replace(Y,""))},c.roundToDivide=function T(J,se){const re=J%se;return 0===re?J:Math.round(J-re+se)},c.scrollIntoView=function F(J,se,re=!1){let S=J.offsetParent;if(!S)return void console.error("offsetParent is not set -- cannot scroll");let I=J.offsetTop+J.clientTop,$=J.offsetLeft+J.clientLeft;for(;S.clientHeight===S.scrollHeight&&S.clientWidth===S.scrollWidth||re&&(S.classList.contains("markedContent")||"hidden"===getComputedStyle(S).overflow);)if(I+=S.offsetTop,$+=S.offsetLeft,S=S.offsetParent,!S)return;se&&(void 0!==se.top&&(I+=se.top),void 0!==se.left&&($+=se.left,S.scrollLeft=$)),S.scrollTop=I},c.watchScroll=function B(J,se){const re=function($){I||(I=window.requestAnimationFrame(function(){I=null;const de=J.scrollLeft,ue=S.lastX;de!==ue&&(S.right=de>ue),S.lastX=de;const me=J.scrollTop,_e=S.lastY;me!==_e&&(S.down=me>_e),S.lastY=me,se(S)}))},S={right:!0,down:!0,lastX:J.scrollLeft,lastY:J.scrollTop,_eventHandler:re};let I=null;return J.addEventListener("scroll",re,!0),S},c.DEFAULT_SCALE_VALUE="auto",c.DEFAULT_SCALE=1,c.DEFAULT_SCALE_DELTA=1.1,c.MIN_SCALE=.1,c.MAX_SCALE=10,c.UNKNOWN_SCALE=0,c.MAX_AUTO_SCALE=1.25,c.SCROLLBAR_PADDING=40,c.VERTICAL_PADDING=5,c.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},c.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const t={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};c.SidebarView=t,c.RendererType={CANVAS:"canvas",SVG:"svg"},c.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const b={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};c.ScrollMode=b;const y={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};c.SpreadMode=y,c.AutoPrintRegExp=/\bprint\s*\(/,c.OutputScale=class R{constructor(){const se=window.devicePixelRatio||1;this.sx=se,this.sy=se}get scaled(){return 1!==this.sx||1!==this.sy}};const Y=/\x00/g,Z=/[\x01-\x1F]/g;function N(J,se,re=0){let S=re,I=J.length-1;if(I<0||!se(J[I]))return J.length;if(se(J[S]))return S;for(;S<I;){const $=S+I>>1;se(J[$])?I=$:S=$+1}return S}function v(J,se,re){if(J<2)return J;let S=se[J].div,I=S.offsetTop+S.clientTop;I>=re&&(S=se[J-1].div,I=S.offsetTop+S.clientTop);for(let $=J-2;$>=0&&(S=se[$].div,!(S.offsetTop+S.clientTop+S.clientHeight<=I));--$)J=$;return J}function e(J){let se=Math.hypot(J.deltaX,J.deltaY);const re=Math.atan2(J.deltaY,J.deltaX);return-.25*Math.PI<re&&re<.75*Math.PI&&(se=-se),se}const U=new Promise(function(J){window.requestAnimationFrame(J)});c.animationStarted=U,ce=new WeakSet,ht=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},c.ProgressBar=class j{constructor(se){if(ve(this,ce),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(se+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(se){this._indeterminate=isNaN(se),this._percent=function H(J,se,re){return Math.min(Math.max(J,se),re)}(se,0,100),ye(this,ce,ht).call(this)}setWidth(se){if(!se)return;const S=se.parentNode.offsetWidth-se.offsetWidth;S>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${S}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StructTreeLayerBuilder=void 0;const P={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},f=/^H(\d+)$/;c.StructTreeLayerBuilder=class u{constructor({pdfPage:_}){this.pdfPage=_}render(_){return this._walk(_)}_setAttributes(_,n){void 0!==_.alt&&n.setAttribute("aria-label",_.alt),void 0!==_.id&&n.setAttribute("aria-owns",_.id),void 0!==_.lang&&n.setAttribute("lang",_.lang)}_walk(_){if(!_)return null;const n=document.createElement("span");if("role"in _){const{role:i}=_,h=i.match(f);h?(n.setAttribute("role","heading"),n.setAttribute("aria-level",h[1])):P[i]&&n.setAttribute("role",P[i])}if(this._setAttributes(_,n),_.children)if(1===_.children.length&&"id"in _.children[0])this._setAttributes(_.children[0],n);else for(const i of _.children)n.appendChild(this._walk(i));return n}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerBuilder=void 0;var f=P(3);c.TextLayerBuilder=class r{constructor({textLayerDiv:n,eventBus:i,pageIndex:h,viewport:x,highlighter:p=null,enhanceTextSelection:g=!1}){this.textLayerDiv=n,this.eventBus=i,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=h+1,this.viewport=x,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=p,this.enhanceTextSelection=g,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const n=document.createElement("div");n.className="endOfContent",this.textLayerDiv.appendChild(n)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(n=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const i=document.createDocumentFragment();this.textLayerRenderTask=(0,f.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(i),this._finishRendering(),this.highlighter?.enable()},function(h){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(n){this.cancel(),this.textContentStream=n}setTextContent(n){this.cancel(),this.textContent=n}_bindMouse(){const n=this.textLayerDiv;let i=null;n.addEventListener("mousedown",h=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(i&&(clearTimeout(i),i=null));const x=n.querySelector(".endOfContent");if(!x)return;let p=h.target!==n;if(p=p&&"none"!==window.getComputedStyle(x).getPropertyValue("-moz-user-select"),p){const g=n.getBoundingClientRect(),t=Math.max(0,(h.pageY-g.top)/g.height);x.style.top=(100*t).toFixed(2)+"%"}x.classList.add("active")}),n.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(i=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),i=null},300));const h=n.querySelector(".endOfContent");!h||(h.style.top="",h.classList.remove("active"))})}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayerBuilder=void 0;var f=P(3);c.XfaLayerBuilder=class u{constructor({pageDiv:_,pdfPage:n,annotationStorage:i=null,linkService:h,xfaHtml:x=null}){this.pageDiv=_,this.pdfPage=n,this.annotationStorage=i,this.linkService=h,this.xfaHtml=x,this.div=null,this._cancelled=!1}render(_,n="display"){if("print"===n){const i={viewport:_.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},h=document.createElement("div");this.pageDiv.appendChild(h),i.div=h;const x=f.XfaLayer.render(i);return Promise.resolve(x)}return this.pdfPage.getXfa().then(i=>{if(this._cancelled||!i)return{textDivs:[]};const h={viewport:_.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n};return this.div?f.XfaLayer.update(h):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),h.div=this.div,f.XfaLayer.render(h))}).catch(i=>{console.error(i)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFViewer=c.PDFSinglePageViewer=void 0;var f=P(6),u=P(11);c.PDFViewer=class r extends u.BaseViewer{},c.PDFSinglePageViewer=class _ extends u.BaseViewer{_resetView(){super._resetView(),this._scrollMode=f.ScrollMode.PAGE,this._spreadMode=f.SpreadMode.NONE}set scrollMode(i){}_updateScrollMode(){}set spreadMode(i){}_updateSpreadMode(){}}},(k,c,P)=>{var R,F,B,et,Y,Z,V,N,G,T,z,v,ut,l,dt,o,We,w,qe,E,ft,H,tt,X,pt,ne,gt,be,_t;Object.defineProperty(c,"__esModule",{value:!0}),c.PagesCountLimit=c.PDFPageViewBuffer=c.BaseViewer=void 0;var f=P(3),u=P(6),r=P(2),_=P(4),n=P(12),i=P(14),h=P(5),x=P(7),p=P(15),g=P(8),t=P(9);const A="enablePermissions",b={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};c.PagesCountLimit=b;class y{constructor(S){ve(this,B),ve(this,R,new Set),ve(this,F,0),Te(this,F,S)}push(S){const I=Ae(this,R);I.has(S)&&I.delete(S),I.add(S),I.size>Ae(this,F)&&ye(this,B,et).call(this)}resize(S,I=null){Te(this,F,S);const $=Ae(this,R);if(I){const pe=$.size;let de=1;for(const ue of $)if(I.has(ue.id)&&($.delete(ue),$.add(ue)),++de>pe)break}for(;$.size>Ae(this,F);)ye(this,B,et).call(this)}has(S){return Ae(this,R).has(S)}[Symbol.iterator](){return Ae(this,R).keys()}}R=new WeakMap,F=new WeakMap,B=new WeakSet,et=function(){const S=Ae(this,R).keys().next().value;S?.destroy(),Ae(this,R).delete(S)},c.PDFPageViewBuffer=y;const se=class{constructor(S){if(ve(this,v),ve(this,l),ve(this,o),ve(this,w),ve(this,E),ve(this,H),ve(this,X),ve(this,ne),ve(this,be),ve(this,Y,null),ve(this,Z,f.AnnotationMode.ENABLE_FORMS),ve(this,V,null),ve(this,N,!1),ve(this,G,0),ve(this,T,null),ve(this,z,null),this.constructor===se)throw new Error("Cannot initialize BaseViewer.");const I="2.14.305";if(f.version!==I)throw new Error(`The API version "${f.version}" does not match the Viewer version "${I}".`);if(this.container=S.container,this.viewer=S.viewer||S.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=S.eventBus,this.linkService=S.linkService||new h.SimpleLinkService,this.downloadManager=S.downloadManager||null,this.findController=S.findController||null,this._scriptingManager=S.scriptingManager||null,this.removePageBorders=S.removePageBorders||!1,this.textLayerMode=S.textLayerMode??u.TextLayerMode.ENABLE,Te(this,Z,S.annotationMode??f.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.enablePrintAutoRotate=S.enablePrintAutoRotate||!1,this.renderer=S.renderer||u.RendererType.CANVAS,this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels,this.l10n=S.l10n||_.NullL10n,Te(this,N,S.enablePermissions||!1),this.pageColors=S.pageColors||null,S.pageColors&&(!CSS.supports("color",S.pageColors.background)||!CSS.supports("color",S.pageColors.foreground))&&((S.pageColors.background||S.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!S.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new i.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=S.renderingQueue,this._doc=document.documentElement,this.scroll=(0,u.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=u.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(S){return this._pages[S]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(S){return S?.pdfPage})}get renderForms(){return Ae(this,Z)===f.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(S){if(!Number.isInteger(S))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(S,!0)||console.error(`currentPageNumber: "${S}" is not a valid page.`)}_setCurrentPageNumber(S,I=!1){if(this._currentPageNumber===S)return I&&ye(this,H,tt).call(this),!0;if(!(0<S&&S<=this.pagesCount))return!1;const $=this._currentPageNumber;return this._currentPageNumber=S,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:S,pageLabel:this._pageLabels?.[S-1]??null,previous:$}),I&&ye(this,H,tt).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(S){if(!this.pdfDocument)return;let I=0|S;if(this._pageLabels){const $=this._pageLabels.indexOf(S);$>=0&&(I=$+1)}this._setCurrentPageNumber(I,!0)||console.error(`currentPageLabel: "${S}" is not a valid page.`)}get currentScale(){return this._currentScale!==u.UNKNOWN_SCALE?this._currentScale:u.DEFAULT_SCALE}set currentScale(S){if(isNaN(S))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(S,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(S){!this.pdfDocument||this._setScale(S,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(S){if(!(0,u.isValidRotation)(S))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((S%=360)<0&&(S+=360),this._pagesRotation===S))return;this._pagesRotation=S;const I=this._currentPageNumber,$={rotation:S};for(const pe of this._pages)pe.update($);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:S,pageNumber:I}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(S){var I=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=S,!S)return;const $=S.isPureXfa,pe=S.numPages,de=S.getPage(1),ue=S.getOptionalContentConfig(),me=Ae(this,N)?S.getPermissions():Promise.resolve();if(pe>b.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const _e=this._scrollMode=u.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_e})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:pe})},()=>{}),this._onBeforeDraw=_e=>{const Se=this._pages[_e.pageNumber-1];!Se||Ae(this,Y).push(Se)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=_e=>{_e.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:_e.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Ae(this,z)&&(document.removeEventListener("visibilitychange",Ae(this,z)),Te(this,z,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([de,me]).then(([_e,Se])=>{if(S!==this.pdfDocument)return;this._firstPageCapability.resolve(_e),this._optionalContentConfigPromise=ue,ye(this,v,ut).call(this,Se);const Pe=this._scrollMode===u.ScrollMode.PAGE?null:this.viewer,Ee=this.currentScale,te=_e.getViewport({scale:Ee*f.PixelsPerInch.PDF_TO_CSS_UNITS}),O=this.textLayerMode===u.TextLayerMode.DISABLE||$?null:this,D=Ae(this,Z)!==f.AnnotationMode.DISABLE?this:null,ae=$?this:null;for(let fe=1;fe<=pe;++fe){const ge=new n.PDFPageView({container:Pe,eventBus:this.eventBus,id:fe,scale:Ee,defaultViewport:te.clone(),optionalContentConfigPromise:ue,renderingQueue:this.renderingQueue,textLayerFactory:O,textLayerMode:this.textLayerMode,annotationLayerFactory:D,annotationMode:Ae(this,Z),xfaLayerFactory:ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ge)}const le=this._pages[0];le&&(le.setPdfPage(_e),this.linkService.cachePageRef(1,_e.ref)),this._scrollMode===u.ScrollMode.PAGE?ye(this,o,We).call(this):this._spreadMode!==u.SpreadMode.NONE&&this._updateSpreadMode(),ye(this,l,dt).call(this).then(m(function*(){if(I.findController&&I.findController.setDocument(S),I._scriptingManager&&I._scriptingManager.setDocument(S),S.loadingParams.disableAutoFetch||pe>b.FORCE_LAZY_PAGE_INIT)return void I._pagesCapability.resolve();let fe=pe-1;if(fe<=0)I._pagesCapability.resolve();else for(let ge=2;ge<=pe;++ge){const Ce=S.getPage(ge).then(we=>{const Me=I._pages[ge-1];Me.pdfPage||Me.setPdfPage(we),I.linkService.cachePageRef(ge,we.ref),0==--fe&&I._pagesCapability.resolve()},we=>{console.error(`Unable to get page ${ge} to initialize viewer`,we),0==--fe&&I._pagesCapability.resolve()});ge%b.PAUSE_EAGER_PAGE_INIT==0&&(yield Ce)}})),this.eventBus.dispatch("pagesinit",{source:this}),S.getMetadata().then(({info:fe})=>{S===this.pdfDocument&&fe.Language&&(this.viewer.lang=fe.Language)}),this.defaultRenderingQueue&&this.update()}).catch(_e=>{console.error("Unable to initialize viewer",_e),this._pagesCapability.reject(_e)})}setPageLabels(S){if(this.pdfDocument){S?Array.isArray(S)&&this.pdfDocument.numPages===S.length?this._pageLabels=S:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let I=0,$=this._pages.length;I<$;I++)this._pages[I].setPageLabel(this._pageLabels?.[I]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=u.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Te(this,Y,new y(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,f.createPromiseCapability)(),this._onePageRenderedCapability=(0,f.createPromiseCapability)(),this._pagesCapability=(0,f.createPromiseCapability)(),this._scrollMode=u.ScrollMode.VERTICAL,this._previousScrollMode=u.ScrollMode.UNKNOWN,this._spreadMode=u.SpreadMode.NONE,Te(this,T,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Ae(this,z)&&(document.removeEventListener("visibilitychange",Ae(this,z)),Te(this,z,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(A),null!==Ae(this,V)&&(Te(this,Z,Ae(this,V)),Te(this,V,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(S,I,$=!1,pe=!1){if(this._currentScaleValue=I.toString(),ye(this,E,ft).call(this,S))return void(pe&&this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:I}));this._doc.style.setProperty("--zoom-factor",S);const de={scale:S};for(const ue of this._pages)ue.update(de);if(this._currentScale=S,!$){let me,ue=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ue=this._location.pageNumber,me=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ue,destArray:me,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:S,presetValue:pe?I:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL?2:1}_setScale(S,I=!1){let $=parseFloat(S);if($>0)this._setScaleUpdatePages($,S,I,!1);else{const pe=this._pages[this._currentPageNumber-1];if(!pe)return;let de=u.SCROLLBAR_PADDING,ue=u.VERTICAL_PADDING;this.isInPresentationMode?de=ue=4:this.removePageBorders?de=ue=0:this._scrollMode===u.ScrollMode.HORIZONTAL&&([de,ue]=[ue,de]);const me=(this.container.clientWidth-de)/pe.width*pe.scale/this._pageWidthScaleFactor,_e=(this.container.clientHeight-ue)/pe.height*pe.scale;switch(S){case"page-actual":$=1;break;case"page-width":$=me;break;case"page-height":$=_e;break;case"page-fit":$=Math.min(me,_e);break;case"auto":const Se=(0,u.isPortraitOrientation)(pe)?me:Math.min(_e,me);$=Math.min(u.MAX_AUTO_SCALE,Se);break;default:return void console.error(`_setScale: "${S}" is an unknown zoom value.`)}this._setScaleUpdatePages($,S,I,!0)}}pageLabelToPageNumber(S){if(!this._pageLabels)return null;const I=this._pageLabels.indexOf(S);return I<0?null:I+1}scrollPageIntoView({pageNumber:S,destArray:I=null,allowNegativeOffset:$=!1,ignoreDestinationZoom:pe=!1}){if(!this.pdfDocument)return;const de=Number.isInteger(S)&&this._pages[S-1];if(!de)return void console.error(`scrollPageIntoView: "${S}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!I)return void this._setCurrentPageNumber(S,!0);let Pe,Ee,ue=0,me=0,_e=0,Se=0;const te=de.rotation%180!=0,O=(te?de.height:de.width)/de.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS,D=(te?de.width:de.height)/de.scale/f.PixelsPerInch.PDF_TO_CSS_UNITS;let ae=0;switch(I[1].name){case"XYZ":ue=I[2],me=I[3],ae=I[4],ue=null!==ue?ue:0,me=null!==me?me:D;break;case"Fit":case"FitB":ae="page-fit";break;case"FitH":case"FitBH":me=I[2],ae="page-width",null===me&&this._location?(ue=this._location.left,me=this._location.top):("number"!=typeof me||me<0)&&(me=D);break;case"FitV":case"FitBV":ue=I[2],_e=O,Se=D,ae="page-height";break;case"FitR":ue=I[2],me=I[3],_e=I[4]-ue,Se=I[5]-me,Pe=(this.container.clientWidth-(this.removePageBorders?0:u.SCROLLBAR_PADDING))/_e/f.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=(this.container.clientHeight-(this.removePageBorders?0:u.VERTICAL_PADDING))/Se/f.PixelsPerInch.PDF_TO_CSS_UNITS,ae=Math.min(Math.abs(Pe),Math.abs(Ee));break;default:return void console.error(`scrollPageIntoView: "${I[1].name}" is not a valid destination type.`)}if(pe||(ae&&ae!==this._currentScale?this.currentScaleValue=ae:this._currentScale===u.UNKNOWN_SCALE&&(this.currentScaleValue=u.DEFAULT_SCALE_VALUE)),"page-fit"===ae&&!I[4])return void ye(this,w,qe).call(this,de);const le=[de.viewport.convertToViewportPoint(ue,me),de.viewport.convertToViewportPoint(ue+_e,me+Se)];let fe=Math.min(le[0][0],le[1][0]),ge=Math.min(le[0][1],le[1][1]);$||(fe=Math.max(fe,0),ge=Math.max(ge,0)),ye(this,w,qe).call(this,de,{left:fe,top:ge})}_updateLocation(S){const I=this._currentScale,$=this._currentScaleValue,pe=parseFloat($)===I?Math.round(1e4*I)/100:$,de=S.id,me=this.container,_e=this._pages[de-1].getPagePoint(me.scrollLeft-S.x,me.scrollTop-S.y),Se=Math.round(_e[0]),Pe=Math.round(_e[1]);let Ee=`#page=${de}`;this.isInPresentationMode||(Ee+=`&zoom=${pe},${Se},${Pe}`),this._location={pageNumber:de,scale:pe,top:Pe,left:Se,rotation:this._pagesRotation,pdfOpenParams:Ee}}update(){const S=this._getVisiblePages(),I=S.views,$=I.length;if(0===$)return;const pe=Math.max(10,2*$+1);Ae(this,Y).resize(pe,S.ids),this.renderingQueue.renderHighestPriority(S);const de=this._spreadMode===u.SpreadMode.NONE&&(this._scrollMode===u.ScrollMode.PAGE||this._scrollMode===u.ScrollMode.VERTICAL),ue=this._currentPageNumber;let me=!1;for(const _e of I){if(_e.percent<100)break;if(_e.id===ue&&de){me=!0;break}}this._setCurrentPageNumber(me?ue:I[0].id),this._updateLocation(S.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(S){return this.container.contains(S)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===u.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===u.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const S=this._scrollMode===u.ScrollMode.PAGE?Ae(this,T).pages:this._pages,I=this._scrollMode===u.ScrollMode.HORIZONTAL;return(0,u.getVisibleElements)({scrollEl:this.container,views:S,sortByVisibility:!0,horizontal:I,rtl:I&&this._isContainerRtl})}isPageVisible(S){return!!this.pdfDocument&&(Number.isInteger(S)&&S>0&&S<=this.pagesCount?this._getVisiblePages().ids.has(S):(console.error(`isPageVisible: "${S}" is not a valid page.`),!1))}isPageCached(S){if(!this.pdfDocument)return!1;if(!(Number.isInteger(S)&&S>0&&S<=this.pagesCount))return console.error(`isPageCached: "${S}" is not a valid page.`),!1;const I=this._pages[S-1];return Ae(this,Y).has(I)}cleanup(){for(const S of this._pages)S.renderingState!==u.RenderingStates.FINISHED&&S.reset()}_cancelRendering(){for(const S of this._pages)S.cancelRendering()}forceRendering(S){const I=S||this._getVisiblePages(),$=ye(this,ne,gt).call(this,I),de=this.renderingQueue.getHighestPriority(I,this._pages,$,this._spreadMode!==u.SpreadMode.NONE&&this._scrollMode!==u.ScrollMode.HORIZONTAL);return ye(this,be,_t).call(this,I.ids),!!de&&(ye(this,X,pt).call(this,de).then(()=>{this.renderingQueue.renderView(de)}),!0)}createTextLayerBuilder(S,I,$,pe=!1,de,ue){return new g.TextLayerBuilder({textLayerDiv:S,eventBus:de,pageIndex:I,viewport:$,enhanceTextSelection:!this.isInPresentationMode&&pe,highlighter:ue})}createTextHighlighter(S,I){return new p.TextHighlighter({eventBus:I,pageIndex:S,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(S,I,$=null,pe="",de=!0,ue=_.NullL10n,me=null,_e=null,Se=null,Pe=null,Ee=null){return new r.AnnotationLayerBuilder({pageDiv:S,pdfPage:I,annotationStorage:$||this.pdfDocument?.annotationStorage,imageResourcesPath:pe,renderForms:de,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ue,enableScripting:me??this.enableScripting,hasJSActionsPromise:_e||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Pe||this.pdfDocument?.getFieldObjects(),mouseState:Se||this._scriptingManager?.mouseState,annotationCanvasMap:Ee})}createXfaLayerBuilder(S,I,$=null){return new t.XfaLayerBuilder({pageDiv:S,pdfPage:I,annotationStorage:$||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(S){return new x.StructTreeLayerBuilder({pdfPage:S})}get hasEqualPageSizes(){const S=this._pages[0];for(let I=1,$=this._pages.length;I<$;++I){const pe=this._pages[I];if(pe.width!==S.width||pe.height!==S.height)return!1}return!0}getPagesOverview(){return this._pages.map(S=>{const I=S.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,u.isPortraitOrientation)(I)?{width:I.width,height:I.height,rotation:I.rotation}:{width:I.height,height:I.width,rotation:(I.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(S){if(!(S instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${S}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=S;const I={optionalContentConfigPromise:S};for(const $ of this._pages)$.update(I);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:S})}get scrollMode(){return this._scrollMode}set scrollMode(S){if(this._scrollMode!==S){if(!(0,u.isValidScrollMode)(S))throw new Error(`Invalid scroll mode: ${S}`);this.pagesCount>b.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=S,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:S}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(S=null){const I=this._scrollMode,$=this.viewer;$.classList.toggle("scrollHorizontal",I===u.ScrollMode.HORIZONTAL),$.classList.toggle("scrollWrapped",I===u.ScrollMode.WRAPPED),this.pdfDocument&&S&&(I===u.ScrollMode.PAGE?ye(this,o,We).call(this):this._previousScrollMode===u.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(S){if(this._spreadMode!==S){if(!(0,u.isValidSpreadMode)(S))throw new Error(`Invalid spread mode: ${S}`);this._spreadMode=S,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:S}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(S=null){if(!this.pdfDocument)return;const I=this.viewer,$=this._pages;if(this._scrollMode===u.ScrollMode.PAGE)ye(this,o,We).call(this);else if(I.textContent="",this._spreadMode===u.SpreadMode.NONE)for(const pe of this._pages)I.appendChild(pe.div);else{const pe=this._spreadMode-1;let de=null;for(let ue=0,me=$.length;ue<me;++ue)null===de?(de=document.createElement("div"),de.className="spread",I.appendChild(de)):ue%2===pe&&(de=de.cloneNode(!1),I.appendChild(de)),de.appendChild($[ue].div)}!S||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(S,!0),this.update())}_getPageAdvance(S,I=!1){switch(this._scrollMode){case u.ScrollMode.WRAPPED:{const{views:$}=this._getVisiblePages(),pe=new Map;for(const{id:de,y:ue,percent:me,widthPercent:_e}of $){if(0===me||_e<100)continue;let Se=pe.get(ue);Se||pe.set(ue,Se||(Se=[])),Se.push(de)}for(const de of pe.values()){const ue=de.indexOf(S);if(-1===ue)continue;const me=de.length;if(1===me)break;if(I)for(let _e=ue-1,Se=0;_e>=Se;_e--){const Ee=de[_e+1]-1;if(de[_e]<Ee)return S-Ee}else for(let _e=ue+1,Se=me;_e<Se;_e++){const Ee=de[_e-1]+1;if(de[_e]>Ee)return Ee-S}if(I){const _e=de[0];if(_e<S)return S-_e+1}else{const _e=de[me-1];if(_e>S)return _e-S+1}break}break}case u.ScrollMode.HORIZONTAL:break;case u.ScrollMode.PAGE:case u.ScrollMode.VERTICAL:{if(this._spreadMode===u.SpreadMode.NONE)break;const $=this._spreadMode-1;if(I&&S%2!==$)break;if(!I&&S%2===$)break;const{views:pe}=this._getVisiblePages(),de=I?S-1:S+1;for(const{id:ue,percent:me,widthPercent:_e}of pe)if(ue===de){if(me>0&&100===_e)return 2;break}break}}return 1}nextPage(){const S=this._currentPageNumber,I=this.pagesCount;if(S>=I)return!1;const $=this._getPageAdvance(S,!1)||1;return this.currentPageNumber=Math.min(S+$,I),!0}previousPage(){const S=this._currentPageNumber;if(S<=1)return!1;const I=this._getPageAdvance(S,!0)||1;return this.currentPageNumber=Math.max(S-I,1),!0}increaseScale(S=1){let I=this._currentScale;do{I=(I*u.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.ceil(10*I)/10,I=Math.min(u.MAX_SCALE,I)}while(--S>0&&I<u.MAX_SCALE);this.currentScaleValue=I}decreaseScale(S=1){let I=this._currentScale;do{I=(I/u.DEFAULT_SCALE_DELTA).toFixed(2),I=Math.floor(10*I)/10,I=Math.max(u.MIN_SCALE,I)}while(--S>0&&I>u.MIN_SCALE);this.currentScaleValue=I}updateContainerHeightCss(){const S=this.container.clientHeight;S!==Ae(this,G)&&(Te(this,G,S),this._doc.style.setProperty("--viewer-container-height",`${S}px`))}};let L=se;Y=new WeakMap,Z=new WeakMap,V=new WeakMap,N=new WeakMap,G=new WeakMap,T=new WeakMap,z=new WeakMap,v=new WeakSet,ut=function(S){!S||(S.includes(f.PermissionFlag.COPY)||this.viewer.classList.add(A),!S.includes(f.PermissionFlag.MODIFY_ANNOTATIONS)&&!S.includes(f.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Ae(this,Z)===f.AnnotationMode.ENABLE_FORMS&&(Te(this,V,Ae(this,Z)),Te(this,Z,f.AnnotationMode.ENABLE)))},l=new WeakSet,dt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const S=new Promise(I=>{Te(this,z,()=>{"hidden"===document.visibilityState&&(I(),document.removeEventListener("visibilitychange",Ae(this,z)),Te(this,z,null))}),document.addEventListener("visibilitychange",Ae(this,z))});return Promise.race([this._onePageRenderedCapability.promise,S])},o=new WeakSet,We=function(){if(this._scrollMode!==u.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const S=this._currentPageNumber,I=Ae(this,T),$=this.viewer;if($.textContent="",I.pages.length=0,this._spreadMode!==u.SpreadMode.NONE||this.isInPresentationMode){const pe=new Set,de=this._spreadMode-1;-1===de?pe.add(S-1):S%2!==de?(pe.add(S-1),pe.add(S)):(pe.add(S-2),pe.add(S-1));const ue=document.createElement("div");if(ue.className="spread",this.isInPresentationMode){const me=document.createElement("div");me.className="dummyPage",ue.appendChild(me)}for(const me of pe){const _e=this._pages[me];!_e||(ue.appendChild(_e.div),I.pages.push(_e))}$.appendChild(ue)}else{const pe=this._pages[S-1];$.appendChild(pe.div),I.pages.push(pe)}I.scrollDown=S>=I.previousPageNumber,I.previousPageNumber=S},w=new WeakSet,qe=function(S,I=null){const{div:$,id:pe}=S;if(this._scrollMode===u.ScrollMode.PAGE&&(this._setCurrentPageNumber(pe),ye(this,o,We).call(this),this.update()),!I&&!this.isInPresentationMode){const de=$.offsetLeft+$.clientLeft,ue=de+$.clientWidth,{scrollLeft:me,clientWidth:_e}=this.container;(this._scrollMode===u.ScrollMode.HORIZONTAL||de<me||ue>me+_e)&&(I={left:0,top:0})}(0,u.scrollIntoView)($,I)},E=new WeakSet,ft=function(S){return S===this._currentScale||Math.abs(S-this._currentScale)<1e-15},H=new WeakSet,tt=function(){const S=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ye(this,w,qe).call(this,S)},X=new WeakSet,pt=function(S){var I=this;return m(function*(){if(S.pdfPage)return S.pdfPage;try{const $=yield I.pdfDocument.getPage(S.id);return S.pdfPage||S.setPdfPage($),I.linkService._cachedPageNumber?.($.ref)||I.linkService.cachePageRef(S.id,$.ref),$}catch($){return console.error("Unable to get page for page view",$),null}})()},ne=new WeakSet,gt=function(S){if(1===S.first?.id)return!0;if(S.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case u.ScrollMode.PAGE:return Ae(this,T).scrollDown;case u.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},be=new WeakSet,_t=function(S){for(const I of S)this._pages[I-1]?.toggleLoadingIconSpinner(!0);for(const I of Ae(this,Y))S.has(I.id)||I.toggleLoadingIconSpinner(!1)},c.BaseViewer=L},(k,c,P)=>{var h;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFPageView=void 0;var f=P(3),u=P(6),r=P(13),_=P(4);const n=r.compatibilityParams.maxCanvasPixels||16777216;h=new WeakMap,c.PDFPageView=class i{constructor(p){ve(this,h,f.AnnotationMode.ENABLE_FORMS);const g=p.container,t=p.defaultViewport;this.id=p.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=p.scale||u.DEFAULT_SCALE,this.viewport=t,this.pdfPageRotate=t.rotation,this._optionalContentConfigPromise=p.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=p.textLayerMode??u.TextLayerMode.ENABLE,Te(this,h,p.annotationMode??f.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=p.imageResourcesPath||"",this.useOnlyCssZoom=p.useOnlyCssZoom||!1,this.maxCanvasPixels=p.maxCanvasPixels||n,this.pageColors=p.pageColors||null,this.eventBus=p.eventBus,this.renderingQueue=p.renderingQueue,this.textLayerFactory=p.textLayerFactory,this.annotationLayerFactory=p.annotationLayerFactory,this.xfaLayerFactory=p.xfaLayerFactory,this.textHighlighter=p.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=p.structTreeLayerFactory,this.renderer=p.renderer||u.RendererType.CANVAS,this.l10n=p.l10n||_.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=u.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const s=document.createElement("div");s.className="page",s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(A=>{s.setAttribute("aria-label",A)}),this.div=s,g?.appendChild(s)}setPdfPage(p){this.pdfPage=p,this.pdfPageRotate=p.rotate,this.viewport=p.getViewport({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var p=this;return m(function*(){let g=null;try{yield p.annotationLayer.render(p.viewport,"display")}catch(t){g=t}finally{p.eventBus.dispatch("annotationlayerrendered",{source:p,pageNumber:p.id,error:g})}})()}_renderXfaLayer(){var p=this;return m(function*(){let g=null;try{const t=yield p.xfaLayer.render(p.viewport,"display");p.textHighlighter&&p._buildXfaTextContentItems(t.textDivs)}catch(t){g=t}finally{p.eventBus.dispatch("xfalayerrendered",{source:p,pageNumber:p.id,error:g})}})()}_buildXfaTextContentItems(p){var g=this;return m(function*(){const t=yield g.pdfPage.getTextContent(),s=[];for(const A of t.items)s.push(A.str);g.textHighlighter.setTextMapping(p,s),g.textHighlighter.enable()})()}_resetZoomLayer(p=!1){if(!this.zoomLayer)return;const g=this.zoomLayer.firstChild;this.paintedViewportMap.delete(g),g.width=0,g.height=0,p&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:p=!1,keepAnnotationLayer:g=!1,keepXfaLayer:t=!1}={}){this.cancelRendering({keepAnnotationLayer:g,keepXfaLayer:t}),this.renderingState=u.RenderingStates.INITIAL;const s=this.div;s.style.width=Math.floor(this.viewport.width)+"px",s.style.height=Math.floor(this.viewport.height)+"px";const A=s.childNodes,b=p&&this.zoomLayer||null,y=g&&this.annotationLayer?.div||null,L=t&&this.xfaLayer?.div||null;for(let R=A.length-1;R>=0;R--){const F=A[R];switch(F){case b:case y:case L:continue}F.remove()}s.removeAttribute("data-loaded"),y&&this.annotationLayer.hide(),L&&this.xfaLayer.hide(),b||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(R=>{this.loadingIconDiv?.setAttribute("aria-label",R)}),s.appendChild(this.loadingIconDiv)}update({scale:p=0,rotation:g=null,optionalContentConfigPromise:t=null}){if(this.scale=p||this.scale,"number"==typeof g&&(this.rotation=g),t instanceof Promise&&(this._optionalContentConfigPromise=t),this.viewport=this.viewport.clone({scale:this.scale*f.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:b}=document.documentElement;b.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let A=!1;if(this.canvas&&this.maxCanvasPixels>0){const b=this.outputScale;(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(A=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&A)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:p=!1,keepXfaLayer:g=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!p||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!g||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:p,redrawAnnotationLayer:g=!1,redrawXfaLayer:t=!1}){const s=this.viewport.width,A=this.viewport.height,b=this.div;p.style.width=p.parentNode.style.width=b.style.width=Math.floor(s)+"px",p.style.height=p.parentNode.style.height=b.style.height=Math.floor(A)+"px";const y=this.viewport.rotation-this.paintedViewportMap.get(p).rotation,L=Math.abs(y);let R=1,F=1;if((90===L||270===L)&&(R=A/s,F=s/A),p.style.transform=`rotate(${y}deg) scale(${R}, ${F})`,this.textLayer){const B=this.textLayer.viewport,Y=Math.abs(this.viewport.rotation-B.rotation);let Z=s/B.width;(90===Y||270===Y)&&(Z=s/B.height);const V=this.textLayer.textLayerDiv;let N,G;switch(Y){case 0:N=G=0;break;case 90:N=0,G="-"+V.style.height;break;case 180:N="-"+V.style.width,G="-"+V.style.height;break;case 270:N="-"+V.style.width,G=0;break;default:console.error("Bad rotation value.")}V.style.transform=`rotate(${Y}deg) scale(${Z}) translate(${N}, ${G})`,V.style.transformOrigin="0% 0%"}g&&this.annotationLayer&&this._renderAnnotationLayer(),t&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(p,g){return this.viewport.convertToPdfPoint(p,g)}toggleLoadingIconSpinner(p=!1){this.loadingIconDiv?.classList.toggle("notVisible",!p)}draw(){var p=this;this.renderingState!==u.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:g,pdfPage:t}=this;if(!t)return this.renderingState=u.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=u.RenderingStates.RUNNING;const s=document.createElement("div");s.style.width=g.style.width,s.style.height=g.style.height,s.classList.add("canvasWrapper"),this.annotationLayer?.div?g.insertBefore(s,this.annotationLayer.div):g.appendChild(s);let A=null;if(this.textLayerMode!==u.TextLayerMode.DISABLE&&this.textLayerFactory){const F=document.createElement("div");F.className="textLayer",F.style.width=s.style.width,F.style.height=s.style.height,this.annotationLayer?.div?g.insertBefore(F,this.annotationLayer.div):g.appendChild(F),A=this.textLayerFactory.createTextLayerBuilder(F,this.id-1,this.viewport,this.textLayerMode===u.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=A,Ae(this,h)!==f.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,t,null,this.imageResourcesPath,Ae(this,h)===f.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&g.appendChild(this.xfaLayer.div);let b=null;this.renderingQueue&&(b=F=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=u.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=u.RenderingStates.RUNNING,F()});F()});const y=function(){var F=m(function*(B=null){if(L===p.paintTask&&(p.paintTask=null),B instanceof f.RenderingCancelledException)p._renderError=null;else if(p._renderError=B,p.renderingState=u.RenderingStates.FINISHED,p.loadingIconDiv&&(p.loadingIconDiv.remove(),delete p.loadingIconDiv),p._resetZoomLayer(!0),p.eventBus.dispatch("pagerendered",{source:p,pageNumber:p.id,cssTransform:!1,timestamp:performance.now(),error:p._renderError}),B)throw B});return function(){return F.apply(this,arguments)}}(),L=this.renderer===u.RendererType.SVG?this.paintOnSvg(s):this.paintOnCanvas(s);L.onRenderContinue=b,this.paintTask=L;const R=L.promise.then(()=>y(null).then(()=>{if(A){const F=t.streamTextContent({includeMarkedContent:!0});A.setTextContentStream(F),A.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(F){return y(F)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(g,t,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=F=>{F.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(B=>{if(!B||!this.canvas)return;const q=this.structTreeLayer.render(B);q.classList.add("structTree"),this.canvas.appendChild(q)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(t)),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}paintOnCanvas(p){const g=(0,f.createPromiseCapability)(),t={promise:g.promise,onRenderContinue(V){V()},cancel(){Z.cancel()}},s=this.viewport,A=document.createElement("canvas");A.hidden=!0;let b=!0;const y=function(){b&&(A.hidden=!1,b=!1)};p.appendChild(A),this.canvas=A;const L=A.getContext("2d",{alpha:!1}),R=this.outputScale=new u.OutputScale;if(this.useOnlyCssZoom){const V=s.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});R.sx*=V.width/s.width,R.sy*=V.height/s.height}if(this.maxCanvasPixels>0){const N=Math.sqrt(this.maxCanvasPixels/(s.width*s.height));R.sx>N||R.sy>N?(R.sx=N,R.sy=N,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const F=(0,u.approximateFraction)(R.sx),B=(0,u.approximateFraction)(R.sy);A.width=(0,u.roundToDivide)(s.width*R.sx,F[0]),A.height=(0,u.roundToDivide)(s.height*R.sy,B[0]),A.style.width=(0,u.roundToDivide)(s.width,F[1])+"px",A.style.height=(0,u.roundToDivide)(s.height,B[1])+"px",this.paintedViewportMap.set(A,s);const Y={canvasContext:L,transform:R.scaled?[R.sx,0,0,R.sy,0,0]:null,viewport:this.viewport,annotationMode:Ae(this,h),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},Z=this.pdfPage.render(Y);return Z.onContinue=function(V){y(),t.onRenderContinue?t.onRenderContinue(V):V()},Z.promise.then(function(){y(),g.resolve()},function(V){y(),g.reject(V)}),t}paintOnSvg(p){let g=!1;const t=()=>{if(g)throw new f.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},s=this.pdfPage,A=this.viewport.clone({scale:f.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:s.getOperatorList({annotationMode:Ae(this,h)}).then(y=>(t(),new f.SVGGraphics(s.commonObjs,s.objs).getSVG(y,A).then(R=>{t(),this.svg=R,this.paintedViewportMap.set(R,A),R.style.width=p.style.width,R.style.height=p.style.height,this.renderingState=u.RenderingStates.FINISHED,p.appendChild(R)}))),onRenderContinue(y){y()},cancel(){g=!0}}}setPageLabel(p){this.pageLabel="string"==typeof p?p:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.compatibilityParams=c.OptionKind=c.AppOptions=void 0;const P=Object.create(null);c.compatibilityParams=P;{const n=navigator.userAgent||"",i=navigator.platform||"",h=navigator.maxTouchPoints||1,x=/Android/.test(n);(/\b(iPad|iPhone|iPod)(?=;)/.test(n)||"MacIntel"===i&&h>1||x)&&(P.maxCanvasPixels=5242880)}const f={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};c.OptionKind=f;const u={annotationMode:{value:2,kind:f.VIEWER+f.PREFERENCE},cursorToolOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:f.VIEWER},defaultZoomValue:{value:"",kind:f.VIEWER+f.PREFERENCE},disableHistory:{value:!1,kind:f.VIEWER},disablePageLabels:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePermissions:{value:!1,kind:f.VIEWER+f.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:f.VIEWER+f.PREFERENCE},enableScripting:{value:!0,kind:f.VIEWER+f.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:f.VIEWER},externalLinkTarget:{value:0,kind:f.VIEWER+f.PREFERENCE},historyUpdateUrl:{value:!1,kind:f.VIEWER+f.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},imageResourcesPath:{value:"./images/",kind:f.VIEWER},maxCanvasPixels:{value:16777216,compatibility:P.maxCanvasPixels,kind:f.VIEWER},pageColorsBackground:{value:"Canvas",kind:f.VIEWER+f.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:f.VIEWER+f.PREFERENCE},pdfBugEnabled:{value:!1,kind:f.VIEWER+f.PREFERENCE},printResolution:{value:150,kind:f.VIEWER},renderer:{value:"canvas",kind:f.VIEWER},sidebarViewOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},scrollModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},spreadModeOnLoad:{value:-1,kind:f.VIEWER+f.PREFERENCE},textLayerMode:{value:1,kind:f.VIEWER+f.PREFERENCE},useOnlyCssZoom:{value:!1,kind:f.VIEWER+f.PREFERENCE},viewerCssTheme:{value:0,kind:f.VIEWER+f.PREFERENCE},viewOnLoad:{value:0,kind:f.VIEWER+f.PREFERENCE},cMapPacked:{value:!0,kind:f.API},cMapUrl:{value:"../web/cmaps/",kind:f.API},disableAutoFetch:{value:!1,kind:f.API+f.PREFERENCE},disableFontFace:{value:!1,kind:f.API+f.PREFERENCE},disableRange:{value:!1,kind:f.API+f.PREFERENCE},disableStream:{value:!1,kind:f.API+f.PREFERENCE},docBaseUrl:{value:"",kind:f.API},enableXfa:{value:!0,kind:f.API+f.PREFERENCE},fontExtraProperties:{value:!1,kind:f.API},isEvalSupported:{value:!0,kind:f.API},maxImageSize:{value:-1,kind:f.API},pdfBug:{value:!1,kind:f.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:f.API},verbosity:{value:1,kind:f.API},workerPort:{value:null,kind:f.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:f.WORKER}};u.disablePreferences={value:!1,kind:f.VIEWER},u.locale={value:navigator.language||"en-US",kind:f.VIEWER},u.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:f.VIEWER},u.renderer.kind+=f.PREFERENCE;const r=Object.create(null);c.AppOptions=class _{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(i){const h=r[i];if(void 0!==h)return h;const x=u[i];return void 0!==x?x.compatibility??x.value:void 0}static getAll(i=null){const h=Object.create(null);for(const x in u){const p=u[x];if(i){if(0==(i&p.kind))continue;if(i===f.PREFERENCE){const t=p.value,s=typeof t;if("boolean"===s||"string"===s||"number"===s&&Number.isInteger(t)){h[x]=t;continue}throw new Error(`Invalid type for preference: ${x}`)}}const g=r[x];h[x]=void 0!==g?g:p.compatibility??p.value}return h}static set(i,h){r[i]=h}static setAll(i){for(const h in i)r[h]=i[h]}static remove(i){delete r[i]}static _hasUserOptions(){return Object.keys(r).length>0}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFRenderingQueue=void 0;var f=P(3),u=P(6);c.PDFRenderingQueue=class _{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(i){this.pdfViewer=i}setThumbnailViewer(i){this.pdfThumbnailViewer=i}isHighestPriority(i){return this.highestPriorityPage===i.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(i){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(i)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(i,h,x,p=!1){const g=i.views,t=g.length;if(0===t)return null;for(let L=0;L<t;L++){const R=g[L].view;if(!this.isViewFinished(R))return R}const s=i.first.id,A=i.last.id;if(A-s+1>t){const L=i.ids;for(let R=1,F=A-s;R<F;R++){const B=x?s+R:A-R;if(L.has(B))continue;const q=h[B-1];if(!this.isViewFinished(q))return q}}let b=x?A:s-2,y=h[b];return y&&!this.isViewFinished(y)||p&&(b+=x?1:-1,y=h[b],y&&!this.isViewFinished(y))?y:null}isViewFinished(i){return i.renderingState===u.RenderingStates.FINISHED}renderView(i){switch(i.renderingState){case u.RenderingStates.FINISHED:return!1;case u.RenderingStates.PAUSED:this.highestPriorityPage=i.renderingId,i.resume();break;case u.RenderingStates.RUNNING:this.highestPriorityPage=i.renderingId;break;case u.RenderingStates.INITIAL:this.highestPriorityPage=i.renderingId,i.draw().finally(()=>{this.renderHighestPriority()}).catch(h=>{h instanceof f.RenderingCancelledException||console.error(`renderView: "${h}"`)})}return!0}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextHighlighter=void 0,c.TextHighlighter=class P{constructor({findController:u,eventBus:r,pageIndex:_}){this.findController=u,this.matches=[],this.eventBus=r,this.pageIdx=_,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(u,r){this.textDivs=u,this.textContentItemsStr=r}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=u=>{(u.pageIndex===this.pageIdx||-1===u.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(u,r){if(!u)return[];const{textContentItemsStr:_}=this;let n=0,i=0;const h=_.length-1,x=[];for(let p=0,g=u.length;p<g;p++){let t=u[p];for(;n!==h&&t>=i+_[n].length;)i+=_[n].length,n++;n===_.length&&console.error("Could not find a matching mapping");const s={begin:{divIdx:n,offset:t-i}};for(t+=r[p];n!==h&&t>i+_[n].length;)i+=_[n].length,n++;s.end={divIdx:n,offset:t-i},x.push(s)}return x}_renderMatches(u){if(0===u.length)return;const{findController:r,pageIdx:_}=this,{textContentItemsStr:n,textDivs:i}=this,h=_===r.selected.pageIdx,x=r.selected.matchIdx;let g=null;function s(L,R){const F=L.divIdx;return i[F].textContent="",A(F,0,L.offset,R)}function A(L,R,F,B){let q=i[L];if(q.nodeType===Node.TEXT_NODE){const V=document.createElement("span");q.parentNode.insertBefore(V,q),V.appendChild(q),i[L]=V,q=V}const Y=n[L].substring(R,F),Z=document.createTextNode(Y);if(B){const V=document.createElement("span");return V.className=`${B} appended`,V.appendChild(Z),q.appendChild(V),B.includes("selected")?V.offsetLeft:0}return q.appendChild(Z),0}let b=x,y=b+1;if(r.state.highlightAll)b=0,y=u.length;else if(!h)return;for(let L=b;L<y;L++){const R=u[L],F=R.begin,B=R.end,q=h&&L===x,Y=q?" selected":"";let Z=0;if(g&&F.divIdx===g.divIdx?A(g.divIdx,g.offset,F.offset):(null!==g&&A(g.divIdx,g.offset,undefined),s(F)),F.divIdx===B.divIdx)Z=A(F.divIdx,F.offset,B.offset,"highlight"+Y);else{Z=A(F.divIdx,F.offset,undefined,"highlight begin"+Y);for(let V=F.divIdx+1,N=B.divIdx;V<N;V++)i[V].className="highlight middle"+Y;s(B,"highlight end"+Y)}g=B,q&&r.scrollMatchIntoView({element:i[F.divIdx],selectedLeft:Z,pageIndex:_,matchIndex:x})}g&&A(g.divIdx,g.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:u,matches:r,pageIdx:_}=this,{textContentItemsStr:n,textDivs:i}=this;let h=-1;for(let g=0,t=r.length;g<t;g++){const s=r[g];for(let b=Math.max(h,s.begin.divIdx),y=s.end.divIdx;b<=y;b++){const L=i[b];L.textContent=n[b],L.className=""}h=s.end.divIdx+1}u?.highlightMatches&&(this.matches=this._convertMatches(u.pageMatches[_]||null,u.pageMatchesLength[_]||null),this._renderMatches(this.matches))}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.DownloadManager=void 0;var f=P(3);function u(_,n){const i=document.createElement("a");if(!i.click)throw new Error('DownloadManager: "a.click()" is not supported.');i.href=_,i.target="_parent","download"in i&&(i.download=n),(document.body||document.documentElement).appendChild(i),i.click(),i.remove()}c.DownloadManager=class r{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(n,i){(0,f.createValidAbsoluteUrl)(n,"http://example.com")?u(n+"#pdfjs.action=download",i):console.error(`downloadUrl - not a valid URL: ${n}`)}downloadData(n,i,h){u(URL.createObjectURL(new Blob([n],{type:h})),i)}openOrDownloadData(n,i,h){const x=(0,f.isPdfFile)(h),p=x?"application/pdf":"";if(x){let t,g=this._openBlobUrls.get(n);g||(g=URL.createObjectURL(new Blob([i],{type:p})),this._openBlobUrls.set(n,g)),t="?file="+encodeURIComponent(g+"#"+h);try{return window.open(t),!0}catch(s){console.error(`openOrDownloadData: ${s}`),URL.revokeObjectURL(g),this._openBlobUrls.delete(n)}}return this.downloadData(i,h,p),!1}download(n,i,h,x="download"){u(URL.createObjectURL(n),h)}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.WaitOnType=c.EventBus=c.AutomationEventBus=void 0,c.waitOnEventOrTimeout=function f({target:_,name:n,delay:i=0}){return new Promise(function(h,x){if("object"!=typeof _||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function p(A){_ instanceof u?_._off(n,g):_.removeEventListener(n,g),s&&clearTimeout(s),h(A)}const g=p.bind(null,P.EVENT);_ instanceof u?_._on(n,g):_.addEventListener(n,g);const t=p.bind(null,P.TIMEOUT),s=setTimeout(t,i)})};const P={EVENT:"event",TIMEOUT:"timeout"};c.WaitOnType=P;class u{constructor(){this._listeners=Object.create(null)}on(n,i,h=null){this._on(n,i,{external:!0,once:h?.once})}off(n,i,h=null){this._off(n,i,{external:!0,once:h?.once})}dispatch(n,i){const h=this._listeners[n];if(!h||0===h.length)return;let x;for(const{listener:p,external:g,once:t}of h.slice(0))t&&this._off(n,p),g?(x||(x=[])).push(p):p(i);if(x){for(const p of x)p(i);x=null}}_on(n,i,h=null){var p;((p=this._listeners)[n]||(p[n]=[])).push({listener:i,external:!0===h?.external,once:!0===h?.once})}_off(n,i,h=null){const x=this._listeners[n];if(x)for(let p=0,g=x.length;p<g;p++)if(x[p].listener===i)return void x.splice(p,1)}}c.EventBus=u,c.AutomationEventBus=class r extends u{dispatch(n,i){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericL10n=void 0,P(19);var f=P(4);const u=document.webL10n;c.GenericL10n=class r{constructor(n){this._lang=n,this._ready=new Promise((i,h)=>{u.setLanguage((0,f.fixupLangCode)(n),()=>{i(u)})})}getLanguage(){var n=this;return m(function*(){return(yield n._ready).getLanguage()})()}getDirection(){var n=this;return m(function*(){return(yield n._ready).getDirection()})()}get(n,i=null,h=(0,f.getL10nFallback)(n,i)){var x=this;return m(function*(){return(yield x._ready).get(n,i,h)})()}translate(n){var i=this;return m(function*(){return(yield i._ready).translate(n)})()}}},()=>{document.webL10n=function(k,c,P){var f={},u="",r="textContent",_="",n={},i="loading";function s(V,N,G){N=N||function(v){},G=G||function(){};var T=new XMLHttpRequest;T.open("GET",V,!0),T.overrideMimeType&&T.overrideMimeType("text/plain; charset=utf-8"),T.onreadystatechange=function(){4==T.readyState&&(200==T.status||0===T.status?N(T.responseText):G())},T.onerror=G,T.ontimeout=G;try{T.send(null)}catch{G()}}function b(V,N){V&&(V=V.toLowerCase()),N=N||function(){},function y(){f={},u="",_=""}(),_=V;var G=function x(){return c.querySelectorAll('link[type="application/l10n"]')}(),T=G.length;if(0!==T){var l,e=0;l=function(){++e>=T&&(N(),i="complete")};for(var d=0;d<T;d++)new o(G[d]).load(V,l)}else{var z=function p(){var V=c.querySelector('script[type="application/l10n"]');return V?JSON.parse(V.innerHTML):null}();if(z&&z.locales&&z.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(f=z.locales[V])){var v=z.default_locale.toLowerCase();for(var a in z.locales){if((a=a.toLowerCase())===V){f=z.locales[V];break}a===v&&(f=z.locales[v])}}N()}else console.log("no resource to load, early way out");i="complete"}function o(C){var E=C.href;this.load=function(U,H){!function A(V,N,G,T){var z=V.replace(/[^\/]*$/,"")||"./";function v(l){return l.lastIndexOf("\\")<0?l:l.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}s(V,function(l){u+=l,function a(l,e){var o={},d=/^\s*|\s*$/,w=/^\s*#|^\s*$/,C=/^\s*\[(.*)\]\s*$/,E=/^\s*@import\s+url\((.*)\)\s*$/i,U=/^([^=\s]*)\s*=\s*(.+)$/;function H(X,Q,ne){var ce=X.replace(d,"").split(/[\r\n]+/),be="*",J=N.split("-",1)[0],se=!1,re="";!function S(){for(;;){if(!ce.length)return void ne();var I=ce.shift();if(!w.test(I)){if(Q){if(re=C.exec(I)){be=re[1].toLowerCase(),se="*"!==be&&be!==N&&be!==J;continue}if(se)continue;if(re=E.exec(I))return void j(z+re[1],S)}var $=I.match(U);$&&3==$.length&&(o[$[1]]=v($[2]))}}}()}function j(X,Q){s(X,function(ne){H(ne,!1,Q)},function(){console.warn(X+" not found."),Q()})}H(l,!0,function(){e(o)})}(l,function(e){for(var o in e){var d,w,C=o.lastIndexOf(".");C>0?(d=o.substring(0,C),w=o.substring(C+1)):(d=o,w=r),f[d]||(f[d]={}),f[d][w]=e[o]}G&&G()})},T)}(E,U,H,function(){console.warn(E+" not found."),console.warn('"'+U+'" resource not found'),_="",H()})}}}function R(V,N,G){var T=f[V];if(!T){if(console.warn("#"+V+" is undefined."),!G)return null;T=G}var z={};for(var v in T){var a=T[v];a=B(a=F(a,N,V,v),N,V),z[v]=a}return z}function F(V,N,G,T){var v=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(V);if(!v||!v.length)return V;var e,a=v[1],l=v[2];return N&&l in N?e=N[l]:l in f&&(e=f[l]),a in n&&(V=(0,n[a])(V,e,G,T)),V}function B(V,N,G){return V.replace(/\{\{\s*(.+?)\s*\}\}/g,function(z,v){return N&&v in N?N[v]:v in f?f[v]:(console.log("argument {{"+v+"}} for #"+G+" is undefined."),z)})}function q(V){var N=function t(V){if(!V)return{};var N=V.getAttribute("data-l10n-id"),G=V.getAttribute("data-l10n-args"),T={};if(G)try{T=JSON.parse(G)}catch{console.warn("could not parse arguments for #"+N)}return{id:N,args:T}}(V);if(N.id){var G=R(N.id,N.args);if(!G)return void console.warn("#"+N.id+" is undefined.");if(G[r]){if(0===function Y(V){if(V.children)return V.children.length;if(typeof V.childElementCount<"u")return V.childElementCount;for(var N=0,G=0;G<V.childNodes.length;G++)N+=1===V.nodeType?1:0;return N}(V))V[r]=G[r];else{for(var T=V.childNodes,z=!1,v=0,a=T.length;v<a;v++)3===T[v].nodeType&&/\S/.test(T[v].nodeValue)&&(z?T[v].nodeValue="":(T[v].nodeValue=G[r],z=!0));if(!z){var l=c.createTextNode(G[r]);V.insertBefore(l,V.firstChild)}}delete G[r]}for(var e in G)V[e]=G[e]}}return n.plural=function(V,N,G,T){var z=parseFloat(N);if(isNaN(z)||T!=r)return V;n._pluralRules||(n._pluralRules=function L(V){function G(a,l){return-1!==l.indexOf(a)}function T(a,l,e){return l<=a&&a<=e}var z={0:function(a){return"other"},1:function(a){return T(a%100,3,10)?"few":0===a?"zero":T(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&a%10==0?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return T(a,0,1)?"one":"other"},5:function(a){return T(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":a%10==1&&a%100!=11?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return T(a,3,6)?"few":T(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&T(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return T(a%10,2,9)&&!T(a%100,11,19)?"few":a%10!=1||T(a%100,11,19)?"other":"one"},11:function(a){return T(a%10,2,4)&&!T(a%100,12,14)?"few":a%10==0||T(a%10,5,9)||T(a%100,11,14)?"many":a%10==1&&a%100!=11?"one":"other"},12:function(a){return T(a,2,4)?"few":1==a?"one":"other"},13:function(a){return T(a%10,2,4)&&!T(a%100,12,14)?"few":1!=a&&T(a%10,0,1)||T(a%10,5,9)||T(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return T(a%100,3,4)?"few":a%100==2?"two":a%100==1?"one":"other"},15:function(a){return 0===a||T(a%100,2,10)?"few":T(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return a%10==1&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":T(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return T(a,2,10)?"few":T(a,0,1)?"one":"other"},20:function(a){return!T(a%10,3,4)&&a%10!=9||T(a%100,10,19)||T(a%100,70,79)||T(a%100,90,99)?a%1e6==0&&0!==a?"many":a%10!=2||G(a%100,[12,72,92])?a%10!=1||G(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return T(a,0,1)||T(a,11,99)?"one":"other"},23:function(a){return T(a%10,1,2)||a%20==0?"one":"other"},24:function(a){return T(a,3,10)||T(a,13,19)?"few":G(a,[2,12])?"two":G(a,[1,11])?"one":"other"}},v={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[V.replace(/-.*$/,"")];return v in z?z[v]:(console.warn("plural form unknown for ["+V+"]"),function(){return"other"})}(_));var v="["+n._pluralRules(z)+"]";return 0===z&&G+"[zero]"in f?V=f[G+"[zero]"][T]:1==z&&G+"[one]"in f?V=f[G+"[one]"][T]:2==z&&G+"[two]"in f?V=f[G+"[two]"][T]:G+v in f?V=f[G+v][T]:G+"[other]"in f&&(V=f[G+"[other]"][T]),V},{get:function(V,N,G){var v,T=V.lastIndexOf("."),z=r;T>0&&(z=V.substring(T+1),V=V.substring(0,T)),G&&((v={})[z]=G);var a=R(V,N,v);return a&&z in a?a[z]:"{{"+V+"}}"},getData:function(){return f},getText:function(){return u},getLanguage:function(){return _},setLanguage:function(V,N){b(V,function(){N&&N()})},getDirection:function(){var N=_.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(N)>=0?"rtl":"ltr"},translate:function Z(V){for(var N=function g(V){return V?V.querySelectorAll("*[data-l10n-id]"):[]}(V=V||c.documentElement),G=N.length,T=0;T<G;T++)q(N[T]);q(V)},getReadyState:function(){return i},ready:function(V){V&&("complete"==i||"interactive"==i?k.setTimeout(function(){V()}):c.addEventListener&&c.addEventListener("localized",function N(){c.removeEventListener("localized",N),V()}))}}}(window,document)},(k,c,P)=>{var B,mt,Y,nt,V,it,G,bt,z,At,a,yt,e,rt,d,vt,C,St,U,Xe,j,He,Q,Ue,ce,Ct,J,st,re,at,I,$e,pe,Pt,ue,ot,_e,wt,Pe,Ge;Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFindController=c.FindState=void 0;var f=P(6),u=P(3),r=P(21);const _={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};c.FindState=_;const x={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},p=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),g=[...p.values()].map(te=>String.fromCharCode(te)).join(""),t=/\p{M}+/gu,s=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,A=/([^\p{M}])\p{M}*$/u,b=/^\p{M}*([^\p{M}])/u;let y=null;function L(te){if(!y){const xe=Object.keys(x).join("");y=new RegExp(`([${xe}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const O=[];let D;for(;null!==(D=t.exec(te));)O.push([D[0].length,D.index]);let ae=te.normalize("NFD");const le=[[0,0]];let fe=0,ge=0,Ce=0,we=0,Me=!1;return ae=ae.replace(y,(xe,Re,ke,Be,Le,Fe)=>{if(Fe-=Ce,Re){const Oe=x[xe],Ne=Oe.length;for(let De=1;De<Ne;De++)le.push([Fe-ge+De,ge-De]);return ge-=Ne-1,Oe}if(ke){const Oe=ke.endsWith("\n"),Ne=Oe?ke.length-2:ke.length;Me=!0;let De=Ne;Fe+we===O[fe]?.[1]&&(De-=O[fe][0],++fe);for(let Ve=1;Ve<De+1;Ve++)le.push([Fe-1-ge+Ve,ge-Ve]);return ge-=De,Ce+=De,Oe?(le.push([(Fe+=Ne-1)-ge+1,1+ge]),ge+=1,Ce+=1,we+=1,ke.slice(0,Ne)):ke}return Be?(le.push([Fe-ge+1,1+ge]),ge+=1,Ce+=1,we+=1,Be.charAt(0)):(le.push([Fe-ge+1,ge-1]),ge-=1,Ce+=1,we+=1," ")}),le.push([ae.length,ge]),[ae,le,Me]}function R(te,O,D){if(!te)return[O,D];const ae=O,le=O+D;let fe=(0,f.binarySearchFirstItem)(te,Ce=>Ce[0]>=ae);te[fe][0]>ae&&--fe;let ge=(0,f.binarySearchFirstItem)(te,Ce=>Ce[0]>=le,fe);return te[ge][0]>le&&--ge,[ae+te[fe][1],D+te[ge][1]-te[fe][1]]}B=new WeakSet,mt=function(O){if(!O)return;const D=this._pdfDocument,{type:ae}=O;(null===this._state||ye(this,G,bt).call(this,O))&&(this._dirtyMatch=!0),this._state=O,"highlightallchange"!==ae&&ye(this,Pe,Ge).call(this,_.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||D&&this._pdfDocument!==D)return;ye(this,C,St).call(this);const le=!this._highlightMatches,fe=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ae?this._dirtyMatch?ye(this,Q,Ue).call(this):"again"===ae?(ye(this,Q,Ue).call(this),le&&this._state.highlightAll&&ye(this,j,He).call(this)):"highlightallchange"===ae?(fe?ye(this,Q,Ue).call(this):this._highlightMatches=!0,ye(this,j,He).call(this)):ye(this,Q,Ue).call(this):this._findTimeout=setTimeout(()=>{ye(this,Q,Ue).call(this),this._findTimeout=null},250)})},Y=new WeakSet,nt=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,u.createPromiseCapability)()},V=new WeakSet,it=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=L(this._state.query)),this._normalizedQuery},G=new WeakSet,bt=function(O){if(O.query!==this._state.query)return!0;switch(O.type){case"again":const D=this._selected.pageIdx+1,ae=this._linkService;return D>=1&&D<=ae.pagesCount&&D!==ae.page&&!ae.isPageVisible(D);case"highlightallchange":return!1}return!0},z=new WeakSet,At=function(O,D,ae){let le=O.slice(0,D).match(A);if(le){const fe=O.charCodeAt(D),ge=le[1].charCodeAt(0);if((0,r.getCharacterType)(fe)===(0,r.getCharacterType)(ge))return!1}if(le=O.slice(D+ae).match(b),le){const fe=O.charCodeAt(D+ae-1),ge=le[1].charCodeAt(0);if((0,r.getCharacterType)(fe)===(0,r.getCharacterType)(ge))return!1}return!0},a=new WeakSet,yt=function(O,D,ae,le){const fe=[],ge=[],Ce=this._pageDiffs[ae];let we;for(;null!==(we=O.exec(le));){if(D&&!ye(this,z,At).call(this,le,we.index,we[0].length))continue;const[Me,xe]=R(Ce,we.index,we[0].length);xe&&(fe.push(Me),ge.push(xe))}this._pageMatches[ae]=fe,this._pageMatchesLength[ae]=ge},e=new WeakSet,rt=function(O,D){const{matchDiacritics:ae}=this._state;let le=!1;return(O=O.replace(s,(ge,Ce,we,Me,xe,Re)=>Ce?`[ ]*\\${Ce}[ ]*`:we?`[ ]*${we}[ ]*`:Me?"[ ]+":ae?xe||Re:xe?p.has(xe.charCodeAt(0))?xe:"":D?(le=!0,`${Re}\\p{M}*`):Re)).endsWith("[ ]*")&&(O=O.slice(0,O.length-"[ ]*".length)),ae&&D&&(le=!0,O=`${O}(?=[${g}]|[^\\p{M}]|$)`),[le,O]},d=new WeakSet,vt=function(O){let D=Ae(this,V,it);if(0===D.length)return;const{caseSensitive:ae,entireWord:le,phraseSearch:fe}=this._state,ge=this._pageContents[O],Ce=this._hasDiacritics[O];let we=!1;if(fe)[we,D]=ye(this,e,rt).call(this,D,Ce);else{const Re=D.match(/\S+/g);Re&&(D=Re.sort().reverse().map(ke=>{const[Be,Le]=ye(this,e,rt).call(this,ke,Ce);return we||(we=Be),`(${Le})`}).join("|"))}D=new RegExp(D,`g${we?"u":""}${ae?"":"i"}`),ye(this,a,yt).call(this,D,le,O,ge),this._state.highlightAll&&ye(this,U,Xe).call(this,O),this._resumePageIdx===O&&(this._resumePageIdx=null,ye(this,J,st).call(this));const xe=this._pageMatches[O].length;xe>0&&(this._matchesCountTotal+=xe,ye(this,_e,wt).call(this))},C=new WeakSet,St=function(){if(this._extractTextPromises.length>0)return;let O=Promise.resolve();for(let D=0,ae=this._linkService.pagesCount;D<ae;D++){const le=(0,u.createPromiseCapability)();this._extractTextPromises[D]=le.promise,O=O.then(()=>this._pdfDocument.getPage(D+1).then(fe=>fe.getTextContent()).then(fe=>{const ge=[];for(const Ce of fe.items)ge.push(Ce.str),Ce.hasEOL&&ge.push("\n");[this._pageContents[D],this._pageDiffs[D],this._hasDiacritics[D]]=L(ge.join("")),le.resolve()},fe=>{console.error(`Unable to get text content for page ${D+1}`,fe),this._pageContents[D]="",this._pageDiffs[D]=null,this._hasDiacritics[D]=!1,le.resolve()}))}},U=new WeakSet,Xe=function(O){this._scrollMatches&&this._selected.pageIdx===O&&(this._linkService.page=O+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:O})},j=new WeakSet,He=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Q=new WeakSet,Ue=function(){const O=this._state.findPrevious,D=this._linkService.page-1,ae=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=D,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ye(this,j,He).call(this);for(let fe=0;fe<ae;fe++)this._pendingFindMatches.has(fe)||(this._pendingFindMatches.add(fe),this._extractTextPromises[fe].then(()=>{this._pendingFindMatches.delete(fe),ye(this,d,vt).call(this,fe)}))}if(""===Ae(this,V,it))return void ye(this,Pe,Ge).call(this,_.FOUND);if(this._resumePageIdx)return;const le=this._offset;if(this._pagesToSearch=ae,null!==le.matchIdx){const fe=this._pageMatches[le.pageIdx].length;if(!O&&le.matchIdx+1<fe||O&&le.matchIdx>0)return le.matchIdx=O?le.matchIdx-1:le.matchIdx+1,void ye(this,I,$e).call(this,!0);ye(this,re,at).call(this,O)}ye(this,J,st).call(this)},ce=new WeakSet,Ct=function(O){const D=this._offset,ae=O.length,le=this._state.findPrevious;return ae?(D.matchIdx=le?ae-1:0,ye(this,I,$e).call(this,!0),!0):(ye(this,re,at).call(this,le),!!(D.wrapped&&(D.matchIdx=null,this._pagesToSearch<0))&&(ye(this,I,$e).call(this,!1),!0))},J=new WeakSet,st=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let O=null;do{const D=this._offset.pageIdx;if(O=this._pageMatches[D],!O){this._resumePageIdx=D;break}}while(!ye(this,ce,Ct).call(this,O))},re=new WeakSet,at=function(O){const D=this._offset,ae=this._linkService.pagesCount;D.pageIdx=O?D.pageIdx-1:D.pageIdx+1,D.matchIdx=null,this._pagesToSearch--,(D.pageIdx>=ae||D.pageIdx<0)&&(D.pageIdx=O?ae-1:0,D.wrapped=!0)},I=new WeakSet,$e=function(O=!1){let D=_.NOT_FOUND;const ae=this._offset.wrapped;if(this._offset.wrapped=!1,O){const le=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,D=ae?_.WRAPPED:_.FOUND,-1!==le&&le!==this._selected.pageIdx&&ye(this,U,Xe).call(this,le)}ye(this,Pe,Ge).call(this,D,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ye(this,U,Xe).call(this,this._selected.pageIdx))},pe=new WeakSet,Pt=function(O){const D=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||D&&this._pdfDocument!==D||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ye(this,Pe,Ge).call(this,_.FOUND),this._highlightMatches=!1,ye(this,j,He).call(this))})},ue=new WeakSet,ot=function(){const{pageIdx:O,matchIdx:D}=this._selected;let ae=0,le=this._matchesCountTotal;if(-1!==D){for(let fe=0;fe<O;fe++)ae+=this._pageMatches[fe]?.length||0;ae+=D+1}return(ae<1||ae>le)&&(ae=le=0),{current:ae,total:le}},_e=new WeakSet,wt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ye(this,ue,ot).call(this)})},Pe=new WeakSet,Ge=function(O,D=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:O,previous:D,matchesCount:ye(this,ue,ot).call(this),rawQuery:this._state?.query??null})},c.PDFFindController=class F{constructor({linkService:O,eventBus:D}){ve(this,B),ve(this,Y),ve(this,V),ve(this,G),ve(this,z),ve(this,a),ve(this,e),ve(this,d),ve(this,C),ve(this,U),ve(this,j),ve(this,Q),ve(this,ce),ve(this,J),ve(this,re),ve(this,I),ve(this,pe),ve(this,ue),ve(this,_e),ve(this,Pe),this._linkService=O,this._eventBus=D,ye(this,Y,nt).call(this),D._on("find",ye(this,B,mt).bind(this)),D._on("findbarclose",ye(this,pe,Pt).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(O){this._pdfDocument&&ye(this,Y,nt).call(this),O&&(this._pdfDocument=O,this._firstPageCapability.resolve())}scrollMatchIntoView({element:O=null,selectedLeft:D=0,pageIndex:ae=-1,matchIndex:le=-1}){this._scrollMatches&&O&&-1!==le&&le===this._selected.matchIdx&&-1!==ae&&ae===this._selected.pageIdx&&(this._scrollMatches=!1,(0,f.scrollIntoView)(O,{top:-50,left:D+-400},!0))}}},(k,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.CharacterType=void 0,c.getCharacterType=function t(s){return function f(s){return s<11904}(s)?function u(s){return 0==(65408&s)}(s)?function n(s){return 32===s||9===s||13===s||10===s}(s)?P.SPACE:function r(s){return s>=97&&s<=122||s>=65&&s<=90}(s)||function _(s){return s>=48&&s<=57}(s)||95===s?P.ALPHA_LETTER:P.PUNCT:function g(s){return 3584==(65408&s)}(s)?P.THAI_LETTER:160===s?P.SPACE:P.ALPHA_LETTER:function i(s){return s>=13312&&s<=40959||s>=63744&&s<=64255}(s)?P.HAN_LETTER:function h(s){return s>=12448&&s<=12543}(s)?P.KATAKANA_LETTER:function x(s){return s>=12352&&s<=12447}(s)?P.HIRAGANA_LETTER:function p(s){return s>=65376&&s<=65439}(s)?P.HALFWIDTH_KATAKANA_LETTER:P.ALPHA_LETTER};const P={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};c.CharacterType=P},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFHistory=void 0,c.isDestArraysEqual=p,c.isDestHashesEqual=x;var f=P(6),u=P(17);function i(){return document.location.hash}function x(g,t){return"string"==typeof g&&"string"==typeof t&&(g===t||(0,f.parseQueryString)(g).get("nameddest")===t)}function p(g,t){function s(A,b){if(typeof A!=typeof b||Array.isArray(A)||Array.isArray(b))return!1;if(null!==A&&"object"==typeof A&&null!==b){if(Object.keys(A).length!==Object.keys(b).length)return!1;for(const y in A)if(!s(A[y],b[y]))return!1;return!0}return A===b||Number.isNaN(A)&&Number.isNaN(b)}if(!Array.isArray(g)||!Array.isArray(t)||g.length!==t.length)return!1;for(let A=0,b=g.length;A<b;A++)if(!s(g[A],t[A]))return!1;return!0}c.PDFHistory=class h{constructor({linkService:t,eventBus:s}){this.linkService=t,this.eventBus=s,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",A=>{this._isPagesLoaded=!!A.pagesCount},{once:!0})})}initialize({fingerprint:t,resetHistory:s=!1,updateUrl:A=!1}){if(!t||"string"!=typeof t)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const b=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===A,this._initialized=!0,this._bindEvents();const y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=i(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(y,!0)||s){const{hash:R,page:F,rotation:B}=this._parseCurrentHash(!0);return!R||b||s?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:R,page:F,rotation:B},!0)}const L=y.destination;this._updateInternalState(L,y.uid,!0),void 0!==L.rotation&&(this._initialRotation=L.rotation),L.dest?(this._initialBookmark=JSON.stringify(L.dest),this._destination.page=null):L.hash?this._initialBookmark=L.hash:L.page&&(this._initialBookmark=`page=${L.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:t=null,explicitDest:s,pageNumber:A}){if(!this._initialized)return;if(t&&"string"!=typeof t)return void console.error(`PDFHistory.push: "${t}" is not a valid namedDest parameter.`);if(!Array.isArray(s))return void console.error(`PDFHistory.push: "${s}" is not a valid explicitDest parameter.`);if(!this._isValidPage(A)&&(null!==A||this._destination))return void console.error(`PDFHistory.push: "${A}" is not a valid pageNumber parameter.`);const b=t||JSON.stringify(s);if(!b)return;let y=!1;if(this._destination&&(x(this._destination.hash,b)||p(this._destination.dest,s))){if(this._destination.page)return;y=!0}this._popStateInProgress&&!y||(this._pushOrReplaceState({dest:s,hash:b,page:A,rotation:this.linkService.rotation},y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(t){if(this._initialized){if(!this._isValidPage(t))return void console.error(`PDFHistory.pushPage: "${t}" is not a valid page number.`);this._destination?.page!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${t}`,page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(t,s=!1){const A=s||!this._destination,b={fingerprint:this._fingerprint,uid:A?this._uid:this._uid+1,destination:t};let y;if(this._updateInternalState(t,b.uid),this._updateUrl&&t?.hash){const L=document.location.href.split("#")[0];L.startsWith("file://")||(y=`${L}#${t.hash}`)}A?window.history.replaceState(b,"",y):window.history.pushState(b,"",y)}_tryPushCurrentPosition(t=!1){if(!this._position)return;let s=this._position;if(t&&(s=Object.assign(Object.create(null),this._position),s.temporary=!0),!this._destination)return void this._pushOrReplaceState(s);if(this._destination.temporary)return void this._pushOrReplaceState(s,!0);if(this._destination.hash===s.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let A=!1;if(this._destination.page>=s.first&&this._destination.page<=s.page){if(void 0!==this._destination.dest||!this._destination.first)return;A=!0}this._pushOrReplaceState(s,A)}_isValidPage(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}_isValidState(t,s=!1){if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!s)return!1;{if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;const[A]=performance.getEntriesByType("navigation");if("reload"!==A?.type)return!1}}return!(!Number.isInteger(t.uid)||t.uid<0||null===t.destination||"object"!=typeof t.destination)}_updateInternalState(t,s,A=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),A&&t?.temporary&&delete t.temporary,this._destination=t,this._uid=s,this._maxUid=Math.max(this._maxUid,s),this._numPositionUpdates=0}_parseCurrentHash(t=!1){const s=unescape(i()).substring(1),A=(0,f.parseQueryString)(s),b=A.get("nameddest")||"";let y=0|A.get("page");return(!this._isValidPage(y)||t&&b.length>0)&&(y=null),{hash:s,page:y,rotation:this.linkService.rotation}}_updateViewarea({location:t}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:t.pdfOpenParams.substring(1),page:this.linkService.page,first:t.pageNumber,rotation:t.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:t}){const s=i(),A=this._currentHash!==s;if(this._currentHash=s,!t){this._uid++;const{hash:y,page:L,rotation:R}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:y,page:L,rotation:R},!0)}if(!this._isValidState(t))return;this._popStateInProgress=!0,A&&(this._blockHashChange++,(0,u.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const b=t.destination;this._updateInternalState(b,t.uid,!0),(0,f.isValidRotation)(b.rotation)&&(this.linkService.rotation=b.rotation),b.dest?this.linkService.goToDestination(b.dest):b.hash?this.linkService.setHash(b.hash):b.page&&(this.linkService.page=b.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFScriptingManager=void 0;var f=P(6),u=P(3);c.PDFScriptingManager=class r{constructor({eventBus:n,sandboxBundleSrc:i=null,scriptingFactory:h=null,docPropertiesLookup:x=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=n,this._sandboxBundleSrc=i,this._scriptingFactory=h,this._docPropertiesLookup=x,this._scriptingFactory||window.addEventListener("updatefromsandbox",p=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:p.detail})})}setViewer(n){this._pdfViewer=n}setDocument(n){var i=this;return m(function*(){if(i._pdfDocument&&(yield i._destroyScripting()),i._pdfDocument=n,!n)return;const[h,x,p]=yield Promise.all([n.getFieldObjects(),n.getCalculationOrderIds(),n.getJSActions()]);if(h||p){if(n===i._pdfDocument){try{i._scripting=i._createScripting()}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield i._destroyScripting())}i._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&i._updateFromSandbox(g.detail)}),i._internalEvents.set("dispatcheventinsandbox",g=>{i._scripting?.dispatchEventInSandbox(g.detail)}),i._internalEvents.set("pagechanging",({pageNumber:g,previous:t})=>{g!==t&&(i._dispatchPageClose(t),i._dispatchPageOpen(g))}),i._internalEvents.set("pagerendered",({pageNumber:g})=>{!i._pageOpenPending.has(g)||g===i._pdfViewer.currentPageNumber&&i._dispatchPageOpen(g)}),i._internalEvents.set("pagesdestroy",function(){var g=m(function*(t){yield i._dispatchPageClose(i._pdfViewer.currentPageNumber),yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),i._closeCapability?.resolve()});return function(t){return g.apply(this,arguments)}}()),i._domEvents.set("mousedown",g=>{i._mouseState.isDown=!0}),i._domEvents.set("mouseup",g=>{i._mouseState.isDown=!1});for(const[g,t]of i._internalEvents)i._eventBus._on(g,t);for(const[g,t]of i._domEvents)window.addEventListener(g,t,!0);try{const g=yield i._getDocProperties();if(n!==i._pdfDocument)return;yield i._scripting.createSandbox({objects:h,calculationOrder:x,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...g,actions:p}}),i._eventBus.dispatch("sandboxcreated",{source:i})}catch(g){return console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),void(yield i._destroyScripting())}yield i._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield i._dispatchPageOpen(i._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{n===i._pdfDocument&&(i._ready=!0)})}}else yield i._destroyScripting()})()}dispatchWillSave(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(n){var i=this;return m(function*(){return i._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,u.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,u.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,u.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,u.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(n){var i=this;return m(function*(){const h=i._pdfViewer.isInPresentationMode||i._pdfViewer.isChangingPresentationMode,{id:x,siblings:p,command:g,value:t}=n;if(!x){switch(g){case"clear":console.clear();break;case"error":console.error(t);break;case"layout":if(h)return;const A=(0,f.apiPageLayoutToViewerModes)(t);i._pdfViewer.spreadMode=A.spreadMode;break;case"page-num":i._pdfViewer.currentPageNumber=t+1;break;case"print":yield i._pdfViewer.pagesPromise,i._eventBus.dispatch("print",{source:i});break;case"println":console.log(t);break;case"zoom":if(h)return;i._pdfViewer.currentScaleValue=t;break;case"SaveAs":i._eventBus.dispatch("save",{source:i});break;case"FirstPage":i._pdfViewer.currentPageNumber=1;break;case"LastPage":i._pdfViewer.currentPageNumber=i._pdfViewer.pagesCount;break;case"NextPage":i._pdfViewer.nextPage();break;case"PrevPage":i._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;i._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;i._pdfViewer.decreaseScale()}return}if(h&&n.focus)return;delete n.id,delete n.siblings;const s=p?[x,...p]:[x];for(const A of s){const b=document.getElementById(A);b?b.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:n})):i._pdfDocument?.annotationStorage.setValue(A,n)}})()}_dispatchPageOpen(n,i=!1){var h=this;return m(function*(){const x=h._pdfDocument,p=h._visitedPages;if(i&&(h._closeCapability=(0,u.createPromiseCapability)()),!h._closeCapability)return;const g=h._pdfViewer.getPageView(n-1);if(g?.renderingState!==f.RenderingStates.FINISHED)return void h._pageOpenPending.add(n);h._pageOpenPending.delete(n);const t=m(function*(){const s=yield p.has(n)?null:g.pdfPage?.getJSActions();x===h._pdfDocument&&(yield h._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:n,actions:s}))})();p.set(n,t)})()}_dispatchPageClose(n){var i=this;return m(function*(){const h=i._pdfDocument,x=i._visitedPages;if(!i._closeCapability||i._pageOpenPending.has(n))return;const p=x.get(n);!p||(x.set(n,null),yield p,h===i._pdfDocument&&(yield i._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:n})))})()}_getDocProperties(){var n=this;return m(function*(){if(n._docPropertiesLookup)return n._docPropertiesLookup(n._pdfDocument);const{docPropertiesLookup:i}=P(24);return i(n._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,u.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:n}=P(24);return new n(this._sandboxBundleSrc)}_destroyScripting(){var n=this;return m(function*(){if(!n._scripting)return n._pdfDocument=null,void n._destroyCapability?.resolve();n._closeCapability&&(yield Promise.race([n._closeCapability.promise,new Promise(i=>{setTimeout(i,1e3)})]).catch(i=>{}),n._closeCapability=null),n._pdfDocument=null;try{yield n._scripting.destroySandbox()}catch{}for(const[i,h]of n._internalEvents)n._eventBus._off(i,h);n._internalEvents.clear();for(const[i,h]of n._domEvents)window.removeEventListener(i,h,!0);n._domEvents.clear(),n._pageOpenPending.clear(),n._visitedPages.clear(),n._scripting=null,delete n._mouseState.isDown,n._ready=!1,n._destroyCapability?.resolve()})()}}},(k,c,P)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GenericScripting=void 0,c.docPropertiesLookup=function u(n){return r.apply(this,arguments)};var f=P(3);function r(){return(r=m(function*(n){const h="".split("#")[0];let{info:x,metadata:p,contentDispositionFilename:g,contentLength:t}=yield n.getMetadata();if(!t){const{length:s}=yield n.getDownloadInfo();t=s}return{...x,baseURL:h,filesize:t,filename:g||(0,f.getPdfFilenameFromUrl)(""),metadata:p?.getRaw(),authors:p?.get("dc:creator"),numPages:n.numPages,URL:""}})).apply(this,arguments)}c.GenericScripting=class _{constructor(i){this._ready=(0,f.loadScript)(i,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(i){var h=this;return m(function*(){(yield h._ready).create(i)})()}dispatchEventInSandbox(i){var h=this;return m(function*(){const x=yield h._ready;setTimeout(()=>x.dispatchEvent(i),0)})()}destroySandbox(){var i=this;return m(function*(){(yield i._ready).nukeSandbox()})()}}}],ie={};function W(k){var c=ie[k];if(void 0!==c)return c.exports;var P=ie[k]={exports:{}};return oe[k](P,P.exports,W),P.exports}var K={};return(()=>{var k=K;Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return r.AnnotationLayerBuilder}}),Object.defineProperty(k,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return c.DefaultAnnotationLayerFactory}}),Object.defineProperty(k,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return c.DefaultStructTreeLayerFactory}}),Object.defineProperty(k,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return c.DefaultTextLayerFactory}}),Object.defineProperty(k,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return c.DefaultXfaLayerFactory}}),Object.defineProperty(k,"DownloadManager",{enumerable:!0,get:function(){return _.DownloadManager}}),Object.defineProperty(k,"EventBus",{enumerable:!0,get:function(){return n.EventBus}}),Object.defineProperty(k,"GenericL10n",{enumerable:!0,get:function(){return i.GenericL10n}}),Object.defineProperty(k,"LinkTarget",{enumerable:!0,get:function(){return P.LinkTarget}}),Object.defineProperty(k,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(k,"PDFFindController",{enumerable:!0,get:function(){return x.PDFFindController}}),Object.defineProperty(k,"PDFHistory",{enumerable:!0,get:function(){return p.PDFHistory}}),Object.defineProperty(k,"PDFLinkService",{enumerable:!0,get:function(){return P.PDFLinkService}}),Object.defineProperty(k,"PDFPageView",{enumerable:!0,get:function(){return g.PDFPageView}}),Object.defineProperty(k,"PDFScriptingManager",{enumerable:!0,get:function(){return t.PDFScriptingManager}}),Object.defineProperty(k,"PDFSinglePageViewer",{enumerable:!0,get:function(){return u.PDFSinglePageViewer}}),Object.defineProperty(k,"PDFViewer",{enumerable:!0,get:function(){return u.PDFViewer}}),Object.defineProperty(k,"ProgressBar",{enumerable:!0,get:function(){return f.ProgressBar}}),Object.defineProperty(k,"SimpleLinkService",{enumerable:!0,get:function(){return P.SimpleLinkService}}),Object.defineProperty(k,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return s.StructTreeLayerBuilder}}),Object.defineProperty(k,"TextLayerBuilder",{enumerable:!0,get:function(){return A.TextLayerBuilder}}),Object.defineProperty(k,"XfaLayerBuilder",{enumerable:!0,get:function(){return b.XfaLayerBuilder}}),Object.defineProperty(k,"parseQueryString",{enumerable:!0,get:function(){return f.parseQueryString}});var c=W(1),P=W(5),f=W(6),u=W(10),r=W(2),_=W(16),n=W(17),i=W(18),h=W(4),x=W(20),p=W(22),g=W(12),t=W(23),s=W(7),A=W(8),b=W(9)})(),K})(),he.exports=W()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:he=>{function M(m,oe,ie,W,K,k,c){try{var P=m[k](c),f=P.value}catch(u){return void ie(u)}P.done?oe(f):Promise.resolve(f).then(W,K)}he.exports=function ee(m){return function(){var oe=this,ie=arguments;return new Promise(function(W,K){var k=m.apply(oe,ie);function c(f){M(k,W,K,c,P,"next",f)}function P(f){M(k,W,K,c,P,"throw",f)}c(void 0)})}},he.exports.__esModule=!0,he.exports.default=he.exports}}]);