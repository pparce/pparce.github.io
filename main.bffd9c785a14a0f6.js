var k7=Object.defineProperty,F7=(tt,se,ie)=>se in tt?k7(tt,se,{enumerable:!0,configurable:!0,writable:!0,value:ie}):tt[se]=ie,NT=(tt,se,ie)=>(F7(tt,"symbol"!=typeof se?se+"":se,ie),ie),pR=(tt,se,ie)=>{if(!se.has(tt))throw TypeError("Cannot "+ie)},Xt=(tt,se,ie)=>(pR(tt,se,"read from private field"),ie?ie.call(tt):se.get(tt)),fn=(tt,se,ie)=>{if(se.has(tt))throw TypeError("Cannot add the same private member more than once");se instanceof WeakSet?se.add(tt):se.set(tt,ie)},Ti=(tt,se,ie,l)=>(pR(tt,se,"write to private field"),l?l.call(tt,ie):se.set(tt,ie),ie),cj=(tt,se,ie,l)=>({set _(xe){Ti(tt,se,xe,ie)},get _(){return Xt(tt,se,l)}}),rn=(tt,se,ie)=>(pR(tt,se,"access private method"),ie);(self.webpackChunkpparce_portfolio=self.webpackChunkpparce_portfolio||[]).push([[179],{2011:(tt,se,ie)=>{"use strict";ie.d(se,{Dh:()=>F,GT:()=>Ae,cc:()=>A,on:()=>W,pX:()=>Ee,xv:()=>te});var l=ie(4650),xe=ie(127);tt=ie.hmd(tt);const le=["ngOnDestroy"],Ee=(B,j,D,R={})=>new Proxy(B,{get:(Y,H)=>D.runOutsideAngular(()=>{var q;if(B[H])return!(null===(q=R?.spy)||void 0===q)&&q.get&&R.spy.get(H,B[H]),B[H];if(le.indexOf(H)>-1)return()=>{};const fe=j.toPromise().then(_e=>{const z=_e&&_e[H];return"function"==typeof z?z.bind(_e):z&&z.then?z.then(ge=>D.run(()=>ge)):D.run(()=>z)});return new Proxy(()=>{},{get:(_e,z)=>fe[z],apply:(_e,z,ge)=>fe.then(ce=>{var J;const de=ce&&ce(...ge);return!(null===(J=R?.spy)||void 0===J)&&J.apply&&R.spy.apply(H,ge,de),de})})})}),Ae=(B,j)=>{j.forEach(D=>{Object.getOwnPropertyNames(D.prototype||D).forEach(R=>{Object.defineProperty(B.prototype,R,Object.getOwnPropertyDescriptor(D.prototype||D,R))})})};class ue{constructor(j){return j}}const F=new l.OlP("angularfire2.app.options"),te=new l.OlP("angularfire2.app.name");function W(B,j,D){const Y="object"==typeof D&&D||{};Y.name=Y.name||"string"==typeof D&&D||"[DEFAULT]";const q=xe.Z.apps.filter(fe=>fe&&fe.name===Y.name)[0]||j.runOutsideAngular(()=>xe.Z.initializeApp(B,Y));try{JSON.stringify(B)!==JSON.stringify(q.options)&&M("error",`${q.name} Firebase App already initialized with different options${tt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(q)}const M=(B,...j)=>{(0,l.X6Q)()&&typeof console<"u"&&console[B](...j)};function A(B,j,D,R,Y){const[,H,q]=globalThis.\u0275AngularfireInstanceCache.find(fe=>fe[0]===B)||[];if(H)return function x(B,j){try{return B.toString()===j.toString()}catch{return B===j}}(Y,q)||(oe("error",`${j} was already initialized on the ${D} Firebase App with different settings.${L?" You may need to reload as Firebase is not HMR aware.":""}`),oe("warn",{is:Y,was:q})),H;{const fe=R();return globalThis.\u0275AngularfireInstanceCache.push([B,fe,Y]),fe}}const L=!!tt.hot,oe=(B,...j)=>{(0,l.X6Q)()&&typeof console<"u"&&console[B](...j)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2090:(tt,se,ie)=>{"use strict";ie.d(se,{$s:()=>Ht,BH:()=>ye,G6:()=>q,L:()=>te,LL:()=>U,Pz:()=>et,Sg:()=>N,UG:()=>L,US:()=>ue,ZB:()=>S,ZR:()=>I,aH:()=>Ne,b$:()=>j,eu:()=>_e,hl:()=>fe,jU:()=>oe,m9:()=>en,ne:()=>_t,pd:()=>It,r3:()=>nt,ru:()=>B,tV:()=>W,uI:()=>x,vZ:()=>je,w1:()=>R,xO:()=>Oe,xb:()=>Lt,z$:()=>A,zI:()=>z,zd:()=>We});const Ee=function(Le){const Re=[];let Ue=0;for(let mt=0;mt<Le.length;mt++){let qe=Le.charCodeAt(mt);qe<128?Re[Ue++]=qe:qe<2048?(Re[Ue++]=qe>>6|192,Re[Ue++]=63&qe|128):55296==(64512&qe)&&mt+1<Le.length&&56320==(64512&Le.charCodeAt(mt+1))?(qe=65536+((1023&qe)<<10)+(1023&Le.charCodeAt(++mt)),Re[Ue++]=qe>>18|240,Re[Ue++]=qe>>12&63|128,Re[Ue++]=qe>>6&63|128,Re[Ue++]=63&qe|128):(Re[Ue++]=qe>>12|224,Re[Ue++]=qe>>6&63|128,Re[Ue++]=63&qe|128)}return Re},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Le,Re){if(!Array.isArray(Le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ue=Re?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let qe=0;qe<Le.length;qe+=3){const Nt=Le[qe],nn=qe+1<Le.length,Nn=nn?Le[qe+1]:0,Jn=qe+2<Le.length,Ln=Jn?Le[qe+2]:0;let In=(15&Nn)<<2|Ln>>6,Vi=63&Ln;Jn||(Vi=64,nn||(In=64)),mt.push(Ue[Nt>>2],Ue[(3&Nt)<<4|Nn>>4],Ue[In],Ue[Vi])}return mt.join("")},encodeString(Le,Re){return this.HAS_NATIVE_SUPPORT&&!Re?btoa(Le):this.encodeByteArray(Ee(Le),Re)},decodeString(Le,Re){return this.HAS_NATIVE_SUPPORT&&!Re?atob(Le):function(Le){const Re=[];let Ue=0,mt=0;for(;Ue<Le.length;){const qe=Le[Ue++];if(qe<128)Re[mt++]=String.fromCharCode(qe);else if(qe>191&&qe<224){const Nt=Le[Ue++];Re[mt++]=String.fromCharCode((31&qe)<<6|63&Nt)}else if(qe>239&&qe<365){const Jn=((7&qe)<<18|(63&Le[Ue++])<<12|(63&Le[Ue++])<<6|63&Le[Ue++])-65536;Re[mt++]=String.fromCharCode(55296+(Jn>>10)),Re[mt++]=String.fromCharCode(56320+(1023&Jn))}else{const Nt=Le[Ue++],nn=Le[Ue++];Re[mt++]=String.fromCharCode((15&qe)<<12|(63&Nt)<<6|63&nn)}}return Re.join("")}(this.decodeStringToByteArray(Le,Re))},decodeStringToByteArray(Le,Re){this.init_();const Ue=Re?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let qe=0;qe<Le.length;){const Nt=Ue[Le.charAt(qe++)],Nn=qe<Le.length?Ue[Le.charAt(qe)]:0;++qe;const Ln=qe<Le.length?Ue[Le.charAt(qe)]:64;++qe;const zt=qe<Le.length?Ue[Le.charAt(qe)]:64;if(++qe,null==Nt||null==Nn||null==Ln||null==zt)throw Error();mt.push(Nt<<2|Nn>>4),64!==Ln&&(mt.push(Nn<<4&240|Ln>>2),64!==zt&&mt.push(Ln<<6&192|zt))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Le=0;Le<this.ENCODED_VALS.length;Le++)this.byteToCharMap_[Le]=this.ENCODED_VALS.charAt(Le),this.charToByteMap_[this.byteToCharMap_[Le]]=Le,this.byteToCharMapWebSafe_[Le]=this.ENCODED_VALS_WEBSAFE.charAt(Le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Le]]=Le,Le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Le)]=Le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Le)]=Le)}}},te=function(Le){return function(Le){const Re=Ee(Le);return ue.encodeByteArray(Re,!0)}(Le).replace(/\./g,"")},W=function(Le){try{return ue.decodeString(Le,!0)}catch(Re){console.error("base64Decode failed: ",Re)}return null};function S(Le,Re){if(!(Re instanceof Object))return Re;switch(Re.constructor){case Date:return new Date(Re.getTime());case Object:void 0===Le&&(Le={});break;case Array:Le=[];break;default:return Re}for(const Ue in Re)!Re.hasOwnProperty(Ue)||!k(Ue)||(Le[Ue]=S(Le[Ue],Re[Ue]));return Le}function k(Le){return"__proto__"!==Le}function A(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function L(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function oe(){return"object"==typeof self&&self.self===self}function B(){const Le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Le&&void 0!==Le.id}function j(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function R(){const Le=A();return Le.indexOf("MSIE ")>=0||Le.indexOf("Trident/")>=0}function q(){return!L()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){return"object"==typeof indexedDB}function _e(){return new Promise((Le,Re)=>{try{let Ue=!0;const mt="validate-browser-context-for-indexeddb-analytics-module",qe=self.indexedDB.open(mt);qe.onsuccess=()=>{qe.result.close(),Ue||self.indexedDB.deleteDatabase(mt),Le(!0)},qe.onupgradeneeded=()=>{Ue=!1},qe.onerror=()=>{var Nt;Re((null===(Nt=qe.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(Ue){Re(Ue)}})}function z(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const re=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Le=process.env.__FIREBASE_DEFAULTS__;return Le?JSON.parse(Le):void 0})()||(()=>{if(typeof document>"u")return;let Le;try{Le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Re=Le&&W(Le[1]);return Re&&JSON.parse(Re)})()}catch(Le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Le}`)}},Ne=()=>{var Le;return null===(Le=re())||void 0===Le?void 0:Le.config},et=Le=>{var Re;return null===(Re=re())||void 0===Re?void 0:Re[`_${Le}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Re,Ue)=>{this.resolve=Re,this.reject=Ue})}wrapCallback(Re){return(Ue,mt)=>{Ue?this.reject(Ue):this.resolve(mt),"function"==typeof Re&&(this.promise.catch(()=>{}),1===Re.length?Re(Ue):Re(Ue,mt))}}}function N(Le,Re){if(Le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=Re||"demo-project",qe=Le.iat||0,Nt=Le.sub||Le.user_id;if(!Nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const nn=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:qe,exp:qe+3600,auth_time:qe,sub:Nt,user_id:Nt,firebase:{sign_in_provider:"custom",identities:{}}},Le);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(nn)),""].join(".")}class I extends Error{constructor(Re,Ue,mt){super(Ue),this.code=Re,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U.prototype.create)}}class U{constructor(Re,Ue,mt){this.service=Re,this.serviceName=Ue,this.errors=mt}create(Re,...Ue){const mt=Ue[0]||{},qe=`${this.service}/${Re}`,Nt=this.errors[Re],nn=Nt?function X(Le,Re){return Le.replace(me,(Ue,mt)=>{const qe=Re[mt];return null!=qe?String(qe):`<${mt}?>`})}(Nt,mt):"Error";return new I(qe,`${this.serviceName}: ${nn} (${qe}).`,mt)}}const me=/\{\$([^}]+)}/g;function nt(Le,Re){return Object.prototype.hasOwnProperty.call(Le,Re)}function Lt(Le){for(const Re in Le)if(Object.prototype.hasOwnProperty.call(Le,Re))return!1;return!0}function je(Le,Re){if(Le===Re)return!0;const Ue=Object.keys(Le),mt=Object.keys(Re);for(const qe of Ue){if(!mt.includes(qe))return!1;const Nt=Le[qe],nn=Re[qe];if(rt(Nt)&&rt(nn)){if(!je(Nt,nn))return!1}else if(Nt!==nn)return!1}for(const qe of mt)if(!Ue.includes(qe))return!1;return!0}function rt(Le){return null!==Le&&"object"==typeof Le}function Oe(Le){const Re=[];for(const[Ue,mt]of Object.entries(Le))Array.isArray(mt)?mt.forEach(qe=>{Re.push(encodeURIComponent(Ue)+"="+encodeURIComponent(qe))}):Re.push(encodeURIComponent(Ue)+"="+encodeURIComponent(mt));return Re.length?"&"+Re.join("&"):""}function We(Le){const Re={};return Le.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[qe,Nt]=mt.split("=");Re[decodeURIComponent(qe)]=decodeURIComponent(Nt)}}),Re}function It(Le){const Re=Le.indexOf("?");if(!Re)return"";const Ue=Le.indexOf("#",Re);return Le.substring(Re,Ue>0?Ue:void 0)}function _t(Le,Re){const Ue=new St(Le,Re);return Ue.subscribe.bind(Ue)}class St{constructor(Re,Ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ue,this.task.then(()=>{Re(this)}).catch(mt=>{this.error(mt)})}next(Re){this.forEachObserver(Ue=>{Ue.next(Re)})}error(Re){this.forEachObserver(Ue=>{Ue.error(Re)}),this.close(Re)}complete(){this.forEachObserver(Re=>{Re.complete()}),this.close()}subscribe(Re,Ue,mt){let qe;if(void 0===Re&&void 0===Ue&&void 0===mt)throw new Error("Missing Observer.");qe=function Mt(Le,Re){if("object"!=typeof Le||null===Le)return!1;for(const Ue of Re)if(Ue in Le&&"function"==typeof Le[Ue])return!0;return!1}(Re,["next","error","complete"])?Re:{next:Re,error:Ue,complete:mt},void 0===qe.next&&(qe.next=Zt),void 0===qe.error&&(qe.error=Zt),void 0===qe.complete&&(qe.complete=Zt);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?qe.error(this.finalError):qe.complete()}catch{}}),this.observers.push(qe),Nt}unsubscribeOne(Re){void 0===this.observers||void 0===this.observers[Re]||(delete this.observers[Re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Re){if(!this.finalized)for(let Ue=0;Ue<this.observers.length;Ue++)this.sendOne(Ue,Re)}sendOne(Re,Ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Re])try{Ue(this.observers[Re])}catch(mt){typeof console<"u"&&console.error&&console.error(mt)}})}close(Re){this.finalized||(this.finalized=!0,void 0!==Re&&(this.finalError=Re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zt(){}function Ht(Le,Re=1e3,Ue=2){const mt=Re*Math.pow(Ue,Le),qe=Math.round(.5*mt*(Math.random()-.5)*2);return Math.min(144e5,mt+qe)}function en(Le){return Le&&Le._delegate?Le._delegate:Le}},970:(tt,se,ie)=>{"use strict";var l=ie(4650);let xe=null;function le(){return xe}const F=new l.OlP("DocumentToken");let te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function W(){return(0,l.LFG)(S)}()},providedIn:"platform"}),n})();const M=new l.OlP("Location Initialized");let S=(()=>{class n extends te{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return le().getBaseHref(this._doc)}onPopState(t){const i=le().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=le().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){k()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){k()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function A(){return new S((0,l.LFG)(F))}()},providedIn:"platform"}),n})();function k(){return!!window.history.pushState}function x(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function L(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function oe(n){return n&&"?"!==n[0]?"?"+n:n}let B=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(D)},providedIn:"root"}),n})();const j=new l.OlP("appBaseHref");let D=(()=>{class n extends B{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(F).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return x(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+oe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+oe(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+oe(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(j,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R=(()=>{class n extends B{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=x(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+oe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+oe(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(j,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Y=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=L(fe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+oe(i))}normalize(t){return n.stripTrailingSlash(function q(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=oe,n.joinWithSlash=x,n.stripTrailingSlash=L,n.\u0275fac=function(t){return new(t||n)(l.LFG(B))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function H(){return new Y((0,l.LFG)(B))}()},providedIn:"root"}),n})();function fe(n){return n.replace(/\/index.html$/,"")}function ql(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let Gn=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class wh{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wh(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,u),po(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{po(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function po(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ch,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Ch{constructor(){this.$implicit=null,this.ngIf=null}}function lr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class cr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ja=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ko=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new cr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ja,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Yl=(()=>{class n{constructor(t,i,r){r._addDefault(new cr(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ja,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),go=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();class rg{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class DC{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Ls=new DC,IC=new rg;let hu=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return Ls;if((0,l.F4k)(t))return IC;throw function Ui(n,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ni=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const mu="browser";function Qo(n){return n===mu}function ur(n){return"server"===n}let yu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ey((0,l.LFG)(F),window)}),n})();class ey{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Hr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ua(this.window.history)||Ua(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ua(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $a{}class Jl extends class yg extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ae(n){xe||(xe=n)}(new Jl)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function kh(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}();return null==t?null:function Rr(n){$i=$i||document.createElement("a"),$i.setAttribute("href",n);const e=$i.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ql(document.cookie,e)}}let $i,za=null;const si=new l.OlP("TRANSITION_ID"),cy=[{provide:l.ip1,useFactory:function ly(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=le(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[si,F,l.zs3],multi:!0}];let dy=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Su=new l.OlP("EventManagerPlugins");let Fh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Su),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ql{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=le().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Xl=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ia=(()=>{class n extends Xl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Lh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Lh))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Lh(n){le().remove(n)}const Bh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bg=/%COMP%/g;function Au(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Au(n,r,t):(r=r.replace(bg,n),t.push(r))}return t}function wg(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Tu=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Cg(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Eg(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Au(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fh),l.LFG(ia),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Wa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(nc(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(nc(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Bh[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Bh[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,wg(i)):this.eventManager.addEventListener(e,t,wg(i))}}function nc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Cg extends Wa{constructor(e,t,i,r){super(e),this.component=i;const s=Au(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function ec(n){return"_ngcontent-%COMP%".replace(bg,n)}(r+"-"+i.id),this.hostAttr=function jh(n){return"_nghost-%COMP%".replace(bg,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Eg extends Wa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Au(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const d=document.createElement("style");d.textContent=s[u],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ic=(()=>{class n extends Ql{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const rc=["alt","control","meta","shift"],sc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_s={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Iu=(()=>{class n extends Ql{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>le().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),u="code."),rc.forEach(m=>{const y=i.indexOf(m);y>-1&&(i.splice(y,1),u+=m+".")}),u+=s,0!=i.length||0===s.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static matchEventFullKeyCode(t,i){let r=sc[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),rc.forEach(u=>{u!==r&&(0,_s[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Mu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:mu},{provide:l.g9A,useValue:function Uh(){Jl.makeCurrent()},multi:!0},{provide:F,useFactory:function lc(){return(0,l.RDi)(document),document},deps:[]}]),qa=new l.OlP(""),Ag=[{provide:l.rWj,useClass:class uy{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const d=function(f){u=u||f,s--,0==s&&i(u)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?le().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ya=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ac(){return new l.qLn},deps:[]},{provide:Su,useClass:ic,multi:!0,deps:[F,l.R0b,l.Lbi]},{provide:Su,useClass:Iu,multi:!0,deps:[F]},{provide:Tu,useClass:Tu,deps:[Fh,ia,l.AFp]},{provide:l.FYo,useExisting:Tu},{provide:Xl,useExisting:ia},{provide:ia,useClass:ia,deps:[F]},{provide:Fh,useClass:Fh,deps:[Su,l.R0b]},{provide:$a,useClass:dy,deps:[]},[]];let $h=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:si,useExisting:l.AFp},cy]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qa,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Ya,...Ag],imports:[ni,l.hGG]}),n})(),sa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Za(){return new sa((0,l.LFG)(F))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Qa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(my),i},providedIn:"root"}),n})(),my=(()=>{class n extends Qa{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function gy(n){return new my(n.get(F))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var zn=ie(8996),mr=ie(3269);function Jt(...n){const e=(0,mr.yG)(n);return(0,zn.D)(n,e)}var Yn=ie(7579);class Vn extends Yn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const pc=(0,ie(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ui=ie(9751);const{isArray:wo}=Array,{getPrototypeOf:Ru,prototype:_y,keys:Yh}=Object;function gc(n){if(1===n.length){const e=n[0];if(wo(e))return{args:e,keys:null};if(function Xa(n){return n&&"object"==typeof n&&Ru(n)===_y}(e)){const t=Yh(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var vs=ie(4671),kt=ie(4004);const{isArray:Zh}=Array;function Nu(n){return(0,kt.U)(e=>function el(n,e){return Zh(e)?n(...e):n(e)}(n,e))}function ku(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var oi=ie(5403),vy=ie(9672);function Co(...n){const e=(0,mr.yG)(n),t=(0,mr.jO)(n),{args:i,keys:r}=gc(n);if(0===i.length)return(0,zn.D)([],e);const s=new ui.y(function yy(n,e,t=vs.y){return i=>{Fu(e,()=>{const{length:r}=n,s=new Array(r);let u=r,d=r;for(let f=0;f<r;f++)Fu(e,()=>{const m=(0,zn.D)(n[f],e);let y=!1;m.subscribe((0,oi.x)(i,b=>{s[f]=b,y||(y=!0,d--),d||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>ku(r,u):vs.y));return t?s.pipe(Nu(t)):s}function Fu(n,e,t){n?(0,vy.f)(t,n,e):e()}var mc=ie(8189);function is(...n){return function _c(){return(0,mc.J)(1)}()((0,zn.D)(n,(0,mr.yG)(n)))}var $s=ie(8421);function ys(n){return new ui.y(e=>{(0,$s.Xf)(n()).subscribe(e)})}var Kh=ie(9635),_r=ie(576);function Gr(n,e){const t=(0,_r.m)(n)?n:()=>n,i=r=>r.error(t());return new ui.y(e?r=>e.schedule(i,0,r):i)}var Nr=ie(515),tl=ie(727),bi=ie(4482);function Hs(){return(0,bi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,oi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Eo extends ui.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,oi.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tl.w0.EMPTY)}return e}refCount(){return Hs()(this)}}function ii(n,e){return(0,bi.e)((t,i)=>{let r=null,s=0,u=!1;const d=()=>u&&!r&&i.complete();t.subscribe((0,oi.x)(i,f=>{r?.unsubscribe();let m=0;const y=s++;(0,$s.Xf)(n(f,y)).subscribe(r=(0,oi.x)(i,b=>i.next(e?e(f,b,y,m++):b),()=>{r=null,d()}))},()=>{u=!0,d()}))})}function xn(n){return n<=0?()=>Nr.E:(0,bi.e)((e,t)=>{let i=0;e.subscribe((0,oi.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function rs(...n){const e=(0,mr.yG)(n);return(0,bi.e)((t,i)=>{(e?is(n,t,e):is(n,t)).subscribe(i)})}function Xn(n,e){return(0,bi.e)((t,i)=>{let r=0;t.subscribe((0,oi.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var ki=ie(5577);function So(n){return(0,bi.e)((e,t)=>{let i=!1;e.subscribe((0,oi.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Lu(n=by){return(0,bi.e)((e,t)=>{let i=!1;e.subscribe((0,oi.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function by(){return new pc}function Gs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,s)=>n(r,s,i)):vs.y,xn(1),t?So(e):Lu(()=>new pc))}function zr(n,e){return(0,_r.m)(e)?(0,ki.z)(n,e,1):(0,ki.z)(n,1)}function jn(n,e,t){const i=(0,_r.m)(n)||e||t?{next:n,error:e,complete:t}:n;return i?(0,bi.e)((r,s)=>{var u;null===(u=i.subscribe)||void 0===u||u.call(i);let d=!0;r.subscribe((0,oi.x)(s,f=>{var m;null===(m=i.next)||void 0===m||m.call(i,f),s.next(f)},()=>{var f;d=!1,null===(f=i.complete)||void 0===f||f.call(i),s.complete()},f=>{var m;d=!1,null===(m=i.error)||void 0===m||m.call(i,f),s.error(f)},()=>{var f,m;d&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(m=i.finalize)||void 0===m||m.call(i)}))}):vs.y}function Wr(n){return(0,bi.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,oi.x)(t,void 0,void 0,u=>{s=(0,$s.Xf)(n(u,Wr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Ao(n,e,t,i,r){return(s,u)=>{let d=t,f=e,m=0;s.subscribe((0,oi.x)(u,y=>{const b=m++;f=d?n(f,y,b):(d=!0,y),i&&u.next(f)},r&&(()=>{d&&u.next(f),u.complete()})))}}function aa(n,e){return(0,bi.e)(Ao(n,e,arguments.length>=2,!0))}function vc(n){return n<=0?()=>Nr.E:(0,bi.e)((e,t)=>{let i=[];e.subscribe((0,oi.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function To(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Xn((r,s)=>n(r,s,i)):vs.y,vc(1),t?So(e):Lu(()=>new pc))}function yc(n){return(0,bi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const An="primary",bs=Symbol("RouteTitle");class nl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Do(n){return new nl(n)}function BC(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],d=n[s];if(u.startsWith(":"))r[u.substring(1)]=d;else if(u!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ws(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Jh(n[r],e[r]))return!1;return!0}function Jh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Mg(n){return Array.prototype.concat.apply([],n)}function Pg(n){return n.length>0?n[n.length-1]:null}function xi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function qr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,zn.D)(Promise.resolve(n)):Jt(n)}const VC={exact:function Rg(n,e,t){if(!Ws(n.segments,e.segments)||!zs(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Rg(n.children[i],e.children[i],t))return!1;return!0},subset:la},Xh={exact:function ef(n,e){return ws(n,e)},subset:function Ng(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Jh(n[t],e[t]))},ignored:()=>!0};function Cy(n,e,t){return VC[t.paths](n.root,e.root,t.matrixParams)&&Xh[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function la(n,e,t){return ju(n,e,e.segments,t)}function ju(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ws(r,t)||e.hasChildren()||!zs(r,t,i))}if(n.segments.length===t.length){if(!Ws(n.segments,t)||!zs(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!la(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ws(n.segments,r)&&zs(n.segments,r,i)&&n.children[An])&&ju(n.children[An],e,s,i)}}function zs(n,e,t){return e.every((i,r)=>Xh[t](n[r].parameters,i.parameters))}class ca{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Do(this.queryParams)),this._queryParamMap}toString(){return qs.serialize(this)}}class Mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xi(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hu(this)}}class Uu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Do(this.parameters)),this._parameterMap}toString(){return rf(this)}}function Ws(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let tf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new $u},providedIn:"root"}),n})();class $u{parse(e){const t=new da(e);return new ca(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ua(e.root,!0)}`,i=function Ay(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${wc(t)}=${wc(r)}`).join("&"):`${wc(t)}=${wc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Ey(n){return encodeURI(n)}(e.fragment)}`:""}`}}const qs=new $u;function Hu(n){return n.segments.map(e=>rf(e)).join("/")}function ua(n,e){if(!n.hasChildren())return Hu(n);if(e){const t=n.children[An]?ua(n.children[An],!1):"",i=[];return xi(n.children,(r,s)=>{s!==An&&i.push(`${s}:${ua(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function kg(n,e){let t=[];return xi(n.children,(i,r)=>{r===An&&(t=t.concat(e(i,r)))}),xi(n.children,(i,r)=>{r!==An&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===An?[ua(n.children[An],!1)]:[`${r}:${ua(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${Hu(n)}/${t[0]}`:`${Hu(n)}/(${t.join("//")})`}}function Fg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(n){return Fg(n).replace(/%3B/gi,";")}function kr(n){return Fg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ys(n){return decodeURIComponent(n)}function nf(n){return Ys(n.replace(/\+/g,"%20"))}function rf(n){return`${kr(n.path)}${function Sy(n){return Object.keys(n).map(e=>`;${kr(e)}=${kr(n[e])}`).join("")}(n.parameters)}`}const Ty=/^[^\/()?;=#]+/;function Gu(n){const e=n.match(Ty);return e?e[0]:""}const Lg=/^[^=?&#]+/,Dy=/^[^&#]+/;class da{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[An]=new Mn(e,t)),i}parseSegment(){const e=Gu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Uu(Ys(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gu(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Gu(this.remaining);r&&(i=r,this.capture(i))}e[Ys(t)]=Ys(i)}parseQueryParam(e){const t=function Bg(n){const e=n.match(Lg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function jC(n){const e=n.match(Dy);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=nf(t),s=nf(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=An);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[An]:new Mn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function il(n){return n.segments.length>0?new Mn([],{[An]:n}):n}function Yr(n){const e={};for(const i of Object.keys(n.children)){const s=Yr(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function ha(n){if(1===n.numberOfChildren&&n.children[An]){const e=n.children[An];return new Mn(n.segments.concat(e.segments),e.children)}return n}(new Mn(n.segments,e))}function Io(n){return n instanceof ca}function $C(n,e,t,i,r){if(0===t.length)return Cc(e.root,e.root,e.root,i,r);const s=function jg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sf(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return xi(s.outlets,(f,m)=>{d[m]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new sf(t,e,i)}(t);return s.toRoot()?Cc(e.root,e.root,new Mn([],{}),i,r):function u(f){const m=function af(n,e,t,i){if(n.isAbsolute)return new sl(e.root,!0,0);if(-1===i)return new sl(t,t===e.root,0);return function lf(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new sl(i,!1,r-s)}(t,i+(fa(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,f),y=m.processChildren?Ks(m.segmentGroup,m.index,s.commands):ol(m.segmentGroup,m.index,s.commands);return Cc(e.root,m.segmentGroup,y,i,r)}(n.snapshot?._lastPathIndex)}function fa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zs(n){return"object"==typeof n&&null!=n&&n.outlets}function Cc(n,e,t,i,r){let u,s={};i&&xi(i,(f,m)=>{s[m]=Array.isArray(f)?f.map(y=>`${y}`):`${f}`}),u=n===e?t:xy(n,e,t);const d=il(Yr(u));return new ca(d,s,r)}function xy(n,e,t){const i={};return xi(n.children,(r,s)=>{i[s]=r===e?t:xy(r,e,t)}),new Mn(n.segments,i)}class sf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&fa(i[0]))throw new l.vHH(4003,!1);const r=i.find(Zs);if(r&&r!==Pg(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sl{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function ol(n,e,t){if(n||(n=new Mn([],{})),0===n.segments.length&&n.hasChildren())return Ks(n,e,t);const i=function My(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],d=t[i];if(Zs(d))break;const f=`${d}`,m=i<t.length-1?t[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!qu(f,m,u))return s;i+=2}else{if(!qu(f,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mn(n.segments.slice(0,i.pathIndex),{});return s.children[An]=new Mn(n.segments.slice(i.pathIndex),n.children),Ks(s,0,r)}return i.match&&0===r.length?new Mn(n.segments,{}):i.match&&!n.hasChildren()?di(n,e,t):i.match?Ks(n,0,r):di(n,e,t)}function Ks(n,e,t){if(0===t.length)return new Mn(n.segments,{});{const i=function zu(n){return Zs(n[0])?n[0].outlets:{[An]:n}}(t),r={};return xi(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=ol(n.children[u],e,s))}),xi(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new Mn(n.segments,r)}}function di(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Zs(s)){const f=Wu(s.outlets);return new Mn(i,f)}if(0===r&&fa(t[0])){i.push(new Uu(n.segments[e].path,$g(t[0]))),r++;continue}const u=Zs(s)?s.outlets[An]:`${s}`,d=r<t.length-1?t[r+1]:null;u&&d&&fa(d)?(i.push(new Uu(u,$g(d))),r+=2):(i.push(new Uu(u,{})),r++)}return new Mn(i,{})}function Wu(n){const e={};return xi(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=di(new Mn([],{}),0,t))}),e}function $g(n){const e={};return xi(n,(t,i)=>e[i]=`${t}`),e}function qu(n,e,t){return n==t.path&&ws(e,t.parameters)}class Cs{constructor(e,t){this.id=e,this.url=t}}class Ec extends Cs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xo extends Cs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sc extends Cs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cf extends Cs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Py extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yu extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HC extends Cs{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class al extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uf extends Cs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gg{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zu{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ku{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ac{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ju{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tc(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Tc(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=tr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return tr(e,this._root).map(t=>t.value)}}function Tc(n,e){if(n===e.value)return e;for(const t of e.children){const i=Tc(n,t);if(i)return i}return null}function tr(n,e){if(n===e.value)return[e];for(const t of e.children){const i=tr(n,t);if(i.length)return i.unshift(e),i}return[]}class vr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fr(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qg extends Ju{constructor(e,t){super(e),this.snapshot=t,Ic(this,e)}toString(){return this.snapshot.toString()}}function ll(n,e){const t=function cl(n,e){const u=new Yi([],{},{},"",{},An,e,null,n.root,-1,{});return new Xu("",new vr(u,[]))}(n,e),i=new Vn([new Uu("",{})]),r=new Vn({}),s=new Vn({}),u=new Vn({}),d=new Vn(""),f=new pa(i,r,u,d,s,An,e,t.root);return f.snapshot=t.root,new qg(new vr(f,[]),t)}class pa{constructor(e,t,i,r,s,u,d,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=d,this.title=this.data?.pipe((0,kt.U)(m=>m[bs]))??Jt(void 0),this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>Do(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>Do(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dc(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Qu(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Yi{constructor(e,t,i,r,s,u,d,f,m,y,b,P){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=d,this.title=this.data?.[bs],this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=y,this._correctedLastPathIndex=P??y,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Do(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Do(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xu extends Ju{constructor(e,t){super(t),this.url=e,Ic(this,t)}toString(){return Yg(this._root)}}function Ic(n,e){e.value._routerState=n,e.children.forEach(t=>Ic(n,t))}function Yg(n){const e=n.children.length>0?` { ${n.children.map(Yg).join(", ")} } `:"";return`${n.value}${e}`}function df(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ws(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ws(e.params,t.params)||n.params.next(t.params),function xg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ws(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xc(n,e){const t=ws(n.params,e.params)&&function bc(n,e){return Ws(n,e)&&n.every((t,i)=>ws(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xc(n.parent,e.parent))}function ga(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function hf(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ga(n,i,r);return ga(n,i)})}(n,e,t);return new vr(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(d=>ga(n,d)),u}}const i=function Oy(n){return new pa(new Vn(n.url),new Vn(n.params),new Vn(n.queryParams),new Vn(n.fragment),new Vn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>ga(n,s));return new vr(i,r)}}const ss="ngNavigationCancelingError";function Mo(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Io(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ff(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function ff(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ss]=!0,i.cancellationCode=e,t&&(i.url=t),i}function ed(n){return Zg(n)&&Io(n.url)}function Zg(n){return n&&n[ss]}class td{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new nd,this.attachRef=null}}let nd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new td,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const id=!1;let ma=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||An,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,id);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,id);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,id);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,id);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,f=new Ry(t,d,r.injector);if(i&&function w(n){return!!n.resolveComponentFactory}(i)){const m=i.resolveComponentFactory(u);this.activated=r.createComponent(m,r.length,f)}else this.activated=r.createComponent(u,{index:r.length,injector:f,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nd),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Ry{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===pa?this.route:e===nd?this.childContexts:this.parent.get(e,t)}}let g=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[ma],encapsulation:2}),n})();function v(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ln(n){const e=n.children&&n.children.map(ln),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==An&&(t.component=g),t}function Wn(n){return n.outlet||An}function yr(n,e){const t=n.filter(i=>Wn(i)===e);return t.push(...n.filter(i=>Wn(i)!==e)),t}function _a(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Mc{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),df(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Fr(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),xi(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fr(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Fr(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Fr(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Ku(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wg(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(df(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(d.contexts),u.attachRef=d.componentRef,u.route=d.route.value,u.outlet&&u.outlet.attach(d.componentRef,d.route.value),df(d.route.value),this.activateChildRoutes(e,null,u.children)}else{const d=_a(r.snapshot),f=d?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=f,u.injector=d,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Kg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class rd{constructor(e,t){this.component=e,this.route=t}}function Jg(n,e,t){const i=n._root;return va(i,e?e._root:null,t,[i.value])}function ul(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function va(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fr(e);return n.children.forEach(u=>{(function pf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const f=function gf(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ws(n.url,e.url)||!ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xc(n,e)||!ws(n.queryParams,e.queryParams);default:return!xc(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Kg(i)):(s.data=u.data,s._resolvedData=u._resolvedData),va(n,e,s.component?d?d.children:null:t,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new rd(d.outlet.component,u))}else u&&Po(e,d,r),r.canActivateChecks.push(new Kg(i)),va(n,null,s.component?d?d.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),xi(s,(u,d)=>Po(u,t.getContext(d),r)),r}function Po(n,e,t){const i=Fr(n),r=n.value;xi(i,(s,u)=>{Po(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new rd(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function dl(n){return"function"==typeof n}function Qg(n){return n instanceof pc||"EmptyError"===n?.name}const Xg=Symbol("INITIAL_VALUE");function sd(){return ii(n=>Co(n.map(e=>e.pipe(xn(1),rs(Xg)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===Xg)return Xg;if(!1===t||t instanceof ca)return t}return!0}),Xn(e=>e!==Xg),xn(1)))}function br(n){return(0,Kh.z)(jn(e=>{if(Io(e))throw Mo(0,e)}),(0,kt.U)(e=>!0===e))}const em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tm(n,e,t,i,r){const s=nr(n,e,t);return s.matched?function Vy(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Jt(r.map(u=>{const d=ul(u,n);return qr(function qT(n){return n&&dl(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(sd(),br()):Jt(!0)}(i=v(e,i),e,t).pipe((0,kt.U)(u=>!0===u?s:{...em})):Jt(s)}function nr(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...em}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||BC)(t,n,e);if(!r)return{...em};const s={};xi(r.posParams,(d,f)=>{s[f]=d.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function hl(n,e,t,i,r="corrected"){if(t.length>0&&function iD(n,e,t){return t.some(i=>nm(n,e,i)&&Wn(i)!==An)}(n,t,i)){const u=new Mn(e,function nD(n,e,t,i){const r={};r[An]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Wn(s)!==An){const u=new Mn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[Wn(s)]=u}return r}(n,e,i,new Mn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function YC(n,e,t){return t.some(i=>nm(n,e,i))}(n,t,i)){const u=new Mn(n.segments,function qC(n,e,t,i,r,s){const u={};for(const d of i)if(nm(n,t,d)&&!r[Wn(d)]){const f=new Mn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[Wn(d)]=f}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new Mn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function nm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function jy(n,e,t,i){return!!(Wn(n)===i||i!==An&&nm(e,t,n))&&("**"===n.path||nr(e,n,t).matched)}function ZC(n,e,t){return 0===e.length&&!n.children[t]}const _f=!1;class im{constructor(e){this.segmentGroup=e||null}}class KC{constructor(e){this.urlTree=e}}function vf(n){return Gr(new im(n))}function JC(n){return Gr(new KC(n))}class sD{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=hl(this.urlTree.root,[],[],this.config).segmentGroup,t=new Mn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,An).pipe((0,kt.U)(s=>this.createUrlTree(Yr(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Wr(s=>{if(s instanceof KC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof im?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,An).pipe((0,kt.U)(r=>this.createUrlTree(Yr(r),e.queryParams,e.fragment))).pipe(Wr(r=>{throw r instanceof im?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,_f)}createUrlTree(e,t,i){const r=il(e);return new ca(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,kt.U)(s=>new Mn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,zn.D)(r).pipe(zr(s=>{const u=i.children[s],d=yr(t,s);return this.expandSegmentGroup(e,d,u,s).pipe((0,kt.U)(f=>({segment:f,outlet:s})))}),aa((s,u)=>(s[u.outlet]=u.segment,s),{}),To())}expandSegment(e,t,i,r,s,u){return(0,zn.D)(i).pipe(zr(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,u).pipe(Wr(m=>{if(m instanceof im)return Jt(null);throw m}))),Gs(d=>!!d),Wr((d,f)=>{if(Qg(d))return ZC(t,r,s)?Jt(new Mn([],{})):vf(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,u,d){return jy(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):vf(t):vf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?JC(s):this.lineralizeSegments(i,s).pipe((0,ki.z)(u=>{const d=new Mn(u,{});return this.expandSegment(e,d,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:d,consumedSegments:f,remainingSegments:m,positionalParamSegments:y}=nr(t,r,s);if(!d)return vf(t);const b=this.applyRedirectCommands(f,r.redirectTo,y);return r.redirectTo.startsWith("/")?JC(b):this.lineralizeSegments(r,b).pipe((0,ki.z)(P=>this.expandSegment(e,t,i,P.concat(m),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=v(i,e),i.loadChildren?(i._loadedRoutes?Jt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,kt.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new Mn(r,{})))):Jt(new Mn(r,{}))):tm(t,i,r,e).pipe(ii(({matched:u,consumedSegments:d,remainingSegments:f})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,ki.z)(y=>{const b=y.injector??e,P=y.routes,{segmentGroup:V,slicedSegments:ee}=hl(t,d,f,P),K=new Mn(V.segments,V.children);if(0===ee.length&&K.hasChildren())return this.expandChildren(b,P,K).pipe((0,kt.U)(Pe=>new Mn(d,Pe)));if(0===P.length&&0===ee.length)return Jt(new Mn(d,{}));const ne=Wn(i)===s;return this.expandSegment(b,K,P,ee,ne?An:s,!0).pipe((0,kt.U)(Se=>new Mn(d.concat(Se.segments),Se.children)))})):vf(t)))}getChildConfig(e,t,i){return t.children?Jt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Jt({routes:t._loadedRoutes,injector:t._loadedInjector}):function tD(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Jt(!0):Jt(r.map(u=>{const d=ul(u,n);return qr(function Fy(n){return n&&dl(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(sd(),br())}(e,t,i).pipe((0,ki.z)(r=>r?this.configLoader.loadChildren(e,t).pipe(jn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function od(n){return Gr(ff(_f,3))}())):Jt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Jt(i);if(r.numberOfChildren>1||!r.children[An])return Gr(new l.vHH(4e3,_f));r=r.children[An]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new ca(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return xi(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return xi(t.children,(d,f)=>{u[f]=this.createSegmentGroup(e,d,i,r)}),new Mn(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,_f);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class DR{}class Oo{constructor(e,t,i,r,s,u,d,f){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d,this.urlSerializer=f}recognize(){const e=hl(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,An).pipe((0,kt.U)(t=>{if(null===t)return null;const i=new Yi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vr(i,t),s=new Xu(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=Dc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,zn.D)(Object.keys(i.children)).pipe(zr(r=>{const s=i.children[r],u=yr(t,r);return this.processSegmentGroup(e,u,s,r)}),aa((r,s)=>r&&s?(r.push(...s),r):null),function Bu(n,e=!1){return(0,bi.e)((t,i)=>{let r=0;t.subscribe((0,oi.x)(i,s=>{const u=n(s,r++);(u||e)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),So(null),To(),(0,kt.U)(r=>{if(null===r)return null;const s=Gy(r);return function $y(n){n.sort((e,t)=>e.value.outlet===An?-1:t.value.outlet===An?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,zn.D)(t).pipe(zr(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,s)),Gs(u=>!!u),Wr(u=>{if(Qg(u))return ZC(i,r,s)?Jt([]):Jt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!jy(t,i,r,s))return Jt(null);let u;if("**"===t.path){const d=r.length>0?Pg(r).parameters:{},f=XC(i)+r.length;u=Jt({snapshot:new Yi(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rm(t),Wn(t),t.component??t._loadedComponent??null,t,ad(i),f,sm(t),f),consumedSegments:[],remainingSegments:[]})}else u=tm(i,t,r,e).pipe((0,kt.U)(({matched:d,consumedSegments:f,remainingSegments:m,parameters:y})=>{if(!d)return null;const b=XC(i)+f.length;return{snapshot:new Yi(f,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rm(t),Wn(t),t.component??t._loadedComponent??null,t,ad(i),b,sm(t),b),consumedSegments:f,remainingSegments:m}}));return u.pipe(ii(d=>{if(null===d)return Jt(null);const{snapshot:f,consumedSegments:m,remainingSegments:y}=d;e=t._injector??e;const b=t._loadedInjector??e,P=function Hy(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:ee}=hl(i,m,y,P.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===ee.length&&V.hasChildren())return this.processChildren(b,P,V).pipe((0,kt.U)(ne=>null===ne?null:[new vr(f,ne)]));if(0===P.length&&0===ee.length)return Jt([new vr(f,[])]);const K=Wn(t)===s;return this.processSegment(b,P,V,ee,K?An:s).pipe((0,kt.U)(ne=>null===ne?null:[new vr(f,ne)]))}))}}function aD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gy(n){const e=[],t=new Set;for(const i of n){if(!aD(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Gy(i.children);e.push(new vr(i.value,r))}return e.filter(i=>!t.has(i))}function ad(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function XC(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function rm(n){return n.data||{}}function sm(n){return n.resolve||{}}function xR(n,e){return(0,ki.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Jt(t);let s=0;return(0,zn.D)(r).pipe(zr(u=>function ld(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!om(r)&&(s[bs]=r.title),function zy(n,e,t,i){const r=function nE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Jt({});const s={};return(0,zn.D)(r).pipe((0,ki.z)(u=>function cD(n,e,t,i){const r=_a(e)??i,s=ul(n,r);return qr(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(Gs(),jn(d=>{s[u]=d}))),vc(1),function Vu(n){return(0,kt.U)(()=>n)}(s),Wr(u=>Qg(u)?Nr.E:Gr(u)))}(s,n,e,i).pipe((0,kt.U)(u=>(n._resolvedData=u,n.data=Dc(n,t).resolve,r&&om(r)&&(n.data[bs]=r.title),null)))}(u.route,i,n,e)),jn(()=>s++),vc(1),(0,ki.z)(u=>s===r.length?Jt(t):Nr.E))})}function om(n){return"string"==typeof n.title||null===n.title}function Wy(n){return ii(e=>{const t=n(e);return t?(0,zn.D)(t).pipe((0,kt.U)(()=>e)):Jt(e)})}let iE=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===An);return i}getResolvedTitleForRoute(t){return t.data[bs]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(rE)},providedIn:"root"}),n})(),rE=(()=>{class n extends iE{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(sa))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class uD{}class sE extends class dD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const yf=new l.OlP("",{providedIn:"root",factory:()=>({})}),Yy=new l.OlP("ROUTES");let Zy=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Jt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=qr(t.loadComponent()).pipe(jn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),yc(()=>{this.componentLoaders.delete(t)})),r=new Eo(i,()=>new Yn.x).pipe(Hs());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Jt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,kt.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let f,m,y=!1;Array.isArray(d)?m=d:(f=d.create(t).injector,m=Mg(f.get(Yy,[],l.XFs.Self|l.XFs.Optional)));return{routes:m.map(ln),injector:f}}),yc(()=>{this.childrenLoaders.delete(i)})),u=new Eo(s,()=>new Yn.x).pipe(Hs());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return qr(t()).pipe((0,ki.z)(i=>i instanceof l.YKP||Array.isArray(i)?Jt(i):(0,zn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class oE{}class aE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function lE(n){throw n}function cE(n,e,t){return e.parse("/")}const hD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function uE(){const n=(0,l.f3M)(tf),e=(0,l.f3M)(nd),t=(0,l.f3M)(Y),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),s=(0,l.f3M)(Yy,{optional:!0})??[],u=(0,l.f3M)(yf,{optional:!0})??{},d=(0,l.f3M)(rE),f=(0,l.f3M)(iE,{optional:!0}),m=(0,l.f3M)(oE,{optional:!0}),y=(0,l.f3M)(uD,{optional:!0}),b=new Zi(null,n,e,t,i,r,Mg(s));return m&&(b.urlHandlingStrategy=m),y&&(b.routeReuseStrategy=y),b.titleStrategy=f??d,function lm(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),b}let Zi=(()=>{class n{constructor(t,i,r,s,u,d,f){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yn.x,this.errorHandler=lE,this.malformedUriErrorHandler=cE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Jt(void 0),this.urlHandlingStrategy=new aE,this.routeReuseStrategy=new sE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Zy),this.configLoader.onLoadEndListener=P=>this.triggerEvent(new Gg(P)),this.configLoader.onLoadStartListener=P=>this.triggerEvent(new Hg(P)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const b=u.get(l.R0b);this.isNgZoneEnabled=b instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Og(){return new ca(new Mn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ll(this.currentUrlTree,this.rootComponentType),this.transitions=new Vn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Xn(r=>0!==r.id),(0,kt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ii(r=>{let s=!1,u=!1;return Jt(r).pipe(jn(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ii(d=>{const f=this.browserUrlTree.toString(),m=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Ky(d.source)&&(this.browserUrlTree=d.extractedUrl),Jt(d).pipe(ii(b=>{const P=this.transitions.getValue();return i.next(new Ec(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),P!==this.transitions.getValue()?Nr.E:Promise.resolve(b)}),function oD(n,e,t,i){return ii(r=>function ya(n,e,t,i,r){return new sD(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,kt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jn(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},r.urlAfterRedirects=b.urlAfterRedirects}),function tE(n,e,t,i,r,s){return(0,ki.z)(u=>function IR(n,e,t,i,r,s,u="emptyOnly",d="legacy"){return new Oo(n,e,t,i,r,u,d,s).recognize().pipe(ii(f=>null===f?function QC(n){return new ui.y(e=>e.error(n))}(new DR):Jt(f)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,kt.U)(d=>({...u,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),jn(b=>{if(r.targetSnapshot=b.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!b.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);this.setBrowserUrl(V,b)}this.browserUrlTree=b.urlAfterRedirects}const P=new Py(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);i.next(P)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:V,source:ee,restoredState:K,extras:ne}=d,we=new Ec(P,this.serializeUrl(V),ee,K);i.next(we);const Se=ll(V,this.rootComponentType).snapshot;return Jt(r={...d,targetSnapshot:Se,urlAfterRedirects:V,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Nr.E}),jn(d=>{const f=new Yu(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,kt.U)(d=>r={...d,guards:Jg(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function ZT(n,e){return(0,ki.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?Jt({...t,guardsResult:!0}):function KT(n,e,t,i){return(0,zn.D)(n).pipe((0,ki.z)(r=>function eD(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Jt(s.map(d=>{const f=_a(e)??r,m=ul(d,f);return qr(function mf(n){return n&&dl(n.canDeactivate)}(m)?m.canDeactivate(n,e,t,i):f.runInContext(()=>m(n,e,t,i))).pipe(Gs())})).pipe(sd()):Jt(!0)}(r.component,r.route,t,e,i)),Gs(r=>!0!==r,!0))}(u,i,r,n).pipe((0,ki.z)(d=>d&&function zC(n){return"boolean"==typeof n}(d)?function By(n,e,t,i){return(0,zn.D)(e).pipe(zr(r=>is(function QT(n,e){return null!==n&&e&&e(new zg(n)),Jt(!0)}(r.route.parent,i),function JT(n,e){return null!==n&&e&&e(new Zu(n)),Jt(!0)}(r.route,i),function WC(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function ky(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ys(()=>Jt(u.guards.map(f=>{const m=_a(u.node)??t,y=ul(f,m);return qr(function Ly(n){return n&&dl(n.canActivateChild)}(y)?y.canActivateChild(i,n):m.runInContext(()=>y(i,n))).pipe(Gs())})).pipe(sd())));return Jt(s).pipe(sd())}(n,r.path,t),function XT(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Jt(!0);const r=i.map(s=>ys(()=>{const u=_a(e)??t,d=ul(s,u);return qr(function WT(n){return n&&dl(n.canActivate)}(d)?d.canActivate(e,n):u.runInContext(()=>d(e,n))).pipe(Gs())}));return Jt(r).pipe(sd())}(n,r.route,t))),Gs(r=>!0!==r,!0))}(i,s,n,e):Jt(d)),(0,kt.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),jn(d=>{if(r.guardsResult=d.guardsResult,Io(d.guardsResult))throw Mo(0,d.guardsResult);const f=new HC(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Xn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Wy(d=>{if(d.guards.canActivateChecks.length)return Jt(d).pipe(jn(f=>{const m=new al(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),ii(f=>{let m=!1;return Jt(f).pipe(xR(this.paramsInheritanceStrategy,this.ngModule.injector),jn({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),jn(f=>{const m=new uf(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}))}),Wy(d=>{const f=m=>{const y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(jn(b=>{m.component=b}),(0,kt.U)(()=>{})));for(const b of m.children)y.push(...f(b));return y};return Co(f(d.targetSnapshot.root)).pipe(So(),xn(1))}),Wy(()=>this.afterPreactivation()),(0,kt.U)(d=>{const f=function Fi(n,e,t){const i=ga(n,e._root,t?t._root:void 0);return new qg(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:f}}),jn(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(i=>(new Mc(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),jn({next(){s=!0},complete(){s=!0}}),yc(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Wr(d=>{if(u=!0,Zg(d)){ed(d)||(this.navigated=!0,this.restoreHistory(r,!0));const f=new Sc(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(f),ed(d)){const m=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),y={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ky(r.source)};this.scheduleNavigation(m,"imperative",null,y,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new cf(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(f);try{r.resolve(this.errorHandler(d))}catch(m){r.reject(m)}}return Nr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(ln),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:d,preserveFragment:f}=i,m=r||this.routerState.root,y=f?this.currentUrlTree.fragment:u;let b=null;switch(d){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),$C(m,this.currentUrlTree,t,b,y??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Io(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function dE(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...hD}:!1===i?{...PR}:i,Io(t))return Cy(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Cy(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let d,f,m;u?(d=u.resolve,f=u.reject,m=u.promise):m=new Promise((P,V)=>{d=P,f=V});const y=++this.navigationId;let b;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),b=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):b=0,this.setTransition({id:y,targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:d,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(P=>Promise.reject(P))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new Sc(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return uE()},providedIn:"root"}),n})();function Ky(n){return"imperative"!==n}let cd=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zi),l.Y36(pa),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),bf=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Yn.x,this.subscription=t.events.subscribe(s=>{s instanceof xo&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,u){return!!(0!==t||i||r||s||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zi),l.Y36(pa),l.Y36(B))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),wf=(()=>{class n{constructor(t,i,r,s,u,d){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=u,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof xo&&this.update()})}ngAfterContentInit(){Jt(this.links.changes,this.linksWithHrefs.changes,Jt(null)).pipe((0,mc.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,zn.D)(t).pipe((0,mc.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function cm(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Zi),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(cd,8),l.Y36(bf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,cd,5),l.Suo(r,bf,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.links=s),l.iGM(s=l.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class Jy{}let Qy=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Xn(t=>t instanceof xo),zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,d=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,zn.D)(r).pipe((0,mc.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Jt(null);const s=r.pipe((0,ki.z)(u=>null===u?Jt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,zn.D)([s,u]).pipe((0,mc.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Jy),l.LFG(Zy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pc=new l.OlP("");let fE=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ec?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ac&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Ac(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Oc(n,e){return{\u0275kind:n,\u0275providers:e}}function Ef(n){return[{provide:Yy,multi:!0,useValue:n}]}function gD(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Zi),r=n.get(Xy);1===n.get(e0)&&i.initialNavigation(),n.get(Es,null,l.XFs.Optional)?.setUpPreloading(),n.get(Pc,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const Xy=new l.OlP("",{factory:()=>new Yn.x}),e0=new l.OlP("",{providedIn:"root",factory:()=>1});const Es=new l.OlP("");function vD(n){return Oc(0,[{provide:Es,useExisting:Qy},{provide:Jy,useExisting:n}])}const mE=new l.OlP("ROUTER_FORROOT_GUARD"),bD=[Y,{provide:tf,useClass:$u},{provide:Zi,useFactory:uE},nd,{provide:pa,useFactory:function pE(n){return n.routerState.root},deps:[Zi]},Zy];function _E(){return new l.PXZ("Router",Zi)}let dm=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[bD,[],Ef(t),{provide:mE,useFactory:vE,deps:[[Zi,new l.FiY,new l.tp0]]},{provide:yf,useValue:i||{}},i?.useHash?{provide:B,useClass:R}:{provide:B,useClass:D},{provide:Pc,useFactory:()=>{const n=(0,l.f3M)(Zi),e=(0,l.f3M)(yu),t=(0,l.f3M)(yf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new fE(n,e,t)}},i?.preloadingStrategy?vD(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:_E},i?.initialNavigation?yE(i):[],[{provide:t0,useFactory:gD},{provide:l.tb,multi:!0,useExisting:t0}]]}}static forChild(t){return{ngModule:n,providers:[Ef(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mE,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[g]}),n})();function vE(n){return"guarded"}function yE(n){return["disabled"===n.initialNavigation?Oc(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Zi);return()=>{e.setUpLocationChangeListener()}}},{provide:e0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Oc(2,[{provide:e0,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(M,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const u=e.get(Zi),d=e.get(Xy);(function r(s){e.get(Zi).events.pipe(Xn(d=>d instanceof xo||d instanceof Sc||d instanceof cf),(0,kt.U)(d=>d instanceof xo||d instanceof Sc&&(0===d.code||1===d.code)&&null),Xn(d=>null!==d),xn(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||d.closed?Jt(void 0):d),u.initialNavigation()}))}}]).\u0275providers:[]]}const t0=new l.OlP(""),{isArray:bE}=Array;function wE(n){return 1===n.length&&bE(n[0])?n[0]:n}function ud(...n){const e=(0,mr.jO)(n),t=wE(n);return t.length?new ui.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let u=0;!i.closed&&u<t.length;u++)(0,$s.Xf)(t[u]).subscribe((0,oi.x)(i,d=>{if(r[u].push(d),r.every(f=>f.length)){const f=r.map(m=>m.shift());i.next(e?e(...f):f),r.some((m,y)=>!m.length&&s[y])&&i.complete()}},()=>{s[u]=!0,!r[u].length&&i.complete()}));return()=>{r=s=null}}):Nr.E}class SD extends tl.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const hm={setInterval(n,e,...t){const{delegate:i}=hm;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=hm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var kR=ie(8737);class fm extends SD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return hm.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&hm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,kR.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const dd={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=dd;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new tl.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=dd;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=dd;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},n0={now:()=>(n0.delegate||Date).now(),delegate:void 0};class Nc{constructor(e,t=Nc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Nc.now=n0.now;class Sf extends Nc{constructor(e,t=Nc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const CE=new class AD extends Sf{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Rc extends fm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=dd.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(dd.cancelAnimationFrame(t),e._scheduled=void 0)}}),r0=new l.OlP("HIGHLIGHT_OPTIONS");let s0;let SE=(()=>{class n{constructor(t,i,r){this.doc=t,this._options=r,this._ready=new Vn(null),this.ready=this._ready.asObservable().pipe(Xn(s=>!!s),(0,kt.U)(s=>s),xn(1)),Qo(i)&&(t.defaultView.hljs?this._ready.next(t.defaultView.hljs):this._loadLibrary().pipe(ii(s=>this._options&&this._options.lineNumbersLoader?(t.defaultView.hljs=s,this.loadLineNumbers().pipe(jn(()=>this._ready.next(s)))):(this._ready.next(s),Nr.E)),Wr(s=>(console.error("[HLJS] ",s),Nr.E))).subscribe(),this._options?.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return Gr(()=>"The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return Gr(()=>"The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return Gr(()=>"The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return Gr(()=>"The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(ii(t=>this._loadLanguages(t)))}return Gr(()=>"Highlight.js library was not imported!")}_loadLanguages(t){return ud(...Object.entries(this._options.languages).map(([r,s])=>ba(s()).pipe(jn(u=>t.registerLanguage(r,u))))).pipe((0,kt.U)(()=>t))}loadCoreLibrary(){return ba(this._options.coreLibraryLoader())}loadFullLibrary(){return ba(this._options.fullLibraryLoader())}loadLineNumbers(){return ba(this._options.lineNumbersLoader())}setTheme(t){this._themeLinkElement.href=t}loadTheme(t){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=t,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F),l.LFG(l.Lbi),l.LFG(r0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ba=n=>(0,zn.D)(n).pipe(Xn(e=>!!e&&!!e.default),(0,kt.U)(e=>e.default));let TD=(()=>{class n{constructor(t,i){this._loader=t,this._hljs=null,t.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(t,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe((0,kt.U)(s=>s.highlight(t,{language:i,ignoreIllegals:r})))}highlightAuto(t,i){return this._loader.ready.pipe((0,kt.U)(r=>r.highlightAuto(t,i)))}highlightElement(t){return this._loader.ready.pipe((0,kt.U)(i=>i.highlightElement(t)))}highlightAll(){return this._loader.ready.pipe((0,kt.U)(t=>t.highlightAll()))}configure(t){return this._loader.ready.pipe((0,kt.U)(i=>i.configure(t)))}registerLanguage(t,i){return this._loader.ready.pipe(jn(r=>r.registerLanguage(t,i)))}unregisterLanguage(t){return this._loader.ready.pipe(jn(i=>i.unregisterLanguage(t)))}registerAliases(t,{languageName:i}){return this._loader.ready.pipe(jn(r=>r.registerAliases(t,{languageName:i})))}listLanguages(){return this._loader.ready.pipe((0,kt.U)(t=>t.listLanguages()))}getLanguage(t){return this._loader.ready.pipe((0,kt.U)(i=>i.getLanguage(t)))}safeMode(){return this._loader.ready.pipe((0,kt.U)(t=>t.safeMode()))}debugMode(){return this._loader.ready.pipe((0,kt.U)(t=>t.debugMode()))}lineNumbersBlock(t){return this._loader.ready.pipe(Xn(i=>!!i.lineNumbersBlock),jn(i=>i.lineNumbersBlock(t)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SE),l.LFG(r0,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),o0=(()=>{class n{constructor(t,i,r,s){this._hljs=i,this._sanitizer=r,this._options=s,this.highlighted=new l.vpe,this._nativeElement=t.nativeElement}ngOnChanges(t){null!==t?.code?.currentValue&&t.code.currentValue!==t.code.previousValue&&(this.code?this.highlightElement(this.code,this.languages):this.setTextContent(""))}highlightElement(t,i){this.setTextContent(t),this._hljs.highlightAuto(t,i).subscribe(r=>{this.setInnerHTML(r?.value),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),CE.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(t){CE.schedule(()=>this._nativeElement.textContent=t)}setInnerHTML(t){CE.schedule(()=>this._nativeElement.innerHTML=function FR(n){return function EE(){if(!s0)try{s0=window?.trustedTypes?.createPolicy("ngx-highlightjs",{createHTML:n=>n})}catch{}return s0}()?.createHTML(n)||n}(this._sanitizer.sanitize(l.q3G.HTML,t)||""))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(TD),l.Y36(Qa),l.Y36(r0,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[l.TTD]}),n})(),wa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Af=new Sf(fm),AE=Af;var Kn=ie(9681);(0,Kn.registerVersion)("firebase","9.13.0","app");var Ze=ie(5861),cn=ie(2090),Ss=ie(4859),Js=ie(1877),kc=ie(8766);const a0="@firebase/installations",Tf="0.5.16",pm=`w:${Tf}`,TE="FIS_v2",Ki=new cn.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function l0(n){return n instanceof cn.ZR&&n.code.includes("request-failed")}function c0({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function mm(n){return{token:n.token,requestStatus:2,expiresIn:BR(n.expiresIn),creationTime:Date.now()}}function Qs(n,e){return Df.apply(this,arguments)}function Df(){return(Df=(0,Ze.Z)(function*(n,e){const i=(yield e.json()).error;return Ki.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function u0({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _m(n,{refreshToken:e}){const t=u0(n);return t.append("Authorization",function ym(n){return`${TE} ${n}`}(e)),t}function xE(n){return vm.apply(this,arguments)}function vm(){return(vm=(0,Ze.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function BR(n){return Number(n.replace("s","000"))}function bm(n,e){return If.apply(this,arguments)}function If(){return(If=(0,Ze.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=c0(n),r=u0(n),s=e.getImmediate({optional:!0});if(s){const m=yield s.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const d={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:TE,appId:n.appId,sdkVersion:pm})},f=yield xE(()=>fetch(i,d));if(f.ok){const m=yield f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:mm(m.authToken)}}throw yield Qs("Create Installation",f)})).apply(this,arguments)}function wm(n){return new Promise(e=>{setTimeout(e,n)})}const VR=/^[cdef][\w-]{21}$/;function MD(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function PD(n){return function d0(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return VR.test(t)?t:""}catch{return""}}function fd(n){return`${n.appName}!${n.appId}`}const Fc=new Map;function OD(n,e){const t=fd(n);f0(t,e),function ME(n,e){const t=function Cm(){return!Lc&&"BroadcastChannel"in self&&(Lc=new BroadcastChannel("[Firebase] FID Change"),Lc.onmessage=n=>{f0(n.data.key,n.data.fid)}),Lc}();t&&t.postMessage({key:n,fid:e}),function ND(){0===Fc.size&&Lc&&(Lc.close(),Lc=null)}()}(t,e)}function f0(n,e){const t=Fc.get(n);if(t)for(const i of t)i(e)}let Lc=null;const pd="firebase-installations-store";let PE=null;function OE(){return PE||(PE=(0,kc.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(pd)}})),PE}function p0(n,e){return RE.apply(this,arguments)}function RE(){return(RE=(0,Ze.Z)(function*(n,e){const t=fd(n),r=(yield OE()).transaction(pd,"readwrite"),s=r.objectStore(pd),u=yield s.get(t);return yield s.put(e,t),yield r.done,(!u||u.fid!==e.fid)&&OD(n,e.fid),e})).apply(this,arguments)}function NE(n){return kE.apply(this,arguments)}function kE(){return(kE=(0,Ze.Z)(function*(n){const e=fd(n),i=(yield OE()).transaction(pd,"readwrite");yield i.objectStore(pd).delete(e),yield i.done})).apply(this,arguments)}function As(n,e){return xf.apply(this,arguments)}function xf(){return(xf=(0,Ze.Z)(function*(n,e){const t=fd(n),r=(yield OE()).transaction(pd,"readwrite"),s=r.objectStore(pd),u=yield s.get(t),d=e(u);return void 0===d?yield s.delete(t):yield s.put(d,t),yield r.done,d&&(!u||u.fid!==d.fid)&&OD(n,d.fid),d})).apply(this,arguments)}function g0(n){return Em.apply(this,arguments)}function Em(){return(Em=(0,Ze.Z)(function*(n){let e;const t=yield As(n.appConfig,i=>{const r=m0(i),s=FE(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function m0(n){return BE(n||{fid:MD(),registrationStatus:0})}function FE(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ki.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function _0(n,e){return v0.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:fl(n)}:{installationEntry:e}}function v0(){return(v0=(0,Ze.Z)(function*(n,e){try{const t=yield bm(n,e);return p0(n.appConfig,t)}catch(t){throw l0(t)&&409===t.customData.serverCode?yield NE(n.appConfig):yield p0(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function fl(n){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,Ze.Z)(function*(n){let e=yield LE(n.appConfig);for(;1===e.registrationStatus;)yield wm(100),e=yield LE(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield g0(n);return i||t}return e})).apply(this,arguments)}function LE(n){return As(n,e=>{if(!e)throw Ki.create("installation-not-found");return BE(e)})}function BE(n){return function VE(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function kD(n,e){return y0.apply(this,arguments)}function y0(){return(y0=(0,Ze.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const i=Am(n,t),r=_m(n,t),s=e.getImmediate({optional:!0});if(s){const m=yield s.getHeartbeatsHeader();m&&r.append("x-firebase-client",m)}const d={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:pm,appId:n.appId}})},f=yield xE(()=>fetch(i,d));if(f.ok)return mm(yield f.json());throw yield Qs("Generate Auth Token",f)})).apply(this,arguments)}function Am(n,{fid:e}){return`${c0(n)}/${e}/authTokens:generate`}function pl(n){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,Ze.Z)(function*(n,e=!1){let t;const i=yield As(n.appConfig,s=>{if(!Dm(s))throw Ki.create("not-registered");const u=s.authToken;if(!e&&b0(u))return s;if(1===u.requestStatus)return t=gd(n,e),s;{if(!navigator.onLine)throw Ki.create("app-offline");const d=w0(s);return t=jE(n,d),d}});return t?yield t:i.authToken})).apply(this,arguments)}function gd(n,e){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,Ze.Z)(function*(n,e){let t=yield Of(n.appConfig);for(;1===t.authToken.requestStatus;)yield wm(100),t=yield Of(n.appConfig);const i=t.authToken;return 0===i.requestStatus?pl(n,e):i})).apply(this,arguments)}function Of(n){return As(n,e=>{if(!Dm(e))throw Ki.create("not-registered");return function FD(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function jE(n,e){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,Ze.Z)(function*(n,e){try{const t=yield kD(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield p0(n.appConfig,i),t}catch(t){if(!l0(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield p0(n.appConfig,i)}else yield NE(n.appConfig);throw t}})).apply(this,arguments)}function Dm(n){return void 0!==n&&2===n.registrationStatus}function b0(n){return 2===n.requestStatus&&!function UE(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function w0(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function C0(){return(C0=(0,Ze.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield g0(e);return i?i.catch(console.error):pl(e).catch(console.error),t.fid})).apply(this,arguments)}function E0(){return(E0=(0,Ze.Z)(function*(n,e=!1){const t=n;return yield HE(t),(yield pl(t,e)).token})).apply(this,arguments)}function HE(n){return Im.apply(this,arguments)}function Im(){return(Im=(0,Ze.Z)(function*(n){const{registrationPromise:e}=yield g0(n);e&&(yield e)})).apply(this,arguments)}function S0(n){return Ki.create("missing-app-config-values",{valueName:n})}const YE="installations",ZE=n=>{const e=n.getProvider("app").getImmediate(),t=function qE(n){if(!n||!n.options)throw S0("App Configuration");if(!n.name)throw S0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw S0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Kn._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},VD=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Kn._getProvider)(e,YE).getImmediate();return{getId:()=>function HR(n){return C0.apply(this,arguments)}(t),getToken:r=>function $E(n){return E0.apply(this,arguments)}(t,r)}};(function KE(){(0,Kn._registerComponent)(new Ss.wA(YE,ZE,"PUBLIC")),(0,Kn._registerComponent)(new Ss.wA("installations-internal",VD,"PRIVATE"))})(),(0,Kn.registerVersion)(a0,Tf),(0,Kn.registerVersion)(a0,Tf,"esm2017");const A0="@firebase/remote-config",wi=new cn.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class iS{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,Ze.Z)(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&u.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(u),s})()}}function rS(n=navigator){return n.languages&&n.languages[0]||n.language}class P0{constructor(e,t,i,r,s,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=u}fetch(e){var t=this;return(0,Ze.Z)(function*(){var i,r,s;const[u,d]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),m=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,y={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},b={sdk_version:t.sdkVersion,app_instance_id:u,app_instance_id_token:d,app_id:t.appId,language_code:rS()},P={method:"POST",headers:y,body:JSON.stringify(b)},V=fetch(m,P),ee=new Promise(($e,ze)=>{e.signal.addEventListener(()=>{const Qe=new Error("The operation was aborted.");Qe.name="AbortError",ze(Qe)})});let K;try{yield Promise.race([V,ee]),K=yield V}catch($e){let ze="fetch-client-network";throw"AbortError"===(null===(i=$e)||void 0===i?void 0:i.name)&&(ze="fetch-timeout"),wi.create(ze,{originalErrorMessage:null===(r=$e)||void 0===r?void 0:r.message})}let ne=K.status;const we=K.headers.get("ETag")||void 0;let Se,Pe;if(200===K.status){let $e;try{$e=yield K.json()}catch(ze){throw wi.create("fetch-client-parse",{originalErrorMessage:null===(s=ze)||void 0===s?void 0:s.message})}Se=$e.entries,Pe=$e.state}if("INSTANCE_STATE_UNSPECIFIED"===Pe?ne=500:"NO_CHANGE"===Pe?ne=304:("NO_TEMPLATE"===Pe||"EMPTY_CONFIG"===Pe)&&(Se={}),304!==ne&&200!==ne)throw wi.create("fetch-status",{httpStatus:ne});return{status:ne,eTag:we,config:Se}})()}}class Mm{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,Ze.Z)(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return(0,Ze.Z)(function*(){yield function Ca(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(wi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function xm(n){if(!(n instanceof cn.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const u={throttleEndTimeMillis:Date.now()+(0,cn.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(u),r.attemptFetch(e,u)}})()}}class O0{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kf(n,e){var t;const i=n.target.error||void 0;return wi.create(e,{originalErrorMessage:i&&(null===(t=i)||void 0===t?void 0:t.message)})}const Bc="app_namespace_store";class qR{constructor(e,t,i,r=function KD(){return new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase_remote_config",1);i.onerror=r=>{e(kf(r,"storage-open"))},i.onsuccess=r=>{n(r.target.result)},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bc,{keyPath:"compositeKey"})}}catch(i){e(wi.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,Ze.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var u;const f=i.transaction([Bc],"readonly").objectStore(Bc),m=t.createCompositeKey(e);try{const y=f.get(m);y.onerror=b=>{s(kf(b,"storage-get"))},y.onsuccess=b=>{const P=b.target.result;r(P?P.value:void 0)}}catch(y){s(wi.create("storage-get",{originalErrorMessage:null===(u=y)||void 0===u?void 0:u.message}))}})})()}set(e,t){var i=this;return(0,Ze.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,u)=>{var d;const m=r.transaction([Bc],"readwrite").objectStore(Bc),y=i.createCompositeKey(e);try{const b=m.put({compositeKey:y,value:t});b.onerror=P=>{u(kf(P,"storage-set"))},b.onsuccess=()=>{s()}}catch(b){u(wi.create("storage-set",{originalErrorMessage:null===(d=b)||void 0===d?void 0:d.message}))}})})()}delete(e){var t=this;return(0,Ze.Z)(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{var u;const f=i.transaction([Bc],"readwrite").objectStore(Bc),m=t.createCompositeKey(e);try{const y=f.delete(m);y.onerror=b=>{s(kf(b,"storage-delete"))},y.onsuccess=()=>{r()}}catch(y){s(wi.create("storage-delete",{originalErrorMessage:null===(u=y)||void 0===u?void 0:u.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class JD{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Ze.Z)(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const u=yield i;u&&(e.lastSuccessfulFetchTimestampMillis=u);const d=yield r;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function QD(){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,Ze.Z)(function*(){if(!(0,cn.hl)())return!1;try{return yield(0,cn.eu)()}catch{return!1}})).apply(this,arguments)}!function YR(){(0,Kn._registerComponent)(new Ss.wA("remote-config",function n(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wi.create("registration-window");if(!(0,cn.hl)())throw wi.create("indexed-db-unavailable");const{projectId:s,apiKey:u,appId:d}=i.options;if(!s)throw wi.create("registration-project-id");if(!u)throw wi.create("registration-api-key");if(!d)throw wi.create("registration-app-id");const f=new qR(d,i.name,t=t||"firebase"),m=new JD(f),y=new Js.Yd(A0);y.logLevel=Js.in.ERROR;const b=new P0(r,Kn.SDK_VERSION,t,s,u,d),P=new Mm(b,f),V=new iS(P,f,m,y),ee=new O0(i,V,m,f,y);return function zD(n){const e=(0,cn.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ee),ee},"PUBLIC").setMultipleInstances(!0)),(0,Kn.registerVersion)(A0,"0.3.15"),(0,Kn.registerVersion)(A0,"0.3.15","esm2017")}();const N0="/firebase-messaging-sw.js",XD="/firebase-cloud-messaging-push-scope",Om="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sS="google.c.a.c_id",tI="google.c.a.c_l",nI="google.c.a.ts",iI="google.c.a.e";var Ea=(()=>{return(n=Ea||(Ea={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Ea;var n})();function Br(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function JR(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const Vc="fcm_token_details_db",oS="fcm_token_object_Store";function k0(n){return F0.apply(this,arguments)}function F0(){return F0=(0,Ze.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Vc))return null;let e=null;return(yield(0,kc.X3)(Vc,5,{upgrade:(i=(0,Ze.Z)(function*(r,s,u,d){var f;if(s<2||!r.objectStoreNames.contains(oS))return;const m=d.objectStore(oS),y=yield m.index("fcmSenderId").get(n);if(yield m.clear(),y)if(2===s){const b=y;if(!b.auth||!b.p256dh||!b.endpoint)return;e={token:b.fcmToken,createTime:null!==(f=b.createTime)&&void 0!==f?f:Date.now(),subscriptionOptions:{auth:b.auth,p256dh:b.p256dh,endpoint:b.endpoint,swScope:b.swScope,vapidKey:"string"==typeof b.vapidKey?b.vapidKey:Br(b.vapidKey)}}}else if(3===s){const b=y;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:Br(b.auth),p256dh:Br(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:Br(b.vapidKey)}}}else if(4===s){const b=y;e={token:b.fcmToken,createTime:b.createTime,subscriptionOptions:{auth:Br(b.auth),p256dh:Br(b.p256dh),endpoint:b.endpoint,swScope:b.swScope,vapidKey:Br(b.vapidKey)}}}}),function(s,u,d,f){return i.apply(this,arguments)})})).close(),yield(0,kc.Lj)(Vc),yield(0,kc.Lj)("fcm_vapid_details_db"),yield(0,kc.Lj)("undefined"),No(e)?e:null;var i}),F0.apply(this,arguments)}function No(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const os="firebase-messaging-store";let _d=null;function Zr(){return _d||(_d=(0,kc.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(os)}})),_d}function Rm(n){return gl.apply(this,arguments)}function gl(){return(gl=(0,Ze.Z)(function*(n){const e=yl(n),i=yield(yield Zr()).transaction(os).objectStore(os).get(e);if(i)return i;{const r=yield k0(n.appConfig.senderId);if(r)return yield ml(n,r),r}})).apply(this,arguments)}function ml(n,e){return _l.apply(this,arguments)}function _l(){return(_l=(0,Ze.Z)(function*(n,e){const t=yl(n),r=(yield Zr()).transaction(os,"readwrite");return yield r.objectStore(os).put(e,t),yield r.done,e})).apply(this,arguments)}function vd(n){return vl.apply(this,arguments)}function vl(){return(vl=(0,Ze.Z)(function*(n){const e=yl(n),i=(yield Zr()).transaction(os,"readwrite");yield i.objectStore(os).delete(e),yield i.done})).apply(this,arguments)}function yl({appConfig:n}){return n.appId}const Mi=new cn.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bd(n,e){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Ze.Z)(function*(n,e){var t;const i=yield Bm(n),r=B0(e),s={method:"POST",headers:i,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(Lm(n.appConfig),s)).json()}catch(d){throw Mi.create("token-subscribe-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(u.error)throw Mi.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Mi.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function aS(n,e){return km.apply(this,arguments)}function km(){return(km=(0,Ze.Z)(function*(n,e){var t;const i=yield Bm(n),r=B0(e.subscriptionOptions),s={method:"PATCH",headers:i,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${Lm(n.appConfig)}/${e.token}`,s)).json()}catch(d){throw Mi.create("token-update-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(u.error)throw Mi.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Mi.create("token-update-no-token");return u.token})).apply(this,arguments)}function L0(n,e){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,Ze.Z)(function*(n,e){var t;const r={method:"DELETE",headers:yield Bm(n)};try{const u=yield(yield fetch(`${Lm(n.appConfig)}/${e}`,r)).json();if(u.error)throw Mi.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(s){throw Mi.create("token-unsubscribe-failed",{errorInfo:null===(t=s)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function Lm({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Bm(n){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,Ze.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function B0({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==Om&&(r.web.applicationPubKey=i),r}const sI=6048e5;function oI(n){return jm.apply(this,arguments)}function jm(){return(jm=(0,Ze.Z)(function*(n){const e=yield $m(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Br(e.getKey("auth")),p256dh:Br(e.getKey("p256dh"))},i=yield Rm(n.firebaseDependencies);if(i){if(aI(i.subscriptionOptions,t))return Date.now()>=i.createTime+sI?V0(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield L0(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return cS(n.firebaseDependencies,t)}return cS(n.firebaseDependencies,t)})).apply(this,arguments)}function lS(n){return Um.apply(this,arguments)}function Um(){return(Um=(0,Ze.Z)(function*(n){const e=yield Rm(n.firebaseDependencies);e&&(yield L0(n.firebaseDependencies,e.token),yield vd(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function V0(n,e){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,Ze.Z)(function*(n,e){try{const t=yield aS(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield ml(n.firebaseDependencies,i),t}catch(t){throw yield lS(n),t}})).apply(this,arguments)}function cS(n,e){return wd.apply(this,arguments)}function wd(){return(wd=(0,Ze.Z)(function*(n,e){const i={token:yield bd(n,e),createTime:Date.now(),subscriptionOptions:e};return yield ml(n,i),i.token})).apply(this,arguments)}function $m(n,e){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,Ze.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:JR(e)})})).apply(this,arguments)}function aI(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function jf(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Hm(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function uS(n,e){!e.data||(n.data=e.data)}(e,n),function dS(n,e){var t,i,r,s,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;d&&(n.fcmOptions.link=d);const f=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;f&&(n.fcmOptions.analyticsLabel=f)}(e,n),e}function j0(n){return"object"==typeof n&&!!n&&sS in n}function U0(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function Uf(n){return Mi.create("missing-app-config-values",{valueName:n})}U0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),U0("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fS{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function hS(n){if(!n||!n.options)throw Uf("App Configuration Object");if(!n.name)throw Uf("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw Uf(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function pS(n){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,Ze.Z)(function*(n){var e;try{n.swRegistration=yield navigator.serviceWorker.register(N0,{scope:XD}),n.swRegistration.update().catch(()=>{})}catch(t){throw Mi.create("failed-service-worker-registration",{browserErrorMessage:null===(e=t)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function gS(n,e){return zm.apply(this,arguments)}function zm(){return(zm=(0,Ze.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield pS(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Mi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function mS(n,e){return $0.apply(this,arguments)}function $0(){return($0=(0,Ze.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Om)})).apply(this,arguments)}function Wm(){return(Wm=(0,Ze.Z)(function*(n,e){if(!navigator)throw Mi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mi.create("permission-blocked");return yield mS(n,e?.vapidKey),yield gS(n,e?.serviceWorkerRegistration),oI(n)})).apply(this,arguments)}function G0(n,e,t){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,Ze.Z)(function*(n,e,t){const i=_S(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[sS],message_name:t[tI],message_time:t[nI],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _S(n){switch(n){case Ea.NOTIFICATION_CLICKED:return"notification_open";case Ea.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qm(){return(qm=(0,Ze.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Ea.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(jf(t)):n.onMessageHandler.next(jf(t)));const i=t.data;j0(i)&&"1"===i[iI]&&(yield G0(n,t.messageType,i))})).apply(this,arguments)}const z0="@firebase/messaging",yS=n=>{const e=new fS(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function vS(n,e){return qm.apply(this,arguments)}(e,t)),e},bS=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function H0(n,e){return Wm.apply(this,arguments)}(e,i)}};function lI(){return q0.apply(this,arguments)}function q0(){return(q0=(0,Ze.Z)(function*(){try{yield(0,cn.eu)()}catch{return!1}return typeof window<"u"&&(0,cn.hl)()&&(0,cn.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wS(){(0,Kn._registerComponent)(new Ss.wA("messaging",yS,"PUBLIC")),(0,Kn._registerComponent)(new Ss.wA("messaging-internal",bS,"PRIVATE")),(0,Kn.registerVersion)(z0,"0.10.0"),(0,Kn.registerVersion)(z0,"0.10.0","esm2017")}();const Zm="analytics",CS="firebase_id",fI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SS="https://www.googletagmanager.com/gtag/js",rr=new Js.Yd("@firebase/analytics");function AS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function TS(n,e){const t=document.createElement("script");t.src=`${SS}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function Z0(n,e,t,i,r,s){return $f.apply(this,arguments)}function $f(){return($f=(0,Ze.Z)(function*(n,e,t,i,r,s){const u=i[r];try{if(u)yield e[u];else{const f=(yield AS(t)).find(m=>m.measurementId===r);f&&(yield e[f.appId])}}catch(d){rr.error(d)}n("config",r,s)})).apply(this,arguments)}function Xs(n,e,t,i,r){return K0.apply(this,arguments)}function K0(){return(K0=(0,Ze.Z)(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let u=r.send_to;Array.isArray(u)||(u=[u]);const d=yield AS(t);for(const f of u){const m=d.find(b=>b.measurementId===f),y=m&&e[m.appId];if(!y){s=[];break}s.push(y)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){rr.error(s)}})).apply(this,arguments)}function eo(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(SS)&&t.src.includes(n))return t;return null}const Kr=new cn.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xS=new class gI{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function J0(n){return jc.apply(this,arguments)}function jc(){return(jc=(0,Ze.Z)(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:mI(i)},s=fI.replace("{app-id}",t),u=yield fetch(s,r);if(200!==u.status&&304!==u.status){let d="";try{const f=yield u.json();null!==(e=f.error)&&void 0!==e&&e.message&&(d=f.error.message)}catch{}throw Kr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:d})}return u.json()})).apply(this,arguments)}function _I(n){return Km.apply(this,arguments)}function Km(){return(Km=(0,Ze.Z)(function*(n,e=xS,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Kr.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Kr.create("no-api-key")}const u=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new vI;return setTimeout((0,Ze.Z)(function*(){d.abort()}),void 0!==t?t:6e4),MS({appId:i,apiKey:r,measurementId:s},u,d,e)})).apply(this,arguments)}function MS(n,e,t){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,Ze.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=xS){var s,u;const{appId:d,measurementId:f}=n;try{yield PS(i,e)}catch(m){if(f)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${null===(s=m)||void 0===s?void 0:s.message}]`),{appId:d,measurementId:f};throw m}try{const m=yield J0(n);return r.deleteThrottleMetadata(d),m}catch(m){const y=m;if(!Qm(y)){if(r.deleteThrottleMetadata(d),f)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:d,measurementId:f};throw m}const b=503===Number(null===(u=y?.customData)||void 0===u?void 0:u.httpStatus)?(0,cn.$s)(t,r.intervalMillis,30):(0,cn.$s)(t,r.intervalMillis),P={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return r.setThrottleMetadata(d,P),rr.debug(`Calling attemptFetch again in ${b} millis`),MS(n,P,i,r)}})).apply(this,arguments)}function PS(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Kr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Qm(n){if(!(n instanceof cn.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class vI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Xm,s_;function Hf(){return(Hf=(0,Ze.Z)(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function Q0(n){s_=n}function FS(n){Xm=n}function yI(){return X0.apply(this,arguments)}function X0(){return(X0=(0,Ze.Z)(function*(){var n;if(!(0,cn.hl)())return rr.warn(Kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,cn.eu)()}catch(e){return rr.warn(Kr.create("indexeddb-unavailable",{errorInfo:null===(n=e)||void 0===n?void 0:n.toString()}).message),!1}return!0})).apply(this,arguments)}function eb(){return(eb=(0,Ze.Z)(function*(n,e,t,i,r,s,u){var d;const f=_I(n);f.then(V=>{t[V.measurementId]=V.appId,n.options.measurementId&&V.measurementId!==n.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>rr.error(V)),e.push(f);const m=yI().then(V=>{if(V)return i.getId()}),[y,b]=yield Promise.all([f,m]);eo(s)||TS(s,y.measurementId),s_&&(r("consent","default",s_),Q0(void 0)),r("js",new Date);const P=null!==(d=u?.config)&&void 0!==d?d:{};return P.origin="firebase",P.update=!0,null!=b&&(P[CS]=b),r("config",y.measurementId,P),Xm&&(r("set",Xm),FS(void 0)),y.measurementId})).apply(this,arguments)}class wI{constructor(e){this.app=e}_delete(){return delete Sa[this.app.options.appId],Promise.resolve()}}let Sa={},LS=[];const BS={};let jS,Aa,o_="dataLayer",tb=!1;function EI(n,e,t){!function CI(){const n=[];if((0,cn.ru)()&&n.push("This is a browser extension environment."),(0,cn.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=Kr.create("invalid-analytics-context",{errorInfo:e});rr.warn(t.message)}}();const i=n.options.appId;if(!i)throw Kr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Kr.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Sa[i])throw Kr.create("already-exists",{id:i});if(!tb){!function XR(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(o_);const{wrappedGtag:s,gtagCore:u}=function ko(n,e,t,i,r){let s=function(...u){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function DS(n,e,t,i){function s(){return(s=(0,Ze.Z)(function*(u,d,f){try{"event"===u?yield Xs(n,e,t,d,f):"config"===u?yield Z0(n,e,t,i,d,f):"consent"===u?n("consent","update",f):n("set",d)}catch(m){rr.error(m)}})).apply(this,arguments)}return function r(u,d,f){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(Sa,LS,BS,o_,"gtag");Aa=s,jS=u,tb=!0}return Sa[i]=function bI(n,e,t,i,r,s,u){return eb.apply(this,arguments)}(n,LS,BS,e,jS,o_,t),new wI(n)}function $S(){return a_.apply(this,arguments)}function a_(){return(a_=(0,Ze.Z)(function*(){if((0,cn.ru)()||!(0,cn.zI)()||!(0,cn.hl)())return!1;try{return yield(0,cn.eu)()}catch{return!1}})).apply(this,arguments)}const bl="@firebase/analytics";!function PI(){(0,Kn._registerComponent)(new Ss.wA(Zm,(e,{options:t})=>EI(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Kn._registerComponent)(new Ss.wA("analytics-internal",function n(e){try{const t=e.getProvider(Zm).getImmediate();return{logEvent:(i,r,s)=>function nb(n,e,t,i){n=(0,cn.m9)(n),function OS(n,e,t,i,r){return Hf.apply(this,arguments)}(Aa,Sa[n.app.options.appId],e,t,i).catch(r=>rr.error(r))}(t,i,r,s)}}catch(t){throw Kr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Kn.registerVersion)(bl,"0.8.4"),(0,Kn.registerVersion)(bl,"0.8.4","esm2017")}();const ib=new class tN extends Sf{}(class Sd extends fm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}});var Gf=ie(9468),Ad=ie(5363);const pn="__angularfire_symbol__analyticsIsSupportedValue",rb="__angularfire_symbol__analyticsIsSupported",sb="__angularfire_symbol__remoteConfigIsSupportedValue",ob="__angularfire_symbol__remoteConfigIsSupported",wl="__angularfire_symbol__messagingIsSupportedValue",ab="__angularfire_symbol__messagingIsSupported";function Dd(){}globalThis[rb]||(globalThis[rb]=$S().then(n=>globalThis[pn]=n).catch(()=>globalThis[pn]=!1)),globalThis[ab]||(globalThis[ab]=lI().then(n=>globalThis[wl]=n).catch(()=>globalThis[wl]=!1)),globalThis[ob]||(globalThis[ob]=QD().then(n=>globalThis[sb]=n).catch(()=>globalThis[sb]=!1));class cb{constructor(e,t=ib){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(u){r.runGuarded(()=>{e.apply(this,[u])})},t,i)}}class WS{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dd,{},Dd,Dd)),t.pipe(jn({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ub=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new cb(Zone.current)),this.insideAngular=t.run(()=>new cb(Zone.current,Af)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function as(n){return Cl(),function RI(n){return function(t){return(t=t.lift(new WS(n.ngZone))).pipe((0,Gf.R)(n.outsideAngular),(0,Ad.Q)(n.insideAngular))}}(Cl())(n)}function c_(){return(0,bi.e)((n,e)=>{let t,i=!1;n.subscribe((0,oi.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function qS(n,e){return n===e}var an,Fo=ie(2011),Wf=(ie(1277),ie(3942)),kI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ta={},d_=d_||{},wn=kI||self;function qf(){}function h_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Id(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var hb="closure_uid_"+(1e9*Math.random()>>>0),iN=0;function rN(n,e,t){return n.call.apply(n.bind,arguments)}function sN(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Vr(n,e,t){return(Vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rN:sN).apply(null,arguments)}function Yf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Gi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),d=2;d<arguments.length;d++)u[d-2]=arguments[d];return e.prototype[r].apply(i,u)}}function El(){this.s=this.s,this.o=this.o}El.prototype.s=!1,El.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function FI(n){Object.prototype.hasOwnProperty.call(n,hb)&&n[hb]||(n[hb]=++iN)}(this)},El.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function $c(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function YS(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(h_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function Cr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Cr.prototype.h=function(){this.defaultPrevented=!0};var BI=function(){if(!wn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{wn.addEventListener("test",qf,e),wn.removeEventListener("test",qf,e)}catch{}return n}();function f_(n){return/^[\s\xa0]*$/.test(n)}var ZS=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function p_(n,e){return n<e?-1:n>e?1:0}function g_(){var n=wn.navigator;return n&&(n=n.userAgent)?n:""}function Lo(n){return-1!=g_().indexOf(n)}function Hc(n){return Hc[" "](n),n}Hc[" "]=qf;var __,n,KS=Lo("Opera"),xd=Lo("Trident")||Lo("MSIE"),pb=Lo("Edge"),gb=pb||xd,mb=Lo("Gecko")&&!(-1!=g_().toLowerCase().indexOf("webkit")&&!Lo("Edge"))&&!(Lo("Trident")||Lo("MSIE"))&&!Lo("Edge"),jI=-1!=g_().toLowerCase().indexOf("webkit")&&!Lo("Edge");function m_(){var n=wn.document;return n?n.documentMode:void 0}e:{var v_="",y_=(n=g_(),mb?/rv:([^\);]+)(\)|;)/.exec(n):pb?/Edge\/([\d\.]+)/.exec(n):xd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jI?/WebKit\/(\S+)/.exec(n):KS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(y_&&(v_=y_?y_[1]:""),xd){var _b=m_();if(null!=_b&&_b>parseFloat(v_)){__=String(_b);break e}}__=v_}var UI={};var QS=wn.document&&xd&&(m_()||parseInt(__,10))||void 0;function Kf(n,e){if(Cr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(mb){e:{try{Hc(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:HI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kf.X.h.call(this)}}Gi(Kf,Cr);var HI={2:"touch",3:"pen",4:"mouse"};Kf.prototype.h=function(){Kf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jf="closure_listenable_"+(1e6*Math.random()|0),GI=0;function zI(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++GI,this.ba=this.ea=!1}function b_(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function vb(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function XS(n){const e={};for(const t in n)e[t]=n[t];return e}const yb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bb(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<yb.length;s++)t=yb[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Qf(n){this.src=n,this.g={},this.h=0}function wb(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=fb(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(b_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Xf(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}Qf.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=Xf(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new zI(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var w_="closure_lm_"+(1e6*Math.random()|0),Cb={};function eA(n,e,t,i,r){if(i&&i.once)return Sb(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eA(n,e[s],t,i,r);return null}return t=Sl(t),n&&n[Jf]?n.N(e,t,Id(i)?!!i.capture:!!i,r):C_(n,e,t,!1,i,r)}function C_(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=Id(r)?!!r.capture:!!r,d=Db(n);if(d||(n[w_]=d=new Qf(n)),(t=d.add(e,t,i,u,s)).proxy)return t;if(i=function Eb(){const e=Tb;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)BI||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(tA(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Sb(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Sb(n,e[s],t,i,r);return null}return t=Sl(t),n&&n[Jf]?n.O(e,t,Id(i)?!!i.capture:!!i,r):C_(n,e,t,!0,i,r)}function E_(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)E_(n,e[s],t,i,r);else i=Id(i)?!!i.capture:!!i,t=Sl(t),n&&n[Jf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Xf(s=n.g[e],t,i,r))&&(b_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Db(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Xf(e,t,i,r)),(t=-1<n?e[n]:null)&&Ab(t))}function Ab(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Jf])wb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(tA(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=Db(e))?(wb(t,n),0==t.h&&(t.src=null,e[w_]=null)):b_(n)}}}function tA(n){return n in Cb?Cb[n]:Cb[n]="on"+n}function Tb(n,e){if(n.ba)n=!0;else{e=new Kf(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&Ab(n),n=t.call(i,e)}return n}function Db(n){return(n=n[w_])instanceof Qf?n:null}var S_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sl(n){return"function"==typeof n?n:(n[S_]||(n[S_]=function(e){return n.handleEvent(e)}),n[S_])}function Ji(){El.call(this),this.i=new Qf(this),this.P=this,this.I=null}function dr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Cr(e,n);else if(e instanceof Cr)e.target=e.target||n;else{var r=e;bb(e=new Cr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=Ib(u,i,!0,e)&&r}if(r=Ib(u=e.g=n,i,!0,e)&&r,r=Ib(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Ib(u=e.g=t[s],i,!1,e)&&r}function Ib(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ba&&u.capture==t){var d=u.listener,f=u.ha||u.src;u.ea&&wb(n.i,u),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}Gi(Ji,El),Ji.prototype[Jf]=!0,Ji.prototype.removeEventListener=function(n,e,t,i){E_(this,n,e,t,i)},Ji.prototype.M=function(){if(Ji.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)b_(t[i]);delete n.g[e],n.h--}}this.I=null},Ji.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ji.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var A_=wn.JSON.stringify;function xb(){var n=Mb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var I_,T_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new qI,n=>n.reset());class qI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nA(n){wn.setTimeout(()=>{throw n},0)}function D_(n,e){I_||function iA(){var n=wn.Promise.resolve(void 0);I_=function(){n.then(YI)}}(),x_||(I_(),x_=!0),Mb.add(n,e)}var x_=!1,Mb=new class WI{constructor(){this.h=this.g=null}add(e,t){const i=T_.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function YI(){for(var n;n=xb();){try{n.h.call(n.g)}catch(t){nA(t)}var e=T_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}x_=!1}function M_(n,e){Ji.call(this),this.h=n||1,this.g=e||wn,this.j=Vr(this.lb,this),this.l=Date.now()}function Pb(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Ob(n,e,t){if("function"==typeof n)t&&(n=Vr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Vr(n.handleEvent,n)}return 2147483647<Number(e)?-1:wn.setTimeout(n,e||0)}function Rb(n){n.g=Ob(()=>{n.g=null,n.i&&(n.i=!1,Rb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gi(M_,Ji),(an=M_.prototype).ca=!1,an.R=null,an.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),dr(this,"tick"),this.ca&&(Pb(this),this.start()))}},an.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},an.M=function(){M_.X.M.call(this),Pb(this),delete this.g};class oN extends El{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rb(this)}M(){super.M(),this.g&&(wn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Md(n){El.call(this),this.h=n,this.g={}}Gi(Md,El);var rA=[];function sA(n,e,t,i){Array.isArray(t)||(t&&(rA[0]=t.toString()),t=rA);for(var r=0;r<t.length;r++){var s=eA(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function ZI(n){vb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ab(e)},n),n.g={}}function Nb(){this.g=!0}function Gc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function aA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return A_(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Md.prototype.M=function(){Md.X.M.call(this),ZI(this)},Md.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nb.prototype.Aa=function(){this.g=!1},Nb.prototype.info=function(){};var Al={},lA=null;function P_(){return lA=lA||new Ji}function cA(n){Cr.call(this,Al.Pa,n)}function ep(n){const e=P_();dr(e,new cA(e))}function uA(n,e){Cr.call(this,Al.STAT_EVENT,n),this.stat=e}function jr(n){const e=P_();dr(e,new uA(e,n))}function Pd(n,e){Cr.call(this,Al.Qa,n),this.size=e}function Od(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return wn.setTimeout(function(){n()},e)}Al.Pa="serverreachability",Gi(cA,Cr),Al.STAT_EVENT="statevent",Gi(uA,Cr),Al.Qa="timingevent",Gi(Pd,Cr);var tp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},kb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function O_(){}function Lb(){}O_.prototype.h=null;var Bb,np={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function dA(){Cr.call(this,"d")}function R_(){Cr.call(this,"c")}function N_(){}function ip(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Md(this),this.O=rp,this.T=new M_(n=gb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new hA}function hA(){this.i=null,this.g="",this.h=!1}Gi(dA,Cr),Gi(R_,Cr),Gi(N_,O_),N_.prototype.g=function(){return new XMLHttpRequest},N_.prototype.i=function(){return{}},Bb=new N_;var rp=45e3,Vb={},Rd={};function Ts(n,e,t){n.K=1,n.v=Ld(Dl(e)),n.s=t,n.P=!0,fA(n,null)}function fA(n,e){n.F=Date.now(),sp(n),n.A=Dl(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),zb(t.i,"t",i),n.C=0,t=n.l.H,n.h=new hA,n.g=dx(n.l,t?e:null,!n.s),0<n.N&&(n.L=new oN(Vr(n.La,n,n.g),n.N)),sA(n.S,n.g,"readystatechange",n.ib),e=n.H?XS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ep(),function KI(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",d=s.split("&"),f=0;f<d.length;f++){var m=d[f].split("=");if(1<m.length){var y=m[0];m=m[1];var b=y.split("_");u=2<=b.length&&"type"==b[1]?u+(y+"=")+m+"&":u+(y+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function k_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Nd(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=QI(n,t),r==Rd){4==e&&(n.o=4,jr(14),i=!1),Gc(n.j,n.m,null,"[Incomplete Response]");break}if(r==Vb){n.o=4,jr(15),Gc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Gc(n.j,n.m,r,null),jb(n,r)}k_(n)&&r!=Rd&&r!=Vb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,jr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),H_(e),e.K=!0,jr(11))):(Gc(n.j,n.m,t,"[Invalid Chunked Response]"),Wc(n),Tl(n))}function QI(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Rd:(t=Number(e.substring(t,i)),isNaN(t)?Vb:(i+=1)+t>e.length?Rd:(e=e.substr(i,t),n.C=i+t,e))}function sp(n){n.V=Date.now()+n.O,pA(n,n.O)}function pA(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Od(Vr(n.gb,n),e)}function zc(n){n.B&&(wn.clearTimeout(n.B),n.B=null)}function Tl(n){0==n.l.G||n.I||NA(n.l,n)}function Wc(n){zc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Pb(n.T),ZI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function jb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||TA(t.h,n)))if(!n.J&&TA(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;G_(t),U_(t)}$_(t),jr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Od(Vr(t.cb,t),6e3));if(1>=AA(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Il(t,11)}else if((n.J||t.g==n)&&G_(t),!f_(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let m=r[e];if(t.T=m[0],m=m[1],2==t.G)if("c"==m[0]){t.I=m[1],t.ka=m[2];const y=m[3];null!=y&&(t.ma=y,t.j.info("VER="+t.ma));const b=m[4];null!=b&&(t.Ca=b,t.j.info("SVER="+t.Ca));const P=m[5];null!=P&&"number"==typeof P&&0<P&&(t.J=i=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const ee=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var s=i.h;s.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(DA(s,s.h),s.h=null))}if(i.D){const K=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,ai(i.F,i.D,K))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=ux(i,i.H?i.ka:null,i.V),u.J){Wb(i.h,u);var d=u,f=i.J;f&&d.setTimeout(f),d.B&&(zc(d),sp(d)),i.g=u}else ew(i);0<t.i.length&&dp(t)}else"stop"!=m[0]&&"close"!=m[0]||Il(t,7);else 3==t.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?Il(t,7):j_(t):"noop"!=m[0]&&t.l&&t.l.wa(m),t.A=0)}ep()}catch{}}function F_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(h_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function mA(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(h_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function gA(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(h_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(an=ip.prototype).setTimeout=function(n){this.O=n},an.ib=function(n){n=n.target;const e=this.L;e&&3==Ia(n)?e.l():this.La(n)},an.La=function(n){try{if(n==this.g)e:{const y=Ia(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>y)&&(3!=y||gb||this.g&&(this.h.h||this.g.fa()||ox(this.g)))){this.I||4!=y||7==e||ep(),zc(this);var t=this.g.aa();this.Y=t;t:if(k_(this)){var i=ox(this.g);n="";var r=i.length,s=4==Ia(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wc(this),Tl(this);var u="";break t}this.h.i=new wn.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function JI(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,y,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f_(d)){var m=d;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,jr(12),Wc(this),Tl(this);break e}Gc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jb(this,t)}this.P?(Nd(this,y,u),gb&&this.i&&3==y&&(sA(this.S,this.T,"tick",this.hb),this.T.start())):(Gc(this.j,this.m,u,null),jb(this,u)),4==y&&Wc(this),this.i&&!this.I&&(4==y?NA(this.l,this):(this.i=!1,sp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),Wc(this),Tl(this)}}}catch{}},an.hb=function(){if(this.g){var n=Ia(this.g),e=this.g.fa();this.C<e.length&&(zc(this),Nd(this,n,e),this.i&&4!=n&&sp(this))}},an.cancel=function(){this.I=!0,Wc(this)},an.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function oA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ep(),jr(17)),Wc(this),this.o=2,Tl(this)):pA(this,this.V-n)};var Ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=void 0!==e?e:n.h,kd(this,n.j),this.s=n.s,this.g=n.g,Fd(this,n.m),this.l=n.l,e=n.i;var t=new Bd;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$b(this,t),this.o=n.o}else n&&(t=String(n).match(Ub))?(this.h=!!e,kd(this,t[1]||"",!0),this.s=op(t[2]||""),this.g=op(t[3]||"",!0),Fd(this,t[4]),this.l=op(t[5]||"",!0),$b(this,t[6]||"",!0),this.o=op(t[7]||"")):(this.h=!!e,this.i=new Bd(null,this.h))}function Dl(n){return new qc(n)}function kd(n,e,t){n.j=t?op(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fd(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $b(n,e,t){e instanceof Bd?(n.i=e,function CA(n,e){e&&!n.j&&(Da(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(wA(this,i),zb(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ap(e,yA)),n.i=new Bd(e,n.h))}function ai(n,e,t){n.i.set(e,t)}function Ld(n){return ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function op(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ap(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ex),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ex(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ap(e,_A,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ap(e,_A,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ap(t,"/"==t.charAt(0)?Hb:vA,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ap(t,bA)),n.join("")};var _A=/[#\/\?@]/g,vA=/[#\?:]/g,Hb=/[#\?]/g,yA=/[#\?@]/g,bA=/#/g;function Bd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Da(n){n.g||(n.g=new Map,n.h=0,n.i&&function XI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wA(n,e){Da(n),e=Vd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Gb(n,e){return Da(n),e=Vd(n,e),n.g.has(e)}function zb(n,e,t){wA(n,e),0<t.length&&(n.i=null,n.g.set(Vd(n,e),$c(t)),n.h+=t.length)}function Vd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Er(n){this.l=n||jd,n=wn.PerformanceNavigationTiming?0<(n=wn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(wn.g&&wn.g.Ga&&wn.g.Ga()&&wn.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(an=Bd.prototype).add=function(n,e){Da(this),this.i=null,n=Vd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},an.forEach=function(n,e){Da(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},an.oa=function(){Da(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},an.W=function(n){Da(this);let e=[];if("string"==typeof n)Gb(this,n)&&(e=e.concat(this.g.get(Vd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},an.set=function(n,e){return Da(this),this.i=null,Gb(this,n=Vd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},an.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},an.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var jd=10;function SA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AA(n){return n.h?1:n.g?n.g.size:0}function TA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function DA(n,e){n.g?n.g.add(e):n.h=e}function Wb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return $c(n.i)}function Yc(){}function tx(){this.g=new Yc}function Yb(n,e,t){const i=t||"";try{F_(n,function(r,s){let u=r;Id(r)&&(u=A_(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function lp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function cp(n){this.l=n.ac||null,this.j=n.jb||!1}function L_(n,e){Ji.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Zb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Er.prototype.cancel=function(){if(this.i=qb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Yc.prototype.stringify=function(n){return wn.JSON.stringify(n,void 0)},Yc.prototype.parse=function(n){return wn.JSON.parse(n,void 0)},Gi(cp,O_),cp.prototype.g=function(){return new L_(this.l,this.j)},cp.prototype.i=function(n){return function(){return n}}({}),Gi(L_,Ji);var Zb=0;function B_(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Ud(n){n.readyState=4,n.l=null,n.j=null,n.A=null,$d(n)}function $d(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(an=L_.prototype).open=function(n,e){if(this.readyState!=Zb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,$d(this)},an.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||wn).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},an.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ud(this)),this.readyState=Zb},an.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,$d(this)),this.g&&(this.readyState=3,$d(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof wn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B_(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},an.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ud(this):$d(this),3==this.readyState&&B_(this)}},an.Va=function(n){this.g&&(this.response=this.responseText=n,Ud(this))},an.Ua=function(n){this.g&&(this.response=n,Ud(this))},an.ga=function(){this.g&&Ud(this)},an.setRequestHeader=function(n,e){this.v.append(n,e)},an.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},an.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(L_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var V_=wn.JSON.parse;function mi(n){Ji.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ix,this.K=this.L=!1}Gi(mi,Ji);var ix="",IA=/^https?$/i,rx=["POST","PUT"];function Zc(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MA(n),Hd(n)}function MA(n){n.D||(n.D=!0,dr(n,"complete"),dr(n,"error"))}function Kb(n){if(n.h&&typeof d_<"u"&&(!n.C[1]||4!=Ia(n)||2!=n.aa()))if(n.v&&4==Ia(n))Ob(n.Ha,0,n);else if(dr(n,"readystatechange"),4==Ia(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(Ub)[1]||null;if(!r&&wn.self&&wn.self.location){var s=wn.self.location.protocol;r=s.substr(0,s.length-1)}i=!IA.test(r?r.toLowerCase():"")}t=i}if(t)dr(n,"complete"),dr(n,"success");else{n.m=6;try{var u=2<Ia(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",MA(n)}}finally{Hd(n)}}}function Hd(n,e){if(n.g){sx(n);const t=n.g,i=n.C[0]?qf:null;n.g=null,n.C=null,e||dr(n,"ready");try{t.onreadystatechange=i}catch{}}}function sx(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(wn.clearTimeout(n.A),n.A=null)}function Ia(n){return n.g?n.g.readyState:0}function ox(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ix:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function PA(n){let e="";return vb(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Jb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=PA(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ai(n,e,t))}function up(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Qb(n){this.Ca=0,this.i=[],this.j=new Nb,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=up("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=up("baseRetryDelayMs",5e3,n),this.bb=up("retryDelaySeedMs",1e4,n),this.$a=up("forwardChannelMaxRetries",2,n),this.ta=up("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Er(n&&n.concurrentRequestLimit),this.Fa=new tx,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function j_(n){if(Xb(n),3==n.G){var e=n.U++,t=Dl(n.F);ai(t,"SID",n.I),ai(t,"RID",e),ai(t,"TYPE","terminate"),Gd(n,t),(e=new ip(n,n.j,e,void 0)).K=2,e.v=Ld(Dl(t)),t=!1,wn.navigator&&wn.navigator.sendBeacon&&(t=wn.navigator.sendBeacon(e.v.toString(),"")),!t&&wn.Image&&((new Image).src=e.v,t=!0),t||(e.g=dx(e.l,null),e.g.da(e.v)),e.F=Date.now(),sp(e)}cx(n)}function U_(n){n.g&&(H_(n),n.g.cancel(),n.g=null)}function Xb(n){U_(n),n.u&&(wn.clearTimeout(n.u),n.u=null),G_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&wn.clearTimeout(n.m),n.m=null)}function dp(n){SA(n.h)||n.m||(n.m=!0,D_(n.Ja,n),n.C=0)}function OA(n,e){var t;t=e?e.m:n.U++;const i=Dl(n.F);ai(i,"SID",n.I),ai(i,"RID",t),ai(i,"AID",n.T),Gd(n,i),n.o&&n.s&&Jb(i,n.o,n.s),t=new ip(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=RA(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),DA(n.h,t),Ts(t,i,e)}function Gd(n,e){n.ia&&vb(n.ia,function(t,i){ai(e,i,t)}),n.l&&F_({},function(t,i){ai(e,i,t)})}function RA(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Vr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let d=!0;for(let f=0;f<t;f++){let m=r[f].h;const y=r[f].g;if(m-=s,0>m)s=Math.max(0,r[f].h-100),d=!1;else try{Yb(y,u,"req"+m+"_")}catch{i&&i(y)}}if(d){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function ew(n){n.g||n.u||(n.Z=1,D_(n.Ia,n),n.A=0)}function $_(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Od(Vr(n.Ia,n),lx(n,n.A)),n.A++,0))}function H_(n){null!=n.B&&(wn.clearTimeout(n.B),n.B=null)}function tw(n){n.g=new ip(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Dl(n.sa);ai(e,"RID","rpc"),ai(e,"SID",n.I),ai(e,"CI",n.L?"0":"1"),ai(e,"AID",n.T),ai(e,"TYPE","xmlhttp"),Gd(n,e),n.o&&n.s&&Jb(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=Ld(Dl(e)),t.s=null,t.P=!0,fA(t,n)}function G_(n){null!=n.v&&(wn.clearTimeout(n.v),n.v=null)}function NA(n,e){var t=null;if(n.g==e){G_(n),H_(n),n.g=null;var i=2}else{if(!TA(n.h,e))return;t=e.D,Wb(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;dr(i=P_(),new Pd(i,t)),dp(n)}else ew(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function ax(n,e){return!(AA(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Od(Vr(n.Ja,n,e),lx(n,n.C)),n.C++,0)))}(n,e)||2==i&&$_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Il(n,5);break;case 4:Il(n,10);break;case 3:Il(n,6);break;default:Il(n,2)}}function lx(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Il(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Vr(n.kb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),wn.location&&"http"==wn.location.protocol||kd(t,"https"),Ld(t)),function nx(n,e){const t=new Nb;if(wn.Image){const i=new Image;i.onload=Yf(lp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Yf(lp,t,i,"TestLoadImage: error",!1,e),i.onabort=Yf(lp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Yf(lp,t,i,"TestLoadImage: timeout",!1,e),wn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else jr(2);n.G=0,n.l&&n.l.va(e),cx(n),Xb(n)}function cx(n){if(n.G=0,n.la=[],n.l){const e=qb(n.h);(0!=e.length||0!=n.i.length)&&(YS(n.la,e),YS(n.la,n.i),n.h.i.length=0,$c(n.i),n.i.length=0),n.l.ua()}}function ux(n,e,t){var i=t instanceof qc?Dl(t):new qc(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Fd(i,i.m);else{var r=wn.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new qc(null,void 0);i&&kd(s,i),e&&(s.g=e),r&&Fd(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&ai(i,t,e),ai(i,"VER",n.ma),Gd(n,i),i}function dx(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mi(t&&n.Da&&!n.ra?new cp({jb:!0}):n.ra)).Ka(n.H),e}function hx(){}function nw(){if(xd&&!(10<=Number(QS)))throw Error("Environmental error: no available transport.")}function Ds(n,e){Ji.call(this),this.g=new Qb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!f_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!f_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xa(this)}function fx(n){dA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function px(){R_.call(this),this.status=1}function xa(n){this.g=n}(an=mi.prototype).Ka=function(n){this.L=n},an.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bb.g(),this.C=function Fb(n){return n.h||(n.h=n.i())}(this.u?this.u:Bb),this.g.onreadystatechange=Vr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void Zc(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=wn.FormData&&n instanceof wn.FormData,!(0<=fb(rx,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sx(this),0<this.B&&((this.K=function xA(n){return xd&&function $I(){return function VI(n){var e=UI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=ZS(String(__)).split("."),t=ZS("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",s=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=p_(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||p_(0==r[2].length,0==s[2].length)||p_(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vr(this.qa,this)):this.A=Ob(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Zc(this,s)}},an.qa=function(){typeof d_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dr(this,"timeout"),this.abort(8))},an.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,dr(this,"complete"),dr(this,"abort"),Hd(this))},an.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hd(this,!0)),mi.X.M.call(this)},an.Ha=function(){this.s||(this.F||this.v||this.l?Kb(this):this.fb())},an.fb=function(){Kb(this)},an.aa=function(){try{return 2<Ia(this)?this.g.status:-1}catch{return-1}},an.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},an.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),V_(e)}},an.Ea=function(){return this.m},an.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(an=Qb.prototype).ma=8,an.G=1,an.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new ip(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=XS(s),bb(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=RA(this,r,e),ai(t=Dl(this.F),"RID",n),ai(t,"CVER",22),this.D&&ai(t,"X-HTTP-Session-Id",this.D),Gd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(PA(s)))+"&"+e:this.o&&Jb(t,this.o,s)),DA(this.h,r),this.Ya&&ai(t,"TYPE","init"),this.O?(ai(t,"$req",e),ai(t,"SID","null"),r.Z=!0,Ts(r,t,null)):Ts(r,t,e),this.G=2}}else 3==this.G&&(n?OA(this,n):0==this.i.length||SA(this.h)||OA(this))},an.Ia=function(){if(this.u=null,tw(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Od(Vr(this.eb,this),n)}},an.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,jr(10),U_(this),tw(this))},an.cb=function(){null!=this.v&&(this.v=null,U_(this),$_(this),jr(19))},an.kb=function(n){n?(this.j.info("Successfully pinged google.com"),jr(2)):(this.j.info("Failed to ping google.com"),jr(1))},(an=hx.prototype).xa=function(){},an.wa=function(){},an.va=function(){},an.ua=function(){},an.Ra=function(){},nw.prototype.g=function(n,e){return new Ds(n,e)},Gi(Ds,Ji),Ds.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;jr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=ux(n,null,n.V),dp(n)},Ds.prototype.close=function(){j_(this.g)},Ds.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=A_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&dp(e)},Ds.prototype.M=function(){this.g.l=null,delete this.j,j_(this.g),delete this.g,Ds.X.M.call(this)},Gi(fx,dA),Gi(px,R_),Gi(xa,hx),xa.prototype.xa=function(){dr(this.g,"a")},xa.prototype.wa=function(n){dr(this.g,new fx(n))},xa.prototype.va=function(n){dr(this.g,new px)},xa.prototype.ua=function(){dr(this.g,"b")},nw.prototype.createWebChannel=nw.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,tp.NO_ERROR=0,tp.TIMEOUT=8,tp.HTTP_ERROR=6,kb.COMPLETE="complete",Lb.EventType=np,np.OPEN="a",np.CLOSE="b",np.ERROR="c",np.MESSAGE="d",Ji.prototype.listen=Ji.prototype.N,mi.prototype.listenOnce=mi.prototype.O,mi.prototype.getLastError=mi.prototype.Oa,mi.prototype.getLastErrorCode=mi.prototype.Ea,mi.prototype.getStatus=mi.prototype.aa,mi.prototype.getResponseJson=mi.prototype.Sa,mi.prototype.getResponseText=mi.prototype.fa,mi.prototype.send=mi.prototype.da,mi.prototype.setWithCredentials=mi.prototype.Ka;var aN=Ta.createWebChannelTransport=function(){return new nw},kA=Ta.getStatEventTarget=function(){return P_()},zd=Ta.ErrorCode=tp,FA=Ta.EventType=kb,LA=Ta.Event=Al,gx=Ta.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},iw=Ta.FetchXmlHttpFactory=cp,hp=Ta.WebChannel=Lb,mx=Ta.XhrIo=mi;const rw="@firebase/firestore";class hr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let fp="9.13.0";const xl=new Js.Yd("@firebase/firestore");function sw(){return xl.logLevel}function Ot(n,...e){if(xl.logLevel<=Js.in.DEBUG){const t=e.map(BA);xl.debug(`Firestore (${fp}): ${n}`,...t)}}function zi(n,...e){if(xl.logLevel<=Js.in.ERROR){const t=e.map(BA);xl.error(`Firestore (${fp}): ${n}`,...t)}}function Wd(n,...e){if(xl.logLevel<=Js.in.WARN){const t=e.map(BA);xl.warn(`Firestore (${fp}): ${n}`,...t)}}function BA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tn(n="Unexpected state"){const e=`FIRESTORE (${fp}) INTERNAL ASSERTION FAILED: `+n;throw zi(e),new Error(e)}function vn(n,e){n||tn()}function Wt(n,e){return n}const gt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class no{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hr.UNAUTHENTICATED))}shutdown(){}}class yx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ow{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const m=u;e.enqueueRetryable((0,Ze.Z)(function*(){yield m.promise,yield s(i.currentUser)}))},f=m=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn("string"==typeof i.accessToken),new vx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vn(null===e||"string"==typeof e),new hr(e)}}class bx{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Is{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new bx(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aw{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Ot("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vn("string"==typeof t.token),this.A=t.token,new VA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class W_{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=wx(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Cn(n,e){return n<e?-1:n>e?1:0}function Kc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function jA(n){return n+"\0"}class hi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(gt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(gt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new hi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Cn(this.nanoseconds,e.nanoseconds):Cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new hi(0,0))}static max(){return new _n(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class pp{constructor(e,t,i){void 0===t?t=0:t>e.length&&tn(),void 0===i?i=e.length-t:i>e.length-t&&tn(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===pp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kn extends pp{construct(e,t,i){return new kn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new xt(gt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new kn(t)}static emptyPath(){return new kn([])}}const Cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends pp{construct(e,t,i){return new _i(e,t,i)}static isValidIdentifier(e){return Cx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new xt(gt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new xt(gt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new xt(gt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,r+=2}else"`"===d?(u=!u,r++):"."!==d||u?(i+=d,r++):(s(),r++)}if(s(),u)throw new xt(gt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class jt{constructor(e){this.path=e}static fromPath(e){return new jt(kn.fromString(e))}static fromName(e){return new jt(kn.fromString(e).popFirst(5))}static empty(){return new jt(kn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jt(new kn(e.slice()))}}class gp{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function mp(n){return n.fields.find(e=>2===e.kind)}function Ur(n){return n.fields.filter(e=>2!==e.kind)}gp.UNKNOWN_ID=-1;class lw{constructor(e,t){this.fieldPath=e,this.kind=t}}class _p{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _p(0,Jr.min())}}function UA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=_n.fromTimestamp(1e9===i?new hi(t+1,0):new hi(t,i));return new Jr(r,jt.empty(),e)}function $A(n){return new Jr(n.readTime,n.key,-1)}class Jr{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Jr(_n.min(),jt.empty(),-1)}static max(){return new Jr(_n.max(),jt.empty(),-1)}}function HA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=jt.comparator(n.documentKey,e.documentKey),0!==t?t:Cn(n.largestBatchId,e.largestBatchId))}const cw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ma(n){return zA.apply(this,arguments)}function zA(){return zA=(0,Ze.Z)(function*(n){if(n.code!==gt.FAILED_PRECONDITION||n.message!==cw)throw n;Ot("LocalStore","Unexpectedly lost primary lease")}),zA.apply(this,arguments)}class ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ot((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ot?t:ot.resolve(t)}catch(t){return ot.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ot.reject(t)}static resolve(e){return new ot((t,i)=>{t(e)})}static reject(e){return new ot((t,i)=>{i(e)})}static waitFor(e){return new ot((t,i)=>{let r=0,s=0,u=!1;e.forEach(d=>{++r,d.next(()=>{++s,u&&s===r&&t()},f=>i(f))}),u=!0,s===r&&t()})}static or(e){let t=ot.resolve(!1);for(const i of e)t=t.next(r=>r?ot.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ot((i,r)=>{const s=e.length,u=new Array(s);let d=0;for(let f=0;f<s;f++){const m=f;t(e[m]).next(y=>{u[m]=y,++d,d===s&&i(u)},y=>r(y))}})}static doWhile(e,t){return new ot((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class vp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Wi,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new qd(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=dw(i.target.error);this.P.reject(new qd(e,r))}}static open(e,t,i,r){try{return new vp(t,e.transaction(r,i))}catch(s){throw new qd(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ot("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new q_(t)}}class xs{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===xs.D((0,cn.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ot("SimpleDb","Removing database:",e),Bo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,cn.hl)())return!1;if(xs.N())return!0;const e=(0,cn.z$)(),t=xs.D(e),i=0<t&&t<10,r=xs.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,Ze.Z)(function*(){return t.db||(Ot("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new qd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const d=u.target.error;r("VersionError"===d.name?new xt(gt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new xt(gt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new qd(e,d))},s.onupgradeneeded=u=>{Ot("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Ot("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Ze.Z)(function*(){const u="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.F(e);const f=vp.open(s.db,e,u?"readonly":"readwrite",i),m=r(f).next(y=>(f.V(),y)).catch(y=>(f.abort(y),ot.reject(y))).toPromise();return m.catch(()=>{}),yield f.v,m}catch(f){const m=f,y="FirebaseError"!==m.name&&d<3;if(Ot("SimpleDb","Transaction failed with error:",m.message,"Retrying:",y),s.close(),!y)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WA{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Bo(this.U.delete())}}class qd extends xt{constructor(e,t){super(gt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Pa(n){return"IndexedDbTransactionError"===n.name}class q_{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ot("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ot("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Bo(i)}add(e){return Ot("SimpleDb","ADD",this.store.name,e,e),Bo(this.store.add(e))}get(e){return Bo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ot("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ot("SimpleDb","DELETE",this.store.name,e),Bo(this.store.delete(e))}count(){return Ot("SimpleDb","COUNT",this.store.name),Bo(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ot((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ot((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Ot("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(s,u,d)=>d.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ot((i,r)=>{t.onerror=s=>{const u=dw(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(d=>{d?u.continue():i()}):i()}})}H(e,t){const i=[];return new ot((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const d=u.target.result;if(!d)return void r();const f=new WA(d),m=t(d.primaryKey,d.value,f);if(m instanceof ot){const y=m.catch(b=>(f.done(),ot.reject(b)));i.push(y)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>ot.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bo(n){return new ot((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=dw(i.target.error);t(r)}})}let uw=!1;function dw(n){const e=xs.D((0,cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uw||(uw=!0,setTimeout(()=>{throw i},0)),i}}return n}class qA{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ot("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ze.Z)(function*(){t.task=null;try{Ot("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Pa(i)?Ot("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ma(i)}yield t.nt(6e4)}))}}class YA{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,Ze.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return ot.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Ot("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(d=>{r-=d,i.add(u)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,s)).next(d=>(Ot("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const u=$A(s);HA(u,i)>0&&(i=u)}),new Jr(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Qr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>t.writeSequenceNumber(i))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function ZA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ax(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Qr.at=-1;class Ci{constructor(e,t){this.comparator=e,this.root=t||fr.EMPTY}insert(e,t){return new Ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new Ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Y_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Y_(this.root,e,this.comparator,!1)}getReverseIterator(){return new Y_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Y_(this.root,e,this.comparator,!0)}}class Y_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??fr.RED,this.left=r??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new fr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const e=this.left.check();if(e!==this.right.check())throw tn();return e+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(n,e,t,i,r){return this}insert(n,e,t){return new fr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ei{constructor(e){this.comparator=e,this.data=new Ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tx(this.data.getIterator())}getIteratorFrom(e){return new Tx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ei(this.comparator);return t.data=e,t}}class Tx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yp(n){return n.hasNext()?n.getNext():void 0}class Ms{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Ms([])}unionWith(e){let t=new ei(_i.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ms(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new sr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const Dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(n){if(vn(!!n),"string"==typeof n){let e=0;const t=Dx.exec(n);if(vn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pi(n.seconds),nanos:Pi(n.nanos)}}function Pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jc(n){return"string"==typeof n?sr.fromBase64String(n):sr.fromUint8Array(n)}function Z_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ml(n){const e=n.mapValue.fields.__previous_value__;return Z_(e)?Ml(e):e}function Zd(n){const e=io(n.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}class hw{constructor(e,t,i,r,s,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class Vo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}function bp(n){return null==n}function Qc(n){return 0===n&&1/n==-1/0}function K_(n){return"number"==typeof n&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ro={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fw={nullValue:"NULL_VALUE"};function Kd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Z_(n)?4:ev(n)?9007199254740991:10:tn()}function Oa(n,e){if(n===e)return!0;const t=Kd(n);if(t!==Kd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Zd(n).isEqual(Zd(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=io(i.timestampValue),u=io(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Jc(n.bytesValue).isEqual(Jc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Pi(i.geoPointValue.latitude)===Pi(r.geoPointValue.latitude)&&Pi(i.geoPointValue.longitude)===Pi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Pi(i.integerValue)===Pi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Pi(i.doubleValue),u=Pi(r.doubleValue);return s===u?Qc(s)===Qc(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Kc(n.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(ZA(s)!==ZA(u))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===u[d]||!Oa(s[d],u[d])))return!1;return!0}(n,e);default:return tn()}var r}function J_(n,e){return void 0!==(n.values||[]).find(t=>Oa(t,e))}function Ra(n,e){if(n===e)return 0;const t=Kd(n),i=Kd(e);if(t!==i)return Cn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Cn(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=Pi(r.integerValue||r.doubleValue),d=Pi(s.integerValue||s.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return KA(n.timestampValue,e.timestampValue);case 4:return KA(Zd(n),Zd(e));case 5:return Cn(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Jc(r),d=Jc(s);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),d=s.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=Cn(u[f],d[f]);if(0!==m)return m}return Cn(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=Cn(Pi(r.latitude),Pi(s.latitude));return 0!==u?u:Cn(Pi(r.longitude),Pi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],d=s.values||[];for(let f=0;f<u.length&&f<d.length;++f){const m=Ra(u[f],d[f]);if(m)return m}return Cn(u.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===ro.mapValue&&s===ro.mapValue)return 0;if(r===ro.mapValue)return 1;if(s===ro.mapValue)return-1;const u=r.fields||{},d=Object.keys(u),f=s.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const b=Cn(d[y],m[y]);if(0!==b)return b;const P=Ra(u[d[y]],f[m[y]]);if(0!==P)return P}return Cn(d.length,m.length)}(n.mapValue,e.mapValue);default:throw tn()}}function KA(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Cn(n,e);const t=io(n),i=io(e),r=Cn(t.seconds,i.seconds);return 0!==r?r:Cn(t.nanos,i.nanos)}function Jd(n){return pw(n)}function pw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=io(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jc(n.bytesValue).toBase64():"referenceValue"in n?jt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=pw(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const d of r)u?u=!1:s+=",",s+=`${d}:${pw(i.fields[d])}`;return s+"}"}(n.mapValue):tn();var e}function Xc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Q_(n){return!!n&&"integerValue"in n}function Qd(n){return!!n&&"arrayValue"in n}function gw(n){return!!n&&"nullValue"in n}function JA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function X_(n){return!!n&&"mapValue"in n}function Xd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Yd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Xd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ev(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uN(n){return"nullValue"in n?fw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Xc(Vo.empty(),jt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:tn()}function QA(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Xc(Vo.empty(),jt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ro:tn()}function tv(n,e){const t=Ra(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function XA(n,e){const t=Ra(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!X_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(t)}setAll(e){let t=_i.emptyPath(),i={},r=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,i,r),i={},r=[],t=d.popLast()}u?i[d.lastSegment()]=Xd(u):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());X_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];X_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Yd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new pr(Xd(this.value))}}function Ix(n){const e=[];return Yd(n.fields,(t,i)=>{const r=new _i([t]);if(X_(i)){const s=Ix(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new Ms(e)}class fi{constructor(e,t,i,r,s,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=u}static newInvalidDocument(e){return new fi(e,0,_n.min(),_n.min(),pr.empty(),0)}static newFoundDocument(e,t,i){return new fi(e,1,t,_n.min(),i,0)}static newNoDocument(e,t){return new fi(e,2,t,_n.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new fi(e,3,t,_n.min(),pr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xx{constructor(e,t=null,i=[],r=[],s=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=d,this.ht=null}}function e1(n,e=null,t=[],i=[],r=null,s=null,u=null){return new xx(n,e,t,i,r,s,u)}function eu(n){const e=Wt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Jd(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),bp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Jd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Jd(i)).join(",")),e.ht=t}return e.ht}function nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!_(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Oa(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T(n.startAt,e.startAt)&&T(n.endAt,e.endAt)}function mw(n){return jt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _w(n,e){return n.filters.filter(t=>t instanceof Sr&&t.field.isEqual(e))}function Mx(n,e,t){let i=fw,r=!0;for(const s of _w(n,e)){let u=fw,d=!0;switch(s.op){case"<":case"<=":u=uN(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,d=!1;break;case"!=":case"not-in":u=fw}tv({value:i,inclusive:r},{value:u,inclusive:d})<0&&(i=u,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];tv({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function t1(n,e,t){let i=ro,r=!0;for(const s of _w(n,e)){let u=ro,d=!0;switch(s.op){case">=":case">":u=QA(s.value),d=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,d=!1;break;case"!=":case"not-in":u=ro}XA({value:i,inclusive:r},{value:u,inclusive:d})>0&&(i=u,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];XA({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Sr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,i):new hN(e,t,i):"array-contains"===t?new gN(e,i):"in"===t?new o(e,i):"not-in"===t?new a(e,i):"array-contains-any"===t?new c(e,i):new Sr(e,t,i)}static lt(e,t,i){return"in"===t?new fN(e,i):new pN(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Ra(t,this.value)):null!==t&&Kd(this.value)===Kd(t)&&this.ft(Ra(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hN extends Sr{constructor(e,t,i){super(e,t,i),this.key=jt.fromName(i.referenceValue)}matches(e){const t=jt.comparator(e.key,this.key);return this.ft(t)}}class fN extends Sr{constructor(e,t){super(e,"in",t),this.keys=n1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pN extends Sr{constructor(e,t){super(e,"not-in",t),this.keys=n1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function n1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>jt.fromName(i.referenceValue))}class gN extends Sr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qd(t)&&J_(t.arrayValue,this.value)}}class o extends Sr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&J_(this.value.arrayValue,t)}}class a extends Sr{constructor(e,t){super(e,"not-in",t)}matches(e){if(J_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!J_(this.value.arrayValue,t)}}class c extends Sr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>J_(this.value.arrayValue,i))}}class h{constructor(e,t){this.position=e,this.inclusive=t}}class p{constructor(e,t="asc"){this.field=e,this.dir=t}}function _(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function C(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?jt.comparator(jt.fromName(u.referenceValue),t.key):Ra(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function T(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oa(n.position[t],e.position[t]))return!1;return!0}class O{constructor(e,t=null,i=[],r=[],s=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=d,this.endAt=f,this._t=null,this.wt=null}}function Z(n,e,t,i,r,s,u,d){return new O(n,e,t,i,r,s,u,d)}function he(n){return new O(n)}function De(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ve(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function it(n){for(const e of n.filters)if(e.dt())return e.field;return null}function vt(n){return null!==n.collectionGroup}function Pt(n){const e=Wt(n);if(null===e._t){e._t=[];const t=it(e),i=Ve(e);if(null!==t&&null===i)t.isKeyField()||e._t.push(new p(t)),e._t.push(new p(_i.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new p(_i.keyField(),s))}}}return e._t}function Rt(n){const e=Wt(n);if(!e.wt)if("F"===e.limitType)e.wt=e1(e.path,e.collectionGroup,Pt(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Pt(e))t.push(new p(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new h(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new h(e.startAt.position,e.startAt.inclusive):null;e.wt=e1(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.wt}function Qt(n,e,t){return new O(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function un(n,e){return nv(Rt(n),Rt(e))&&n.limitType===e.limitType}function Dt(n){return`${eu(Rt(n))}|lt:${n.limitType}`}function mn(n){return`Query(target=${function dN(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Jd(i.value)}`;var i}).join(", ")}]`),bp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Jd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Jd(t)).join(",")),`Target(${e})`}(Rt(n))}; limitType=${n.limitType})`}function Un(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):jt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const d=C(r,s,u);return r.inclusive?d<=0:d<0}(t.startAt,Pt(t),i)||t.endAt&&!function(r,s,u){const d=C(r,s,u);return r.inclusive?d>=0:d>0}(t.endAt,Pt(t),i)));var t,i}function pi(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Pl(n){return(e,t)=>{let i=!1;for(const r of Pt(n)){const s=vw(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function vw(n,e,t){const i=n.field.isKeyField()?jt.comparator(e.key,t.key):function(r,s,u){const d=s.data.field(r),f=u.data.field(r);return null!==d&&null!==f?Ra(d,f):tn()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return tn()}}function iv(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function rv(n){return{integerValue:""+n}}function sv(n,e){return K_(e)?rv(e):iv(n,e)}class eh{constructor(){this._=void 0}}function yw(n,e,t){return n instanceof Ol?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof wp?mN(n,e):n instanceof Cp?_N(n,e):function(i,r){const s=ov(i,r),u=vN(s)+vN(i.yt);return Q_(s)&&Q_(i.yt)?rv(u):iv(i.It,u)}(n,e)}function bw(n,e,t){return n instanceof wp?mN(n,e):n instanceof Cp?_N(n,e):t}function ov(n,e){return n instanceof av?Q_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ol extends eh{}class wp extends eh{constructor(e){super(),this.elements=e}}function mN(n,e){const t=yN(e);for(const i of n.elements)t.some(r=>Oa(r,i))||t.push(i);return{arrayValue:{values:t}}}class Cp extends eh{constructor(e){super(),this.elements=e}}function _N(n,e){let t=yN(e);for(const i of n.elements)t=t.filter(r=>!Oa(r,i));return{arrayValue:{values:t}}}class av extends eh{constructor(e,t){super(),this.It=e,this.yt=t}}function vN(n){return Pi(n.integerValue||n.doubleValue)}function yN(n){return Qd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ww{constructor(e,t){this.field=e,this.transform=t}}class Rj{constructor(e,t){this.version=e,this.transformResults=t}}class Oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function i1(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class r1{}function bN(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cv(n.key,Oi.none()):new lv(n.key,n.data,Oi.none());{const t=n.data,i=pr.empty();let r=new ei(_i.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new tu(n.key,i,new Ms(r.toArray()),Oi.none())}}function Nj(n,e,t){n instanceof lv?function(i,r,s){const u=i.value.clone(),d=EN(i.fieldTransforms,r,s.transformResults);u.setAll(d),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof tu?function(i,r,s){if(!i1(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=EN(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(CN(i)),d.setAll(u),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Cw(n,e,t,i){return n instanceof lv?function(r,s,u,d){if(!i1(r.precondition,s))return u;const f=r.value.clone(),m=SN(r.fieldTransforms,d,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof tu?function(r,s,u,d){if(!i1(r.precondition,s))return u;const f=SN(r.fieldTransforms,d,s),m=s.data;return m.setAll(CN(r)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(y=>y.field))}(n,e,t,i):(u=t,i1(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function kj(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=ov(i.transform,r||null);null!=s&&(null===t&&(t=pr.empty()),t.set(i.field,s))}return t||null}function wN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Kc(t,i,(r,s)=>function Oj(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof wp&&i instanceof wp||t instanceof Cp&&i instanceof Cp?Kc(t.elements,i.elements,Oa):t instanceof av&&i instanceof av?Oa(t.yt,i.yt):t instanceof Ol&&i instanceof Ol);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class lv extends r1{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tu extends r1{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function CN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function EN(n,e,t){const i=new Map;vn(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,d=e.data.field(s.field);i.set(s.field,bw(u,d,t[r]))}return i}function SN(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,yw(s,u,e))}return i}class cv extends r1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Px extends r1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fj{constructor(e){this.count=e}}var or,qn;function AN(n){switch(n){default:return tn();case gt.CANCELLED:case gt.UNKNOWN:case gt.DEADLINE_EXCEEDED:case gt.RESOURCE_EXHAUSTED:case gt.INTERNAL:case gt.UNAVAILABLE:case gt.UNAUTHENTICATED:return!1;case gt.INVALID_ARGUMENT:case gt.NOT_FOUND:case gt.ALREADY_EXISTS:case gt.PERMISSION_DENIED:case gt.FAILED_PRECONDITION:case gt.ABORTED:case gt.OUT_OF_RANGE:case gt.UNIMPLEMENTED:case gt.DATA_LOSS:return!0}}function TN(n){if(void 0===n)return zi("GRPC error has no .code"),gt.UNKNOWN;switch(n){case or.OK:return gt.OK;case or.CANCELLED:return gt.CANCELLED;case or.UNKNOWN:return gt.UNKNOWN;case or.DEADLINE_EXCEEDED:return gt.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return gt.RESOURCE_EXHAUSTED;case or.INTERNAL:return gt.INTERNAL;case or.UNAVAILABLE:return gt.UNAVAILABLE;case or.UNAUTHENTICATED:return gt.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return gt.INVALID_ARGUMENT;case or.NOT_FOUND:return gt.NOT_FOUND;case or.ALREADY_EXISTS:return gt.ALREADY_EXISTS;case or.PERMISSION_DENIED:return gt.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return gt.FAILED_PRECONDITION;case or.ABORTED:return gt.ABORTED;case or.OUT_OF_RANGE:return gt.OUT_OF_RANGE;case or.UNIMPLEMENTED:return gt.UNIMPLEMENTED;case or.DATA_LOSS:return gt.DATA_LOSS;default:return tn()}}(qn=or||(or={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";class th{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return Ax(this.inner)}size(){return this.innerSize}}const Lj=new Ci(jt.comparator);function Ps(){return Lj}const DN=new Ci(jt.comparator);function Ew(...n){let e=DN;for(const t of n)e=e.insert(t.key,t);return e}function IN(n){let e=DN;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rl(){return Sw()}function xN(){return Sw()}function Sw(){return new th(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bj=new Ci(jt.comparator),Vj=new ei(jt.comparator);function Pn(...n){let e=Vj;for(const t of n)e=e.add(t);return e}const jj=new ei(Cn);function s1(){return jj}class Aw{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Tw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Aw(_n.min(),r,s1(),Ps(),Pn())}}class Tw{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tw(i,t,Pn(),Pn(),Pn())}}class o1{constructor(e,t,i,r){this.Tt=e,this.removedTargetIds=t,this.key=i,this.Et=r}}class MN{constructor(e,t){this.targetId=e,this.At=t}}class PN{constructor(e,t,i=sr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ON{constructor(){this.Rt=0,this.bt=NN(),this.Pt=sr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Pn(),t=Pn(),i=Pn();return this.bt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:tn()}}),new Tw(this.Pt,this.vt,e,t,i)}Nt(){this.Vt=!1,this.bt=NN()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Uj{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ps(),this.qt=RN(),this.Kt=new ei(Cn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const i=this.zt(t);switch(e.state){case 0:this.Ht(t)&&i.Ct(e.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(e.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(i.$t(),i.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),i.Ct(e.resumeToken));break;default:tn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((i,r)=>{this.Ht(r)&&t(r)})}Yt(e){const t=e.targetId,i=e.At.count,r=this.Xt(t);if(r){const s=r.target;if(mw(s))if(0===i){const u=new jt(s.path);this.jt(t,u,fi.newNoDocument(u,_n.min()))}else vn(1===i);else this.Zt(t)!==i&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((s,u)=>{const d=this.Xt(u);if(d){if(s.current&&mw(d.target)){const f=new jt(d.target.path);null!==this.Ut.get(f)||this.ee(u,f)||this.jt(u,f,fi.newNoDocument(f,e))}s.Dt&&(t.set(u,s.xt()),s.Nt())}});let i=Pn();this.qt.forEach((s,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Xt(f);return!m||2===m.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,u)=>u.setReadTime(e));const r=new Aw(e,t,this.Kt,this.Ut,i);return this.Ut=Ps(),this.qt=RN(),this.Kt=new ei(Cn),r}Qt(e,t){if(!this.Ht(e))return;const i=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,i){if(!this.Ht(e))return;const r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new ON,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new ei(Cn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new ON),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function RN(){return new Ci(jt.comparator)}function NN(){return new Ci(jt.comparator)}const $j={asc:"ASCENDING",desc:"DESCENDING"},Hj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Gj{constructor(e,t){this.databaseId=e,this.gt=t}}function Dw(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kN(n,e){return n.gt?e.toBase64():e.toUint8Array()}function zj(n,e){return Dw(n,e.toTimestamp())}function Ar(n){return vn(!!n),_n.fromTimestamp(function(e){const t=io(e);return new hi(t.seconds,t.nanos)}(n))}function Ox(n,e){return(t=n,new kn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function FN(n){const e=kn.fromString(n);return vn(GN(e)),e}function Iw(n,e){return Ox(n.databaseId,e.path)}function Nl(n,e){const t=FN(e);if(t.get(1)!==n.databaseId.projectId)throw new xt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xt(gt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new jt(BN(t))}function Rx(n,e){return Ox(n.databaseId,e)}function LN(n){const e=FN(n);return 4===e.length?kn.emptyPath():BN(e)}function xw(n){return new kn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BN(n){return vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VN(n,e,t){return{name:Iw(n,e),fields:t.value.mapValue.fields}}function jN(n,e,t){const i=Nl(n,e.name),r=Ar(e.updateTime),s=new pr({mapValue:{fields:e.fields}}),u=fi.newFoundDocument(i,r,s);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Mw(n,e){let t;if(e instanceof lv)t={update:VN(n,e.key,e.value)};else if(e instanceof cv)t={delete:Iw(n,e.key)};else if(e instanceof tu)t={update:VN(n,e.key,e.data),updateMask:eU(e.fieldMask)};else{if(!(e instanceof Px))return tn();t={verify:Iw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Ol)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof av)return{fieldPath:s.field.canonicalString(),increment:u.yt};throw tn()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:zj(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:tn()),t;var r}function Nx(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Oi.updateTime(Ar(r.updateTime)):void 0!==r.exists?Oi.exists(r.exists):Oi.none():Oi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let d=null;"setToServerValue"in u?(vn("REQUEST_TIME"===u.setToServerValue),d=new Ol):"appendMissingElements"in u?d=new wp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?d=new Cp(u.removeAllFromArray.values||[]):"increment"in u?d=new av(s,u.increment):tn();const f=_i.fromServerFormat(u.fieldPath);return new ww(f,d)}(n,r)):[];var r;if(e.update){const r=Nl(n,e.update.name),s=new pr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Ms((e.updateMask.fieldPaths||[]).map(m=>_i.fromServerFormat(m)));return new tu(r,s,u,t,i)}return new lv(r,s,t,i)}if(e.delete){const r=Nl(n,e.delete);return new cv(r,t)}if(e.verify){const r=Nl(n,e.verify);return new Px(r,t)}return tn()}function UN(n,e){return{documents:[Rx(n,e.path)]}}function kx(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Rx(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Rx(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const m=f.map(y=>function(b){if("=="===b.op){if(JA(b.value))return{unaryFilter:{field:uv(b.field),op:"IS_NAN"}};if(gw(b.value))return{unaryFilter:{field:uv(b.field),op:"IS_NULL"}}}else if("!="===b.op){if(JA(b.value))return{unaryFilter:{field:uv(b.field),op:"IS_NOT_NAN"}};if(gw(b.value))return{unaryFilter:{field:uv(b.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uv(b.field),op:Jj(b.op),value:b.value}}}(y));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(m=>{return{field:uv((y=m).field),direction:Kj(y.dir)};var y})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(m=e.limit,n.gt||bp(m)?m:{value:m});var m,d,f;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(f=e.endAt).inclusive,values:f.position}),t}function $N(n){let e=LN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){vn(1===i);const y=t.from[0];y.allDescendants?r=y.collectionId:e=e.child(y.collectionId)}let s=[];t.where&&(s=HN(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(y=>{return new p(dv((b=y).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let d=null;t.limit&&(d=function(y){let b;return b="object"==typeof y?y.value:y,bp(b)?null:b}(t.limit));let f=null;var y;t.startAt&&(f=new h((y=t.startAt).values||[],!!y.before));let m=null;return t.endAt&&(m=function(y){return new h(y.values||[],!y.before)}(t.endAt)),Z(e,r,u,s,d,"F",f,m)}function HN(n){return n?void 0!==n.unaryFilter?[Xj(n)]:void 0!==n.fieldFilter?[Qj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>HN(e)).reduce((e,t)=>e.concat(t)):tn():[]}function Kj(n){return $j[n]}function Jj(n){return Hj[n]}function uv(n){return{fieldPath:n.canonicalString()}}function dv(n){return _i.fromServerFormat(n.fieldPath)}function Qj(n){return Sr.create(dv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(n.fieldFilter.op),n.fieldFilter.value)}function Xj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=dv(n.unaryFilter.field);return Sr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=dv(n.unaryFilter.field);return Sr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=dv(n.unaryFilter.field);return Sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=dv(n.unaryFilter.field);return Sr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}function eU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zN(e)),e=tU(n.get(t),e);return zN(e)}function tU(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function zN(n){return n+"\x01\x01"}function kl(n){const e=n.length;if(vn(e>=2),2===e)return vn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),kn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&tn(),n.charAt(u+1)){case"\x01":const d=n.substring(s,u);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:tn()}s=u+2}return new kn(i)}const WN=["userId","batchId"];function a1(n,e){return[n,ls(e)]}function qN(n,e,t){return[n,ls(e),t]}const nU={},iU=["prefixPath","collectionGroup","readTime","documentId"],rU=["prefixPath","collectionGroup","documentId"],sU=["collectionGroup","readTime","prefixPath","documentId"],oU=["canonicalId","targetId"],aU=["targetId","path"],lU=["path","targetId"],cU=["collectionId","parent"],uU=["indexId","uid"],dU=["uid","sequenceNumber"],hU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fU=["indexId","uid","orderedDocumentKey"],pU=["userId","collectionPath","documentId"],gU=["userId","collectionPath","largestBatchId"],mU=["userId","collectionGroup","largestBatchId"],YN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_U=[...YN,"documentOverlays"],ZN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KN=ZN,vU=[...KN,"indexConfiguration","indexState","indexEntries"];class Fx extends GA{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Tr(n,e){const t=Wt(n);return xs.M(t.ie,e)}class Lx{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&Nj(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Cw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Cw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xN();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let d=this.applyToLocalView(u,s.mutatedFields);d=t.has(r.key)?null:d;const f=bN(u,d);null!==f&&i.set(r.key,f),u.isValidDocument()||u.convertToNoDocument(_n.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pn())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,(t,i)=>wN(t,i))&&Kc(this.baseMutations,e.baseMutations,(t,i)=>wN(t,i))}}class Bx{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){vn(e.mutations.length===i.length);let r=Bj;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new Bx(e,t,i,r)}}class Vx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class nh{constructor(e,t,i,r,s=_n.min(),u=_n.min(),d=sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d}withSequenceNumber(e){return new nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class JN{constructor(e){this.re=e}}function QN(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:l1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Iw(r=n.re,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Dw(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ep(e.version)};else{if(!e.isUnknownDocument())return tn();i.unknownDocument={path:t.path.toArray(),version:Ep(e.version)}}var r,s;return i}function l1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ep(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sp(n){const e=new hi(n.seconds,n.nanoseconds);return _n.fromTimestamp(e)}function Ap(n,e){const t=(e.baseMutations||[]).map(s=>Nx(n.re,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>Nx(n.re,s)),r=hi.fromMillis(e.localWriteTimeMs);return new Lx(e.batchId,r,t,i)}function Pw(n){const e=Sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):_n.min();let i;var r;return void 0!==n.query.documents?(vn(1===(r=n.query).documents.length),i=Rt(he(LN(r.documents[0])))):i=Rt($N(n.query)),new nh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,sr.fromBase64String(n.resumeToken))}function XN(n,e){const t=Ep(e.snapshotVersion),i=Ep(e.lastLimboFreeSnapshotVersion);let r;r=mw(e.target)?UN(n.re,e.target):kx(n.re,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:eu(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function jx(n){const e=$N({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qt(e,e.limit,"L"):e}function Ux(n,e){return new Vx(e.largestBatchId,Nx(n.re,e.overlayMutation))}function ek(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function tk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ep(i.readTime),documentKey:ls(i.documentKey.path),largestBatchId:i.largestBatchId}}class bU{getBundleMetadata(e,t){return nk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Sp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return nk(e).put({bundleId:(i=t).id,createTime:Ep(Ar(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return ik(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:jx(r.bundledQuery),readTime:Sp(r.readTime)};var r})}saveNamedQuery(e,t){return ik(e).put({name:(i=t).name,readTime:Ep(Ar(i.readTime)),bundledQuery:i.bundledQuery});var i}}function nk(n){return Tr(n,"bundles")}function ik(n){return Tr(n,"namedQueries")}class c1{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new c1(e,t.uid||"")}getOverlay(e,t){return Ow(e).get(ek(this.userId,t)).next(i=>i?Ux(this.It,i):null)}getOverlays(e,t){const i=Rl();return ot.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const d=new Vx(t,u);r.push(this.ue(e,d))}),ot.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(ls(u.getCollectionPath())));const s=[];return r.forEach(u=>{const d=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Ow(e).Y("collectionPathOverlayIndex",d))}),ot.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Rl(),s=ls(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ow(e).W("collectionPathOverlayIndex",u).next(d=>{for(const f of d){const m=Ux(this.It,f);r.set(m.getKey(),m)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Rl();let u;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ow(e).Z({index:"collectionGroupOverlayIndex",range:d},(f,m,y)=>{const b=Ux(this.It,m);s.size()<r||b.largestBatchId===u?(s.set(b.getKey(),b),u=b.largestBatchId):y.done()}).next(()=>s)}ue(e,t){return Ow(e).put(function(i,r,s){const[u,d,f]=ek(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Mw(i.re,s.mutation)}}(this.It,this.userId,t))}}function Ow(n){return Tr(n,"documentOverlays")}class Tp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Pi(e.integerValue));else if("doubleValue"in e){const i=Pi(e.doubleValue);isNaN(i)?this.le(t,13):(this.le(t,15),Qc(i)?t.fe(0):t.fe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.le(t,20),"string"==typeof i?t.de(i):(t.de(`${i.seconds||""}`),t.fe(i.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Jc(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?ev(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):tn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const i=e.fields||{};this.le(t,55);for(const r of Object.keys(i))this._e(r,t),this.ae(i[r],t)}pe(e,t){const i=e.values||[];this.le(t,50);for(const r of i)this.ae(r,t)}ge(e,t){this.le(t,37),jt.fromName(e).path.forEach(i=>{this.le(t,60),this.Ie(i,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function wU(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rk(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=wU(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Tp.Te=new Tp;class CU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.ve()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(e){const t=this.Ce(e),i=rk(t);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Ne(e){const t=this.Ce(e),i=rk(t);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class EU{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class SU{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Rw{constructor(){this.Be=new CU,this.Le=new EU(this.Be),this.Ue=new SU(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Dp{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Dp(this.indexId,this.documentKey,this.arrayValue,i)}}function Ip(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sk(n.arrayValue,e.arrayValue),0!==t?t:(t=sk(n.directionalValue,e.directionalValue),0!==t?t:jt.comparator(n.documentKey,e.documentKey)))}function sk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class AU{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const i=t;i.dt()?this.je=i:this.Qe.push(i)}}We(e){const t=mp(e);if(void 0!==t&&!this.ze(t))return!1;const i=Ur(e);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const u=i[r];if(!this.He(this.je,u)||!this.Je(this.Ge[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class TU{constructor(){this.Ye=new $x}addToCollectionParentIndex(e,t){return this.Ye.add(t),ot.resolve()}getCollectionParents(e,t){return ot.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return ot.resolve()}deleteFieldIndex(e,t){return ot.resolve()}getDocumentsMatchingTarget(e,t){return ot.resolve(null)}getIndexType(e,t){return ot.resolve(0)}getFieldIndexes(e,t){return ot.resolve([])}getNextCollectionGroupToUpdate(e){return ot.resolve(null)}getMinOffset(e,t){return ot.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return ot.resolve(Jr.min())}updateCollectionGroup(e,t,i){return ot.resolve()}updateIndexEntries(e,t){return ot.resolve()}}class $x{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ei(kn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ei(kn.comparator)).toArray()}}const u1=new Uint8Array(0);class DU{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new $x,this.Ze=new th(i=>eu(i),(i,r)=>nv(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:ls(r)};return ok(e).put(s)}return ot.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[jA(t),""],!1,!0);return ok(e).W(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push(kl(u.parent))}return i})}addFieldIndex(e,t){const i=d1(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;delete r.indexId;const s=i.add(r);if(t.indexState){const u=kw(e);return s.next(d=>{u.put(tk(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=d1(e),r=kw(e),s=Nw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Nw(e);let r=!0;const s=new Map;return ot.forEach(this.tn(t),u=>this.en(e,u).next(d=>{r&&(r=!!d),s.set(u,d)})).next(()=>{if(r){let u=Pn();const d=[];return ot.forEach(s,(f,m)=>{var y;Ot("IndexedDbIndexManager",`Using index ${y=f,`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(Pe=>`${Pe.fieldPath}:${Pe.kind}`).join(",")}`} to execute ${eu(t)}`);const b=function(Pe,$e){const ze=mp($e);if(void 0===ze)return null;for(const Qe of _w(Pe,ze.fieldPath))switch(Qe.op){case"array-contains-any":return Qe.value.arrayValue.values||[];case"array-contains":return[Qe.value]}return null}(m,f),P=function(Pe,$e){const ze=new Map;for(const Qe of Ur($e))for(const at of _w(Pe,Qe.fieldPath))switch(at.op){case"==":case"in":ze.set(Qe.fieldPath.canonicalString(),at.value);break;case"not-in":case"!=":return ze.set(Qe.fieldPath.canonicalString(),at.value),Array.from(ze.values())}return null}(m,f),V=function(Pe,$e){const ze=[];let Qe=!0;for(const at of Ur($e)){const Ct=0===at.kind?Mx(Pe,at.fieldPath,Pe.startAt):t1(Pe,at.fieldPath,Pe.startAt);ze.push(Ct.value),Qe&&(Qe=Ct.inclusive)}return new h(ze,Qe)}(m,f),ee=function(Pe,$e){const ze=[];let Qe=!0;for(const at of Ur($e)){const Ct=0===at.kind?t1(Pe,at.fieldPath,Pe.endAt):Mx(Pe,at.fieldPath,Pe.endAt);ze.push(Ct.value),Qe&&(Qe=Ct.inclusive)}return new h(ze,Qe)}(m,f),K=this.nn(f,m,V),ne=this.nn(f,m,ee),we=this.sn(f,m,P),Se=this.rn(f.indexId,b,K,V.inclusive,ne,ee.inclusive,we);return ot.forEach(Se,Pe=>i.J(Pe,t.limit).next($e=>{$e.forEach(ze=>{const Qe=jt.fromSegments(ze.documentKey);u.has(Qe)||(u=u.add(Qe),d.push(Qe))})}))}).next(()=>d)}return ot.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,i,r,s,u,d){const f=(null!=t?t.length:1)*Math.max(i.length,s.length),m=f/(null!=t?t.length:1),y=[];for(let b=0;b<f;++b){const P=t?this.on(t[b/m]):u1,V=this.un(e,P,i[b%m],r),ee=this.cn(e,P,s[b%m],u),K=d.map(ne=>this.un(e,P,ne,!0));y.push(...this.createRange(V,ee,K))}return y}un(e,t,i,r){const s=new Dp(e,jt.empty(),t,i);return r?s:s.Ke()}cn(e,t,i,r){const s=new Dp(e,jt.empty(),t,i);return r?s.Ke():s}en(e,t){const i=new AU(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let u=null;for(const d of s)i.We(d)&&(!u||d.fields.length>u.fields.length)&&(u=d);return u})}getIndexType(e,t){let i=2;return ot.forEach(this.tn(t),r=>this.en(e,r).next(s=>{s?0!==i&&s.fields.length<function(u){let d=new ei(_i.comparator),f=!1;for(const m of u.filters){const y=m;y.field.isKeyField()||("array-contains"===y.op||"array-contains-any"===y.op?f=!0:d=d.add(y.field))}for(const m of u.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(e,t){const i=new Rw;for(const r of Ur(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.qe(r.kind);Tp.Te.ce(s,u)}return i.$e()}on(e){const t=new Rw;return Tp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const i=new Rw;return Tp.Te.ce(Xc(this.databaseId,t),i.qe(function(r){const s=Ur(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.$e()}sn(e,t,i){if(null===i)return[];let r=[];r.push(new Rw);let s=0;for(const u of Ur(e)){const d=i[s++];for(const f of r)if(this.ln(t,u.fieldPath)&&Qd(d))r=this.fn(r,u,d);else{const m=f.qe(u.kind);Tp.Te.ce(d,m)}}return this.dn(r)}nn(e,t,i){return this.sn(e,t,i.position)}dn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].$e();return t}fn(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const d of r){const f=new Rw;f.seed(d.$e()),Tp.Te.ce(u,f.qe(t.kind)),s.push(f)}return s}ln(e,t){return!!e.filters.find(i=>i instanceof Sr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=d1(e),r=kw(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const u=[];return ot.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{u.push(function(m,y){const b=y?new _p(y.sequenceNumber,new Jr(Sp(y.readTime),new jt(kl(y.documentKey)),y.largestBatchId)):_p.empty(),P=m.fields.map(([V,ee])=>new lw(_i.fromServerFormat(V),ee));return new gp(m.indexId,m.collectionGroup,P,b)}(d,f))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Cn(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=d1(e),s=kw(e);return this._n(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>ot.forEach(d,f=>s.put(tk(f.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ot.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ot.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ot.forEach(d,f=>this.wn(e,r,f).next(m=>{const y=this.mn(s,f);return m.isEqual(y)?ot.resolve():this.gn(e,s,f,m,y)}))))})}yn(e,t,i,r){return Nw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,t.key),documentKey:t.key.path.toArray()})}pn(e,t,i,r){return Nw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,t.key),t.key.path.toArray()])}wn(e,t,i){const r=Nw(e);let s=new ei(Ip);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,t)])},(u,d)=>{s=s.add(new Dp(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(e,t){let i=new ei(Ip);const r=this.an(t,e);if(null==r)return i;const s=mp(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Qd(u))for(const d of u.arrayValue.values||[])i=i.add(new Dp(t.indexId,e.key,this.on(d),r))}else i=i.add(new Dp(t.indexId,e.key,u1,r));return i}gn(e,t,i,r,s){Ot("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(d,f,m,y,b){const P=d.getIterator(),V=f.getIterator();let ee=yp(P),K=yp(V);for(;ee||K;){let ne=!1,we=!1;if(ee&&K){const Se=m(ee,K);Se<0?we=!0:Se>0&&(ne=!0)}else null!=ee?we=!0:ne=!0;ne?(y(K),K=yp(V)):we?(b(ee),ee=yp(P)):(ee=yp(P),K=yp(V))}}(r,s,Ip,d=>{u.push(this.yn(e,t,i,d))},d=>{u.push(this.pn(e,t,i,d))}),ot.waitFor(u)}_n(e){let t=1;return kw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,d)=>Ip(u,d)).filter((u,d,f)=>!d||0!==Ip(u,f[d-1]));const r=[];r.push(e);for(const u of i){const d=Ip(u,e),f=Ip(u,t);if(0===d)r[0]=e.Ke();else if(d>0&&f<0)r.push(u),r.push(u.Ke());else if(f>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2)s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,u1,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,u1,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ak)}getMinOffset(e,t){return ot.mapArray(this.tn(t),i=>this.en(e,i).next(r=>r||tn())).next(ak)}}function ok(n){return Tr(n,"collectionParents")}function Nw(n){return Tr(n,"indexEntries")}function d1(n){return Tr(n,"indexConfiguration")}function kw(n){return Tr(n,"indexState")}function ak(n){vn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;HA(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Jr(e.readTime,e.documentKey,t)}const lk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Os{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ck(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let d=0;const f=i.Z({range:u},(y,b,P)=>(d++,P.delete()));s.push(f.next(()=>{vn(1===d)}));const m=[];for(const y of t.mutations){const b=qN(e,y.key.path,t.batchId);s.push(r.delete(b)),m.push(y.key)}return ot.waitFor(s).next(()=>m)}function h1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tn();e=n.noDocument}return JSON.stringify(e).length}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class f1{constructor(e,t,i,r){this.userId=e,this.It=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(e,t,i,r){vn(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new f1(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ih(e).Z({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=hv(e),u=ih(e);return u.add({}).next(d=>{vn("number"==typeof d);const f=new Lx(d,t,i,r),m=function(P,V,ee){const K=ee.baseMutations.map(we=>Mw(P.re,we)),ne=ee.mutations.map(we=>Mw(P.re,we));return{userId:V,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:K,mutations:ne}}(this.It,this.userId,f),y=[];let b=new ei((P,V)=>Cn(P.canonicalString(),V.canonicalString()));for(const P of r){const V=qN(this.userId,P.key.path,d);b=b.add(P.key.path.popLast()),y.push(u.put(m)),y.push(s.put(V,nU))}return b.forEach(P=>{y.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.In[d]=f.keys()}),ot.waitFor(y).next(()=>f)})}lookupMutationBatch(e,t){return ih(e).get(t).next(i=>i?(vn(i.userId===this.userId),Ap(this.It,i)):null)}Tn(e,t){return this.In[t]?ot.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ih(e).Z({index:"userMutationsIndex",range:r},(u,d,f)=>{d.userId===this.userId&&(vn(d.batchId>=i),s=Ap(this.It,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ih(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ih(e).W("userMutationsIndex",t).next(i=>i.map(r=>Ap(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=a1(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return hv(e).Z({range:r},(u,d,f)=>{const[m,y,b]=u,P=kl(y);if(m===this.userId&&t.path.isEqual(P))return ih(e).get(b).next(V=>{if(!V)throw tn();vn(V.userId===this.userId),s.push(Ap(this.It,V))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ei(Cn);const r=[];return t.forEach(s=>{const u=a1(this.userId,s.path),d=IDBKeyRange.lowerBound(u),f=hv(e).Z({range:d},(m,y,b)=>{const[P,V,ee]=m,K=kl(V);P===this.userId&&s.path.isEqual(K)?i=i.add(ee):b.done()});r.push(f)}),ot.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=a1(this.userId,i),u=IDBKeyRange.lowerBound(s);let d=new ei(Cn);return hv(e).Z({range:u},(f,m,y)=>{const[b,P,V]=f,ee=kl(P);b===this.userId&&i.isPrefixOf(ee)?ee.length===r&&(d=d.add(V)):y.done()}).next(()=>this.En(e,d))}En(e,t){const i=[],r=[];return t.forEach(s=>{r.push(ih(e).get(s).next(u=>{if(null===u)throw tn();vn(u.userId===this.userId),i.push(Ap(this.It,u))}))}),ot.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return ck(e.ie,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ot.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ot.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return hv(e).Z({range:i},(s,u,d)=>{if(s[0]===this.userId){const f=kl(s[1]);r.push(f)}else d.done()}).next(()=>{vn(0===r.length)})})}containsKey(e,t){return uk(e,this.userId,t)}Rn(e){return dk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uk(n,e,t){const i=a1(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return hv(n).Z({range:s,X:!0},(d,f,m)=>{const[y,b,P]=d;y===e&&b===r&&(u=!0),m.done()}).next(()=>u)}function ih(n){return Tr(n,"mutations")}function hv(n){return Tr(n,"documentMutations")}function dk(n){return Tr(n,"mutationQueues")}class xp{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xp(0)}static vn(){return new xp(-1)}}class IU{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new xp(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>_n.fromTimestamp(new hi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fv(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(vn(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return fv(e).Z((u,d)=>{const f=Pw(d);f.sequenceNumber<=t&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(e,f)))}).next(()=>ot.waitFor(s)).next(()=>r)}forEachTarget(e,t){return fv(e).Z((i,r)=>{const s=Pw(r);t(s)})}Vn(e){return hk(e).get("targetGlobalKey").next(t=>(vn(null!==t),t))}Sn(e,t){return hk(e).put("targetGlobalKey",t)}Dn(e,t){return fv(e).put(XN(this.It,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=eu(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return fv(e).Z({range:r,index:"queryTargetsIndex"},(u,d,f)=>{const m=Pw(d);nv(t,m.target)&&(s=m,f.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=rh(e);return t.forEach(u=>{const d=ls(u.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,u))}),ot.waitFor(r)}removeMatchingKeys(e,t,i){const r=rh(e);return ot.forEach(t,s=>{const u=ls(s.path);return ot.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=rh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=rh(e);let s=Pn();return r.Z({range:i,X:!0},(u,d,f)=>{const m=kl(u[1]),y=new jt(m);s=s.add(y)}).next(()=>s)}containsKey(e,t){const i=ls(t.path),r=IDBKeyRange.bound([i],[jA(i)],!1,!0);let s=0;return rh(e).Z({index:"documentTargetsIndex",X:!0,range:r},([u,d],f,m)=>{0!==u&&(s++,m.done())}).next(()=>s>0)}se(e,t){return fv(e).get(t).next(i=>i?Pw(i):null)}}function fv(n){return Tr(n,"targets")}function hk(n){return Tr(n,"targetGlobal")}function rh(n){return Tr(n,"targetDocuments")}function fk([n,e],[t,i]){const r=Cn(n,t);return 0===r?Cn(e,i):r}class xU{constructor(e){this.xn=e,this.buffer=new ei(fk),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MU{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ot("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ze.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Pa(i)?Ot("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ma(i)}yield t.Fn(3e5)}))}}class PU{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ot.resolve(Qr.at);const i=new xU(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(lk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lk):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let i,r,s,u,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),r=this.params.maximumSequenceNumbersToCollect):r=b,u=Date.now(),this.nthSequenceNumber(e,r))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(s=b,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(m=Date.now(),sw()<=Js.in.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-y}ms\n\tDetermined least recently used ${r} in `+(d-u)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${b} documents in `+(m-f)+`ms\nTotal Duration: ${m-y}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:b})))}}class OU{constructor(e,t){this.db=e,this.garbageCollector=new PU(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}qn(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return p1(e,i)}removeReference(e,t,i){return p1(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return p1(e,t)}Gn(e,t){return function(i,r){let s=!1;return dk(i).tt(u=>uk(i,u,r).next(d=>(d&&(s=!0),ot.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(e,(u,d)=>{if(d<=t){const f=this.Gn(e,u).next(m=>{if(!m)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,_n.min()),rh(e).delete([0,ls(u.path)])))});r.push(f)}}).next(()=>ot.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return p1(e,t)}Kn(e,t){const i=rh(e);let r,s=Qr.at;return i.Z({index:"documentTargetsIndex"},([u,d],{path:f,sequenceNumber:m})=>{0===u?(s!==Qr.at&&t(new jt(kl(r)),s),s=m,r=f):s=Qr.at}).next(()=>{s!==Qr.at&&t(new jt(kl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function p1(n,e){return rh(n).put((i=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:i}));var i}class pk{constructor(){this.changes=new th(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ot.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RU{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Mp(e).put(i)}removeEntry(e,t,i){return Mp(e).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],l1(s),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=fi.newInvalidDocument(t);return Mp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fw(t))},(r,s)=>{i=this.jn(t,s)}).next(()=>i)}Wn(e,t){let i={size:0,document:fi.newInvalidDocument(t)};return Mp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Fw(t))},(r,s)=>{i={document:this.jn(t,s),size:h1(s)}}).next(()=>i)}getEntries(e,t){let i=Ps();return this.zn(e,t,(r,s)=>{const u=this.jn(r,s);i=i.insert(r,u)}).next(()=>i)}Hn(e,t){let i=Ps(),r=new Ci(jt.comparator);return this.zn(e,t,(s,u)=>{const d=this.jn(s,u);i=i.insert(s,d),r=r.insert(s,h1(u))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ot.resolve();let r=new ei(vk);t.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound(Fw(r.first()),Fw(r.last())),u=r.getIterator();let d=u.getNext();return Mp(e).Z({index:"documentKeyIndex",range:s},(f,m,y)=>{const b=jt.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;d&&vk(d,b)<0;)i(d,null),d=u.getNext();d&&d.isEqual(b)&&(i(d,m),d=u.hasNext()?u.getNext():null),d?y.j(Fw(d)):y.done()}).next(()=>{for(;d;)i(d,null),d=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),l1(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mp(e).W(IDBKeyRange.bound(r,s,!0)).next(u=>{let d=Ps();for(const f of u){const m=this.jn(jt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(m.key,m)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=Ps();const u=_k(t,i),d=_k(t,Jr.max());return Mp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,d,!0)},(f,m,y)=>{const b=this.jn(jt.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);s=s.insert(b.key,b),s.size===r&&y.done()}).next(()=>s)}newChangeBuffer(e){return new NU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mk(e).get("remoteDocumentGlobalKey").next(t=>(vn(!!t),t))}Qn(e,t){return mk(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function yU(n,e){let t;if(e.document)t=jN(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=jt.fromSegments(e.noDocument.path),r=Sp(e.noDocument.readTime);t=fi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tn();{const i=jt.fromSegments(e.unknownDocument.path),r=Sp(e.unknownDocument.version);t=fi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new hi(i[0],i[1]);return _n.fromTimestamp(r)}(e.readTime)),t}(this.It,t);if(!i.isNoDocument()||!i.version.isEqual(_n.min()))return i}return fi.newInvalidDocument(e)}}function gk(n){return new RU(n)}class NU extends pk{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new th(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ei((s,u)=>Cn(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const d=this.Xn.get(s);if(t.push(this.Yn.removeEntry(e,s,d.readTime)),u.isValidDocument()){const f=QN(this.Yn.It,u);r=r.add(s.path.popLast()),i+=h1(f)-d.size,t.push(this.Yn.addEntry(e,s,f))}else if(i-=d.size,this.trackRemovals){const f=QN(this.Yn.It,u.convertToNoDocument(_n.min()));t.push(this.Yn.addEntry(e,s,f))}}),r.forEach(s=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Yn.updateMetadata(e,i)),ot.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((s,u)=>{this.Xn.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function mk(n){return Tr(n,"remoteDocumentGlobal")}function Mp(n){return Tr(n,"remoteDocumentsV14")}function Fw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _k(n,e){const t=e.documentKey.path.toArray();return[n,l1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vk(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Cn(t[s],i[s]),r)return r;return r=Cn(t.length,i.length),r||(r=Cn(t[t.length-2],i[i.length-2]),r||Cn(t[t.length-1],i[i.length-1]))}class kU{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Cw(i.mutation,r,Ms.empty(),hi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pn()){const r=Rl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=Ew();return s.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Rl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,i,r){let s=Ps();const u=Sw(),d=Sw();return t.forEach((f,m)=>{const y=i.get(m.key);r.has(m.key)&&(void 0===y||y.mutation instanceof tu)?s=s.insert(m.key,m):void 0!==y&&(u.set(m.key,y.mutation.getFieldMask()),Cw(y.mutation,m,y.mutation.getFieldMask(),hi.now()))}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var b;return d.set(m,new kU(y,null!==(b=u.get(m))&&void 0!==b?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Sw();let r=new Ci((u,d)=>u-d),s=Pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(null===m)return;let y=i.get(f)||Ms.empty();y=d.applyToLocalView(m,y),i.set(f,y);const b=(r.get(d.batchId)||Pn()).add(f);r=r.insert(d.batchId,b)})}).next(()=>{const u=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,b=xN();y.forEach(P=>{if(!s.has(P)){const V=bN(t.get(P),i.get(P));null!==V&&b.set(P,V),s=s.add(P)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ot.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return jt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ot.resolve(Rl());let d=-1,f=s;return u.next(m=>ot.forEach(m,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),s.get(y)?ot.resolve():this.getBaseDocument(e,y,b).next(P=>{f=f.insert(y,P)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,f,m,Pn())).next(y=>({batchId:d,changes:IN(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jt(t)).next(i=>{let r=Ew();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Ew();return this.indexManager.getCollectionParents(e,r).next(u=>ot.forEach(u,d=>{const f=(m=t,y=d.child(r),new O(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,y;return this.getDocumentsMatchingCollectionQuery(e,f,i).next(m=>{m.forEach((y,b)=>{s=s.insert(y,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const m=f.getKey();null===r.get(m)&&(r=r.insert(m,fi.newInvalidDocument(m)))});let u=Ew();return r.forEach((d,f)=>{const m=s.get(d);void 0!==m&&Cw(m.mutation,f,Ms.empty(),hi.now()),Un(t,f)&&(u=u.insert(d,f))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):ot.resolve(fi.newInvalidDocument(t))}}class FU{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ot.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ar(i.createTime)}),ot.resolve()}getNamedQuery(e,t){return ot.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:jx(i.bundledQuery),readTime:Ar(i.readTime)}),ot.resolve();var i}}class LU{constructor(){this.overlays=new Ci(jt.comparator),this.es=new Map}getOverlay(e,t){return ot.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rl();return ot.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ue(e,t,s)}),ot.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ot.resolve()}getOverlaysForCollection(e,t,i){const r=Rl(),s=t.length+1,u=new jt(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ot.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Ci((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=s.get(m.largestBatchId);null===y&&(y=Rl(),s=s.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Rl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=r)););return ot.resolve(d)}ue(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Vx(t,i));let s=this.es.get(t);void 0===s&&(s=Pn(),this.es.set(t,s)),this.es.set(t,s.add(i.key))}}class Hx{constructor(){this.ns=new ei(Dr.ss),this.rs=new ei(Dr.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new Dr(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new Dr(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new jt(new kn([])),i=new Dr(t,e),r=new Dr(t,e+1),s=[];return this.rs.forEachInRange([i,r],u=>{this.cs(u),s.push(u.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new jt(new kn([])),i=new Dr(t,e),r=new Dr(t,e+1);let s=Pn();return this.rs.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new Dr(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Dr{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return jt.comparator(e.key,t.key)||Cn(e._s,t._s)}static os(e,t){return Cn(e._s,t._s)||jt.comparator(e.key,t.key)}}class BU{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new ei(Dr.ss)}checkEmpty(e){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ws;this.ws++;const u=new Lx(s,t,i,r);this.mutationQueue.push(u);for(const d of r)this.gs=this.gs.add(new Dr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ot.resolve(u)}lookupMutationBatch(e,t){return ot.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),s=r<0?0:r;return ot.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dr(t,0),r=new Dr(t,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],u=>{const d=this.ys(u._s);s.push(d)}),ot.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ei(Cn);return t.forEach(r=>{const s=new Dr(r,0),u=new Dr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,u],d=>{i=i.add(d._s)})}),ot.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;jt.isDocumentKey(s)||(s=s.child(""));const u=new Dr(new jt(s),0);let d=new ei(Cn);return this.gs.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(d=d.add(f._s)),!0)},u),ot.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){vn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ot.forEach(t.mutations,r=>{const s=new Dr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new Dr(t,0),r=this.gs.firstAfterOrEqual(i);return ot.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ot.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class VU{constructor(e){this.Es=e,this.docs=new Ci(jt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ot.resolve(i?i.document.mutableCopy():fi.newInvalidDocument(t))}getEntries(e,t){let i=Ps();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():fi.newInvalidDocument(r))}),ot.resolve(i)}getAllFromCollection(e,t,i){let r=Ps();const s=new jt(t.child("")),u=this.docs.getIteratorFrom(s);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||HA($A(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return ot.resolve(r)}getAllFromCollectionGroup(e,t,i,r){tn()}As(e,t){return ot.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jU(this)}getSize(e){return ot.resolve(this.size)}}class jU extends pk{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ot.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class UU{constructor(e){this.persistence=e,this.Rs=new th(t=>eu(t),nv),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Hx,this.targetCount=0,this.vs=xp.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ot.resolve()}getLastRemoteSnapshotVersion(e){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ot.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new xp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ot.resolve()}updateTargetData(e,t){return this.Dn(t),ot.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ot.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Rs.forEach((u,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Rs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),ot.waitFor(s).next(()=>r)}getTargetCount(e){return ot.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ot.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ot.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ot.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ot.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ot.resolve(i)}containsKey(e,t){return ot.resolve(this.Ps.containsKey(t))}}class bk{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Qr(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new UU(this),this.indexManager=new TU,this.remoteDocumentCache=new VU(i=>this.referenceDelegate.xs(i)),this.It=new JN(t),this.Ns=new FU(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LU,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new BU(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ot("MemoryPersistence","Starting transaction:",e);const r=new $U(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(e,t){return ot.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class $U extends GA{constructor(e){super(),this.currentSequenceNumber=e}}class g1{constructor(e){this.persistence=e,this.Fs=new Hx,this.$s=null}static Bs(e){return new g1(e)}get Ls(){if(this.$s)return this.$s;throw tn()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ot.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ot.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Ls,i=>{const r=jt.fromPath(i);return this.Us(e,r).next(s=>{s||t.removeEntry(r,_n.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return ot.or([()=>ot.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class HU{constructor(e){this.It=e}$(e,t,i,r){const s=new vp("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WN,{unique:!0}),d.createObjectStore("documentMutations"),wk(e),function(d){d.createObjectStore("remoteDocuments")}(e));let u=ot.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),wk(e)),u=u.next(()=>function(d){const f=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(d,f){return f.store("mutations").W().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WN,{unique:!0});const y=f.store("mutations"),b=m.map(P=>y.put(P));return ot.waitFor(b)})}(e,s))),u=u.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.qs(s))),i<6&&r>=6&&(u=u.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),i<7&&r>=7&&(u=u.next(()=>this.Gs(s))),i<8&&r>=8&&(u=u.next(()=>this.Qs(e,s))),i<9&&r>=9&&(u=u.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.js(s))),i<11&&r>=11&&(u=u.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:pU});f.createIndex("collectionPathOverlayIndex",gU,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",mU,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:iU});f.createIndex("documentKeyIndex",rU),f.createIndex("collectionGroupIndex",sU)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.zs(e,s))),i<15&&r>=15&&(u=u.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:uU}).createIndex("sequenceNumberIndex",dU,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:hU}).createIndex("documentKeyIndex",fU,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=h1(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ot.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(d=>ot.forEach(d,f=>{vn(f.userId===s.userId);const m=Ap(this.It,f);return ck(e,s.userId,m).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((u,d)=>{const f=new kn(u),m=[0,ls(f)];s.push(t.get(m).next(y=>y?ot.resolve():t.put({targetId:0,path:ls(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ot.waitFor(s))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:cU});const i=t.store("collectionParents"),r=new $x,s=u=>{if(r.add(u)){const d=u.lastSegment(),f=u.popLast();return i.put({collectionId:d,parent:ls(f)})}};return t.store("remoteDocuments").Z({X:!0},(u,d)=>{const f=new kn(u);return s(f.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,d,f],m)=>{const y=kl(d);return s(y.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const s=Pw(r),u=XN(this.It,s);return t.put(u)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((s,u)=>{const d=t.store("remoteDocumentsV14"),f=(m=u,m.document?new jt(kn.fromString(m.document.name).popFirst(5)):m.noDocument?jt.fromSegments(m.noDocument.path):m.unknownDocument?jt.fromSegments(m.unknownDocument.path):tn()).path.toArray();var m;const y={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(d.put(y))}).next(()=>ot.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=gk(this.It),s=new bk(g1.Bs,this.It.re);return i.W().next(u=>{const d=new Map;return u.forEach(f=>{var m;let y=null!==(m=d.get(f.userId))&&void 0!==m?m:Pn();Ap(this.It,f).keys().forEach(b=>y=y.add(b)),d.set(f.userId,y)}),ot.forEach(d,(f,m)=>{const y=new hr(m),b=c1.oe(this.It,y),P=s.getIndexManager(y),V=f1.oe(y,this.It,P,s.referenceDelegate);return new yk(r,V,b,P).recalculateAndSaveOverlaysForDocumentKeys(new Fx(t,Qr.at),f).next()})})}}function wk(n){n.createObjectStore("targetDocuments",{keyPath:aU}).createIndex("documentTargetsIndex",lU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oU,{unique:!0}),n.createObjectStore("targetGlobal")}const Gx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zx{constructor(e,t,i,r,s,u,d,f,m,y,b=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=s,this.window=u,this.document=d,this.Js=m,this.Ys=y,this.Xs=b,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=P=>Promise.resolve(),!zx.C())throw new xt(gt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OU(this,r),this.ii=t+"main",this.It=new JN(f),this.ri=new xs(this.ii,this.Xs,new HU(this.It)),this.Cs=new IU(this.referenceDelegate,this.It),this.remoteDocumentCache=gk(this.It),this.Ns=new bU,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===y&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt(gt.FAILED_PRECONDITION,Gx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Qr(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,Ze.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,Ze.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,Ze.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>m1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Pa(e))return Ot("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ot("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Lw(e).get("owner").next(t=>ot.resolve(this.mi(t)))}gi(e){return m1(e).delete(this.clientId)}yi(){var e=this;return(0,Ze.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Tr(i,"clientMetadata");return r.W().next(s=>{const u=e.Ii(s,18e5),d=s.filter(f=>-1===u.indexOf(f));return ot.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ot.resolve(!0):Lw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xt(gt.FAILED_PRECONDITION,Gx);return!1}}return!(!this.networkEnabled||!this.inForeground)||m1(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ot("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ze.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Fx(t,Qr.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>m1(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return f1.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new DU(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return c1.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ot("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(u=this.Xs)?vU:14===u?KN:13===u?ZN:12===u?_U:11===u?YN:void tn();var u;let d;return this.ri.runTransaction(e,r,s,f=>(d=new Fx(f,this.Ss?this.Ss.next():Qr.at),"readwrite-primary"===t?this.fi(d).next(m=>!!m||this.di(d)).next(m=>{if(!m)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xt(gt.FAILED_PRECONDITION,cw);return i(d)}).next(m=>this.wi(d).next(()=>m)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(e){return Lw(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xt(gt.FAILED_PRECONDITION,Gx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lw(e).put("owner",t)}static C(){return xs.C()}_i(e){const t=Lw(e);return t.get("owner").next(i=>this.mi(i)?(Ot("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ot.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(zi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,cn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ot("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lw(n){return Tr(n,"owner")}function m1(n){return Tr(n,"clientMetadata")}function Wx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qx{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Pn(),r=Pn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new qx(e,t.fromCache,i,r)}}class Ck{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(s=>s||this.Oi(e,t,r,i)).next(s=>s||this.Mi(e,t))}ki(e,t){if(De(t))return ot.resolve(null);let i=Rt(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Qt(t,null,"F"),i=Rt(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=Pn(...s);return this.Ni.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.Fi(t,d);return this.$i(t,m,u,f.readTime)?this.ki(e,Qt(t,null,"F")):this.Bi(e,m,t,f)}))})))}Oi(e,t,i,r){return De(t)||r.isEqual(_n.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(s=>{const u=this.Fi(t,s);return this.$i(t,u,i,r)?this.Mi(e,t):(sw()<=Js.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mn(t)),this.Bi(e,u,t,UA(r,-1)))})}Fi(e,t){let i=new ei(Pl(e));return t.forEach((r,s)=>{Un(e,s)&&(i=i.add(s))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(e,t){return sw()<=Js.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",mn(t)),this.Ni.getDocumentsMatchingQuery(e,t,Jr.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class GU{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.It=r,this.Ui=new Ci(Cn),this.qi=new th(s=>eu(s),nv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yk(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Ek(n,e,t,i){return new GU(n,e,t,i)}function Sk(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,Ze.Z)(function*(n,e){const t=Wt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],d=[];let f=Pn();for(const m of r){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of s){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(i,f).next(m=>({ji:m,removedBatchIds:u,addedBatchIds:d}))})})}),Yx.apply(this,arguments)}function zU(n,e){const t=Wt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,d,f,m){const y=f.batch,b=y.keys();let P=ot.resolve();return b.forEach(V=>{P=P.next(()=>m.getEntry(d,V)).next(ee=>{const K=f.docVersions.get(V);vn(null!==K),ee.version.compareTo(K)<0&&(y.applyToRemoteDocument(ee,f),ee.isValidDocument()&&(ee.setReadTime(f.commitVersion),m.addEntry(ee)))})}),P.next(()=>u.mutationQueue.removeMutationBatch(d,y))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let d=Pn();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Ak(n){const e=Wt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function WU(n,e){const t=Wt(n),i=e.snapshotVersion;let r=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.Ui;const d=[];e.targetChanges.forEach((y,b)=>{const P=r.get(b);if(!P)return;d.push(t.Cs.removeMatchingKeys(s,y.removedDocuments,b).next(()=>t.Cs.addMatchingKeys(s,y.addedDocuments,b)));let V=P.withSequenceNumber(s.currentSequenceNumber);var ee,K,ne;e.targetMismatches.has(b)?V=V.withResumeToken(sr.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):y.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(y.resumeToken,i)),r=r.insert(b,V),K=V,ne=y,(0===(ee=P).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(s,V))});let f=Ps(),m=Pn();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),d.push(Tk(s,u,e.documentUpdates).next(y=>{f=y.Wi,m=y.zi})),!i.isEqual(_n.min())){const y=t.Cs.getLastRemoteSnapshotVersion(s).next(b=>t.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(y)}return ot.waitFor(d).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,m)).next(()=>f)}).then(s=>(t.Ui=r,s))}function Tk(n,e,t){let i=Pn(),r=Pn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=Ps();return t.forEach((d,f)=>{const m=s.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(_n.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Ot("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Wi:u,zi:r}})}function qU(n,e){const t=Wt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function pv(n,e){const t=Wt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(s=>s?(r=s,ot.resolve(r)):t.Cs.allocateTargetId(i).next(u=>(r=new nh(e,u,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(i.targetId,i),t.qi.set(e,i.targetId)),i})}function gv(n,e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Ze.Z)(function*(n,e,t){const i=Wt(n),r=i.Ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Pa(u))throw u;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ui=i.Ui.remove(e),i.qi.delete(r.target)}),Zx.apply(this,arguments)}function _1(n,e,t){const i=Wt(n);let r=_n.min(),s=Pn();return i.persistence.runTransaction("Execute query","readonly",u=>function(d,f,m){const y=Wt(d),b=y.qi.get(m);return void 0!==b?ot.resolve(y.Ui.get(b)):y.Cs.getTargetData(f,m)}(i,u,Rt(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(u,d.targetId).next(f=>{s=f})}).next(()=>i.Li.getDocumentsMatchingQuery(u,e,t?r:_n.min(),t?s:Pn())).next(d=>(xk(i,pi(e),d),{documents:d,Hi:s})))}function Dk(n,e){const t=Wt(n),i=Wt(t.Cs),r=t.Ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.se(s,e).next(u=>u?u.target:null))}function Ik(n,e){const t=Wt(n),i=t.Ki.get(e)||_n.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,UA(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(xk(t,e,r),r))}function xk(n,e,t){let i=n.Ki.get(e)||_n.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(e,i)}function Kx(){return Kx=(0,Ze.Z)(function*(n,e,t,i){const r=Wt(n);let s=Pn(),u=Ps();for(const m of t){const y=e.Ji(m.metadata.name);m.document&&(s=s.add(y));const b=e.Yi(m);b.setReadTime(e.Xi(m.metadata.readTime)),u=u.insert(y,b)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield pv(r,(m=i,Rt(he(kn.fromString(`__bundle__/docs/${m}`)))));var m;return r.persistence.runTransaction("Apply bundle documents","readwrite",m=>Tk(m,d,u).next(y=>(d.apply(m),y)).next(y=>r.Cs.removeMatchingKeysForTargetId(m,f.targetId).next(()=>r.Cs.addMatchingKeys(m,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,y.Wi,y.zi)).next(()=>y.Wi)))}),Kx.apply(this,arguments)}function ZU(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Ze.Z)(function*(n,e,t=Pn()){const i=yield pv(n,Rt(jx(e.bundledQuery))),r=Wt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=Ar(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ns.saveNamedQuery(s,e);const d=i.withResumeToken(sr.EMPTY_BYTE_STRING,u);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,e))})}),Jx.apply(this,arguments)}function Mk(n,e){return`firestore_clients_${n}_${e}`}function Pk(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Qx(n,e){return`firestore_targets_${n}_${e}`}class v1{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new xt(r.error.code,r.error.message))),u?new v1(e,t,r.state,s):(zi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new xt(i.error.code,i.error.message))),s?new Bw(e,i.state,r):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class y1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=s1();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=K_(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new y1(e,s):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xx(t.clientId,t.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class eM{constructor(){this.activeTargetIds=s1()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tM{constructor(e,t,i,r,s){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ci(Cn),this.started=!1,this.cr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=Mk(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new eM),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ze.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const s=e.getItem(Mk(e.persistenceKey,r));if(s){const u=y1.Zi(r,s);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Qx(this.persistenceKey,e));if(i){const r=Bw.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Qx(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ot("SharedClientState","READ",e,t),t}setItem(e,t){Ot("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ot("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ot("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ze.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(s){let u=Qr.at;if(null!=s)try{const d=JSON.parse(s);vn("number"==typeof d),u=d}catch(d){zi("SharedClientState","Failed to read sequence number from WebStorage",d)}return u}(i.newValue);r!==Qr.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Mr(s)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new v1(this.currentUser,e,t,i),s=Pk(this.persistenceKey,this.currentUser,e);this.setItem(s,r.tr())}Er(e){const t=Pk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=Qx(this.persistenceKey,e),s=new Bw(e,t,i);this.setItem(r,s.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return y1.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return v1.Zi(new hr(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return Bw.Zi(r,t)}yr(e){return Xx.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,Ze.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ot("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),s=this.Ir(i),u=[],d=[];return s.forEach(f=>{r.has(f)||u.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Br(u,d).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=s1();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Ok{constructor(){this.Lr=new eM,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,i){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new eM,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KU{qr(e){}shutdown(){}}class Rk{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const JU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QU{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class XU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,s){const u=this.ho(e,t);Ot("RestConnection","Sending: ",u,i);const d={};return this.lo(d,r,s),this.fo(e,u,d,i).then(f=>(Ot("RestConnection","Received: ",f),f),f=>{throw Wd("RestConnection",`${e} failed with error: `,f,"url: ",u,"request:",i),f})}_o(e,t,i,r,s,u){return this.ao(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.oo}/v1/${t}:${JU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,u)=>{const d=new mx;d.setWithCredentials(!0),d.listenOnce(FA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case zd.NO_ERROR:const m=d.getResponseJson();Ot("Connection","XHR received:",JSON.stringify(m)),s(m);break;case zd.TIMEOUT:Ot("Connection",'RPC "'+e+'" timed out'),u(new xt(gt.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const y=d.getStatus();if(Ot("Connection",'RPC "'+e+'" failed with status:',y,"response text:",d.getResponseText()),y>0){const b=d.getResponseJson().error;if(b&&b.status&&b.message){const P=function(V){const ee=V.toLowerCase().replace(/_/g,"-");return Object.values(gt).indexOf(ee)>=0?ee:gt.UNKNOWN}(b.status);u(new xt(P,b.message))}else u(new xt(gt.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new xt(gt.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Ot("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(r);d.send(t,"POST",f,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aN(),u=kA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new iw({})),this.lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const f=r.join("");Ot("Connection","Creating WebChannel: "+f,d);const m=s.createWebChannel(f,d);let y=!1,b=!1;const P=new QU({Hr:ee=>{b?Ot("Connection","Not sending because WebChannel is closed:",ee):(y||(Ot("Connection","Opening WebChannel transport."),m.open(),y=!0),Ot("Connection","WebChannel sending:",ee),m.send(ee))},Jr:()=>m.close()}),V=(ee,K,ne)=>{ee.listen(K,we=>{try{ne(we)}catch(Se){setTimeout(()=>{throw Se},0)}})};return V(m,hp.EventType.OPEN,()=>{b||Ot("Connection","WebChannel transport opened.")}),V(m,hp.EventType.CLOSE,()=>{b||(b=!0,Ot("Connection","WebChannel transport closed"),P.io())}),V(m,hp.EventType.ERROR,ee=>{b||(b=!0,Wd("Connection","WebChannel transport errored:",ee),P.io(new xt(gt.UNAVAILABLE,"The operation could not be completed")))}),V(m,hp.EventType.MESSAGE,ee=>{var K;if(!b){const ne=ee.data[0];vn(!!ne);const we=ne,Se=we.error||(null===(K=we[0])||void 0===K?void 0:K.error);if(Se){Ot("Connection","WebChannel received error:",Se);const Pe=Se.status;let $e=function(Qe){const at=or[Qe];if(void 0!==at)return TN(at)}(Pe),ze=Se.message;void 0===$e&&($e=gt.INTERNAL,ze="Unknown error status: "+Pe+" with message "+Se.message),b=!0,P.io(new xt($e,ze)),m.close()}else Ot("Connection","WebChannel received:",ne),P.ro(ne)}}),V(u,LA.STAT_EVENT,ee=>{ee.stat===gx.PROXY?Ot("Connection","Detected buffering proxy"):ee.stat===gx.NOPROXY&&Ot("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function Nk(){return typeof window<"u"?window:null}function b1(){return typeof document<"u"?document:null}function Vw(n){return new Gj(n,!0)}class nM{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ot("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class kk{constructor(e,t,i,r,s,u,d,f){this.Hs=e,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new nM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ze.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,Ze.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,Ze.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===gt.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===gt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new xt(gt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,Ze.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e$ extends kk{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.It=s}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function qj(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(f=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:tn(),r=e.targetChange.targetIds||[],s=function(f,m){return f.gt?(vn(void 0===m||"string"==typeof m),sr.fromBase64String(m||"")):(vn(void 0===m||m instanceof Uint8Array),sr.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(f){const m=void 0===f.code?gt.UNKNOWN:TN(f.code);return new xt(m,f.message||"")}(u);t=new PN(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=Nl(n,i.document.name),s=Ar(i.document.updateTime),u=new pr({mapValue:{fields:i.document.fields}}),d=fi.newFoundDocument(r,s,u);t=new o1(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=Nl(n,i.document),s=i.readTime?Ar(i.readTime):_n.min(),u=fi.newNoDocument(r,s);t=new o1([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Nl(n,i.document);t=new o1([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return tn();{const i=e.filter,s=new Fj(i.count||0);t=new MN(i.targetId,s)}}var f;return t}(this.It,e),i=function(r){if(!("targetChange"in r))return _n.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?_n.min():s.readTime?Ar(s.readTime):_n.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=xw(this.It),t.addTarget=function(r,s){let u;const d=s.target;return u=mw(d)?{documents:UN(r,d)}:{query:kx(r,d)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=kN(r,s.resumeToken):s.snapshotVersion.compareTo(_n.min())>0&&(u.readTime=Dw(r,s.snapshotVersion.toTimestamp())),u}(this.It,e);const i=function Zj(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=xw(this.It),t.removeTarget=e,this.Bo(t)}}class t$ extends kk{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(vn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Yj(n,e){return n&&n.length>0?(vn(void 0!==e),n.map(t=>function(i,r){let s=Ar(i.updateTime?i.updateTime:r);return s.isEqual(_n.min())&&(s=Ar(r)),new Rj(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ar(e.commitTime);return this.listener.Zo(i,t)}return vn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=xw(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Mw(this.It,i))};this.Bo(t)}}class n$ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new xt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new xt(gt.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection._o(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===gt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt(gt.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class r${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(zi(t),this.ou=!1):Ot("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class s${constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,Ze.Z)(function*(){var f;nu(u)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Ze.Z)(function*(m){const y=Wt(m);y._u.add(4),yield mv(y),y.gu.set("Unknown"),y._u.delete(4),yield jw(y)}),function(m){return f.apply(this,arguments)})(u))}))}),this.gu=new r$(i,r)}}function jw(n){return rM.apply(this,arguments)}function rM(){return rM=(0,Ze.Z)(function*(n){if(nu(n))for(const e of n.wu)yield e(!0)}),rM.apply(this,arguments)}function mv(n){return sM.apply(this,arguments)}function sM(){return sM=(0,Ze.Z)(function*(n){for(const e of n.wu)yield e(!1)}),sM.apply(this,arguments)}function w1(n,e){const t=Wt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),lM(t)?aM(t):vv(t).ko()&&oM(t,e))}function Uw(n,e){const t=Wt(n),i=vv(t);t.du.delete(e),i.ko()&&Fk(t,e),0===t.du.size&&(i.ko()?i.Fo():nu(t)&&t.gu.set("Unknown"))}function oM(n,e){n.yu.Mt(e.targetId),vv(n).zo(e)}function Fk(n,e){n.yu.Mt(e),vv(n).Ho(e)}function aM(n){n.yu=new Uj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),vv(n).start(),n.gu.uu()}function lM(n){return nu(n)&&!vv(n).No()&&n.du.size>0}function nu(n){return 0===Wt(n)._u.size}function Lk(n){n.yu=void 0}function o$(n){return cM.apply(this,arguments)}function cM(){return cM=(0,Ze.Z)(function*(n){n.du.forEach((e,t)=>{oM(n,e)})}),cM.apply(this,arguments)}function a$(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,Ze.Z)(function*(n,e){Lk(n),lM(n)?(n.gu.hu(e),aM(n)):n.gu.set("Unknown")}),uM.apply(this,arguments)}function l$(n,e,t){return dM.apply(this,arguments)}function dM(){return dM=(0,Ze.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof PN&&2===e.state&&e.cause)try{yield(i=(0,Ze.Z)(function*(r,s){const u=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,u),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield C1(n,i)}else if(e instanceof o1?n.yu.Gt(e):e instanceof MN?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(_n.min()))try{const i=yield Ak(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.yu.te(s);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=r.du.get(f);m&&r.du.set(f,m.withResumeToken(d.resumeToken,s))}}),u.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(sr.EMPTY_BYTE_STRING,f.snapshotVersion)),Fk(r,d);const m=new nh(f.target,d,1,f.sequenceNumber);oM(r,m)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ot("RemoteStore","Failed to raise snapshot:",i),yield C1(n,i)}var i}),dM.apply(this,arguments)}function C1(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,Ze.Z)(function*(n,e,t){if(!Pa(e))throw e;n._u.add(1),yield mv(n),n.gu.set("Offline"),t||(t=()=>Ak(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ze.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield jw(n)}))}),hM.apply(this,arguments)}function Bk(n,e){return e().catch(t=>C1(n,t,e))}function _v(n){return fM.apply(this,arguments)}function fM(){return fM=(0,Ze.Z)(function*(n){const e=Wt(n),t=sh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;c$(e);)try{const r=yield qU(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,u$(e,r)}catch(r){yield C1(e,r)}Vk(e)&&jk(e)}),fM.apply(this,arguments)}function c$(n){return nu(n)&&n.fu.length<10}function u$(n,e){n.fu.push(e);const t=sh(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function Vk(n){return nu(n)&&!sh(n).No()&&n.fu.length>0}function jk(n){sh(n).start()}function d$(n){return pM.apply(this,arguments)}function pM(){return pM=(0,Ze.Z)(function*(n){sh(n).eu()}),pM.apply(this,arguments)}function h$(n){return gM.apply(this,arguments)}function gM(){return gM=(0,Ze.Z)(function*(n){const e=sh(n);for(const t of n.fu)e.Xo(t.mutations)}),gM.apply(this,arguments)}function f$(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,Ze.Z)(function*(n,e,t){const i=n.fu.shift(),r=Bx.from(i,e,t);yield Bk(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield _v(n)}),mM.apply(this,arguments)}function p$(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,Ze.Z)(function*(n,e){var t;e&&sh(n).Yo&&(yield(t=(0,Ze.Z)(function*(i,r){if(AN(s=r.code)&&s!==gt.ABORTED){const u=i.fu.shift();sh(i).Mo(),yield Bk(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield _v(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Vk(n)&&jk(n)}),_M.apply(this,arguments)}function Uk(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,Ze.Z)(function*(n,e){const t=Wt(n);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const i=nu(t);t._u.add(3),yield mv(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield jw(t)}),vM.apply(this,arguments)}function yM(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,Ze.Z)(function*(n,e){const t=Wt(n);e?(t._u.delete(2),yield jw(t)):e||(t._u.add(2),yield mv(t),t.gu.set("Unknown"))}),bM.apply(this,arguments)}function vv(n){return n.pu||(n.pu=function(e,t,i){const r=Wt(e);return r.su(),new e$(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:o$.bind(null,n),Zr:a$.bind(null,n),Wo:l$.bind(null,n)}),n.wu.push(function(){var e=(0,Ze.Z)(function*(t){t?(n.pu.Mo(),lM(n)?aM(n):n.gu.set("Unknown")):(yield n.pu.stop(),Lk(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function sh(n){return n.Iu||(n.Iu=function(e,t,i){const r=Wt(e);return r.su(),new t$(t,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:d$.bind(null,n),Zr:p$.bind(null,n),tu:h$.bind(null,n),Zo:f$.bind(null,n)}),n.wu.push(function(){var e=(0,Ze.Z)(function*(t){t?(n.Iu.Mo(),yield _v(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class wM{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,d=new wM(e,t,u,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(gt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(n,e){if(zi("AsyncQueue",`${e}: ${n}`),Pa(n))return new xt(gt.UNAVAILABLE,`${e}: ${n}`);throw n}class bv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||jt.comparator(t.key,i.key):(t,i)=>jt.comparator(t.key,i.key),this.keyedMap=Ew(),this.sortedSet=new Ci(this.comparator)}static emptySet(e){return new bv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new bv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class $k{constructor(){this.Tu=new Ci(jt.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):tn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class wv{constructor(e,t,i,r,s,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new wv(e,t,bv.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&un(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class g${constructor(){this.Au=void 0,this.listeners=[]}}class m${constructor(){this.queries=new th(e=>Dt(e),un),this.onlineState="Unknown",this.Ru=new Set}}function CM(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,Ze.Z)(function*(n,e){const t=Wt(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new g$),r)try{s.Au=yield t.onListen(i)}catch(u){const d=yv(u,`Initialization of query '${mn(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.bu(t.onlineState),s.Au&&e.Pu(s.Au)&&TM(t)}),EM.apply(this,arguments)}function SM(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,Ze.Z)(function*(n,e){const t=Wt(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),AM.apply(this,arguments)}function _$(n,e){const t=Wt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const d of u.listeners)d.Pu(r)&&(i=!0);u.Au=r}}i&&TM(t)}function v$(n,e,t){const i=Wt(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function TM(n){n.Ru.forEach(e=>{e.next()})}class DM{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new wv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class y${constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Hk{constructor(e){this.It=e}Ji(e){return Nl(this.It,e)}Yi(e){return e.metadata.exists?jN(this.It,e.document,!1):fi.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ar(e)}}class b${constructor(e,t,i){this.Mu=e,this.localStore=t,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Gk(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=kn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new Hk(this.It);for(const r of e)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const u of r.metadata.queries){const d=(t.get(u)||Pn()).add(s);t.set(u,d)}}return t}complete(){var e=this;return(0,Ze.Z)(function*(){const t=yield function YU(n,e,t,i){return Kx.apply(this,arguments)}(e.localStore,new Hk(e.It),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield ZU(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Gk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zk{constructor(e){this.key=e}}class Wk{constructor(e){this.key=e}}class qk{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Pn(),this.mutatedKeys=Pn(),this.Gu=Pl(e),this.Qu=new bv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new $k,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,m="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((y,b)=>{const P=r.get(y),V=Un(this.query,b)?b:null,ee=!!P&&this.mutatedKeys.has(P.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ne=!1;P&&V?P.data.isEqual(V.data)?ee!==K&&(i.track({type:3,doc:V}),ne=!0):this.Hu(P,V)||(i.track({type:2,doc:V}),ne=!0,(f&&this.Gu(V,f)>0||m&&this.Gu(V,m)<0)&&(d=!0)):!P&&V?(i.track({type:0,doc:V}),ne=!0):P&&!V&&(i.track({type:1,doc:P}),ne=!0,(f||m)&&(d=!0)),ne&&(V?(u=u.add(V),s=K?s.add(y):s.delete(y)):(u=u.delete(y),s=s.delete(y)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const y="F"===this.query.limitType?u.last():u.first();u=u.delete(y.key),s=s.delete(y.key),i.track({type:1,doc:y})}return{Qu:u,zu:i,$i:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((m,y)=>function(b,P){const V=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return V(b)-V(P)}(m.type,y.type)||this.Gu(m.doc,y.doc)),this.Ju(i);const u=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,f=d!==this.qu;return this.qu=d,0!==s.length||f?{snapshot:new wv(this.query,e.Qu,r,s,e.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new $k,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Pn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new Wk(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new zk(i))}),t}tc(e){this.Uu=e.Hi,this.Ku=Pn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return wv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class w${constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class C${constructor(e){this.key=e,this.nc=!1}}class E${constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new th(d=>Dt(d),un),this.rc=new Map,this.oc=new Set,this.uc=new Ci(jt.comparator),this.cc=new Map,this.ac=new Hx,this.hc={},this.lc=new Map,this.fc=xp.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function S$(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,Ze.Z)(function*(n,e){const t=JM(n);let i,r;const s=t.ic.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const u=yield pv(t.localStore,Rt(e));t.isPrimaryClient&&w1(t.remoteStore,u);const d=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield xM(t,e,i,"current"===d,u.resumeToken)}return r}),IM.apply(this,arguments)}function xM(n,e,t,i,r){return MM.apply(this,arguments)}function MM(){return MM=(0,Ze.Z)(function*(n,e,t,i,r){n._c=(b,P,V)=>{return(ee=(0,Ze.Z)(function*(K,ne,we,Se){let Pe=ne.view.Wu(we);Pe.$i&&(Pe=yield _1(K.localStore,ne.query,!1).then(({documents:Qe})=>ne.view.Wu(Qe,Pe)));const $e=Se&&Se.targetChanges.get(ne.targetId),ze=ne.view.applyChanges(Pe,K.isPrimaryClient,$e);return jM(K,ne.targetId,ze.Xu),ze.snapshot}),function(K,ne,we,Se){return ee.apply(this,arguments)})(n,b,P,V);var ee};const s=yield _1(n.localStore,e,!0),u=new qk(e,s.Hi),d=u.Wu(s.documents),f=Tw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),m=u.applyChanges(d,n.isPrimaryClient,f);jM(n,t,m.Xu);const y=new w$(e,t,u);return n.ic.set(e,y),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),m.snapshot}),MM.apply(this,arguments)}function A$(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,Ze.Z)(function*(n,e){const t=Wt(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(s=>!un(s,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Uw(t.remoteStore,i.targetId),Cv(t,i.targetId)}).catch(Ma))):(Cv(t,i.targetId),yield gv(t.localStore,i.targetId,!0))}),PM.apply(this,arguments)}function OM(){return OM=(0,Ze.Z)(function*(n,e,t){const i=QM(n);try{const r=yield function(s,u){const d=Wt(s),f=hi.now(),m=u.reduce((P,V)=>P.add(V.key),Pn());let y,b;return d.persistence.runTransaction("Locally write mutations","readwrite",P=>{let V=Ps(),ee=Pn();return d.Gi.getEntries(P,m).next(K=>{V=K,V.forEach((ne,we)=>{we.isValidDocument()||(ee=ee.add(ne))})}).next(()=>d.localDocuments.getOverlayedDocuments(P,V)).next(K=>{y=K;const ne=[];for(const we of u){const Se=kj(we,y.get(we.key).overlayedDocument);null!=Se&&ne.push(new tu(we.key,Se,Ix(Se.value.mapValue),Oi.exists(!0)))}return d.mutationQueue.addMutationBatch(P,f,ne,u)}).next(K=>{b=K;const ne=K.applyToLocalDocumentSet(y,ee);return d.documentOverlayCache.saveOverlays(P,K.batchId,ne)})}).then(()=>({batchId:b.batchId,changes:IN(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,d){let f=s.hc[s.currentUser.toKey()];f||(f=new Ci(Cn)),f=f.insert(u,d),s.hc[s.currentUser.toKey()]=f}(i,r.batchId,t),yield iu(i,r.changes),yield _v(i.remoteStore)}catch(r){const s=yv(r,"Failed to persist write");t.reject(s)}}),OM.apply(this,arguments)}function Yk(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,Ze.Z)(function*(n,e){const t=Wt(n);try{const i=yield WU(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.cc.get(s);u&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.nc=!0:r.modifiedDocuments.size>0?vn(u.nc):r.removedDocuments.size>0&&(vn(u.nc),u.nc=!1))}),yield iu(t,i,e)}catch(i){yield Ma(i)}}),RM.apply(this,arguments)}function Zk(n,e,t){const i=Wt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((s,u)=>{const d=u.view.bu(e);d.snapshot&&r.push(d.snapshot)}),function(s,u){const d=Wt(s);d.onlineState=u;let f=!1;d.queries.forEach((m,y)=>{for(const b of y.listeners)b.bu(u)&&(f=!0)}),f&&TM(d)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function D$(n,e,t){return NM.apply(this,arguments)}function NM(){return NM=(0,Ze.Z)(function*(n,e,t){const i=Wt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),s=r&&r.key;if(s){let u=new Ci(jt.comparator);u=u.insert(s,fi.newNoDocument(s,_n.min()));const d=Pn().add(s),f=new Aw(_n.min(),new Map,new ei(Cn),u,d);yield Yk(i,f),i.uc=i.uc.remove(s),i.cc.delete(e),UM(i)}else yield gv(i.localStore,e,!1).then(()=>Cv(i,e,t)).catch(Ma)}),NM.apply(this,arguments)}function I$(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,Ze.Z)(function*(n,e){const t=Wt(n),i=e.batch.batchId;try{const r=yield zU(t.localStore,e);VM(t,i,null),BM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield iu(t,r)}catch(r){yield Ma(r)}}),kM.apply(this,arguments)}function x$(n,e,t){return FM.apply(this,arguments)}function FM(){return FM=(0,Ze.Z)(function*(n,e,t){const i=Wt(n);try{const r=yield function(s,u){const d=Wt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next(y=>(vn(null!==y),m=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(i.localStore,e);VM(i,e,t),BM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield iu(i,r)}catch(r){yield Ma(r)}}),FM.apply(this,arguments)}function LM(){return LM=(0,Ze.Z)(function*(n,e){const t=Wt(n);nu(t.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=Wt(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=yv(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),LM.apply(this,arguments)}function BM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function VM(n,e,t){const i=Wt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Cv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||Kk(n,i)})}function Kk(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Uw(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),UM(n))}function jM(n,e,t){for(const i of t)i instanceof zk?(n.ac.addReference(i.key,e),P$(n,i)):i instanceof Wk?(Ot("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||Kk(n,i.key)):tn()}function P$(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Ot("SyncEngine","New document in limbo: "+t),n.oc.add(i),UM(n))}function UM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new jt(kn.fromString(e)),i=n.fc.next();n.cc.set(i,new C$(t)),n.uc=n.uc.insert(t,i),w1(n.remoteStore,new nh(Rt(he(t.path)),i,2,Qr.at))}}function iu(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,Ze.Z)(function*(n,e,t){const i=Wt(n),r=[],s=[],u=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,f)=>{u.push(i._c(f,e,t).then(m=>{if((m||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m?.fromCache?"not-current":"current"),m){r.push(m);const y=qx.Ci(f.targetId,m);s.push(y)}}))}),yield Promise.all(u),i.sc.Wo(r),yield(d=(0,Ze.Z)(function*(f,m){const y=Wt(f);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ot.forEach(m,P=>ot.forEach(P.Si,V=>y.persistence.referenceDelegate.addReference(b,P.targetId,V)).next(()=>ot.forEach(P.Di,V=>y.persistence.referenceDelegate.removeReference(b,P.targetId,V)))))}catch(b){if(!Pa(b))throw b;Ot("LocalStore","Failed to update sequence numbers: "+b)}for(const b of m){const P=b.targetId;if(!b.fromCache){const V=y.Ui.get(P),K=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);y.Ui=y.Ui.insert(P,K)}}}),function(f,m){return d.apply(this,arguments)})(i.localStore,s))}),$M.apply(this,arguments)}function O$(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,Ze.Z)(function*(n,e){const t=Wt(n);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const i=yield Sk(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(u=>{u.forEach(d=>{d.reject(new xt(gt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield iu(t,i.ji)}var r}),HM.apply(this,arguments)}function R$(n,e){const t=Wt(n),i=t.cc.get(e);if(i&&i.nc)return Pn().add(i.key);{let r=Pn();const s=t.rc.get(e);if(!s)return r;for(const u of s){const d=t.ic.get(u);r=r.unionWith(d.view.ju)}return r}}function N$(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,Ze.Z)(function*(n,e){const t=Wt(n),i=yield _1(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&jM(t,e.targetId,r.Xu),r}),GM.apply(this,arguments)}function k$(n,e){return zM.apply(this,arguments)}function zM(){return zM=(0,Ze.Z)(function*(n,e){const t=Wt(n);return Ik(t.localStore,e).then(i=>iu(t,i))}),zM.apply(this,arguments)}function F$(n,e,t,i){return WM.apply(this,arguments)}function WM(){return WM=(0,Ze.Z)(function*(n,e,t,i){const r=Wt(n),s=yield function(u,d){const f=Wt(u),m=Wt(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",y=>m.Tn(y,d).next(b=>b?f.localDocuments.getDocuments(y,b):ot.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield _v(r.remoteStore):"acknowledged"===t||"rejected"===t?(VM(r,e,i||null),BM(r,e),d=e,Wt(Wt(r.localStore).mutationQueue).An(d)):tn(),yield iu(r,s)):Ot("SyncEngine","Cannot apply mutation batch with id: "+e)}),WM.apply(this,arguments)}function qM(){return qM=(0,Ze.Z)(function*(n,e){const t=Wt(n);if(JM(t),QM(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Jk(t,i.toArray());t.dc=!0,yield yM(t.remoteStore,!0);for(const s of r)w1(t.remoteStore,s)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Cv(t,u),gv(t.localStore,u,!0))),Uw(t.remoteStore,u)}),yield r,yield Jk(t,i),function(s){const u=Wt(s);u.cc.forEach((d,f)=>{Uw(u.remoteStore,f)}),u.ac.fs(),u.cc=new Map,u.uc=new Ci(jt.comparator)}(t),t.dc=!1,yield yM(t.remoteStore,!1)}}),qM.apply(this,arguments)}function Jk(n,e,t){return YM.apply(this,arguments)}function YM(){return YM=(0,Ze.Z)(function*(n,e,t){const i=Wt(n),r=[],s=[];for(const u of e){let d;const f=i.rc.get(u);if(f&&0!==f.length){d=yield pv(i.localStore,Rt(f[0]));for(const m of f){const y=i.ic.get(m),b=yield N$(i,y);b.snapshot&&s.push(b.snapshot)}}else{const m=yield Dk(i.localStore,u);d=yield pv(i.localStore,m),yield xM(i,Qk(m),u,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),YM.apply(this,arguments)}function Qk(n){return Z(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function B$(n){const e=Wt(n);return Wt(Wt(e.localStore).persistence).vi()}function V$(n,e,t,i){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ze.Z)(function*(n,e,t,i){const r=Wt(n);if(r.dc)return void Ot("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield Ik(r.localStore,pi(s[0])),d=Aw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,sr.EMPTY_BYTE_STRING);yield iu(r,u,d);break}case"rejected":yield gv(r.localStore,e,!0),Cv(r,e,i);break;default:tn()}}),ZM.apply(this,arguments)}function j$(n,e,t){return KM.apply(this,arguments)}function KM(){return KM=(0,Ze.Z)(function*(n,e,t){const i=JM(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Ot("SyncEngine","Adding an already active target "+r);continue}const s=yield Dk(i.localStore,r),u=yield pv(i.localStore,s);yield xM(i,Qk(s),u.targetId,!1,u.resumeToken),w1(i.remoteStore,u)}for(const r of t)i.rc.has(r)&&(yield gv(i.localStore,r,!1).then(()=>{Uw(i.remoteStore,r),Cv(i,r)}).catch(Ma))}}),KM.apply(this,arguments)}function JM(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D$.bind(null,e),e.sc.Wo=_$.bind(null,e.eventManager),e.sc.wc=v$.bind(null,e.eventManager),e}function QM(n){const e=Wt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x$.bind(null,e),e}class Xk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ze.Z)(function*(){t.It=Vw(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Ek(this.persistence,new Ck,e.initialUser,this.It)}yc(e){return new bk(g1.Bs,this.It)}gc(e){return new Ok}terminate(){var e=this;return(0,Ze.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eF extends Xk{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ze.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield QM(i.Ac.syncEngine),yield _v(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Ek(this.persistence,new Ck,e.initialUser,this.It)}Tc(e,t){return new MU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new YA(t,this.persistence);return new qA(e.asyncQueue,i)}yc(e){const t=Wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Os.withCacheSize(this.cacheSizeBytes):Os.DEFAULT;return new zx(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,Nk(),b1(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new Ok}}class $$ extends eF{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ze.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof tM&&(i.sharedClientState.syncEngine={Fr:F$.bind(null,r),$r:V$.bind(null,r),Br:j$.bind(null,r),vi:B$.bind(null,r),Mr:k$.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Ze.Z)(function*(u){yield function L$(n,e){return qM.apply(this,arguments)}(i.Ac.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}gc(e){const t=Nk();if(!tM.C(t))throw new xt(gt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new tM(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class XM{initialize(e,t){var i=this;return(0,Ze.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Zk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=O$.bind(null,i.syncEngine),yield yM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new m$}createDatastore(e){const t=Vw(e.databaseInfo.databaseId),i=new XU(e.databaseInfo);return new n$(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>Zk(this.syncEngine,d,0),u=Rk.C()?new Rk:new KU,new s$(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,d,f,m){const y=new E$(i,r,s,u,d,f);return m&&(y.dc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ze.Z)(function*(t){const i=Wt(t);Ot("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield mv(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eP(n,e,t){if(!t)throw new xt(gt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tF(n,e,t,i){if(!0===e&&!0===i)throw new xt(gt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nF(n){if(!jt.isDocumentKey(n))throw new xt(gt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iF(n){if(jt.isDocumentKey(n))throw new xt(gt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function E1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tn()}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xt(gt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=E1(n);throw new xt(gt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function rF(n,e){if(e<=0)throw new xt(gt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const sF=new Map;class oF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(gt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(gt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,tF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $w{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xt(gt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(gt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new no;switch(t.type){case"gapi":return new Is(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xt(gt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sF.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),sF.delete(e),t.terminate())}(this),Promise.resolve()}}class Ei{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class Xr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class Fl extends Xr{constructor(e,t,i){super(e,t,he(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new jt(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function lF(n,e,...t){if(n=(0,cn.m9)(n),eP("collection","path",e),n instanceof $w){const i=kn.fromString(e,...t);return iF(i),new Fl(n,null,i)}{if(!(n instanceof Ei||n instanceof Fl))throw new xt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kn.fromString(e,...t));return iF(i),new Fl(n.firestore,null,i)}}function S1(n,e,...t){if(n=(0,cn.m9)(n),1===arguments.length&&(e=W_.R()),eP("doc","path",e),n instanceof $w){const i=kn.fromString(e,...t);return nF(i),new Ei(n,null,new jt(i))}{if(!(n instanceof Ei||n instanceof Fl))throw new xt(gt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kn.fromString(e,...t));return nF(i),new Ei(n.firestore,n instanceof Fl?n.converter:null,new jt(i))}}function cF(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),(n instanceof Ei||n instanceof Fl)&&(e instanceof Ei||e instanceof Fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function tP(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),n instanceof Xr&&e instanceof Xr&&n.firestore===e.firestore&&un(n._query,e._query)&&n.converter===e.converter}function uF(n,e=10240){let t=0;return{read:()=>(0,Ze.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ze.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class A1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class G${constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Wi,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,Ze.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,Ze.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,Ze.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const s=yield e.Cc(r);return new y$(JSON.parse(s),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,Ze.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,Ze.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,Ze.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class q${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ze.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xt(gt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ze.Z)(function*(s,u){const d=Wt(s),f=xw(d.It)+"/documents",m={documents:u.map(V=>Iw(d.It,V))},y=yield d._o("BatchGetDocuments",f,m,u.length),b=new Map;y.forEach(V=>{const ee=function Wj(n,e){return"found"in e?function(t,i){vn(!!i.found);const r=Nl(t,i.found.name),s=Ar(i.found.updateTime),u=new pr({mapValue:{fields:i.found.fields}});return fi.newFoundDocument(r,s,u)}(n,e):"missing"in e?function(t,i){vn(!!i.missing),vn(!!i.readTime);const r=Nl(t,i.missing),s=Ar(i.readTime);return fi.newNoDocument(r,s)}(n,e):tn()}(d.It,V);b.set(ee.key.toString(),ee)});const P=[];return u.forEach(V=>{const ee=b.get(V.toString());vn(!!ee),P.push(ee)}),P}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new cv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ze.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=jt.fromPath(r);e.mutations.push(new Px(s,e.precondition(s)))}),yield(i=(0,Ze.Z)(function*(r,s){const u=Wt(r),d=xw(u.It)+"/documents",f={writes:s.map(m=>Mw(u.It,m))};yield u.ao("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tn();t=_n.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new xt(gt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_n.min())?Oi.exists(!1):Oi.updateTime(t):Oi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_n.min()))throw new xt(gt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(t)}return Oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Y${constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new nM(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,Ze.Z)(function*(){const t=new q$(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Fc(s)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!bp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!AN(t)}return!1}}class Z${constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=hr.UNAUTHENTICATED,this.clientId=W_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Ze.Z)(function*(d){Ot("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ot("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Ze.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(gt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ze.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=yv(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function dF(n,e){return nP.apply(this,arguments)}function nP(){return nP=(0,Ze.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ze.Z)(function*(s){i.isEqual(s)||(yield Sk(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nP.apply(this,arguments)}function hF(n,e){return iP.apply(this,arguments)}function iP(){return iP=(0,Ze.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rP(n);Ot("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Uk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Uk(e.remoteStore,s)),n.onlineComponents=e}),iP.apply(this,arguments)}function rP(n){return sP.apply(this,arguments)}function sP(){return sP=(0,Ze.Z)(function*(n){return n.offlineComponents||(Ot("FirestoreClient","Using default OfflineComponentProvider"),yield dF(n,new Xk)),n.offlineComponents}),sP.apply(this,arguments)}function T1(n){return oP.apply(this,arguments)}function oP(){return oP=(0,Ze.Z)(function*(n){return n.onlineComponents||(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield hF(n,new XM)),n.onlineComponents}),oP.apply(this,arguments)}function fF(n){return rP(n).then(e=>e.persistence)}function D1(n){return rP(n).then(e=>e.localStore)}function aP(n){return T1(n).then(e=>e.remoteStore)}function lP(n){return T1(n).then(e=>e.syncEngine)}function Ev(n){return cP.apply(this,arguments)}function cP(){return cP=(0,Ze.Z)(function*(n){const e=yield T1(n),t=e.eventManager;return t.onListen=S$.bind(null,e.syncEngine),t.onUnlisten=A$.bind(null,e.syncEngine),t}),cP.apply(this,arguments)}function gF(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function(r,s,u,d,f){const m=new A1({next:b=>{s.enqueueAndForget(()=>SM(r,y));const P=b.docs.has(u);!P&&b.fromCache?f.reject(new xt(gt.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&b.fromCache&&d&&"server"===d.source?f.reject(new xt(gt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),y=new DM(he(u.path),m,{includeMetadataChanges:!0,Nu:!0});return CM(r,y)}(yield Ev(n),n.asyncQueue,e,t,i)})),i.promise}function mF(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function(r,s,u,d,f){const m=new A1({next:b=>{s.enqueueAndForget(()=>SM(r,y)),b.fromCache&&"server"===d.source?f.reject(new xt(gt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),y=new DM(u,m,{includeMetadataChanges:!0,Nu:!0});return CM(r,y)}(yield Ev(n),n.asyncQueue,e,t,i)})),i.promise}class iH{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new nM(this,"async_queue_retry"),this.Wc=()=>{const t=b1();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=b1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=b1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Wi;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,Ze.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Pa(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,zi("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=wM.createAndSchedule(this,e,t,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&tn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,Ze.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function uP(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class rH{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Si extends $w{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new iH,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_F(this),this._firestoreClient.terminate()}}function Qi(n){return n._firestoreClient||_F(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _F(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hw(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new Z$(n._authCredentials,n._appCheckCredentials,n._queue,i)}function vF(n,e,t){const i=new Wi;return n.asyncQueue.enqueue((0,Ze.Z)(function*(){try{yield dF(n,t),yield hF(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===gt.FAILED_PRECONDITION||u.code===gt.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;Wd("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function yF(n){if(n._initialized||n._terminated)throw new xt(gt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(sr.fromBase64String(e))}catch(t){throw new xt(gt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ll(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ru{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xt(gt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pp{constructor(e){this._methodName=e}}class I1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(gt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(gt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Cn(this._lat,e._lat)||Cn(this._long,e._long)}}const pH=/^__.*__$/;class gH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new lv(e,this.data,t,this.fieldTransforms)}}class bF{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class x1{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new x1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return O1(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(wF(this.sa)&&pH.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class mH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=i||Vw(e)}da(e,t,i,r=!1){return new x1({sa:e,methodName:t,fa:i,path:_i.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Op(n){const e=n._freezeSettings(),t=Vw(n._databaseId);return new mH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function M1(n,e,t,i,r,s={}){const u=n.da(s.merge||s.mergeFields?2:0,e,t,r);pP("Data must be an object, but it was:",u,i);const d=SF(i,u);let f,m;if(s.merge)f=new Ms(u.fieldMask),m=u.fieldTransforms;else if(s.mergeFields){const y=[];for(const b of s.mergeFields){const P=gP(e,b,t);if(!u.contains(P))throw new xt(gt.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);TF(y,P)||y.push(P)}f=new Ms(y),m=u.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,m=u.fieldTransforms;return new gH(new pr(d),f,m)}class Hw extends Pp{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hw}}function CF(n,e,t){return new x1({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class dP extends Pp{_toFieldTransform(e){return new ww(e.path,new Ol)}isEqual(e){return e instanceof dP}}class _H extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=CF(this,e,!0),i=this._a.map(s=>Rp(s,t)),r=new wp(i);return new ww(e.path,r)}isEqual(e){return this===e}}class vH extends Pp{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=CF(this,e,!0),i=this._a.map(s=>Rp(s,t)),r=new Cp(i);return new ww(e.path,r)}isEqual(e){return this===e}}class yH extends Pp{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new av(e.It,sv(e.It,this.wa));return new ww(e.path,t)}isEqual(e){return this===e}}function hP(n,e,t,i){const r=n.da(1,e,t);pP("Data must be an object, but it was:",r,i);const s=[],u=pr.empty();Yd(i,(f,m)=>{const y=P1(e,f,t);m=(0,cn.m9)(m);const b=r.ca(y);if(m instanceof Hw)s.push(y);else{const P=Rp(m,b);null!=P&&(s.push(y),u.set(y,P))}});const d=new Ms(s);return new bF(u,d,r.fieldTransforms)}function fP(n,e,t,i,r,s){const u=n.da(1,e,t),d=[gP(e,i,t)],f=[r];if(s.length%2!=0)throw new xt(gt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<s.length;P+=2)d.push(gP(e,s[P])),f.push(s[P+1]);const m=[],y=pr.empty();for(let P=d.length-1;P>=0;--P)if(!TF(m,d[P])){const V=d[P];let ee=f[P];ee=(0,cn.m9)(ee);const K=u.ca(V);if(ee instanceof Hw)m.push(V);else{const ne=Rp(ee,K);null!=ne&&(m.push(V),y.set(V,ne))}}const b=new Ms(m);return new bF(y,b,u.fieldTransforms)}function EF(n,e,t,i=!1){return Rp(t,n.da(i?4:3,e))}function Rp(n,e){if(AF(n=(0,cn.m9)(n)))return pP("Unsupported field value:",e,n),SF(n,e);if(n instanceof Pp)return function(t,i){if(!wF(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let d=Rp(u,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sv(i.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=hi.fromDate(t);return{timestampValue:Dw(i.It,r)}}if(t instanceof hi){const r=new hi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dw(i.It,r)}}if(t instanceof I1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ll)return{bytesValue:kN(i.It,t._byteString)};if(t instanceof Ei){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ox(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${E1(t)}`)}(n,e)}function SF(n,e){const t={};return Ax(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yd(n,(i,r)=>{const s=Rp(r,e.ra(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function AF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hi||n instanceof I1||n instanceof Ll||n instanceof Ei||n instanceof Pp)}function pP(n,e,t){if(!AF(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=E1(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function gP(n,e,t){if((e=(0,cn.m9)(e))instanceof ru)return e._internalPath;if("string"==typeof e)return P1(n,e);throw O1("Field path arguments must be of type string or ",n,!1,void 0,t)}const bH=new RegExp("[~\\*/\\[\\]]");function P1(n,e,t){if(e.search(bH)>=0)throw O1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ru(...e.split("."))._internalPath}catch{throw O1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function O1(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||u)&&(f+=" (found",s&&(f+=` in field ${i}`),u&&(f+=` in document ${r}`),f+=")"),new xt(gt.INVALID_ARGUMENT,d+n+f)}function TF(n,e){return n.some(t=>t.isEqual(e))}class Gw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new wH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(R1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class wH extends Gw{data(){return super.data()}}function R1(n,e){return"string"==typeof e?P1(n,e):e instanceof ru?e._internalPath:e._delegate._internalPath}function DF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xt(gt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zw{}function oh(n,...e){for(const t of e)n=t._apply(n);return n}class CH extends zw{constructor(e,t,i){super(),this.ma=e,this.ga=t,this.ya=i,this.type="where"}_apply(e){const t=Op(e.firestore),i=function(r,s,u,d,f,m,y){let b;if(f.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new xt(gt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){RF(y,m);const V=[];for(const ee of y)V.push(OF(d,r,ee));b={arrayValue:{values:V}}}else b=OF(d,r,y)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||RF(y,m),b=EF(u,"where",y,"in"===m||"not-in"===m);const P=Sr.create(f,m,b);return function(V,ee){if(ee.dt()){const ne=it(V);if(null!==ne&&!ne.isEqual(ee.field))throw new xt(gt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ne.toString()}' and '${ee.field.toString()}'`);const we=Ve(V);null!==we&&NF(0,ee.field,we)}const K=function(ne,we){for(const Se of ne.filters)if(we.indexOf(Se.op)>=0)return Se.op;return null}(V,function(ne){switch(ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==K)throw new xt(gt.INVALID_ARGUMENT,K===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${K.toString()}' filters.`)}(r,P),P}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Xr(e.firestore,e.converter,function(r,s){const u=r.filters.concat([s]);return new O(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class SH extends zw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new xt(gt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new xt(gt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new p(r,s);return function(d,f){if(null===Ve(d)){const m=it(d);null!==m&&NF(0,m,f.field)}}(i,u),u}(e._query,this.ma,this.pa);return new Xr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new O(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class IF extends zw{constructor(e,t,i){super(),this.type=e,this.Ia=t,this.Ta=i}_apply(e){return new Xr(e.firestore,e.converter,Qt(e._query,this.Ia,this.Ta))}}class xF extends zw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=PF(e,this.type,this.Ea,this.Aa);return new Xr(e.firestore,e.converter,(r=t,new O((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class MF extends zw{constructor(e,t,i){super(),this.type=e,this.Ea=t,this.Aa=i}_apply(e){const t=PF(e,this.type,this.Ea,this.Aa);return new Xr(e.firestore,e.converter,(r=t,new O((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function PF(n,e,t,i){if(t[0]=(0,cn.m9)(t[0]),t[0]instanceof Gw)return function(r,s,u,d,f){if(!d)throw new xt(gt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const y of Pt(r))if(y.field.isKeyField())m.push(Xc(s,d.key));else{const b=d.data.field(y.field);if(Z_(b))throw new xt(gt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const P=y.field.canonicalString();throw new xt(gt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}m.push(b)}return new h(m,f)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Op(n.firestore);return function(s,u,d,f,m,y){const b=s.explicitOrderBy;if(m.length>b.length)throw new xt(gt.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let V=0;V<m.length;V++){const ee=m[V];if(b[V].field.isKeyField()){if("string"!=typeof ee)throw new xt(gt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof ee}`);if(!vt(s)&&-1!==ee.indexOf("/"))throw new xt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${ee}' contains a slash.`);const K=s.path.child(kn.fromString(ee));if(!jt.isDocumentKey(K))throw new xt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const ne=new jt(K);P.push(Xc(u,ne))}else{const K=EF(d,f,ee);P.push(K)}}return new h(P,y)}(n._query,n.firestore._databaseId,r,e,t,i)}}function OF(n,e,t){if("string"==typeof(t=(0,cn.m9)(t))){if(""===t)throw new xt(gt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vt(e)&&-1!==t.indexOf("/"))throw new xt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(kn.fromString(t));if(!jt.isDocumentKey(i))throw new xt(gt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xc(n,new jt(i))}if(t instanceof Ei)return Xc(n,t._key);throw new xt(gt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${E1(t)}.`)}function RF(n,e){if(!Array.isArray(n)||0===n.length)throw new xt(gt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new xt(gt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NF(n,e,t){if(!t.isEqual(e))throw new xt(gt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mP{convertValue(e,t="none"){switch(Kd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tn()}}convertObject(e,t){const i={};return Yd(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new I1(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ml(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Zd(e));default:return null}}convertTimestamp(e){const t=io(e);return new hi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=kn.fromString(e);vn(GN(i));const r=new Vo(i.get(1),i.get(3)),s=new jt(i.popFirst(5));return r.isEqual(t)||zi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function N1(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class OH extends mP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}class Np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class su extends Gw{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(R1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Ww extends su{data(e={}){return super.data(e)}}class ah{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Np(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ww(this._firestore,this._userDataWriter,i.key,i,new Np(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(gt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Ww(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Np(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const d=new Ww(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Np(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return 0!==u.type&&(f=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),m=s.indexOf(u.doc.key)),{type:RH(u.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function RH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}function kF(n,e){return n instanceof su&&e instanceof su?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ah&&e instanceof ah&&n._firestore===e._firestore&&tP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class lh extends mP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,t)}}function FF(n,e,t){n=Fn(n,Ei);const i=Fn(n.firestore,Si),r=N1(n.converter,e,t);return Sv(i,[M1(Op(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Oi.none())])}function LF(n,e,t,...i){n=Fn(n,Ei);const r=Fn(n.firestore,Si),s=Op(r);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof ru?fP(s,"updateDoc",n._key,e,t,i):hP(s,"updateDoc",n._key,e),Sv(r,[u.toMutation(n._key,Oi.exists(!0))])}function BF(n,...e){var t,i,r;n=(0,cn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||uP(e[u])||(s=e[u],u++);const d={includeMetadataChanges:s.includeMetadataChanges};if(uP(e[u])){const b=e[u];e[u]=null===(t=b.next)||void 0===t?void 0:t.bind(b),e[u+1]=null===(i=b.error)||void 0===i?void 0:i.bind(b),e[u+2]=null===(r=b.complete)||void 0===r?void 0:r.bind(b)}let f,m,y;if(n instanceof Ei)m=Fn(n.firestore,Si),y=he(n._key.path),f={next:b=>{e[u]&&e[u](_P(m,n,b))},error:e[u+1],complete:e[u+2]};else{const b=Fn(n,Xr);m=Fn(b.firestore,Si),y=b._query;const P=new lh(m);f={next:V=>{e[u]&&e[u](new ah(m,P,b,V))},error:e[u+1],complete:e[u+2]},DF(n._query)}return function(b,P,V,ee){const K=new A1(ee),ne=new DM(P,K,V);return b.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return CM(yield Ev(b),ne)})),()=>{K.bc(),b.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return SM(yield Ev(b),ne)}))}}(Qi(m),y,d,f)}function Sv(n,e){return function(t,i){const r=new Wi;return t.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function T$(n,e,t){return OM.apply(this,arguments)}(yield lP(t),i,r)})),r.promise}(Qi(n),e)}function _P(n,e,t){const i=t.docs.get(e._key),r=new lh(n);return new su(n,r,e._key,i,new Np(t.hasPendingWrites,t.fromCache),e.converter)}const HH={maxAttempts:5};class VF{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,t,i){this._verifyNotCommitted();const r=ch(e,this._firestore),s=N1(r.converter,t,i),u=M1(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Oi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=ch(e,this._firestore);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof ru?fP(this._dataReader,"WriteBatch.update",s._key,t,i,r):hP(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,Oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ch(e,this._firestore);return this._mutations=this._mutations.concat(new cv(t._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(gt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ch(n,e){if((n=(0,cn.m9)(n)).firestore!==e)throw new xt(gt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class GH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Op(e)}get(e){const t=ch(e,this._firestore),i=new OH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return tn();const s=r[0];if(s.isFoundDocument())return new Gw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Gw(this._firestore,i,t._key,null,t.converter);throw tn()})}set(e,t,i){const r=ch(e,this._firestore),s=N1(r.converter,t,i),u=M1(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=ch(e,this._firestore);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof ru?fP(this._dataReader,"Transaction.update",s._key,t,i,r):hP(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=ch(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ch(e,this._firestore),i=new lh(this._firestore);return super.get(e).then(r=>new su(this._firestore,i,t._key,r._document,new Np(!1,!1),t.converter))}}function vP(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UF(){if(typeof Uint8Array>"u")throw new xt("unimplemented","Uint8Arrays are not available in this environment.")}function $F(){if(!function cN(){return typeof atob<"u"}())throw new xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fp=Kn.SDK_VERSION,(0,Kn._registerComponent)(new Ss.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),u=new Si(new ow(t.getProvider("auth-internal")),new aw(t.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new xt(gt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Kn.registerVersion)(rw,"3.7.2",n),(0,Kn.registerVersion)(rw,"3.7.2","esm2017")}();class qw{constructor(e){this._delegate=e}static fromBase64String(e){return $F(),new qw(Ll.fromBase64String(e))}static fromUint8Array(e){return UF(),new qw(Ll.fromUint8Array(e))}toBase64(){return $F(),this._delegate.toBase64()}toUint8Array(){return UF(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yP(n){return function XH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class eG{enableIndexedDbPersistence(e,t){return function oH(n,e){yF(n=Fn(n,Si));const t=Qi(n),i=n._freezeSettings(),r=new XM;return vF(t,r,new eF(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function aH(n){yF(n=Fn(n,Si));const e=Qi(n),t=n._freezeSettings(),i=new XM;return vF(e,i,new $$(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function lH(n){if(n._initialized&&!n._terminated)throw new xt(gt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ze.Z)(function*(){try{yield(t=(0,Ze.Z)(function*(i){if(!xs.C())return Promise.resolve();const r=i+"main";yield xs.delete(r)}),function(i){return t.apply(this,arguments)})(Wx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class HF{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function aF(n,e,t,i={}){var r;const s=(n=Fn(n,$w))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Wd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,d;if("string"==typeof i.mockUserToken)u=i.mockUserToken,d=hr.MOCK_USER;else{u=(0,cn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new xt(gt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new hr(f)}n._authCredentials=new yx(new vx(u,d))}}(this._delegate,e,t,i)}enableNetwork(){return function uH(n){return function K$(n){return n.asyncQueue.enqueue((0,Ze.Z)(function*(){const e=yield fF(n),t=yield aP(n);return e.setNetworkEnabled(!0),function(i){const r=Wt(i);return r._u.delete(0),jw(r)}(t)}))}(Qi(n=Fn(n,Si)))}(this._delegate)}disableNetwork(){return function dH(n){return function J$(n){return n.asyncQueue.enqueue((0,Ze.Z)(function*(){const e=yield fF(n),t=yield aP(n);return e.setNetworkEnabled(!1),(i=(0,Ze.Z)(function*(r){const s=Wt(r);s._u.add(0),yield mv(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(Qi(n=Fn(n,Si)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,tF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cH(n){return function(e){const t=new Wi;return e.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return function M$(n,e){return LM.apply(this,arguments)}(yield lP(e),t)})),t.promise}(Qi(n=Fn(n,Si)))}(this._delegate)}onSnapshotsInSync(e){return function $H(n,e){return function eH(n,e){const t=new A1(e);return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return i=yield Ev(n),r=t,Wt(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return i=yield Ev(n),r=t,void Wt(i).Ru.delete(r);var i,r}))}}(Qi(n=Fn(n,Si)),uP(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Av(this,lF(this._delegate,e))}catch(t){throw cs(t,"collection()","Firestore.collection()")}}doc(e){try{return new jo(this,S1(this._delegate,e))}catch(t){throw cs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new us(this,function H$(n,e){if(n=Fn(n,$w),eP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xt(gt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(t=e,new O(kn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw cs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zH(n,e,t){n=Fn(n,Si);const i=Object.assign(Object.assign({},HH),t);return function(r){if(r.maxAttempts<1)throw new xt(gt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const d=new Wi;return r.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){const f=yield function pF(n){return T1(n).then(e=>e.datastore)}(r);new Y$(r.asyncQueue,f,u,s,d).run()})),d.promise}(Qi(n),r=>e(new GH(n,r)),i)}(this._delegate,t=>e(new GF(this,t)))}batch(){return Qi(this._delegate),new zF(new VF(this._delegate,e=>Sv(this._delegate,e)))}loadBundle(e){return function hH(n,e){const t=Qi(n=Fn(n,Si)),i=new rH;return function tH(n,e,t,i){const r=function(s,u){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return uF(f,m);if(f instanceof ArrayBuffer)return uF(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new G$(f,u);var f}(t,Vw(e));n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){!function U$(n,e,t){const i=Wt(n);var r;(r=(0,Ze.Z)(function*(s,u,d){try{const f=yield u.getMetadata();if(yield function(P,V){const ee=Wt(P),K=Ar(V.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",ne=>ee.Ns.getBundleMetadata(ne,V.id)).then(ne=>!!ne&&ne.createTime.compareTo(K)>=0)}(s.localStore,f))return yield u.close(),d._completeWith({taskState:"Success",documentsLoaded:(P=f).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);d._updateProgress(Gk(f));const m=new b$(f,s.localStore,u.It);let y=yield u.mc();for(;y;){const P=yield m.Fu(y);P&&d._updateProgress(P),y=yield u.mc()}const b=yield m.complete();return yield iu(s,b.Lu,void 0),yield function(P,V){const ee=Wt(P);return ee.persistence.runTransaction("Save bundle","readwrite",K=>ee.Ns.saveBundleMetadata(K,V))}(s.localStore,f),d._completeWith(b.progress),Promise.resolve(b.Bu)}catch(f){return Wd("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var P}),function(s,u,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield lP(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function fH(n,e){return function nH(n,e){return n.asyncQueue.enqueue((0,Ze.Z)(function*(){return function(t,i){const r=Wt(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield D1(n),e)}))}(Qi(n=Fn(n,Si)),e).then(t=>t?new Xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new us(this,t):null)}}class k1 extends mP{constructor(e){super(),this.firestore=e}convertBytes(e){return new qw(new Ll(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return jo.forKey(t,this.firestore,null)}}class GF{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new k1(e)}get(e){const t=Fp(e);return this._delegate.get(t).then(i=>new Yw(this._firestore,new su(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Fp(e);return i?(vP("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Fp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Fp(e);return this._delegate.delete(t),this}}class zF{constructor(e){this._delegate=e}set(e,t,i){const r=Fp(e);return i?(vP("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Fp(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Fp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class kp{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Ww(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=kp.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new kp(e,new k1(e),t),r.set(t,s)),s}}kp.INSTANCES=new WeakMap;class jo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k1(e)}static forPath(e,t,i){if(e.length%2!=0)throw new xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new jo(t,new Ei(t._delegate,i,new jt(e)))}static forKey(e,t,i){return new jo(t,new Ei(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Av(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Av(this.firestore,lF(this._delegate,e))}catch(t){throw cs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.m9)(e))instanceof Ei&&cF(this._delegate,e)}set(e,t){t=vP("DocumentReference.set",t);try{return t?FF(this._delegate,e,t):FF(this._delegate,e)}catch(i){throw cs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?LF(this._delegate,e):LF(this._delegate,e,t,...i)}catch(r){throw cs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function jH(n){return Sv(Fn(n.firestore,Si),[new cv(n._key,Oi.none())])}(this._delegate)}onSnapshot(...e){const t=WF(e),i=qF(e,r=>new Yw(this.firestore,new su(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return BF(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function kH(n){n=Fn(n,Ei);const e=Fn(n.firestore,Si),t=Qi(e),i=new lh(e);return function Q$(n,e){const t=new Wi;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return(i=(0,Ze.Z)(function*(r,s,u){try{const d=yield function(f,m){const y=Wt(f);return y.persistence.runTransaction("read document","readonly",b=>y.localDocuments.getDocument(b,m))}(r,s);d.isFoundDocument()?u.resolve(d):d.isNoDocument()?u.resolve(null):u.reject(new xt(gt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=yv(d,`Failed to get document '${s} from cache`);u.reject(f)}}),function(r,s,u){return i.apply(this,arguments)})(yield D1(n),e,t);var i})),t.promise}(t,n._key).then(r=>new su(e,i,n._key,r,new Np(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function FH(n){n=Fn(n,Ei);const e=Fn(n.firestore,Si);return gF(Qi(e),n._key,{source:"server"}).then(t=>_P(e,n,t))}(this._delegate):function NH(n){n=Fn(n,Ei);const e=Fn(n.firestore,Si);return gF(Qi(e),n._key).then(t=>_P(e,n,t))}(this._delegate),t.then(i=>new Yw(this.firestore,new su(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new jo(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function cs(n,e,t){return n.message=n.message.replace(e,t),n}function WF(n){for(const e of n)if("object"==typeof e&&!yP(e))return e;return{}}function qF(n,e){var t,i;let r;return r=yP(n[0])?n[0]:yP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Yw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new jo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return kF(this._delegate,e._delegate)}}class Zw extends Yw{data(e){const t=this._delegate.data(e);return function _x(n,e){n||tn()}(void 0!==t),t}}class us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new k1(e)}where(e,t,i){try{return new us(this.firestore,oh(this._delegate,function EH(n,e,t){const i=e,r=R1("where",n);return new CH(r,i,t)}(e,t,i)))}catch(r){throw cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new us(this.firestore,oh(this._delegate,function AH(n,e="asc"){const t=e,i=R1("orderBy",n);return new SH(i,t)}(e,t)))}catch(i){throw cs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new us(this.firestore,oh(this._delegate,function TH(n){return rF("limit",n),new IF("limit",n,"F")}(e)))}catch(t){throw cs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new us(this.firestore,oh(this._delegate,function DH(n){return rF("limitToLast",n),new IF("limitToLast",n,"L")}(e)))}catch(t){throw cs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new us(this.firestore,oh(this._delegate,function IH(...n){return new xF("startAt",n,!0)}(...e)))}catch(t){throw cs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new us(this.firestore,oh(this._delegate,function xH(...n){return new xF("startAfter",n,!1)}(...e)))}catch(t){throw cs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new us(this.firestore,oh(this._delegate,function MH(...n){return new MF("endBefore",n,!1)}(...e)))}catch(t){throw cs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new us(this.firestore,oh(this._delegate,function PH(...n){return new MF("endAt",n,!0)}(...e)))}catch(t){throw cs(t,"endAt()","Query.endAt()")}}isEqual(e){return tP(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function BH(n){n=Fn(n,Xr);const e=Fn(n.firestore,Si),t=Qi(e),i=new lh(e);return function X$(n,e){const t=new Wi;return n.asyncQueue.enqueueAndForget((0,Ze.Z)(function*(){return(i=(0,Ze.Z)(function*(r,s,u){try{const d=yield _1(r,s,!0),f=new qk(s,d.Hi),m=f.Wu(d.documents),y=f.applyChanges(m,!1);u.resolve(y.snapshot)}catch(d){const f=yv(d,`Failed to execute query '${s} against cache`);u.reject(f)}}),function(r,s,u){return i.apply(this,arguments)})(yield D1(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ah(e,i,n,r))}(this._delegate):"server"===e?.source?function VH(n){n=Fn(n,Xr);const e=Fn(n.firestore,Si),t=Qi(e),i=new lh(e);return mF(t,n._query,{source:"server"}).then(r=>new ah(e,i,n,r))}(this._delegate):function LH(n){n=Fn(n,Xr);const e=Fn(n.firestore,Si),t=Qi(e),i=new lh(e);return DF(n._query),mF(t,n._query).then(r=>new ah(e,i,n,r))}(this._delegate),t.then(i=>new bP(this.firestore,new ah(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=WF(e),i=qF(e,r=>new bP(this.firestore,new ah(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return BF(this._delegate,t,i)}withConverter(e){return new us(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}class nG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bP{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Zw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new nG(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Zw(this._firestore,i))})}isEqual(e){return kF(this._delegate,e._delegate)}}class Av extends us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jo(this.firestore,e):null}doc(e){try{return new jo(this.firestore,void 0===e?S1(this._delegate):S1(this._delegate,e))}catch(t){throw cs(t,"doc()","CollectionReference.doc()")}}add(e){return function UH(n,e){const t=Fn(n.firestore,Si),i=S1(n),r=N1(n.converter,e);return Sv(t,[M1(Op(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Oi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new jo(this.firestore,t))}isEqual(e){return cF(this._delegate,e._delegate)}withConverter(e){return new Av(this.firestore,this._delegate.withConverter(e?kp.getInstance(this.firestore,e):null))}}function Fp(n){return Fn(n,Ei)}class wP{constructor(...e){this._delegate=new ru(...e)}static documentId(){return new wP(_i.keyField().canonicalString())}isEqual(e){return(e=(0,cn.m9)(e))instanceof ru&&this._delegate._internalPath.isEqual(e._internalPath)}}class Lp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function qH(){return new dP("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Lp(e)}static delete(){const e=function WH(){return new Hw("deleteField")}();return e._methodName="FieldValue.delete",new Lp(e)}static arrayUnion(...e){const t=function YH(...n){return new _H("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Lp(t)}static arrayRemove(...e){const t=function ZH(...n){return new vH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Lp(t)}static increment(e){const t=function KH(n){return new yH("increment",n)}(e);return t._methodName="FieldValue.increment",new Lp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iG={Firestore:HF,GeoPoint:I1,Timestamp:hi,Blob:qw,Transaction:GF,WriteBatch:zF,DocumentReference:jo,DocumentSnapshot:Yw,Query:us,QueryDocumentSnapshot:Zw,QuerySnapshot:bP,CollectionReference:Av,FieldPath:wP,FieldValue:Lp,setLogLevel:function tG(n){!function z_(n){xl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function sG(n){(function rG(n,e){n.INTERNAL.registerComponent(new Ss.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},iG)))})(n,(e,t)=>new HF(e,t,new eG)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(Wf.Z);var oG=ie(6451);class aG extends Yn.x{constructor(e=1/0,t=1/0,i=n0){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let d=0;for(let f=1;f<i.length&&i[f]<=u;f+=2)d=f;d&&i.splice(0,d+1)}}}var lG=ie(3099);function CP(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,lG.B)({connector:()=>new aG(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function YF(n,e){return(0,_r.m)(e)?ii(()=>n,e):ii(()=>n)}const ZF=new Map,fG={activated:!1,tokenObservers:[]},pG={initialized:!1,enabled:!1};function Ir(n){return ZF.get(n)||fG}function Uo(n,e){ZF.set(n,e)}function L1(){return pG}class yG{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ze.Z)(function*(){t.stop();try{t.pending=new cn.BH,yield function bG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ds=new cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JF(n){if(!Ir(n).activated)throw ds.create("use-before-activation",{appName:n.name})}function TP(n,e){return DP.apply(this,arguments)}function DP(){return DP=(0,Ze.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const V=yield u.getHeartbeatsHeader();V&&(s["X-Firebase-Client"]=V)}const d={method:"POST",body:JSON.stringify(e),headers:s};let f,m;try{f=yield fetch(n,d)}catch(V){throw ds.create("fetch-network-error",{originalErrorMessage:null===(i=V)||void 0===i?void 0:i.message})}if(200!==f.status)throw ds.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(V){throw ds.create("fetch-parse-error",{originalErrorMessage:null===(r=V)||void 0===r?void 0:r.message})}const y=m.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(y[1]),P=Date.now();return{token:m.token,expireTimeMillis:P+b,issuedAtTimeMillis:P}}),DP.apply(this,arguments)}function SG(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Kw="firebase-app-check-store";let j1=null;function XF(){return j1||(j1=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(ds.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Kw,{keyPath:"compositeKey"})}}catch(i){e(ds.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),j1)}function IP(){return IP=(0,Ze.Z)(function*(n,e){const i=(yield XF()).transaction(Kw,"readwrite"),s=i.objectStore(Kw).put({compositeKey:n,value:e});return new Promise((u,d)=>{s.onsuccess=f=>{u()},i.onerror=f=>{var m;d(ds.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})}),IP.apply(this,arguments)}const Jw=new Js.Yd("@firebase/app-check");function PP(n,e){return(0,cn.hl)()?function IG(n,e){return function eL(n,e){return IP.apply(this,arguments)}(function nL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function iL(){return L1().enabled}function rL(){return RP.apply(this,arguments)}function RP(){return RP=(0,Ze.Z)(function*(){const n=L1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RP.apply(this,arguments)}const NG={error:"UNKNOWN_ERROR"};function kG(n){return cn.US.encodeString(JSON.stringify(n),!1)}function U1(n){return NP.apply(this,arguments)}function NP(){return NP=(0,Ze.Z)(function*(n,e=!1){const t=n.app;JF(t);const i=Ir(t);let s,r=i.token;if(r&&!Tv(r)&&(Uo(t,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(Tv(f)?r=f:yield PP(t,void 0))}if(!e&&r&&Tv(r))return{token:r.token};let d,u=!1;if(iL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=TP(SG(t,yield rL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const f=yield i.exchangeTokenPromise;return yield PP(t,f),Uo(t,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Jw.warn(f.message):Jw.error(f),s=f}return r?s?d=Tv(r)?{token:r.token,internalError:s}:aL(s):(d={token:r.token},Uo(t,Object.assign(Object.assign({},i),{token:r})),yield PP(t,r)):d=aL(s),u&&oL(t,d),d}),NP.apply(this,arguments)}function FP(n,e){const t=Ir(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Uo(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function sL(n){const{app:e}=n,t=Ir(e);let i=t.tokenRefresher;i||(i=function FG(n){const{app:e}=n;return new yG((0,Ze.Z)(function*(){let i;if(i=Ir(e).token?yield U1(n,!0):yield U1(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ir(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Uo(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function oL(n,e){const t=Ir(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Tv(n){return n.expireTimeMillis-Date.now()>0}function aL(n){return{token:kG(NG),error:n}}class LG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ir(this.app);for(const t of e)FP(this.app,t.next);return Promise.resolve()}}const gL="app-check-internal";!function JG(){(0,Kn._registerComponent)(new Ss.wA("app-check",n=>function BG(n,e){return new LG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(gL).initialize()})),(0,Kn._registerComponent)(new Ss.wA(gL,n=>function VG(n){return{getToken:e=>U1(n,e),addTokenListener:e=>function kP(n,e,t,i){const{app:r}=n,s=Ir(r),u={next:t,error:i,type:e};if(Uo(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,u]})),s.token&&Tv(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),sL(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>sL(n))}(n,"INTERNAL",e),removeTokenListener:e=>FP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kn.registerVersion)("@firebase/app-check","0.5.16")}();class jP{constructor(){return((n,e)=>{const t=(0,Kn.getApps)(),i=[];return t.forEach(r=>{r.container.getProvider("app-check").instances.forEach(u=>{i.includes(u)||i.push(u)})}),i})()}}typeof window<"u"&&window,ie(127);const _L=new l.OlP("angularfire2.auth.use-emulator"),vL=new l.OlP("angularfire2.auth.settings"),yL=new l.OlP("angularfire2.auth.tenant-id"),bL=new l.OlP("angularfire2.auth.langugage-code"),wL=new l.OlP("angularfire2.auth.use-device-language"),CL=new l.OlP("angularfire.auth.persistence"),EL=(n,e,t,i,r,s,u,d)=>(0,Fo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=e.runOutsideAngular(()=>n.auth());if(t&&f.useEmulator(...t),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),u)for(const[m,y]of Object.entries(u))f.settings[m]=y;return d&&f.setPersistence(d),f},[t,i,r,s,u,d]);let SL=(()=>{class n{constructor(t,i,r,s,u,d,f,m,y,b,P,V){const ee=new Yn.x,K=Jt(void 0).pipe((0,Ad.Q)(u.outsideAngular),ii(()=>s.runOutsideAngular(()=>Promise.resolve().then(ie.bind(ie,1277)))),(0,kt.U)(()=>(0,Fo.on)(t,s,i)),(0,kt.U)(ne=>EL(ne,s,d,m,y,b,f,P)),CP({bufferSize:1,refCount:!1}));if(ur(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Jt(null);else{K.pipe(Gs()).subscribe();const we=K.pipe(ii($e=>$e.getRedirectResult().then(ze=>ze,()=>null)),as,CP({bufferSize:1,refCount:!1})),Se=K.pipe(ii($e=>new ui.y(ze=>({unsubscribe:s.runOutsideAngular(()=>$e.onAuthStateChanged(Qe=>ze.next(Qe),Qe=>ze.error(Qe),()=>ze.complete()))})))),Pe=K.pipe(ii($e=>new ui.y(ze=>({unsubscribe:s.runOutsideAngular(()=>$e.onIdTokenChanged(Qe=>ze.next(Qe),Qe=>ze.error(Qe),()=>ze.complete()))}))));this.authState=we.pipe(YF(Se),(0,Gf.R)(u.outsideAngular),(0,Ad.Q)(u.insideAngular)),this.user=we.pipe(YF(Pe),(0,Gf.R)(u.outsideAngular),(0,Ad.Q)(u.insideAngular)),this.idToken=this.user.pipe(ii($e=>$e?(0,zn.D)($e.getIdToken()):Jt(null))),this.idTokenResult=this.user.pipe(ii($e=>$e?(0,zn.D)($e.getIdTokenResult()):Jt(null))),this.credential=(0,oG.T)(we,ee,this.authState.pipe(Xn($e=>!$e))).pipe((0,kt.U)($e=>$e?.user?$e:null),(0,Gf.R)(u.outsideAngular),(0,Ad.Q)(u.insideAngular))}return(0,Fo.pX)(this,K,s,{spy:{apply:(ne,we,Se)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Se.then(Pe=>ee.next(Pe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fo.Dh),l.LFG(Fo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ub),l.LFG(_L,8),l.LFG(vL,8),l.LFG(yL,8),l.LFG(bL,8),l.LFG(wL,8),l.LFG(CL,8),l.LFG(jP,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function AL(n,e){return function r3(n,e=Af){return new ui.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function $P(n,e){return AL(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function H1(n,e){return $P(n,e).pipe(rs(void 0),c_(),(0,kt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,d)=>{const f=r.find(y=>y.doc.ref.isEqual(u.ref)),m=t?.payload.docs.find(y=>y.ref.isEqual(u.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(u.metadata)||!f&&m&&JSON.stringify(m.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:u}})}),s}))}function TL(n,e,t){return H1(n,t).pipe(aa((i,r)=>function o3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function a3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HP(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HP(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HP(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),function zf(n,e=vs.y){return n=n??qS,(0,bi.e)((t,i)=>{let r,s=!0;t.subscribe((0,oi.x)(i,u=>{const d=e(u);(s||!n(r,d))&&(s=!1,r=d,i.next(u))}))})}(),(0,kt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function HP(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function DL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class IL{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=H1(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(rs(void 0),c_(),Xn(([i,r])=>r.length>0||!i),(0,kt.U)(([i,r])=>r),as)}auditTrail(e){return this.stateChanges(e).pipe(aa((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=DL(e);return TL(this.query,t,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(e={}){return $P(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),as)}get(e){return(0,zn.D)(this.query.get(e)).pipe(as)}add(e){return this.ref.add(e)}doc(e){return new xL(this.ref.doc(e),this.afs)}}class xL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=ML(i,t);return new IL(r,s,this.afs)}snapshotChanges(){return function s3(n,e){return AL(n,e).pipe(rs(void 0),c_(),(0,kt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,zn.D)(this.ref.get(e)).pipe(as)}}class l3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?H1(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Xn(t=>t.length>0),as):H1(this.query,this.afs.schedulers.outsideAngular).pipe(as)}auditTrail(e){return this.stateChanges(e).pipe(aa((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=DL(e);return TL(this.query,t,this.afs.schedulers.outsideAngular).pipe(as)}valueChanges(e={}){return $P(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),as)}get(e){return(0,zn.D)(this.query.get(e)).pipe(as)}}const c3=new l.OlP("angularfire2.enableFirestorePersistence"),u3=new l.OlP("angularfire2.firestore.persistenceSettings"),d3=new l.OlP("angularfire2.firestore.settings"),h3=new l.OlP("angularfire2.firestore.use-emulator");function ML(n,e=(t=>t)){return{query:e(n),ref:n}}let f3=(()=>{class n{constructor(t,i,r,s,u,d,f,m,y,b,P,V,ee,K,ne,we,Se){this.schedulers=f;const Pe=(0,Fo.on)(t,d,i),$e=y;b&&EL(Pe,d,P,ee,K,ne,V,we),[this.firestore,this.persistenceEnabled$]=(0,Fo.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const ze=d.runOutsideAngular(()=>Pe.firestore());if(s&&ze.settings(s),$e&&ze.useEmulator(...$e),r&&!ur(u)){const Qe=()=>{try{return(0,zn.D)(ze.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(at){return typeof console<"u"&&console.warn(at),Jt(!1)}};return[ze,d.runOutsideAngular(Qe)]}return[ze,Jt(!1)]},[s,$e,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=ML(r,i),d=this.schedulers.ngZone.run(()=>s);return new IL(d,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new l3(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new xL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fo.Dh),l.LFG(Fo.xv,8),l.LFG(c3,8),l.LFG(d3,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ub),l.LFG(u3,8),l.LFG(h3,8),l.LFG(SL,8),l.LFG(_L,8),l.LFG(vL,8),l.LFG(yL,8),l.LFG(bL,8),l.LFG(wL,8),l.LFG(CL,8),l.LFG(jP,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function PL(n){return null!==n&&"object"==typeof n&&"constructor"in n&&n.constructor===Object}function GP(n={},e={}){Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:PL(e[t])&&PL(n[t])&&Object.keys(e[t]).length>0&&GP(n[t],e[t])})}const OL={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Rs(){const n=typeof document<"u"?document:{};return GP(n,OL),n}const p3={document:OL,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:n=>typeof setTimeout>"u"?(n(),null):setTimeout(n,0),cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function xr(){const n=typeof window<"u"?window:{};return GP(n,p3),n}class uh extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function g3(n){const e=n.__proto__;Object.defineProperty(n,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function Qw(n=[]){const e=[];return n.forEach(t=>{Array.isArray(t)?e.push(...Qw(t)):e.push(t)}),e}function RL(n,e){return Array.prototype.filter.call(n,e)}function Tn(n,e){const t=xr(),i=Rs();let r=[];if(!e&&n instanceof uh)return n;if(!n)return new uh(r);if("string"==typeof n){const s=n.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let u="div";0===s.indexOf("<li")&&(u="ul"),0===s.indexOf("<tr")&&(u="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(u="tr"),0===s.indexOf("<tbody")&&(u="table"),0===s.indexOf("<option")&&(u="select");const d=i.createElement(u);d.innerHTML=s;for(let f=0;f<d.childNodes.length;f+=1)r.push(d.childNodes[f])}else r=function v3(n,e){if("string"!=typeof n)return[n];const t=[],i=e.querySelectorAll(n);for(let r=0;r<i.length;r+=1)t.push(i[r]);return t}(n.trim(),e||i)}else if(n.nodeType||n===t||n===i)r.push(n);else if(Array.isArray(n)){if(n instanceof uh)return n;r=n}return new uh(function m3(n){const e=[];for(let t=0;t<n.length;t+=1)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(r))}Tn.fn=uh.prototype;const tz="resize scroll".split(" ");function qi(n){return function e(...t){if(typeof t[0]>"u"){for(let i=0;i<this.length;i+=1)tz.indexOf(n)<0&&(n in this[i]?this[i][n]():Tn(this[i]).trigger(n));return this}return this.on(n,...t)}}qi("click"),qi("blur"),qi("focus"),qi("focusin"),qi("focusout"),qi("keyup"),qi("keydown"),qi("keypress"),qi("submit"),qi("change"),qi("mousedown"),qi("mousemove"),qi("mouseup"),qi("mouseenter"),qi("mouseleave"),qi("mouseout"),qi("mouseover"),qi("touchstart"),qi("touchend"),qi("touchmove"),qi("resize"),qi("scroll");const NL={addClass:function y3(...n){const e=Qw(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.add(...e)}),this},removeClass:function b3(...n){const e=Qw(n.map(t=>t.split(" ")));return this.forEach(t=>{t.classList.remove(...e)}),this},hasClass:function C3(...n){const e=Qw(n.map(t=>t.split(" ")));return RL(this,t=>e.filter(i=>t.classList.contains(i)).length>0).length>0},toggleClass:function w3(...n){const e=Qw(n.map(t=>t.split(" ")));this.forEach(t=>{e.forEach(i=>{t.classList.toggle(i)})})},attr:function E3(n,e){if(1===arguments.length&&"string"==typeof n)return this[0]?this[0].getAttribute(n):void 0;for(let t=0;t<this.length;t+=1)if(2===arguments.length)this[t].setAttribute(n,e);else for(const i in n)this[t][i]=n[i],this[t].setAttribute(i,n[i]);return this},removeAttr:function S3(n){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(n);return this},transform:function A3(n){for(let e=0;e<this.length;e+=1)this[e].style.transform=n;return this},transition:function T3(n){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof n?`${n}ms`:n;return this},on:function D3(...n){let[e,t,i,r]=n;function s(m){const y=m.target;if(!y)return;const b=m.target.dom7EventData||[];if(b.indexOf(m)<0&&b.unshift(m),Tn(y).is(t))i.apply(y,b);else{const P=Tn(y).parents();for(let V=0;V<P.length;V+=1)Tn(P[V]).is(t)&&i.apply(P[V],b)}}function u(m){const y=m&&m.target&&m.target.dom7EventData||[];y.indexOf(m)<0&&y.unshift(m),i.apply(this,y)}"function"==typeof n[1]&&([e,i,r]=n,t=void 0),r||(r=!1);const d=e.split(" ");let f;for(let m=0;m<this.length;m+=1){const y=this[m];if(t)for(f=0;f<d.length;f+=1){const b=d[f];y.dom7LiveListeners||(y.dom7LiveListeners={}),y.dom7LiveListeners[b]||(y.dom7LiveListeners[b]=[]),y.dom7LiveListeners[b].push({listener:i,proxyListener:s}),y.addEventListener(b,s,r)}else for(f=0;f<d.length;f+=1){const b=d[f];y.dom7Listeners||(y.dom7Listeners={}),y.dom7Listeners[b]||(y.dom7Listeners[b]=[]),y.dom7Listeners[b].push({listener:i,proxyListener:u}),y.addEventListener(b,u,r)}}return this},off:function I3(...n){let[e,t,i,r]=n;"function"==typeof n[1]&&([e,i,r]=n,t=void 0),r||(r=!1);const s=e.split(" ");for(let u=0;u<s.length;u+=1){const d=s[u];for(let f=0;f<this.length;f+=1){const m=this[f];let y;if(!t&&m.dom7Listeners?y=m.dom7Listeners[d]:t&&m.dom7LiveListeners&&(y=m.dom7LiveListeners[d]),y&&y.length)for(let b=y.length-1;b>=0;b-=1){const P=y[b];i&&P.listener===i||i&&P.listener&&P.listener.dom7proxy&&P.listener.dom7proxy===i?(m.removeEventListener(d,P.proxyListener,r),y.splice(b,1)):i||(m.removeEventListener(d,P.proxyListener,r),y.splice(b,1))}}}return this},trigger:function x3(...n){const e=xr(),t=n[0].split(" "),i=n[1];for(let r=0;r<t.length;r+=1){const s=t[r];for(let u=0;u<this.length;u+=1){const d=this[u];if(e.CustomEvent){const f=new e.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0});d.dom7EventData=n.filter((m,y)=>y>0),d.dispatchEvent(f),d.dom7EventData=[],delete d.dom7EventData}}}return this},transitionEnd:function M3(n){const e=this;return n&&e.on("transitionend",function t(i){i.target===this&&(n.call(this,i),e.off("transitionend",t))}),this},outerWidth:function P3(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function O3(n){if(this.length>0){if(n){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function N3(){const n=xr();return this[0]?n.getComputedStyle(this[0],null):{}},offset:function R3(){if(this.length>0){const n=xr(),e=Rs(),t=this[0],i=t.getBoundingClientRect(),r=e.body;return{top:i.top+(t===n?n.scrollY:t.scrollTop)-(t.clientTop||r.clientTop||0),left:i.left+(t===n?n.scrollX:t.scrollLeft)-(t.clientLeft||r.clientLeft||0)}}return null},css:function k3(n,e){const t=xr();let i;if(1===arguments.length){if("string"!=typeof n){for(i=0;i<this.length;i+=1)for(const r in n)this[i].style[r]=n[r];return this}if(this[0])return t.getComputedStyle(this[0],null).getPropertyValue(n)}if(2===arguments.length&&"string"==typeof n){for(i=0;i<this.length;i+=1)this[i].style[n]=e;return this}return this},each:function F3(n){return n?(this.forEach((e,t)=>{n.apply(e,[e,t])}),this):this},html:function B3(n){if(typeof n>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=n;return this},text:function V3(n){if(typeof n>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=n;return this},is:function j3(n){const e=xr(),t=Rs(),i=this[0];let r,s;if(!i||typeof n>"u")return!1;if("string"==typeof n){if(i.matches)return i.matches(n);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(n);if(i.msMatchesSelector)return i.msMatchesSelector(n);for(r=Tn(n),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(n===t)return i===t;if(n===e)return i===e;if(n.nodeType||n instanceof uh){for(r=n.nodeType?[n]:n,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1},index:function U3(){let e,n=this[0];if(n){for(e=0;null!==(n=n.previousSibling);)1===n.nodeType&&(e+=1);return e}},eq:function $3(n){if(typeof n>"u")return this;const e=this.length;if(n>e-1)return Tn([]);if(n<0){const t=e+n;return Tn(t<0?[]:[this[t]])}return Tn([this[n]])},append:function H3(...n){let e;const t=Rs();for(let i=0;i<n.length;i+=1){e=n[i];for(let r=0;r<this.length;r+=1)if("string"==typeof e){const s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[r].appendChild(s.firstChild)}else if(e instanceof uh)for(let s=0;s<e.length;s+=1)this[r].appendChild(e[s]);else this[r].appendChild(e)}return this},prepend:function G3(n){const e=Rs();let t,i;for(t=0;t<this.length;t+=1)if("string"==typeof n){const r=e.createElement("div");for(r.innerHTML=n,i=r.childNodes.length-1;i>=0;i-=1)this[t].insertBefore(r.childNodes[i],this[t].childNodes[0])}else if(n instanceof uh)for(i=0;i<n.length;i+=1)this[t].insertBefore(n[i],this[t].childNodes[0]);else this[t].insertBefore(n,this[t].childNodes[0]);return this},next:function z3(n){return this.length>0?n?this[0].nextElementSibling&&Tn(this[0].nextElementSibling).is(n)?Tn([this[0].nextElementSibling]):Tn([]):Tn(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):Tn([])},nextAll:function W3(n){const e=[];let t=this[0];if(!t)return Tn([]);for(;t.nextElementSibling;){const i=t.nextElementSibling;n?Tn(i).is(n)&&e.push(i):e.push(i),t=i}return Tn(e)},prev:function q3(n){if(this.length>0){const e=this[0];return n?e.previousElementSibling&&Tn(e.previousElementSibling).is(n)?Tn([e.previousElementSibling]):Tn([]):Tn(e.previousElementSibling?[e.previousElementSibling]:[])}return Tn([])},prevAll:function Y3(n){const e=[];let t=this[0];if(!t)return Tn([]);for(;t.previousElementSibling;){const i=t.previousElementSibling;n?Tn(i).is(n)&&e.push(i):e.push(i),t=i}return Tn(e)},parent:function Z3(n){const e=[];for(let t=0;t<this.length;t+=1)null!==this[t].parentNode&&(n?Tn(this[t].parentNode).is(n)&&e.push(this[t].parentNode):e.push(this[t].parentNode));return Tn(e)},parents:function K3(n){const e=[];for(let t=0;t<this.length;t+=1){let i=this[t].parentNode;for(;i;)n?Tn(i).is(n)&&e.push(i):e.push(i),i=i.parentNode}return Tn(e)},closest:function J3(n){let e=this;return typeof n>"u"?Tn([]):(e.is(n)||(e=e.parents(n).eq(0)),e)},find:function Q3(n){const e=[];for(let t=0;t<this.length;t+=1){const i=this[t].querySelectorAll(n);for(let r=0;r<i.length;r+=1)e.push(i[r])}return Tn(e)},children:function X3(n){const e=[];for(let t=0;t<this.length;t+=1){const i=this[t].children;for(let r=0;r<i.length;r+=1)(!n||Tn(i[r]).is(n))&&e.push(i[r])}return Tn(e)},filter:function L3(n){return Tn(RL(this,n))},remove:function ez(){for(let n=0;n<this.length;n+=1)this[n].parentNode&&this[n].parentNode.removeChild(this[n]);return this}};Object.keys(NL).forEach(n=>{Object.defineProperty(Tn.fn,n,{value:NL[n],writable:!0})});const Zn=Tn;function zP(n,e=0){return setTimeout(n,e)}function Xw(){return Date.now()}function G1(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function sz(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)}function so(...n){const e=Object(n[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<n.length;i+=1){const r=n[i];if(null!=r&&!sz(r)){const s=Object.keys(Object(r)).filter(u=>t.indexOf(u)<0);for(let u=0,d=s.length;u<d;u+=1){const f=s[u],m=Object.getOwnPropertyDescriptor(r,f);void 0!==m&&m.enumerable&&(G1(e[f])&&G1(r[f])?r[f].__swiper__?e[f]=r[f]:so(e[f],r[f]):!G1(e[f])&&G1(r[f])?(e[f]={},r[f].__swiper__?e[f]=r[f]:so(e[f],r[f])):e[f]=r[f])}}}return e}function z1(n,e,t){n.style.setProperty(e,t)}function kL({swiper:n,targetPosition:e,side:t}){const i=xr(),r=-n.translate;let u,s=null;const d=n.params.speed;n.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(n.cssModeFrameID);const f=e>r?"next":"prev",m=(b,P)=>"next"===f&&b>=P||"prev"===f&&b<=P,y=()=>{u=(new Date).getTime(),null===s&&(s=u);const b=Math.max(Math.min((u-s)/d,1),0),P=.5-Math.cos(b*Math.PI)/2;let V=r+P*(e-r);if(m(V,e)&&(V=e),n.wrapperEl.scrollTo({[t]:V}),m(V,e))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[t]:V})}),void i.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=i.requestAnimationFrame(y)};y()}let WP,qP,YP;function FL(){return WP||(WP=function oz(){const n=xr(),e=Rs();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch),passiveListener:function(){let i=!1;try{const r=Object.defineProperty({},"passive",{get(){i=!0}});n.addEventListener("testPassiveListener",null,r)}catch{}return i}(),gestures:"ongesturestart"in n}}()),WP}const fz={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof e)return i;function r(...s){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy,e.apply(i,s)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||"function"!=typeof n)return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(...n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,i,r;return"string"==typeof n[0]||Array.isArray(n[0])?(t=n[0],i=n.slice(1,n.length),r=e):(t=n[0].events,i=n[0].data,r=n[0].context||e),i.unshift(r),(Array.isArray(t)?t:t.split(" ")).forEach(u=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(r,[u,...i])}),e.eventsListeners&&e.eventsListeners[u]&&e.eventsListeners[u].forEach(d=>{d.apply(r,i)})}),e}},Ez={updateSize:function pz(){const n=this;let e,t;const i=n.$el;e=typeof n.params.width<"u"&&null!==n.params.width?n.params.width:i[0].clientWidth,t=typeof n.params.height<"u"&&null!==n.params.height?n.params.height:i[0].clientHeight,!(0===e&&n.isHorizontal()||0===t&&n.isVertical())&&(e=e-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),t=t-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function gz(){const n=this;function e(Et){return n.isHorizontal()?Et:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Et]}function t(Et,st){return parseFloat(Et.getPropertyValue(e(st))||0)}const i=n.params,{$wrapperEl:r,size:s,rtlTranslate:u,wrongRTL:d}=n,f=n.virtual&&i.virtual.enabled,m=f?n.virtual.slides.length:n.slides.length,y=r.children(`.${n.params.slideClass}`),b=f?n.virtual.slides.length:y.length;let P=[];const V=[],ee=[];let K=i.slidesOffsetBefore;"function"==typeof K&&(K=i.slidesOffsetBefore.call(n));let ne=i.slidesOffsetAfter;"function"==typeof ne&&(ne=i.slidesOffsetAfter.call(n));const we=n.snapGrid.length,Se=n.slidesGrid.length;let Pe=i.spaceBetween,$e=-K,ze=0,Qe=0;if(typeof s>"u")return;"string"==typeof Pe&&Pe.indexOf("%")>=0&&(Pe=parseFloat(Pe.replace("%",""))/100*s),n.virtualSize=-Pe,y.css(u?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(z1(n.wrapperEl,"--swiper-centered-offset-before",""),z1(n.wrapperEl,"--swiper-centered-offset-after",""));const at=i.grid&&i.grid.rows>1&&n.grid;let Ct;at&&n.grid.initSlides(b);const Ut="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter(Et=>typeof i.breakpoints[Et].slidesPerView<"u").length>0;for(let Et=0;Et<b;Et+=1){Ct=0;const st=y.eq(Et);if(at&&n.grid.updateSlide(Et,st,b,e),"none"!==st.css("display")){if("auto"===i.slidesPerView){Ut&&(y[Et].style[e("width")]="");const Je=getComputedStyle(st[0]),ht=st[0].style.transform,Yt=st[0].style.webkitTransform;if(ht&&(st[0].style.transform="none"),Yt&&(st[0].style.webkitTransform="none"),i.roundLengths)Ct=n.isHorizontal()?st.outerWidth(!0):st.outerHeight(!0);else{const dn=t(Je,"width"),lt=t(Je,"padding-left"),$t=t(Je,"padding-right"),Gt=t(Je,"margin-left"),Dn=t(Je,"margin-right"),Hn=Je.getPropertyValue("box-sizing");if(Hn&&"border-box"===Hn)Ct=dn+Gt+Dn;else{const{clientWidth:Mr,offsetWidth:lo}=st[0];Ct=dn+lt+$t+Gt+Dn+(lo-Mr)}}ht&&(st[0].style.transform=ht),Yt&&(st[0].style.webkitTransform=Yt),i.roundLengths&&(Ct=Math.floor(Ct))}else Ct=(s-(i.slidesPerView-1)*Pe)/i.slidesPerView,i.roundLengths&&(Ct=Math.floor(Ct)),y[Et]&&(y[Et].style[e("width")]=`${Ct}px`);y[Et]&&(y[Et].swiperSlideSize=Ct),ee.push(Ct),i.centeredSlides?($e=$e+Ct/2+ze/2+Pe,0===ze&&0!==Et&&($e=$e-s/2-Pe),0===Et&&($e=$e-s/2-Pe),Math.abs($e)<.001&&($e=0),i.roundLengths&&($e=Math.floor($e)),Qe%i.slidesPerGroup==0&&P.push($e),V.push($e)):(i.roundLengths&&($e=Math.floor($e)),(Qe-Math.min(n.params.slidesPerGroupSkip,Qe))%n.params.slidesPerGroup==0&&P.push($e),V.push($e),$e=$e+Ct+Pe),n.virtualSize+=Ct+Pe,ze=Ct,Qe+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+ne,u&&d&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:`${n.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&r.css({[e("width")]:`${n.virtualSize+i.spaceBetween}px`}),at&&n.grid.updateWrapperSize(Ct,P,e),!i.centeredSlides){const Et=[];for(let st=0;st<P.length;st+=1){let Je=P[st];i.roundLengths&&(Je=Math.floor(Je)),P[st]<=n.virtualSize-s&&Et.push(Je)}P=Et,Math.floor(n.virtualSize-s)-Math.floor(P[P.length-1])>1&&P.push(n.virtualSize-s)}if(0===P.length&&(P=[0]),0!==i.spaceBetween){const Et=n.isHorizontal()&&u?"marginLeft":e("marginRight");y.filter((st,Je)=>!i.cssMode||Je!==y.length-1).css({[Et]:`${Pe}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let Et=0;ee.forEach(Je=>{Et+=Je+(i.spaceBetween?i.spaceBetween:0)}),Et-=i.spaceBetween;const st=Et-s;P=P.map(Je=>Je<0?-K:Je>st?st+ne:Je)}if(i.centerInsufficientSlides){let Et=0;if(ee.forEach(st=>{Et+=st+(i.spaceBetween?i.spaceBetween:0)}),Et-=i.spaceBetween,Et<s){const st=(s-Et)/2;P.forEach((Je,ht)=>{P[ht]=Je-st}),V.forEach((Je,ht)=>{V[ht]=Je+st})}}if(Object.assign(n,{slides:y,snapGrid:P,slidesGrid:V,slidesSizesGrid:ee}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){z1(n.wrapperEl,"--swiper-centered-offset-before",-P[0]+"px"),z1(n.wrapperEl,"--swiper-centered-offset-after",n.size/2-ee[ee.length-1]/2+"px");const Et=-n.snapGrid[0],st=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(Je=>Je+Et),n.slidesGrid=n.slidesGrid.map(Je=>Je+st)}if(b!==m&&n.emit("slidesLengthChange"),P.length!==we&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),V.length!==Se&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!(f||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const Et=`${i.containerModifierClass}backface-hidden`,st=n.$el.hasClass(Et);b<=i.maxBackfaceHiddenSlides?st||n.$el.addClass(Et):st&&n.$el.removeClass(Et)}},updateAutoHeight:function mz(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s,r=0;"number"==typeof n?e.setTransition(n):!0===n&&e.setTransition(e.params.speed);const u=d=>i?e.slides.filter(f=>parseInt(f.getAttribute("data-swiper-slide-index"),10)===d)[0]:e.slides.eq(d)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Zn([])).each(d=>{t.push(d)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const d=e.activeIndex+s;if(d>e.slides.length&&!i)break;t.push(u(d))}else t.push(u(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const d=t[s].offsetHeight;r=d>r?d:r}(r||0===r)&&e.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function _z(){const n=this,e=n.slides;for(let t=0;t<e.length;t+=1)e[t].swiperSlideOffset=n.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function vz(n=this&&this.translate||0){const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;r&&(u=n),i.removeClass(t.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let d=0;d<i.length;d+=1){const f=i[d];let m=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(m-=i[0].swiperSlideOffset);const y=(u+(t.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+t.spaceBetween),b=(u-s[0]+(t.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+t.spaceBetween),P=-(u-m),V=P+e.slidesSizesGrid[d];(P>=0&&P<e.size-1||V>1&&V<=e.size||P<=0&&V>=e.size)&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(d),i.eq(d).addClass(t.slideVisibleClass)),f.progress=r?-y:y,f.originalProgress=r?-b:b}e.visibleSlides=Zn(e.visibleSlides)},updateProgress:function yz(n){const e=this;if(typeof n>"u"){const m=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*m||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:u}=e;const d=s,f=u;0===i?(r=0,s=!0,u=!0):(r=(n-e.minTranslate())/i,s=r<=0,u=r>=1),Object.assign(e,{progress:r,isBeginning:s,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!d&&e.emit("reachBeginning toEdge"),u&&!f&&e.emit("reachEnd toEdge"),(d&&!s||f&&!u)&&e.emit("fromEdge"),e.emit("progress",r)},updateSlidesClasses:function bz(){const n=this,{slides:e,params:t,$wrapperEl:i,activeIndex:r,realIndex:s}=n,u=n.virtual&&t.virtual.enabled;let d;e.removeClass(`${t.slideActiveClass} ${t.slideNextClass} ${t.slidePrevClass} ${t.slideDuplicateActiveClass} ${t.slideDuplicateNextClass} ${t.slideDuplicatePrevClass}`),d=u?n.$wrapperEl.find(`.${t.slideClass}[data-swiper-slide-index="${r}"]`):e.eq(r),d.addClass(t.slideActiveClass),t.loop&&(d.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(t.slideDuplicateActiveClass));let f=d.nextAll(`.${t.slideClass}`).eq(0).addClass(t.slideNextClass);t.loop&&0===f.length&&(f=e.eq(0),f.addClass(t.slideNextClass));let m=d.prevAll(`.${t.slideClass}`).eq(0).addClass(t.slidePrevClass);t.loop&&0===m.length&&(m=e.eq(-1),m.addClass(t.slidePrevClass)),t.loop&&(f.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicateNextClass),m.hasClass(t.slideDuplicateClass)?i.children(`.${t.slideClass}:not(.${t.slideDuplicateClass})[data-swiper-slide-index="${m.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass):i.children(`.${t.slideClass}.${t.slideDuplicateClass}[data-swiper-slide-index="${m.attr("data-swiper-slide-index")}"]`).addClass(t.slideDuplicatePrevClass)),n.emitSlidesClasses()},updateActiveIndex:function wz(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:i,snapGrid:r,params:s,activeIndex:u,realIndex:d,snapIndex:f}=e;let y,m=n;if(typeof m>"u"){for(let P=0;P<i.length;P+=1)typeof i[P+1]<"u"?t>=i[P]&&t<i[P+1]-(i[P+1]-i[P])/2?m=P:t>=i[P]&&t<i[P+1]&&(m=P+1):t>=i[P]&&(m=P);s.normalizeSlideIndex&&(m<0||typeof m>"u")&&(m=0)}if(r.indexOf(t)>=0)y=r.indexOf(t);else{const P=Math.min(s.slidesPerGroupSkip,m);y=P+Math.floor((m-P)/s.slidesPerGroup)}if(y>=r.length&&(y=r.length-1),m===u)return void(y!==f&&(e.snapIndex=y,e.emit("snapIndexChange")));const b=parseInt(e.slides.eq(m).attr("data-swiper-slide-index")||m,10);Object.assign(e,{snapIndex:y,realIndex:b,previousIndex:u,activeIndex:m}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),d!==b&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function Cz(n){const e=this,t=e.params,i=Zn(n).closest(`.${t.slideClass}`)[0];let s,r=!1;if(i)for(let u=0;u<e.slides.length;u+=1)if(e.slides[u]===i){r=!0,s=u;break}if(!i||!r)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=i,e.clickedIndex=e.virtual&&e.params.virtual.enabled?parseInt(Zn(i).attr("data-swiper-slide-index"),10):s,t.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}},xz={getTranslate:function Sz(n=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:i,translate:r,$wrapperEl:s}=this;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let u=function rz(n,e="x"){const t=xr();let i,r,s;const u=function iz(n){const e=xr();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}(n);return t.WebKitCSSMatrix?(r=u.transform||u.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(d=>d.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix("none"===r?"":r)):(s=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===e&&(r=t.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===e&&(r=t.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}(s[0],n);return i&&(u=-u),u||0},setTranslate:function Az(n,e){const t=this,{rtlTranslate:i,params:r,$wrapperEl:s,wrapperEl:u,progress:d}=t;let b,f=0,m=0;t.isHorizontal()?f=i?-n:n:m=n,r.roundLengths&&(f=Math.floor(f),m=Math.floor(m)),r.cssMode?u[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-m:r.virtualTranslate||s.transform(`translate3d(${f}px, ${m}px, 0px)`),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:m;const P=t.maxTranslate()-t.minTranslate();b=0===P?0:(n-t.minTranslate())/P,b!==d&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)},minTranslate:function Tz(){return-this.snapGrid[0]},maxTranslate:function Dz(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Iz(n=0,e=this.params.speed,t=!0,i=!0,r){const s=this,{params:u,wrapperEl:d}=s;if(s.animating&&u.preventInteractionOnTransition)return!1;const f=s.minTranslate(),m=s.maxTranslate();let y;if(y=i&&n>f?f:i&&n<m?m:n,s.updateProgress(y),u.cssMode){const b=s.isHorizontal();if(0===e)d[b?"scrollLeft":"scrollTop"]=-y;else{if(!s.support.smoothScroll)return kL({swiper:s,targetPosition:-y,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-y,behavior:"smooth"})}return!0}return 0===e?(s.setTransition(0),s.setTranslate(y),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(y),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(P){!s||s.destroyed||P.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}};function LL({swiper:n,runCallbacks:e,direction:t,step:i}){const{activeIndex:r,previousIndex:s}=n;let u=t;if(u||(u=r>s?"next":r<s?"prev":"reset"),n.emit(`transition${i}`),e&&r!==s){if("reset"===u)return void n.emit(`slideResetTransition${i}`);n.emit(`slideChangeTransition${i}`),n.emit("next"===u?`slideNextTransition${i}`:`slidePrevTransition${i}`)}}const Rz={setTransition:function Mz(n,e){const t=this;t.params.cssMode||t.$wrapperEl.transition(n),t.emit("setTransition",n,e)},transitionStart:function Pz(n=!0,e){const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),LL({swiper:t,runCallbacks:n,direction:e,step:"Start"}))},transitionEnd:function Oz(n=!0,e){const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),LL({swiper:t,runCallbacks:n,direction:e,step:"End"}))}},Uz={slideTo:function Nz(n=0,e=this.params.speed,t=!0,i,r){if("number"!=typeof n&&"string"!=typeof n)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof n}] given.`);if("string"==typeof n){const Pe=parseInt(n,10);if(!isFinite(Pe))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=Pe}const s=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:m,previousIndex:y,activeIndex:b,rtlTranslate:P,wrapperEl:V,enabled:ee}=s;if(s.animating&&d.preventInteractionOnTransition||!ee&&!i&&!r)return!1;const K=Math.min(s.params.slidesPerGroupSkip,u);let ne=K+Math.floor((u-K)/s.params.slidesPerGroup);ne>=f.length&&(ne=f.length-1);const we=-f[ne];if(d.normalizeSlideIndex)for(let Pe=0;Pe<m.length;Pe+=1){const $e=-Math.floor(100*we),ze=Math.floor(100*m[Pe]),Qe=Math.floor(100*m[Pe+1]);typeof m[Pe+1]<"u"?$e>=ze&&$e<Qe-(Qe-ze)/2?u=Pe:$e>=ze&&$e<Qe&&(u=Pe+1):$e>=ze&&(u=Pe)}if(s.initialized&&u!==b&&(!s.allowSlideNext&&we<s.translate&&we<s.minTranslate()||!s.allowSlidePrev&&we>s.translate&&we>s.maxTranslate()&&(b||0)!==u))return!1;let Se;if(u!==(y||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(we),Se=u>b?"next":u<b?"prev":"reset",P&&-we===s.translate||!P&&we===s.translate)return s.updateActiveIndex(u),d.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==d.effect&&s.setTranslate(we),"reset"!==Se&&(s.transitionStart(t,Se),s.transitionEnd(t,Se)),!1;if(d.cssMode){const Pe=s.isHorizontal(),$e=P?we:-we;if(0===e){const ze=s.virtual&&s.params.virtual.enabled;ze&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),V[Pe?"scrollLeft":"scrollTop"]=$e,ze&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1})}else{if(!s.support.smoothScroll)return kL({swiper:s,targetPosition:$e,side:Pe?"left":"top"}),!0;V.scrollTo({[Pe?"left":"top"]:$e,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(we),s.updateActiveIndex(u),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,Se),0===e?s.transitionEnd(t,Se):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function($e){!s||s.destroyed||$e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,Se))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function kz(n=0,e=this.params.speed,t=!0,i){if("string"==typeof n){const u=parseInt(n,10);if(!isFinite(u))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${n}] given.`);n=u}const r=this;let s=n;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,e,t,i)},slideNext:function Fz(n=this.params.speed,e=!0,t){const i=this,{animating:r,enabled:s,params:u}=i;if(!s)return i;let d=u.slidesPerGroup;"auto"===u.slidesPerView&&1===u.slidesPerGroup&&u.slidesPerGroupAuto&&(d=Math.max(i.slidesPerViewDynamic("current",!0),1));const f=i.activeIndex<u.slidesPerGroupSkip?1:d;if(u.loop){if(r&&u.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(u.rewind&&i.isEnd?0:i.activeIndex+f,n,e,t)},slidePrev:function Lz(n=this.params.speed,e=!0,t){const i=this,{params:r,animating:s,snapGrid:u,slidesGrid:d,rtlTranslate:f,enabled:m}=i;if(!m)return i;if(r.loop){if(s&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function b(ne){return ne<0?-Math.floor(Math.abs(ne)):Math.floor(ne)}const P=b(f?i.translate:-i.translate),V=u.map(ne=>b(ne));let ee=u[V.indexOf(P)-1];if(typeof ee>"u"&&r.cssMode){let ne;u.forEach((we,Se)=>{P>=we&&(ne=Se)}),typeof ne<"u"&&(ee=u[ne>0?ne-1:ne])}let K=0;return typeof ee<"u"&&(K=d.indexOf(ee),K<0&&(K=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(K=K-i.slidesPerViewDynamic("previous",!0)+1,K=Math.max(K,0))),i.slideTo(r.rewind&&i.isBeginning?i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:K,n,e,t)},slideReset:function Bz(n=this.params.speed,e=!0,t){return this.slideTo(this.activeIndex,n,e,t)},slideToClosest:function Vz(n=this.params.speed,e=!0,t,i=.5){const r=this;let s=r.activeIndex;const u=Math.min(r.params.slidesPerGroupSkip,s),d=u+Math.floor((s-u)/r.params.slidesPerGroup),f=r.rtlTranslate?r.translate:-r.translate;if(f>=r.snapGrid[d]){const m=r.snapGrid[d];f-m>(r.snapGrid[d+1]-m)*i&&(s+=r.params.slidesPerGroup)}else{const m=r.snapGrid[d-1];f-m<=(r.snapGrid[d]-m)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)},slideToClickedSlide:function jz(){const n=this,{params:e,$wrapperEl:t}=n,i="auto"===e.slidesPerView?n.slidesPerViewDynamic():e.slidesPerView;let s,r=n.clickedIndex;if(e.loop){if(n.animating)return;s=parseInt(Zn(n.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),zP(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=t.children(`.${e.slideClass}[data-swiper-slide-index="${s}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),zP(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}},zz={loopCreate:function $z(){const n=this,e=Rs(),{params:t,$wrapperEl:i}=n,r=i.children().length>0?Zn(i.children()[0].parentNode):i;r.children(`.${t.slideClass}.${t.slideDuplicateClass}`).remove();let s=r.children(`.${t.slideClass}`);if(t.loopFillGroupWithBlank){const f=t.slidesPerGroup-s.length%t.slidesPerGroup;if(f!==t.slidesPerGroup){for(let m=0;m<f;m+=1){const y=Zn(e.createElement("div")).addClass(`${t.slideClass} ${t.slideBlankClass}`);r.append(y)}s=r.children(`.${t.slideClass}`)}}"auto"===t.slidesPerView&&!t.loopedSlides&&(t.loopedSlides=s.length),n.loopedSlides=Math.ceil(parseFloat(t.loopedSlides||t.slidesPerView,10)),n.loopedSlides+=t.loopAdditionalSlides,n.loopedSlides>s.length&&n.params.loopedSlidesLimit&&(n.loopedSlides=s.length);const u=[],d=[];s.each((f,m)=>{Zn(f).attr("data-swiper-slide-index",m)});for(let f=0;f<n.loopedSlides;f+=1){const m=f-Math.floor(f/s.length)*s.length;d.push(s.eq(m)[0]),u.unshift(s.eq(s.length-m-1)[0])}for(let f=0;f<d.length;f+=1)r.append(Zn(d[f].cloneNode(!0)).addClass(t.slideDuplicateClass));for(let f=u.length-1;f>=0;f-=1)r.prepend(Zn(u[f].cloneNode(!0)).addClass(t.slideDuplicateClass))},loopFix:function Hz(){const n=this;n.emit("beforeLoopFix");const{activeIndex:e,slides:t,loopedSlides:i,allowSlidePrev:r,allowSlideNext:s,snapGrid:u,rtlTranslate:d}=n;let f;n.allowSlidePrev=!0,n.allowSlideNext=!0;const y=-u[e]-n.getTranslate();e<i?(f=t.length-3*i+e,f+=i,n.slideTo(f,0,!1,!0)&&0!==y&&n.setTranslate((d?-n.translate:n.translate)-y)):e>=t.length-i&&(f=-t.length+e+i,f+=i,n.slideTo(f,0,!1,!0)&&0!==y&&n.setTranslate((d?-n.translate:n.translate)-y)),n.allowSlidePrev=r,n.allowSlideNext=s,n.emit("loopFix")},loopDestroy:function Gz(){const{$wrapperEl:e,params:t,slides:i}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}};function Kz(n){const e=this,t=Rs(),i=xr(),r=e.touchEventsData,{params:s,touches:u,enabled:d}=e;if(!d||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let f=n;f.originalEvent&&(f=f.originalEvent);let m=Zn(f.target);if("wrapper"===s.touchEventsTarget&&!m.closest(e.wrapperEl).length||(r.isTouchEvent="touchstart"===f.type,!r.isTouchEvent&&"which"in f&&3===f.which)||!r.isTouchEvent&&"button"in f&&f.button>0||r.isTouched&&r.isMoved)return;const y=!!s.noSwipingClass&&""!==s.noSwipingClass,b=n.composedPath?n.composedPath():n.path;y&&f.target&&f.target.shadowRoot&&b&&(m=Zn(b[0]));const P=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(f.target&&f.target.shadowRoot?function Zz(n,e=this){return function t(i){if(!i||i===Rs()||i===xr())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return r||i.getRootNode?r||t(i.getRootNode().host):null}(e)}(P,m[0]):m.closest(P)[0]))return void(e.allowClick=!0);if(s.swipeHandler&&!m.closest(s.swipeHandler)[0])return;u.currentX="touchstart"===f.type?f.targetTouches[0].pageX:f.pageX,u.currentY="touchstart"===f.type?f.targetTouches[0].pageY:f.pageY;const ee=u.currentX,K=u.currentY,ne=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,we=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(ne&&(ee<=we||ee>=i.innerWidth-we)){if("prevent"!==ne)return;n.preventDefault()}if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=ee,u.startY=K,r.touchStartTime=Xw(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==f.type){let Se=!0;m.is(r.focusableElements)&&(Se=!1,"SELECT"===m[0].nodeName&&(r.isTouched=!1)),t.activeElement&&Zn(t.activeElement).is(r.focusableElements)&&t.activeElement!==m[0]&&t.activeElement.blur();const Pe=Se&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||Pe)&&!m[0].isContentEditable&&f.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",f)}function Jz(n){const e=Rs(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:u,enabled:d}=t;if(!d)return;let f=n;if(f.originalEvent&&(f=f.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",f));if(i.isTouchEvent&&"touchmove"!==f.type)return;const m="touchmove"===f.type&&f.targetTouches&&(f.targetTouches[0]||f.changedTouches[0]),y="touchmove"===f.type?m.pageX:f.pageX,b="touchmove"===f.type?m.pageY:f.pageY;if(f.preventedByNestedSwiper)return s.startX=y,void(s.startY=b);if(!t.allowTouchMove)return Zn(f.target).is(i.focusableElements)||(t.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:y,startY:b,currentX:y,currentY:b}),i.touchStartTime=Xw()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(t.isVertical()){if(b<s.startY&&t.translate<=t.maxTranslate()||b>s.startY&&t.translate>=t.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(y<s.startX&&t.translate<=t.maxTranslate()||y>s.startX&&t.translate>=t.minTranslate())return;if(i.isTouchEvent&&e.activeElement&&f.target===e.activeElement&&Zn(f.target).is(i.focusableElements))return i.isMoved=!0,void(t.allowClick=!1);if(i.allowTouchCallbacks&&t.emit("touchMove",f),f.targetTouches&&f.targetTouches.length>1)return;s.currentX=y,s.currentY=b;const P=s.currentX-s.startX,V=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(P**2+V**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let we;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:P*P+V*V>=25&&(we=180*Math.atan2(Math.abs(V),Math.abs(P))/Math.PI,i.isScrolling=t.isHorizontal()?we>r.touchAngle:90-we>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",f),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&f.cancelable&&f.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&f.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&t.loopFix(),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating&&t.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)),t.emit("sliderMove",f),i.isMoved=!0;let ee=t.isHorizontal()?P:V;s.diff=ee,ee*=r.touchRatio,u&&(ee=-ee),t.swipeDirection=ee>0?"prev":"next",i.currentTranslate=ee+i.startTranslate;let K=!0,ne=r.resistanceRatio;if(r.touchReleaseOnEdges&&(ne=0),ee>0&&i.currentTranslate>t.minTranslate()?(K=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+ee)**ne)):ee<0&&i.currentTranslate<t.maxTranslate()&&(K=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-ee)**ne)),K&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&"next"===t.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&"prev"===t.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(ee)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),t.params.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Qz(n){const e=this,t=e.touchEventsData,{params:i,touches:r,rtlTranslate:s,slidesGrid:u,enabled:d}=e;if(!d)return;let f=n;if(f.originalEvent&&(f=f.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",f),t.allowTouchCallbacks=!1,!t.isTouched)return t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,void(t.startMoving=!1);i.grabCursor&&t.isMoved&&t.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const m=Xw(),y=m-t.touchStartTime;if(e.allowClick){const Se=f.path||f.composedPath&&f.composedPath();e.updateClickedSlide(Se&&Se[0]||f.target),e.emit("tap click",f),y<300&&m-t.lastClickTime<300&&e.emit("doubleTap doubleClick",f)}if(t.lastClickTime=Xw(),zP(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||0===r.diff||t.currentTranslate===t.startTranslate)return t.isTouched=!1,t.isMoved=!1,void(t.startMoving=!1);let b;if(t.isTouched=!1,t.isMoved=!1,t.startMoving=!1,b=i.followFinger?s?e.translate:-e.translate:-t.currentTranslate,i.cssMode)return;if(e.params.freeMode&&i.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:b});let P=0,V=e.slidesSizesGrid[0];for(let Se=0;Se<u.length;Se+=Se<i.slidesPerGroupSkip?1:i.slidesPerGroup){const Pe=Se<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof u[Se+Pe]<"u"?b>=u[Se]&&b<u[Se+Pe]&&(P=Se,V=u[Se+Pe]-u[Se]):b>=u[Se]&&(P=Se,V=u[u.length-1]-u[u.length-2])}let ee=null,K=null;i.rewind&&(e.isBeginning?K=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(ee=0));const ne=(b-u[P])/V,we=P<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(y>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(ne>=i.longSwipesRatio?i.rewind&&e.isEnd?ee:P+we:P),"prev"===e.swipeDirection&&(ne>1-i.longSwipesRatio?e.slideTo(P+we):null!==K&&ne<0&&Math.abs(ne)>i.longSwipesRatio?e.slideTo(K):e.slideTo(P))}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);!e.navigation||f.target!==e.navigation.nextEl&&f.target!==e.navigation.prevEl?("next"===e.swipeDirection&&e.slideTo(null!==ee?ee:P+we),"prev"===e.swipeDirection&&e.slideTo(null!==K?K:P)):e.slideTo(f.target===e.navigation.nextEl?P+we:P)}}function BL(){const n=this,{params:e,el:t}=n;if(t&&0===t.offsetWidth)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses(),n.slideTo(("auto"===e.slidesPerView||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.run(),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function Xz(n){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation()))}function eW(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;let r;n.previousTranslate=n.translate,n.translate=n.isHorizontal()?-e.scrollLeft:-e.scrollTop,0===n.translate&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();const s=n.maxTranslate()-n.minTranslate();r=0===s?0:(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}let VL=!1;function tW(){}const jL=(n,e)=>{const t=Rs(),{params:i,touchEvents:r,el:s,wrapperEl:u,device:d,support:f}=n,m=!!i.nested,y="on"===e?"addEventListener":"removeEventListener",b=e;if(f.touch){const P=!("touchstart"!==r.start||!f.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};s[y](r.start,n.onTouchStart,P),s[y](r.move,n.onTouchMove,f.passiveListener?{passive:!1,capture:m}:m),s[y](r.end,n.onTouchEnd,P),r.cancel&&s[y](r.cancel,n.onTouchEnd,P)}else s[y](r.start,n.onTouchStart,!1),t[y](r.move,n.onTouchMove,m),t[y](r.end,n.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&s[y]("click",n.onClick,!0),i.cssMode&&u[y]("scroll",n.onScroll),n[b](i.updateOnWindowResize?d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",BL,!0)},rW={attachEvents:function nW(){const n=this,e=Rs(),{params:t,support:i}=n;n.onTouchStart=Kz.bind(n),n.onTouchMove=Jz.bind(n),n.onTouchEnd=Qz.bind(n),t.cssMode&&(n.onScroll=eW.bind(n)),n.onClick=Xz.bind(n),i.touch&&!VL&&(e.addEventListener("touchstart",tW),VL=!0),jL(n,"on")},detachEvents:function iW(){jL(this,"off")}},UL=(n,e)=>n.grid&&e.grid&&e.grid.rows>1,aW={setBreakpoint:function sW(){const n=this,{activeIndex:e,initialized:t,loopedSlides:i=0,params:r,$el:s}=n,u=r.breakpoints;if(!u||u&&0===Object.keys(u).length)return;const d=n.getBreakpoint(u,n.params.breakpointsBase,n.el);if(!d||n.currentBreakpoint===d)return;const m=(d in u?u[d]:void 0)||n.originalParams,y=UL(n,r),b=UL(n,m),P=r.enabled;y&&!b?(s.removeClass(`${r.containerModifierClass}grid ${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!y&&b&&(s.addClass(`${r.containerModifierClass}grid`),(m.grid.fill&&"column"===m.grid.fill||!m.grid.fill&&"column"===r.grid.fill)&&s.addClass(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(ne=>{const we=r[ne]&&r[ne].enabled,Se=m[ne]&&m[ne].enabled;we&&!Se&&n[ne].disable(),!we&&Se&&n[ne].enable()});const V=m.direction&&m.direction!==r.direction,ee=r.loop&&(m.slidesPerView!==r.slidesPerView||V);V&&t&&n.changeDirection(),so(n.params,m);const K=n.params.enabled;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),P&&!K?n.disable():!P&&K&&n.enable(),n.currentBreakpoint=d,n.emit("_beforeBreakpoint",m),ee&&t&&(n.loopDestroy(),n.loopCreate(),n.updateSlides(),n.slideTo(e-i+n.loopedSlides,0,!1)),n.emit("breakpoint",m)},getBreakpoint:function oW(n,e="window",t){if(!n||"container"===e&&!t)return;let i=!1;const r=xr(),s="window"===e?r.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if("string"==typeof d&&0===d.indexOf("@")){const f=parseFloat(d.substr(1));return{value:s*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:m}=u[d];"window"===e?r.matchMedia(`(min-width: ${m}px)`).matches&&(i=f):m<=t.clientWidth&&(i=f)}return i||"max"}},dW={addClasses:function cW(){const n=this,{classNames:e,params:t,rtl:i,$el:r,device:s,support:u}=n,d=function lW(n,e){const t=[];return n.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):"string"==typeof i&&t.push(e+i)}),t}(["initialized",t.direction,{"pointer-events":!u.touch},{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...d),r.addClass([...e].join(" ")),n.emitContainerClasses()},removeClasses:function uW(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},pW={loadImage:function hW(n,e,t,i,r,s){const u=xr();let d;function f(){s&&s()}Zn(n).parent("picture")[0]||n.complete&&r||!e?f():(d=new u.Image,d.onload=f,d.onerror=f,i&&(d.sizes=i),t&&(d.srcset=t),e&&(d.src=e))},preloadImages:function fW(){const n=this;function e(){typeof n>"u"||null===n||!n||n.destroyed||(void 0!==n.imagesLoaded&&(n.imagesLoaded+=1),n.imagesLoaded===n.imagesToLoad.length&&(n.params.updateOnImagesReady&&n.update(),n.emit("imagesReady")))}n.imagesToLoad=n.$el.find("img");for(let t=0;t<n.imagesToLoad.length;t+=1){const i=n.imagesToLoad[t];n.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,e)}}},$L={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function _W(n,e){return function(i={}){const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===n[r]&&(n[r]={auto:!0}),r in n&&"enabled"in s?(!0===n[r]&&(n[r]={enabled:!0}),"object"==typeof n[r]&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),so(e,i)):so(e,i)):so(e,i)}}const ZP={eventsEmitter:fz,update:Ez,translate:xz,transition:Rz,slide:Uz,loop:zz,grabCursor:{setGrabCursor:function Wz(n){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;t.style.cursor="move",t.style.cursor=n?"grabbing":"grab"},unsetGrabCursor:function qz(){const n=this;n.support.touch||n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n["container"===n.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:rW,breakpoints:aW,checkOverflow:{checkOverflow:function gW(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1;n.isLocked=n.size>n.slidesGrid[r]+n.slidesSizesGrid[r]+2*i}else n.isLocked=1===n.snapGrid.length;!0===t.allowSlideNext&&(n.allowSlideNext=!n.isLocked),!0===t.allowSlidePrev&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}},classes:dW,images:pW},KP={};class $o{constructor(...e){let t,i;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?i=e[0]:[t,i]=e,i||(i={}),i=so({},i),t&&!i.el&&(i.el=t),i.el&&Zn(i.el).length>1){const d=[];return Zn(i.el).each(f=>{const m=so({},i,{el:f});d.push(new $o(m))}),d}const r=this;r.__swiper__=!0,r.support=FL(),r.device=function lz(n={}){return qP||(qP=function az({userAgent:n}={}){const e=FL(),t=xr(),i=t.navigator.platform,r=n||t.navigator.userAgent,s={ios:!1,android:!1},u=t.screen.width,d=t.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let m=r.match(/(iPad).*OS\s([\d_]+)/);const y=r.match(/(iPod)(.*OS\s([\d_]+))?/),b=!m&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),P="Win32"===i;let V="MacIntel"===i;return!m&&V&&e.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${u}x${d}`)>=0&&(m=r.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),V=!1),f&&!P&&(s.os="android",s.android=!0),(m||b||y)&&(s.os="ios",s.ios=!0),s}(n)),qP}({userAgent:i.userAgent}),r.browser=function uz(){return YP||(YP=function cz(){const n=xr();return{isSafari:function e(){const t=n.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}()),YP}(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],i.modules&&Array.isArray(i.modules)&&r.modules.push(...i.modules);const s={};r.modules.forEach(d=>{d({swiper:r,extendParams:_W(i,s),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const u=so({},$L,s);return r.params=so({},u,KP,i),r.originalParams=so({},r.params),r.passedParams=so({},i),r.params&&r.params.on&&Object.keys(r.params.on).forEach(d=>{r.on(d,r.params.on[d])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=Zn,Object.assign(r,{enabled:r.params.enabled,el:t,classNames:[],slides:Zn(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===r.params.direction,isVertical:()=>"vertical"===r.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const f=["touchstart","touchmove","touchend","touchcancel"],m=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},r.touchEventsDesktop={start:m[0],move:m[1],end:m[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:Xw(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),u=(i.maxTranslate()-r)*e+r;i.translateTo(u,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:r,slides:s,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:m}=this;let y=1;if(r.centeredSlides){let P,b=s[m].swiperSlideSize;for(let V=m+1;V<s.length;V+=1)s[V]&&!P&&(b+=s[V].swiperSlideSize,y+=1,b>f&&(P=!0));for(let V=m-1;V>=0;V-=1)s[V]&&!P&&(b+=s[V].swiperSlideSize,y+=1,b>f&&(P=!0))}else if("current"===e)for(let b=m+1;b<s.length;b+=1)(t?u[b]+d[b]-u[m]<f:u[b]-u[m]<f)&&(y+=1);else for(let b=m-1;b>=0;b-=1)u[m]-u[b]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function r(){const d=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let s;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(s=e.slideTo(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(`${i.params.containerModifierClass}${r}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(s=>{"vertical"===e?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const i=Zn(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const d=Zn(e.shadowRoot.querySelector(r()));return d.children=f=>i.children(f),d}return i.children?i.children(r()):Zn(i).children(r())})();if(0===u.length&&t.params.createElements){const f=Rs().createElement("div");u=Zn(f),f.className=t.params.wrapperClass,i.append(f),i.children(`.${t.params.slideClass}`).each(m=>{u.append(m)})}return Object.assign(t,{$el:i,el:e,$wrapperEl:u,wrapperEl:u[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===u.css("display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.slideTo(t.params.loop?t.params.initialSlide+t.loopedSlides:t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const i=this,{params:r,$el:s,$wrapperEl:u,slides:d}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),u.removeAttr("style"),d&&d.length&&d.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(f=>{i.off(f)}),!1!==e&&(i.$el[0].swiper=null,function nz(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(e){so(KP,e)}static get extendedDefaults(){return KP}static get defaults(){return $L}static installModule(e){$o.prototype.__modules__||($o.prototype.__modules__=[]);const t=$o.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>$o.installModule(t)),$o):($o.installModule(e),$o)}}Object.keys(ZP).forEach(n=>{Object.keys(ZP[n]).forEach(e=>{$o.prototype[e]=ZP[n][e]})}),$o.use([function dz({swiper:n,on:e,emit:t}){const i=xr();let r=null,s=null;const u=()=>{!n||n.destroyed||!n.initialized||(t("beforeResize"),t("resize"))},m=()=>{!n||n.destroyed||!n.initialized||t("orientationchange")};e("init",()=>{n.params.resizeObserver&&typeof i.ResizeObserver<"u"?!n||n.destroyed||!n.initialized||(r=new ResizeObserver(y=>{s=i.requestAnimationFrame(()=>{const{width:b,height:P}=n;let V=b,ee=P;y.forEach(({contentBoxSize:K,contentRect:ne,target:we})=>{we&&we!==n.el||(V=ne?ne.width:(K[0]||K).inlineSize,ee=ne?ne.height:(K[0]||K).blockSize)}),(V!==b||ee!==P)&&u()})}),r.observe(n.el)):(i.addEventListener("resize",u),i.addEventListener("orientationchange",m))}),e("destroy",()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&n.el&&(r.unobserve(n.el),r=null),i.removeEventListener("resize",u),i.removeEventListener("orientationchange",m)})},function hz({swiper:n,extendParams:e,on:t,emit:i}){const r=[],s=xr(),u=(m,y={})=>{const P=new(s.MutationObserver||s.WebkitMutationObserver)(V=>{if(1===V.length)return void i("observerUpdate",V[0]);const ee=function(){i("observerUpdate",V[0])};s.requestAnimationFrame?s.requestAnimationFrame(ee):s.setTimeout(ee,0)});P.observe(m,{attributes:typeof y.attributes>"u"||y.attributes,childList:typeof y.childList>"u"||y.childList,characterData:typeof y.characterData>"u"||y.characterData}),r.push(P)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",()=>{if(n.params.observer){if(n.params.observeParents){const m=n.$el.parents();for(let y=0;y<m.length;y+=1)u(m[y])}u(n.$el[0],{childList:n.params.observeSlideChildren}),u(n.$wrapperEl[0],{attributes:!1})}}),t("destroy",()=>{r.forEach(m=>{m.disconnect()}),r.splice(0,r.length)})}]);const Dv=$o;function HL(n,e,t,i){const r=Rs();return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&!0===t.auto){let u=n.$el.children(`.${i[s]}`)[0];u||(u=r.createElement("div"),u.className=i[s],n.$el.append(u)),t[s]=u,e[s]=u}}),t}function Iv(n=""){return`.${n.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function GL({swiper:n,extendParams:e,on:t,emit:i}){const r="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:K=>K,formatFractionTotal:K=>K,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),n.pagination={el:null,$el:null,bullets:[]};let s,u=0;function d(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function f(K,ne){const{bulletActiveClass:we}=n.params.pagination;K[ne]().addClass(`${we}-${ne}`)[ne]().addClass(`${we}-${ne}-${ne}`)}function m(){const K=n.rtl,ne=n.params.pagination;if(d())return;const we=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,Se=n.pagination.$el;let Pe;const $e=n.params.loop?Math.ceil((we-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(Pe=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup),Pe>we-1-2*n.loopedSlides&&(Pe-=we-2*n.loopedSlides),Pe>$e-1&&(Pe-=$e),Pe<0&&"bullets"!==n.params.paginationType&&(Pe=$e+Pe)):Pe=typeof n.snapIndex<"u"?n.snapIndex:n.activeIndex||0,"bullets"===ne.type&&n.pagination.bullets&&n.pagination.bullets.length>0){const ze=n.pagination.bullets;let Qe,at,Ct;if(ne.dynamicBullets&&(s=ze.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),Se.css(n.isHorizontal()?"width":"height",s*(ne.dynamicMainBullets+4)+"px"),ne.dynamicMainBullets>1&&void 0!==n.previousIndex&&(u+=Pe-(n.previousIndex-n.loopedSlides||0),u>ne.dynamicMainBullets-1?u=ne.dynamicMainBullets-1:u<0&&(u=0)),Qe=Math.max(Pe-u,0),at=Qe+(Math.min(ze.length,ne.dynamicMainBullets)-1),Ct=(at+Qe)/2),ze.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(Ut=>`${ne.bulletActiveClass}${Ut}`).join(" ")),Se.length>1)ze.each(Ut=>{const Et=Zn(Ut),st=Et.index();st===Pe&&Et.addClass(ne.bulletActiveClass),ne.dynamicBullets&&(st>=Qe&&st<=at&&Et.addClass(`${ne.bulletActiveClass}-main`),st===Qe&&f(Et,"prev"),st===at&&f(Et,"next"))});else{const Ut=ze.eq(Pe),Et=Ut.index();if(Ut.addClass(ne.bulletActiveClass),ne.dynamicBullets){const st=ze.eq(Qe),Je=ze.eq(at);for(let ht=Qe;ht<=at;ht+=1)ze.eq(ht).addClass(`${ne.bulletActiveClass}-main`);if(n.params.loop)if(Et>=ze.length){for(let ht=ne.dynamicMainBullets;ht>=0;ht-=1)ze.eq(ze.length-ht).addClass(`${ne.bulletActiveClass}-main`);ze.eq(ze.length-ne.dynamicMainBullets-1).addClass(`${ne.bulletActiveClass}-prev`)}else f(st,"prev"),f(Je,"next");else f(st,"prev"),f(Je,"next")}}if(ne.dynamicBullets){const Ut=Math.min(ze.length,ne.dynamicMainBullets+4),Et=(s*Ut-s)/2-Ct*s,st=K?"right":"left";ze.css(n.isHorizontal()?st:"top",`${Et}px`)}}if("fraction"===ne.type&&(Se.find(Iv(ne.currentClass)).text(ne.formatFractionCurrent(Pe+1)),Se.find(Iv(ne.totalClass)).text(ne.formatFractionTotal($e))),"progressbar"===ne.type){let ze;ze=ne.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";const Qe=(Pe+1)/$e;let at=1,Ct=1;"horizontal"===ze?at=Qe:Ct=Qe,Se.find(Iv(ne.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${at}) scaleY(${Ct})`).transition(n.params.speed)}"custom"===ne.type&&ne.renderCustom?(Se.html(ne.renderCustom(n,Pe+1,$e)),i("paginationRender",Se[0])):i("paginationUpdate",Se[0]),n.params.watchOverflow&&n.enabled&&Se[n.isLocked?"addClass":"removeClass"](ne.lockClass)}function y(){const K=n.params.pagination;if(d())return;const ne=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,we=n.pagination.$el;let Se="";if("bullets"===K.type){let Pe=n.params.loop?Math.ceil((ne-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&Pe>ne&&(Pe=ne);for(let $e=0;$e<Pe;$e+=1)Se+=K.renderBullet?K.renderBullet.call(n,$e,K.bulletClass):`<${K.bulletElement} class="${K.bulletClass}"></${K.bulletElement}>`;we.html(Se),n.pagination.bullets=we.find(Iv(K.bulletClass))}"fraction"===K.type&&(Se=K.renderFraction?K.renderFraction.call(n,K.currentClass,K.totalClass):`<span class="${K.currentClass}"></span> / <span class="${K.totalClass}"></span>`,we.html(Se)),"progressbar"===K.type&&(Se=K.renderProgressbar?K.renderProgressbar.call(n,K.progressbarFillClass):`<span class="${K.progressbarFillClass}"></span>`,we.html(Se)),"custom"!==K.type&&i("paginationRender",n.pagination.$el[0])}function b(){n.params.pagination=HL(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const K=n.params.pagination;if(!K.el)return;let ne=Zn(K.el);0!==ne.length&&(n.params.uniqueNavElements&&"string"==typeof K.el&&ne.length>1&&(ne=n.$el.find(K.el),ne.length>1&&(ne=ne.filter(we=>Zn(we).parents(".swiper")[0]===n.el))),"bullets"===K.type&&K.clickable&&ne.addClass(K.clickableClass),ne.addClass(K.modifierClass+K.type),ne.addClass(n.isHorizontal()?K.horizontalClass:K.verticalClass),"bullets"===K.type&&K.dynamicBullets&&(ne.addClass(`${K.modifierClass}${K.type}-dynamic`),u=0,K.dynamicMainBullets<1&&(K.dynamicMainBullets=1)),"progressbar"===K.type&&K.progressbarOpposite&&ne.addClass(K.progressbarOppositeClass),K.clickable&&ne.on("click",Iv(K.bulletClass),function(Se){Se.preventDefault();let Pe=Zn(this).index()*n.params.slidesPerGroup;n.params.loop&&(Pe+=n.loopedSlides),n.slideTo(Pe)}),Object.assign(n.pagination,{$el:ne,el:ne[0]}),n.enabled||ne.addClass(K.lockClass))}function P(){const K=n.params.pagination;if(d())return;const ne=n.pagination.$el;ne.removeClass(K.hiddenClass),ne.removeClass(K.modifierClass+K.type),ne.removeClass(n.isHorizontal()?K.horizontalClass:K.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(K.bulletActiveClass),K.clickable&&ne.off("click",Iv(K.bulletClass))}t("init",()=>{!1===n.params.pagination.enabled?ee():(b(),y(),m())}),t("activeIndexChange",()=>{(n.params.loop||typeof n.snapIndex>"u")&&m()}),t("snapIndexChange",()=>{n.params.loop||m()}),t("slidesLengthChange",()=>{n.params.loop&&(y(),m())}),t("snapGridLengthChange",()=>{n.params.loop||(y(),m())}),t("destroy",()=>{P()}),t("enable disable",()=>{const{$el:K}=n.pagination;K&&K[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)}),t("lock unlock",()=>{m()}),t("click",(K,ne)=>{const we=ne.target,{$el:Se}=n.pagination;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&Se&&Se.length>0&&!Zn(we).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&we===n.navigation.nextEl||n.navigation.prevEl&&we===n.navigation.prevEl))return;const Pe=Se.hasClass(n.params.pagination.hiddenClass);i(!0===Pe?"paginationShow":"paginationHide"),Se.toggleClass(n.params.pagination.hiddenClass)}});const ee=()=>{n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),P()};Object.assign(n.pagination,{enable:()=>{n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),b(),y(),m()},disable:ee,render:y,update:m,init:b,destroy:P})}function yW(n,e,t){const i="swiper-slide-shadow"+(t?`-${t}`:""),r=n.transformEl?e.find(n.transformEl):e;let s=r.children(`.${i}`);return s.length||(s=Zn(`<div class="swiper-slide-shadow${t?`-${t}`:""}"></div>`),r.append(s)),s}function wW(n,e){return n.transformEl?e.find(n.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function zL({swiper:n,extendParams:e,on:t}){e({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),function bW(n){const{effect:e,swiper:t,on:i,setTranslate:r,setTransition:s,overwriteParams:u,perspective:d,recreateShadows:f,getEffectParams:m}=n;let y;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),d&&d()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const b=u?u():{};Object.assign(t.params,b),Object.assign(t.originalParams,b)}),i("setTranslate",()=>{t.params.effect===e&&r()}),i("setTransition",(b,P)=>{t.params.effect===e&&s(P)}),i("transitionEnd",()=>{if(t.params.effect===e&&f){if(!m||!m().slideShadows)return;t.slides.each(b=>{t.$(b).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),f()}}),i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(y=!0),requestAnimationFrame(()=>{y&&t.slides&&t.slides.length&&(r(),y=!1)}))})}({effect:"cards",swiper:n,on:t,setTranslate:()=>{const{slides:s,activeIndex:u}=n,d=n.params.cardsEffect,{startTranslate:f,isTouched:m}=n.touchEventsData,y=n.translate;for(let b=0;b<s.length;b+=1){const P=s.eq(b),V=P[0].progress,ee=Math.min(Math.max(V,-4),4);let K=P[0].swiperSlideOffset;n.params.centeredSlides&&!n.params.cssMode&&n.$wrapperEl.transform(`translateX(${n.minTranslate()}px)`),n.params.centeredSlides&&n.params.cssMode&&(K-=s[0].swiperSlideOffset);let ne=n.params.cssMode?-K-n.translate:-K,we=0;const Se=-100*Math.abs(ee);let Pe=1,$e=-d.perSlideRotate*ee,ze=d.perSlideOffset-.75*Math.abs(ee);const Qe=n.virtual&&n.params.virtual.enabled?n.virtual.from+b:b,Ct=(Qe===u||Qe===u+1)&&ee<0&&ee>-1&&(m||n.params.cssMode)&&y>f;if((Qe===u||Qe===u-1)&&ee>0&&ee<1&&(m||n.params.cssMode)&&y<f||Ct){const Je=(1-Math.abs((Math.abs(ee)-.5)/.5))**.5;$e+=-28*ee*Je,Pe+=-.5*Je,ze+=96*Je,we=-25*Je*Math.abs(ee)+"%"}if(ne=ee<0?`calc(${ne}px + (${ze*Math.abs(ee)}%))`:ee>0?`calc(${ne}px + (-${ze*Math.abs(ee)}%))`:`${ne}px`,!n.isHorizontal()){const Je=we;we=ne,ne=Je}const Et=`\n        translate3d(${ne}, ${we}, ${Se}px)\n        rotateZ(${d.rotate?$e:0}deg)\n        scale(${ee<0?""+(1+(1-Pe)*ee):""+(1-(1-Pe)*ee)})\n      `;if(d.slideShadows){let Je=P.find(".swiper-slide-shadow");0===Je.length&&(Je=yW(d,P)),Je.length&&(Je[0].style.opacity=Math.min(Math.max((Math.abs(ee)-.5)/.5,0),1))}P[0].style.zIndex=-Math.abs(Math.round(V))+s.length,wW(d,P).transform(Et)}},setTransition:s=>{const{transformEl:u}=n.params.cardsEffect;(u?n.slides.find(u):n.slides).transition(s).find(".swiper-slide-shadow").transition(s),function CW({swiper:n,duration:e,transformEl:t,allSlides:i}){const{slides:r,activeIndex:s,$wrapperEl:u}=n;if(n.params.virtualTranslate&&0!==e){let f,d=!1;f=i?t?r.find(t):r:t?r.eq(s).find(t):r.eq(s),f.transitionEnd(()=>{if(d||!n||n.destroyed)return;d=!0,n.animating=!1;const m=["webkitTransitionEnd","transitionend"];for(let y=0;y<m.length;y+=1)u.trigger(m[y])})}}({swiper:n,duration:s,transformEl:u})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!n.params.cssMode})})}const EW=["prevElRef"],SW=["nextElRef"],AW=["scrollbarElRef"],TW=["paginationElRef"];function DW(n,e){1&n&&(l.ynx(0),l._UZ(1,"div",6,7)(3,"div",8,9),l.BQk())}function IW(n,e){1&n&&l._UZ(0,"div",10,11)}function xW(n,e){1&n&&l._UZ(0,"div",12,13)}function MW(n,e){}function PW(n,e){1&n&&l.YNc(0,MW,0,0,"ng-template")}function OW(n,e){}function RW(n,e){1&n&&l.YNc(0,OW,0,0,"ng-template")}function NW(n,e){}function kW(n,e){1&n&&l.YNc(0,NW,0,0,"ng-template")}function FW(n,e){}const WL=function(n){return{$implicit:n}};function LW(n,e){if(1&n&&(l.TgZ(0,"div",3),l.YNc(1,FW,0,0,"ng-template",18),l.qZA()),2&n){const t=l.oxw().$implicit,i=l.oxw(2);l.Q6J("ngClass",i.zoomContainerClass),l.xp6(1),l.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",l.VKq(3,WL,t.slideData))}}function BW(n,e){}function VW(n,e){if(1&n&&(l.ynx(0),l.YNc(1,BW,0,0,"ng-template",18),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",l.VKq(2,WL,t.slideData))}}function jW(n,e){if(1&n&&(l.TgZ(0,"div",15),l.YNc(1,LW,2,5,"div",16),l.YNc(2,VW,2,4,"ng-container",17),l.qZA()),2&n){const t=e.$implicit,i=l.oxw().key,r=l.oxw();l.Akn(r.style),l.Q6J("ngClass",(t.class?t.class+" ":"")+r.slideClass+(""!==i?" "+r.slideDuplicateClass:""))("ngSwitch",t.zoom),l.uIk("data-swiper-slide-index",t.virtualIndex?t.virtualIndex:t.slideIndex)("data-swiper-autoplay",t.autoplayDelay),l.xp6(1),l.Q6J("ngSwitchCase",!0)}}function UW(n,e){1&n&&(l.YNc(0,jW,3,7,"div",14),l.ALo(1,"async")),2&n&&l.Q6J("ngForOf",l.lcZ(1,1,e.loopSlides))}const $W=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],HW=function(n){return{loopSlides:n,key:"prepend"}},GW=function(n){return{loopSlides:n,key:""}},zW=function(n){return{loopSlides:n,key:"append"}},WW=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],qL=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function xv(n){return"object"==typeof n&&null!==n&&n.constructor&&"Object"===Object.prototype.toString.call(n).slice(8,-1)}function JP(n){return typeof n<"u"&&"boolean"!=typeof n&&!0===n.enabled}function YL(n,e,t){return!0===W1(n)&&e&&!e.el||!("boolean"!=typeof e&&e.el!==t?.nativeElement&&("string"==typeof e.el||"object"==typeof e.el))}function dh(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:n[i]&&!e[i]||(xv(e[i])&&xv(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:dh(n[i],e[i]):n[i]=e[i])})}function W1(n){return null!=n&&"false"!=`${n}`}const qW=["pagination","navigation","scrollbar","virtual"];function q1(n,e={}){return xv(n)?n:!0===W1(n)&&e}function QP(n={}){const e={on:{}},t={};dh(e,Dv.defaults),dh(e,Dv.extendedDefaults),e._emitClasses=!0,e.init=!1;const i={},r=qL.map(s=>s.replace(/_/,""));return Object.keys(n).forEach(s=>{const u=s.replace(/^_/,"");r.indexOf(u)>=0?xv(n[s])?(e[u]={},t[u]={},dh(e[u],n[s]),dh(t[u],n[s])):(e[u]=n[s],t[u]=n[s]):i[u]=n[s]}),["navigation","pagination","scrollbar"].forEach(s=>{!0===e[s]&&(e[s]={}),!1===e[s]&&delete e[s]}),{params:e,passedParams:t,rest:i}}qL.map(n=>n.replace(/_/,""));let XP=(()=>{class n{constructor(t){this.template=t,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(t){this.class=[this.class||"",t].join(" ")}set zoom(t){this._zoom=W1(t)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(t){this._classNames!==t&&(this._classNames=t,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(t){return t.some(i=>this._classNames.indexOf(i)>=0)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),n})(),ZL=(()=>{class n{constructor(t,i,r,s){this._ngZone=t,this.elementRef=i,this._changeDetectorRef=r,this._platformId=s,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new l.vpe,this.s__containerClasses=new l.vpe,this.s__slideClass=new l.vpe,this.s__swiper=new l.vpe,this.s_activeIndexChange=new l.vpe,this.s_afterInit=new l.vpe,this.s_autoplay=new l.vpe,this.s_autoplayStart=new l.vpe,this.s_autoplayStop=new l.vpe,this.s_autoplayPause=new l.vpe,this.s_autoplayResume=new l.vpe,this.s_beforeDestroy=new l.vpe,this.s_beforeInit=new l.vpe,this.s_beforeLoopFix=new l.vpe,this.s_beforeResize=new l.vpe,this.s_beforeSlideChangeStart=new l.vpe,this.s_beforeTransitionStart=new l.vpe,this.s_breakpoint=new l.vpe,this.s_changeDirection=new l.vpe,this.s_click=new l.vpe,this.s_doubleTap=new l.vpe,this.s_doubleClick=new l.vpe,this.s_destroy=new l.vpe,this.s_fromEdge=new l.vpe,this.s_hashChange=new l.vpe,this.s_hashSet=new l.vpe,this.s_imagesReady=new l.vpe,this.s_init=new l.vpe,this.s_keyPress=new l.vpe,this.s_lazyImageLoad=new l.vpe,this.s_lazyImageReady=new l.vpe,this.s_loopFix=new l.vpe,this.s_momentumBounce=new l.vpe,this.s_navigationHide=new l.vpe,this.s_navigationShow=new l.vpe,this.s_navigationPrev=new l.vpe,this.s_navigationNext=new l.vpe,this.s_observerUpdate=new l.vpe,this.s_orientationchange=new l.vpe,this.s_paginationHide=new l.vpe,this.s_paginationRender=new l.vpe,this.s_paginationShow=new l.vpe,this.s_paginationUpdate=new l.vpe,this.s_progress=new l.vpe,this.s_reachBeginning=new l.vpe,this.s_reachEnd=new l.vpe,this.s_realIndexChange=new l.vpe,this.s_resize=new l.vpe,this.s_scroll=new l.vpe,this.s_scrollbarDragEnd=new l.vpe,this.s_scrollbarDragMove=new l.vpe,this.s_scrollbarDragStart=new l.vpe,this.s_setTransition=new l.vpe,this.s_setTranslate=new l.vpe,this.s_slideChange=new l.vpe,this.s_slideChangeTransitionEnd=new l.vpe,this.s_slideChangeTransitionStart=new l.vpe,this.s_slideNextTransitionEnd=new l.vpe,this.s_slideNextTransitionStart=new l.vpe,this.s_slidePrevTransitionEnd=new l.vpe,this.s_slidePrevTransitionStart=new l.vpe,this.s_slideResetTransitionStart=new l.vpe,this.s_slideResetTransitionEnd=new l.vpe,this.s_sliderMove=new l.vpe,this.s_sliderFirstMove=new l.vpe,this.s_slidesLengthChange=new l.vpe,this.s_slidesGridLengthChange=new l.vpe,this.s_snapGridLengthChange=new l.vpe,this.s_snapIndexChange=new l.vpe,this.s_tap=new l.vpe,this.s_toEdge=new l.vpe,this.s_touchEnd=new l.vpe,this.s_touchMove=new l.vpe,this.s_touchMoveOpposite=new l.vpe,this.s_touchStart=new l.vpe,this.s_transitionEnd=new l.vpe,this.s_transitionStart=new l.vpe,this.s_update=new l.vpe,this.s_zoomChange=new l.vpe,this.s_swiper=new l.vpe,this.s_lock=new l.vpe,this.s_unlock=new l.vpe,this._activeSlides=new Yn.x,this.containerClasses="swiper",this.slidesChanges=u=>{this.slides=u.map((d,f)=>(d.slideIndex=f,d.classNames=this.slideClass||"",d)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=Jt(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=Jt(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=u=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===u.from&&this.currentVirtualData.to===u.to&&this.currentVirtualData.offset===u.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${u.offset}px`}:{top:`${u.offset}px`},this.currentVirtualData=u,this._activeSlides.next(u.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),JP(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(t){var i,r,s;const u="boolean"!=typeof this._navigation&&""!==this._navigation?null===(i=this._navigation)||void 0===i?void 0:i.nextEl:null,d="boolean"!=typeof this._navigation&&""!==this._navigation?null===(r=this._navigation)||void 0===r?void 0:r.prevEl:null;this._navigation=q1(t,{nextEl:u||null,prevEl:d||null}),this.showNavigation=!(!0!==W1(t)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(s=this._prevElRef)||void 0===s?void 0:s.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(t){var i;const r="boolean"!=typeof this._pagination&&""!==this._pagination?null===(i=this._pagination)||void 0===i?void 0:i.el:null;this._pagination=q1(t,{el:r||null}),this.showPagination=YL(t,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(t){var i;const r="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(i=this._scrollbar)||void 0===i?void 0:i.el:null;this._scrollbar=q1(t,{el:r||null}),this.showScrollbar=YL(t,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(t){this._virtual=q1(t)}get virtual(){return this._virtual}set config(t){this.updateSwiper(t);const{params:i}=QP(t);Object.assign(this,i)}set prevElRef(t){this._prevElRef=t,this._setElement(t,this.navigation,"navigation","prevEl")}set nextElRef(t){this._nextElRef=t,this._setElement(t,this.navigation,"navigation","nextEl")}set scrollbarElRef(t){this._scrollbarElRef=t,this._setElement(t,this.scrollbar,"scrollbar")}set paginationElRef(t){this._paginationElRef=t,this._setElement(t,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:Jt(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(t,i,r,s="el"){if(!i||!t)return;if(t.nativeElement){if(i[s]===t.nativeElement)return;i[s]=t.nativeElement}const u={};u[r]=!0,this.updateInitSwiper(u)}ngOnInit(){const{params:t}=QP(this);Object.assign(this,t)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:t}=QP(this);Object.assign(this,t),this._ngZone.runOutsideAngular(()=>{t.init=!1,t.virtual||(t.observer=!0),t.onAny=(f,...m)=>{const y=this["s_"+f];y&&y.emit([...m])},Object.assign(t.on,{_containerClasses:(f,m)=>{setTimeout(()=>{this.containerClasses=m})},_slideClasses:(f,m)=>{m.forEach(({slideEl:y,classNames:b},P)=>{const V=y.getAttribute("data-swiper-slide-index"),ee=V?parseInt(V):P;if(this.virtual){const K=this.slides.find(ne=>ne.virtualIndex&&ne.virtualIndex===ee);if(K)return void(K.classNames=b)}this.slides[ee]&&(this.slides[ee].classNames=b)}),this._changeDetectorRef.detectChanges()}});const u=new Dv(t);u.loopCreate=()=>{},u.loopDestroy=()=>{},t.loop&&(u.loopedSlides=this.loopedSlides);const d=JP(u.params.virtual);if(u.virtual&&d){u.virtual.slides=this.slides;const f={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};dh(u.params.virtual,f),dh(u.originalParams.virtual,f)}if(Qo(this._platformId)){this.swiperRef=u.init(this.elementRef.nativeElement);const f=JP(this.swiperRef.params.virtual);this.swiperRef.virtual&&f&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(t){this.updateSwiper(t),this._changeDetectorRef.detectChanges()}updateInitSwiper(t){!t||!this.swiperRef||this.swiperRef.destroyed||this._ngZone.runOutsideAngular(()=>{const{pagination:r,navigation:s,scrollbar:u,thumbs:f}=this.swiperRef;t.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&r&&!r.el?(this.updateParameter("pagination",this.pagination),r.init(),r.render(),r.update()):(r.destroy(),r.el=null)),t.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&u&&!u.el?(this.updateParameter("scrollbar",this.scrollbar),u.init(),u.updateSize(),u.setTranslate()):(u.destroy(),u.el=null)),t.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&s&&!s.prevEl&&!s.nextEl?(this.updateParameter("navigation",this.navigation),s.init(),s.update()):s.prevEl&&s.nextEl&&(s.destroy(),s.nextEl=null,s.prevEl=null)),t.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),f.init()&&f.update(!0)),t.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(t){this._ngZone.runOutsideAngular(()=>{var i,r;if(!t.config&&t&&this.swiperRef&&!this.swiperRef.destroyed){for(const s in t){if(qW.indexOf(s)>=0)continue;const u=null!==(r=null===(i=t[s])||void 0===i?void 0:i.currentValue)&&void 0!==r?r:t[s];this.updateParameter(s,u)}t.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),t.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),t.direction&&this.swiperRef.changeDirection(this.direction,!1),t.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(t.thumbs||t.controller)&&this.updateInitSwiper(t),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let t=this.slidesPerView;if(this.breakpoints){const r=Dv.prototype.getBreakpoint(this.breakpoints),s=r in this.breakpoints?this.breakpoints[r]:void 0;s&&s.slidesPerView&&(t=s.slidesPerView)}if("auto"===t)return this.loopedSlides=this.slides.length,this.slides.length;let i=this.loopedSlides||t;return!!i&&(this.loopAdditionalSlides&&(i+=this.loopAdditionalSlides),i>this.slides.length&&(i=this.slides.length),this.loopedSlides=i,!0)}updateParameter(t,i){if(!this.swiperRef||this.swiperRef.destroyed)return;const r=t.replace(/^_/,""),s=xv(this.swiperRef.params[r]);"enabled"!==r?s&&xv(i)?dh(this.swiperRef.params[r],i):this.swiperRef.params[r]=i:!0===i?this.swiperRef.enable():!1===i&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var t;null===(t=this.swiperRef)||void 0===t||t.destroy(!0,!1)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.Lbi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["swiper"],["","swiper",""]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,XP,4),2&t){let s;l.iGM(s=l.CRH())&&(i.slidesEl=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(EW,5),l.Gf(SW,5),l.Gf(AW,5),l.Gf(TW,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.prevElRef=r.first),l.iGM(r=l.CRH())&&(i.nextElRef=r.first),l.iGM(r=l.CRH())&&(i.scrollbarElRef=r.first),l.iGM(r=l.CRH())&&(i.paginationElRef=r.first)}},hostVars:2,hostBindings:function(t,i){2&t&&l.Tol(i.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",slidesPerGroupAuto:"slidesPerGroupAuto",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[l.TTD],ngContentSelectors:WW,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){if(1&t&&(l.F$t($W),l.Hsn(0),l.YNc(1,DW,5,0,"ng-container",0),l.YNc(2,IW,2,0,"div",1),l.YNc(3,xW,2,0,"div",2),l.TgZ(4,"div",3),l.Hsn(5,1),l.YNc(6,PW,1,0,null,4),l.YNc(7,RW,1,0,null,4),l.YNc(8,kW,1,0,null,4),l.Hsn(9,2),l.qZA(),l.Hsn(10,3),l.YNc(11,UW,2,3,"ng-template",null,5,l.W1O)),2&t){const r=l.MAs(12);l.xp6(1),l.Q6J("ngIf",i.navigation&&i.showNavigation),l.xp6(1),l.Q6J("ngIf",i.scrollbar&&i.showScrollbar),l.xp6(1),l.Q6J("ngIf",i.pagination&&i.showPagination),l.xp6(1),l.Q6J("ngClass",i.wrapperClass),l.uIk("id",i.id),l.xp6(2),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(11,HW,i.prependSlides)),l.xp6(1),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(13,GW,i.activeSlides)),l.xp6(1),l.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",l.VKq(15,zW,i.appendSlides))}},dependencies:[ti,Gn,go,er,ja,Ko,Yl,hu],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),YW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ni]]}),n})(),eC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[f3,wa],imports:[ni,YW,wa]}),n})();function ZW(n,e){if(1&n&&l._UZ(0,"img",4),2&n){const t=l.oxw().$implicit;l.Q6J("src",t,l.LSH)}}function KW(n,e){1&n&&l.YNc(0,ZW,1,1,"ng-template",3)}Dv.use([zL,GL]);let JW=(()=>{class n{constructor(){this.index=0,this.config={slidesPerView:1,effect:"cards",spaceBetween:16,navigation:!1,loop:!1,slideActiveClass:"active",pagination:{clickable:!0},scrollbar:{draggable:!0}},this.images=["./assets/img/code/html.svg","./assets/img/code/angular.svg","./assets/img/code/react.svg","./assets/img/code/flutter.svg","./assets/img/code/django.svg"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-swiper-code"]],decls:3,vars:2,consts:[[3,"config"],[4,"ngFor","ngForOf"],["src","https://carbon.now.sh/embed?bg=rgba%28128%2C139%2C157%2C0%29&t=blackboard&wt=none&l=django&width=706&ds=true&dsyoff=20px&dsblur=68px&wc=true&wa=false&pv=56px&ph=56px&ln=false&fl=1&fm=Hack&fs=14px&lh=133%25&si=false&es=4x&wm=false&code=%2523%2520views.py%250Afrom%2520django.shortcuts%2520import%2520render%250Afrom%2520django.http%2520import%2520HttpResponse%250A%250Adef%2520home%28request%29%253A%250A%2520%2520%2520%2520return%2520HttpResponse%28%2522Bienvenido%2520a%2520pparce%2520portfolio%2522%29%250A%250A%2523%2520urls.py%250Afrom%2520django.urls%2520import%2520path%250Afrom%2520.%2520import%2520views%250A%250Aurlpatterns%2520%253D%2520%255B%250A%2520%2520%2520%2520path%28%27%27%252C%2520views.home%252C%2520name%253D%27home%27%29%252C%250A%255D%250A","sandbox","allow-scripts allow-same-origin",2,"width","1024px","height","473px","border","0","transform","scale(1)","overflow","hidden"],["swiperSlide",""],["loading","lazy",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"swiper",0),l.YNc(1,KW,1,0,null,1),l._UZ(2,"iframe",2),l.qZA()),2&t&&(l.Q6J("config",i.config),l.xp6(1),l.Q6J("ngForOf",i.images))},dependencies:[er,ZL,XP],styles:['@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-cube{overflow:visible}.swiper-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-cube.swiper-rtl .swiper-slide{transform-origin:100% 0}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-next,.swiper-cube .swiper-slide-next+.swiper-slide,.swiper-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-cube .swiper-slide-shadow-bottom,.swiper-cube .swiper-slide-shadow-left,.swiper-cube .swiper-slide-shadow-right,.swiper-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:"";background:#000;position:absolute;inset:0;filter:blur(50px)}.swiper-creative .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}:root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - var(--swiper-navigation-size) / 2);z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-feature-settings:;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-button-lock{display:none}.swiper{width:100%}.swiper-slide{z-index:2;height:500px;width:500px;opacity:.3;transition:all .3s ease}.swiper-slide .swiper-slide-shadow{background-color:transparent}.swiper-slide img{display:block;width:100%;height:500px;object-fit:contain}.active{opacity:1;transition:all .3s ease}\n'],encapsulation:2}),n})(),XW=(()=>{class n{constructor(t){this.hljsLoader=t,this.currentTheme="node_modules/highlight.js/styles/github.css"}ngOnInit(){}onHighlight(t){this.response={language:t.language,relevance:t.relevance,secondBest:"{...}",value:"{...}"}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(SE))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-hello"]],standalone:!0,features:[l.jDz],decls:30,vars:0,consts:[[1,"stack","container"],[1,"hello-container","animate__animated","animate__fadeIn"],[1,"row"],[1,"info-container","col-12","col-md-6"],[1,"i-am"],[1,"name"],[1,"skill"],[1,"coment","mt-5"],[1,"coment"],[1,"line","mt-2"],[1,"variable-declaration"],[1,"variable"],[1,"string"],["href","https://github.com/pparce","target","_blank"],[1,"code-container","d-md-flex","col-12","col-md-6"],[1,"gradiant"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l._uU(5,"Hi all. I am"),l.qZA(),l.TgZ(6,"div",5),l._uU(7,"Pedro P. Arce"),l.qZA(),l.TgZ(8,"div",6),l._uU(9,"> Frontend developer"),l.qZA(),l.TgZ(10,"div",6),l._uU(11,"> Backend developer"),l.qZA(),l.TgZ(12,"div",7),l._uU(13,"// welcome to my site"),l.qZA(),l.TgZ(14,"div",8),l._uU(15," // you can also see it on my Github page "),l.qZA(),l.TgZ(16,"div",9)(17,"span",10),l._uU(18,"const"),l.qZA(),l.TgZ(19,"span",11),l._uU(20," githubLink"),l.qZA(),l._uU(21," = "),l.TgZ(22,"span",12),l._uU(23," \xa0 "),l.TgZ(24,"a",13),l._uU(25," \u201chttps://github.com/pparce/\u201d "),l.qZA()(),l._uU(26," ; "),l.qZA()(),l.TgZ(27,"div",14),l._UZ(28,"app-swiper-code"),l.qZA()(),l._UZ(29,"div",15),l.qZA()())},dependencies:[ni,wa,eC,JW],styles:[".stack[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px;height:100%}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]{grid-area:1/1/6/6;height:100%;z-index:2}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:100%}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .i-am[_ngcontent-%COMP%]{font-size:1vw;color:#e5e5e5}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:4.5vw;font-weight:600;color:#c4c7cf}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{font-size:2vw;font-weight:450;line-height:1.05;color:#4d5bce}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]{height:100%;flex-direction:column;justify-content:center}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]   .code-card[_ngcontent-%COMP%]{animation-duration:.5s;background-color:#011221;padding:16px;border-radius:15px;margin-bottom:16px}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{width:100%;grid-area:1/1/6/6;display:flex;justify-content:flex-end;align-items:flex-start}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .figure-1[_ngcontent-%COMP%]{position:absolute;width:454px;height:200px;right:250px;top:100px;background:#43d9ad;opacity:.4;border-radius:100%;filter:blur(100px);transform:rotate(50deg)}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .figure-2[_ngcontent-%COMP%]{position:absolute;width:454px;height:200px;right:100px;top:400px;background:#4d5bce;border-radius:50%;opacity:.4;filter:blur(100px);transform:rotate(50deg)}@media (max-width: 576px){.stack[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px;height:100%}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]{grid-area:1/1/6/6;margin:0;height:auto;z-index:2}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{height:auto}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{height:50%;display:flex;flex-direction:column;justify-content:flex-start;padding:32px 32px 0}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .i-am[_ngcontent-%COMP%]{font-size:16px;color:#e5e5e5}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:48px;font-weight:600;line-height:48px;color:#c4c7cf}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{margin-top:16px;font-size:16px;font-weight:450;line-height:5px;color:#4d5bce}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .coment[_ngcontent-%COMP%], .stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{font-size:12px}.stack[_ngcontent-%COMP%]   .hello-container[_ngcontent-%COMP%]   .code-container[_ngcontent-%COMP%]{height:500px;flex-direction:column;justify-content:center}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{width:100%;grid-area:1/1/6/6;display:flex;justify-content:flex-end;align-items:flex-start}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .figure-1[_ngcontent-%COMP%]{position:absolute;width:454px;height:200px;right:250px;top:100px;background:#43d9ad;opacity:.4;border-radius:100%;filter:blur(100px);transform:rotate(50deg)}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .figure-2[_ngcontent-%COMP%]{position:absolute;width:454px;height:200px;right:100px;top:400px;background:#4d5bce;border-radius:50%;opacity:.4;filter:blur(100px);transform:rotate(50deg)}}"]}),n})();const e6=JSON.parse('{"about_information":[{"id":1,"title":"education-info","icon":"fa-graduation-cap","selected":true,"folders":[],"files":[{"id":1,"title":"secondary_education","content":"/*\\n About me\\n I have 5 years of \u0435xperience in web\\n development lorem ipsum dolor sit amet, \\n consectetur adipiscing elit, sed do eiusmod\\n tempor incididunt ut labore et dolore\\n magna aliqua. Ut enim ad minim veniam,\\n quis nostrud exercitation ullamco laboris\\n nisi ut aliquip ex ea commodo consequat.\\n Duis aute irure dolor in reprehenderit in\\n \\n Duis aute irure dolor in reprehenderit in\\n voluptate velit esse cillum dolore eu fugiat \\n nulla pariatur. Excepteur sint occaecat \\n officia deserunt mollit anim id est laborum.\\n */","selected":false,"about_information":1},{"id":2,"title":"upper_secondary","content":"/*\\n About me\\n I have 5 years of \u0435xperience in web\\n development lorem ipsum dolor sit amet, \\n consectetur adipiscing elit, sed do eiusmod\\n tempor incididunt ut labore et dolore\\n magna aliqua. Ut enim ad minim veniam,\\n quis nostrud exercitation ullamco laboris\\n nisi ut aliquip ex ea commodo consequat.\\n Duis aute irure dolor in reprehenderit in\\n \\n Duis aute irure dolor in reprehenderit in\\n voluptate velit esse cillum dolore eu fugiat \\n nulla pariatur. Excepteur sint occaecat \\n officia deserunt mollit anim id est laborum.\\n */","selected":false,"about_information":1}]},{"id":2,"title":"professional-info","icon":"fa-laptop-code","selected":false,"folders":[],"files":[{"id":3,"title":"freelance","content":"asdfasdf","selected":false,"about_information":2},{"id":4,"title":"scoutFrame_company","content":"asdfasdf","selected":false,"about_information":2}]},{"id":3,"title":"personal-preferences","icon":"fa-gamepad","selected":false,"folders":[],"files":[]}]}');var t6=ie.t(e6,2);class eO extends Error{constructor(e,t="FunctionsError",i){super(e),super.name=t,this.context=i}}class r6 extends eO{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class s6 extends eO{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class o6 extends eO{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}class l6{constructor(e,{headers:t={},customFetch:i}={}){this.url=e,this.headers=t,this.fetch=(n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(ie.t.bind(ie,8472,23))).fetch(...t)}):fetch),(...t)=>e(...t)})(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var i;return function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:r,body:s}=t;let d,u={};s&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",d=s):"string"==typeof s?(u["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(u["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:d}).catch(P=>{throw new r6(P)}),m=f.headers.get("x-relay-error");if(m&&"true"===m)throw new s6(f);if(!f.ok)throw new o6(f);let b,y=(null!==(i=f.headers.get("Content-Type"))&&void 0!==i?i:"text/plain").split(";")[0].trim();return b="application/json"===y?yield f.json():"application/octet-stream"===y?yield f.blob():"multipart/form-data"===y?yield f.formData():yield f.text(),{data:b,error:null}}catch(r){return{data:null,error:r}}})}}var KL=ie(8472),JL=ie.n(KL);class Mv extends class d6 extends class u6{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,this.fetch=e.fetch?e.fetch:typeof fetch>"u"?JL():fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){var u,d,f;let m=null,y=null,b=null,P=s.status,V=s.statusText;if(s.ok){if("HEAD"!==this.method){const we=yield s.text();""===we||(y="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?we:JSON.parse(we))}const K=null===(u=this.headers.Prefer)||void 0===u?void 0:u.match(/count=(exact|planned|estimated)/),ne=null===(d=s.headers.get("content-range"))||void 0===d?void 0:d.split("/");K&&ne&&ne.length>1&&(b=parseInt(ne[1]))}else{const K=yield s.text();try{m=JSON.parse(K)}catch{m={message:K}}if(m&&this.allowEmpty&&(null===(f=m?.details)||void 0===f?void 0:f.includes("Results contain 0 rows"))&&(m=null,P=200,V="OK"),m&&this.shouldThrowOnError)throw m}return{error:m,data:y,count:b,status:P,statusText:V}}));return this.shouldThrowOnError||(r=r.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,count:null,status:0,statusText:""}))),r.then(e,t)}}{select(e){let t=!1;const i=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":('"'===r&&(t=!t),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:r}={}){const s=r?`${r}.order`:"order",u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${void 0===i?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){return this.url.searchParams.set(typeof t>"u"?"limit":`${t}.limit`,`${e}`),this}range(e,t,{foreignTable:i}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(typeof i>"u"?"offset":`${i}.offset`,`${e}`),this.url.searchParams.set(s,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:r=!1,wal:s=!1,format:u="text"}={}){const d=[e?"analyze":null,t?"verbose":null,i?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|");return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${this.headers.Accept}"; options=${d};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const i=t.map(r=>"string"==typeof r&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return this.url.searchParams.append(e,"string"==typeof t?`ov.${t}`:`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:r}={}){let s="";return"plain"===r?s="pl":"phrase"===r?s="ph":"websearch"===r&&(s="w"),this.url.searchParams.append(e,`${s}fts${void 0===i?"":`(${i})`}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t}={}){return this.url.searchParams.append(t?`${t}.or`:"or",`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}}class h6{constructor(e,{headers:t={},schema:i,fetch:r}){this.url=e,this.headers=t,this.schema=i,this.fetch=r}select(e,{head:t=!1,count:i}={}){const r=t?"HEAD":"GET";let s=!1;const u=(e??"*").split("").map(d=>/\s/.test(d)&&!s?"":('"'===d&&(s=!s),d)).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer=`count=${i}`),new Mv({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){const r=[],s=e;if(t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new Mv({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:r}={}){const u=[`resolution=${i?"ignore":"merge"}-duplicates`];void 0!==t&&this.url.searchParams.set("on_conflict",t);const d=e;return r&&u.push(`count=${r}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new Mv({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r=[],s=e;return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Mv({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Mv({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const f6={"X-Client-Info":"postgrest-js/1.1.0"};class p6{constructor(e,{headers:t={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},f6),t),this.schema=i,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new h6(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:i=!1,count:r}={}){let s;const u=new URL(`${this.url}/rpc/${e}`);let d;i?(s="HEAD",Object.entries(t).forEach(([m,y])=>{u.searchParams.append(m,`${y}`)})):(s="POST",d=t);const f=Object.assign({},this.headers);return r&&(f.Prefer=`count=${r}`),new Mv({method:s,url:u,headers:f,schema:this.schema,body:d,fetch:this.fetch,allowEmpty:!1})}}var g6=ie(2762);const m6={"X-Client-Info":"realtime-js/2.1.0"};var Pv=(()=>(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"}(Pv||(Pv={})),Pv))(),Ns=(()=>(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"}(Ns||(Ns={})),Ns))(),Ho=(()=>(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"}(Ho||(Ho={})),Ho))(),Y1=(()=>(function(n){n.websocket="websocket"}(Y1||(Y1={})),Y1))(),hh=(()=>(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"}(hh||(hh={})),hh))();class XL{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class y6{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const r=t.getUint8(1),s=t.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(e.slice(u,u+r));u+=r;const f=i.decode(e.slice(u,u+s));return u+=s,{ref:null,topic:d,event:f,payload:JSON.parse(i.decode(e.slice(u,e.byteLength)))}}}class tO{constructor(e,t,i={},r=1e4){this.channel=e,this.event=t,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,"rate limited"===this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})&&(this.rateLimited=!0))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t(null===(i=this.receivedResp)||void 0===i?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class tC{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tC.syncState(this.state,r,s,u),this.pendingDiffs.forEach(f=>{this.state=tC.syncDiff(this.state,f,s,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=tC.syncDiff(this.state,r,s,u),d())}),this.onJoin((r,s,u)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:u})}),this.onLeave((r,s,u)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,r){const s=this.cloneDeep(e),u=this.transformState(t),d={},f={};return this.map(s,(m,y)=>{u[m]||(f[m]=y)}),this.map(u,(m,y)=>{const b=s[m];if(b){const P=y.map(ne=>ne.presence_ref),V=b.map(ne=>ne.presence_ref),ee=y.filter(ne=>V.indexOf(ne.presence_ref)<0),K=b.filter(ne=>P.indexOf(ne.presence_ref)<0);ee.length>0&&(d[m]=ee),K.length>0&&(f[m]=K)}else d[m]=y}),this.syncDiff(s,{joins:d,leaves:f},i,r)}static syncDiff(e,t,i,r){const{joins:s,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(d,f)=>{var m;const y=null!==(m=e[d])&&void 0!==m?m:[];if(e[d]=this.cloneDeep(f),y.length>0){const b=e[d].map(V=>V.presence_ref),P=y.filter(V=>b.indexOf(V.presence_ref)<0);e[d].unshift(...P)}i(d,y,f)}),this.map(u,(d,f)=>{let m=e[d];if(!m)return;const y=f.map(b=>b.presence_ref);m=m.filter(b=>y.indexOf(b.presence_ref)<0),e[d]=m,r(d,m,f),0===m.length&&delete e[d]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const r=e[i];return t[i]="metas"in r?r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gi=(()=>(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"}(gi||(gi={})),gi))();const e2=(n,e,t={})=>{var i;const r=null!==(i=t.skipTypes)&&void 0!==i?i:[];return Object.keys(e).reduce((s,u)=>(s[u]=b6(u,n,e,r),s),{})},b6=(n,e,t,i)=>{const s=e.find(d=>d.name===n)?.type,u=t[n];return s&&!i.includes(s)?t2(s,u):nO(u)},t2=(n,e)=>{if("_"===n.charAt(0)){const t=n.slice(1,n.length);return S6(e,t)}switch(n){case gi.bool:return w6(e);case gi.float4:case gi.float8:case gi.int2:case gi.int4:case gi.int8:case gi.numeric:case gi.oid:return C6(e);case gi.json:case gi.jsonb:return E6(e);case gi.timestamp:return A6(e);default:return nO(e)}},nO=n=>n,w6=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},C6=n=>{if("string"==typeof n){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},E6=n=>{if("string"==typeof n)try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},S6=(n,e)=>{if("string"!=typeof n)return n;const t=n.length-1;if("{"===n[0]&&"}"===n[t]){let s;const u=n.slice(1,t);try{s=JSON.parse("["+u+"]")}catch{s=u?u.split(","):[]}return s.map(d=>t2(e,d))}return n},A6=n=>"string"==typeof n?n.replace(" ","T"):n;var n2=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};class iO{constructor(e,t={config:{}},i){this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ns.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new tO(this,Ho.join,this.params,this.timeout),this.rejoinTimer=new XL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ns.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ns.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ns.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ns.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ho.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new tC(this)}subscribe(e,t=this.timeout){var i,r;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:u}}=this.params;this._onError(m=>e&&e("CHANNEL_ERROR",m)),this._onClose(()=>e&&e("CLOSED"));const d={},f={broadcast:s,presence:u,postgres_changes:null!==(r=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(m=>m.filter))&&void 0!==r?r:[]};this.socket.accessToken&&(d.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:m})=>{var y;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),void 0!==m){const b=this.bindings.postgres_changes,P=null!==(y=b?.length)&&void 0!==y?y:0,V=[];for(let ee=0;ee<P;ee++){const K=b[ee],{filter:{event:ne,schema:we,table:Se,filter:Pe}}=K,$e=m&&m[ee];if(!$e||$e.event!==ne||$e.schema!==we||$e.table!==Se||$e.filter!==Pe)return this.unsubscribe(),void(e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes")));V.push(Object.assign(Object.assign({},K),{id:$e.id}))}return this.bindings.postgres_changes=V,void(e&&e("SUBSCRIBED"))}e&&e("SUBSCRIBED")}).receive("error",m=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return n2(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return n2(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,i){return this._on(e,t,i)}send(e,t={}){return new Promise(i=>{var r,s,u;const d=this._push(e.type,e,t.timeout||this.timeout);d.rateLimited&&i("rate limited"),"broadcast"===e.type&&!(null!==(u=null===(s=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===s?void 0:s.broadcast)&&void 0!==u&&u.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ns.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ho.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const r=new tO(this,Ho.leave,{},e);r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new tO(this,e,t,i);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var r,s;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:m,join:y}=Ho;if(i&&[d,f,m,y].indexOf(u)>=0&&i!==this._joinRef())return;let P=this._onMessage(u,t,i);if(t&&!P)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(V=>{var ee,K,ne;return"*"===(null===(ee=V.filter)||void 0===ee?void 0:ee.event)||(null===(ne=null===(K=V.filter)||void 0===K?void 0:K.event)||void 0===ne?void 0:ne.toLocaleLowerCase())===u}).map(V=>V.callback(P,i)):null===(s=this.bindings[u])||void 0===s||s.filter(V=>{var ee,K,ne,we,Se,Pe;if(["broadcast","presence","postgres_changes"].includes(u)){if("id"in V){const $e=V.id,ze=null===(ee=V.filter)||void 0===ee?void 0:ee.event;return $e&&(null===(K=t.ids)||void 0===K?void 0:K.includes($e))&&("*"===ze||ze?.toLocaleLowerCase()===(null===(ne=t.data)||void 0===ne?void 0:ne.type.toLocaleLowerCase()))}{const $e=null===(Se=null===(we=V?.filter)||void 0===we?void 0:we.event)||void 0===Se?void 0:Se.toLocaleLowerCase();return"*"===$e||$e===(null===(Pe=t?.event)||void 0===Pe?void 0:Pe.toLocaleLowerCase())}}return V.type.toLocaleLowerCase()===u}).map(V=>{if("object"==typeof P&&"ids"in P){const ee=P.data,{schema:K,table:ne,commit_timestamp:we,type:Se,errors:Pe}=ee;P=Object.assign(Object.assign({},{schema:K,table:ne,commit_timestamp:we,eventType:Se,new:{},old:{},errors:Pe}),this._getPayloadRecords(ee))}V.callback(P,i)})}_isClosed(){return this.state===Ns.closed}_isJoined(){return this.state===Ns.joined}_isJoining(){return this.state===Ns.joining}_isLeaving(){return this.state===Ns.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const r=e.toLocaleLowerCase(),s={type:r,filter:t,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(r=>{var s;return!((null===(s=r.type)||void 0===s?void 0:s.toLocaleLowerCase())===i&&iO.isEqual(r.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ho.close,{},e)}_onError(e){this._on(Ho.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ns.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=e2(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=e2(e.columns,e.old_record)),t}}const D6=()=>{};class I6{constructor(e,t){var i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=m6,this.params={},this.timeout=1e4,this.transport=g6.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=D6,this.conn=null,this.sendBuffer=[],this.serializer=new y6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Y1.websocket}`,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.transport&&(this.transport=t.transport),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const r=null===(i=t?.params)||void 0===i?void 0:i.eventsPerSecond;r&&(this.eventsPerSecondLimitMs=Math.floor(1e3/r)),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t?.encode?t.encode:(s,u)=>u(JSON.stringify(s)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new XL(()=>function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(t=>(0===this.channels.length&&this.disconnect(),t))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Pv.connecting:return hh.Connecting;case Pv.open:return hh.Open;case Pv.closing:return hh.Closing;default:return hh.Closed}}isConnected(){return this.connectionState()===hh.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const i=new iO(`realtime:${e}`,t,this);return this.channels.push(i),i}push(e){const{topic:t,event:i,payload:r,ref:s}=e;let u=()=>{this.encode(e,d=>{var f;null===(f=this.conn)||void 0===f||f.send(d)})};if(this.log("push",`${t} ${i} (${s})`,r),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(i)){if(this._throttle(u)())return"rate limited"}else u();else this.sendBuffer.push(u)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Ho.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return this.ref=e===this.ref?0:e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:i,event:r,payload:s,ref:u}=t;(u&&u===this.pendingHeartbeatRef||r===s?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${i} ${r} ${u&&"("+u+")"||""}`,s),this.channels.filter(d=>d._isMember(i)).forEach(d=>d._trigger(r,s,u)),this.stateChangeCallbacks.message.forEach(d=>d(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ho.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const i=e.match(/\?/)?"&":"?";return`${e}${i}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>!!this.inThrottle||(e(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t),!1)}}class r2 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ks(n){return"object"==typeof n&&null!==n&&"__isStorageError"in n}class x6 extends r2{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class M6 extends r2{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var s2=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};const o2=n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>s2(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(ie.t.bind(ie,8472,23))).fetch(...t)}):fetch),(...t)=>e(...t)};var Ov=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};const a2=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n);function Z1(n,e,t,i,r,s){return Ov(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(t,((n,e,t,i)=>{const r={method:n,headers:e?.headers||{}};return"GET"===n?r:(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))})(e,i,r,s)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>((n,e)=>Ov(void 0,void 0,void 0,function*(){const t=yield s2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(ie.t.bind(ie,8472,23))).Response:Response});n instanceof t?n.json().then(i=>{e(new x6(a2(i),n.status||500))}):e(new M6(a2(n),n))}))(f,d))})})}function rO(n,e,t,i){return Ov(this,void 0,void 0,function*(){return Z1(n,"GET",e,t,i)})}function Bp(n,e,t,i,r){return Ov(this,void 0,void 0,function*(){return Z1(n,"POST",e,i,r,t)})}function N6(n,e,t,i,r){return Ov(this,void 0,void 0,function*(){return Z1(n,"PUT",e,i,r,t)})}function l2(n,e,t,i,r){return Ov(this,void 0,void 0,function*(){return Z1(n,"DELETE",e,i,r,t)})}var Bl=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};const k6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class L6{constructor(e,t={},i,r){this.url=e,this.headers=t,this.bucketId=i,this.fetch=o2(r)}uploadOrUpdate(e,t,i,r){return Bl(this,void 0,void 0,function*(){try{let s;const u=Object.assign(Object.assign({},F6),r),d=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",u.cacheControl)):(s=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=this._removeEmptyFolders(t),m=this._getFinalPath(f),y=yield this.fetch(`${this.url}/object/${m}`,{method:e,body:s,headers:d});return y.ok?{data:{path:f},error:null}:{data:null,error:yield y.json()}}catch(s){if(ks(s))return{data:null,error:s};throw s}})}upload(e,t,i){return Bl(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}update(e,t,i){return Bl(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t){return Bl(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(i){if(ks(i))return{data:null,error:i};throw i}})}copy(e,t){return Bl(this,void 0,void 0,function*(){try{return{data:{path:(yield Bp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(i){if(ks(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,i){return Bl(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);let s=yield Bp(this.fetch,`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const u=i?.download?`&download=${!0===i.download?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${u}`)},{data:s,error:null}}catch(r){if(ks(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,i){return Bl(this,void 0,void 0,function*(){try{const r=yield Bp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=i?.download?`&download=${!0===i.download?"":i.download}`:"";return{data:r.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${s}`):null})),error:null}}catch(r){if(ks(r))return{data:null,error:r};throw r}})}download(e){return Bl(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield rO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){if(ks(t))return{data:null,error:t};throw t}})}getPublicUrl(e,t){const i=this._getFinalPath(e);return{data:{publicUrl:encodeURI(`${this.url}/object/public/${i}${t?.download?`?download=${!0===t.download?"":t.download}`:""}`)}}}remove(e){return Bl(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ks(t))return{data:null,error:t};throw t}})}list(e,t,i){return Bl(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},k6),t),{prefix:e||""});return{data:yield Bp(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(ks(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const B6={"X-Client-Info":"storage-js/2.0.0"};var Rv=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};class j6 extends class V6{constructor(e,t={},i){this.url=e,this.headers=Object.assign(Object.assign({},B6),t),this.fetch=o2(i)}listBuckets(){return Rv(this,void 0,void 0,function*(){try{return{data:yield rO(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ks(e))return{data:null,error:e};throw e}})}getBucket(e){return Rv(this,void 0,void 0,function*(){try{return{data:yield rO(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ks(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Rv(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(i){if(ks(i))return{data:null,error:i};throw i}})}updateBucket(e,t){return Rv(this,void 0,void 0,function*(){try{return{data:yield N6(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(i){if(ks(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Rv(this,void 0,void 0,function*(){try{return{data:yield Bp(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ks(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Rv(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ks(t))return{data:null,error:t};throw t}})}}{constructor(e,t={},i){super(e,t,i)}from(e){return new L6(this.url,this.headers,e,this.fetch)}}const z6=(n,e,t)=>{const i=(n=>{let e;return e=n||(typeof fetch>"u"?JL():fetch),(...t)=>e(...t)})(t),r=typeof Headers>"u"?KL.Headers:Headers;return(s,u)=>function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){var d;const f=null!==(d=yield e())&&void 0!==d?d:n;let m=new r(u?.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),i(s,Object.assign(Object.assign({},u),{headers:m}))})};var K1=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};const Vp=()=>typeof window<"u";function Go(n,e){var t;e||(e=(null===(t=window?.location)||void 0===t?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const c2=n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>K1(void 0,void 0,void 0,function*(){return yield(yield Promise.resolve().then(ie.t.bind(ie,8472,23))).fetch(...t)}):fetch),(...t)=>e(...t)},u2=(n,e)=>K1(void 0,void 0,void 0,function*(){const t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}});class J1{constructor(){this.promise=new J1.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}J1.promiseConstructor=Promise;class sO extends Error{constructor(e){super(e),this.__isAuthError=!0,this.name="AuthError"}}function Bi(n){return"object"==typeof n&&null!==n&&"__isAuthError"in n}class t4 extends sO{constructor(e,t){super(e),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class d2 extends sO{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Q1 extends sO{constructor(e,t,i){super(e),this.name=t,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class nC extends Q1{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class oO extends Q1{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class ou extends Q1{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class X1 extends Q1{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var aO=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};const eT=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n);function Ai(n,e,t,i){var r,s;return aO(this,void 0,void 0,function*(){const u=null!==(r=i?.headers)&&void 0!==r?r:{};i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=null!==(s=i?.query)&&void 0!==s?s:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=yield function s4(n,e,t,i,r,s){return aO(this,void 0,void 0,function*(){return new Promise((u,d)=>{n(t,((n,e,t,i)=>{const r={method:n,headers:e?.headers||{}};return"GET"===n?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),t))})(e,i,r,s)).then(f=>{if(!f.ok)throw f;return i?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>((n,e)=>aO(void 0,void 0,void 0,function*(){(n=>"object"==typeof n&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json)(n)?[502,503,504].includes(n.status)?e(new X1(eT(n),n.status)):n.json().then(i=>{e(new t4(eT(i),n.status||500))}).catch(i=>{e(new d2(eT(i),i))}):e(new X1(eT(n),0))}))(f,d))})})}(n,e,t+f,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}})}function Nv(n){var e;let t=null;return function a4(n){return n.access_token&&n.refresh_token&&n.expires_in}(n)&&(t=Object.assign({},n),t.expires_at=function Y6(n){return Math.round(Date.now()/1e3)+n}(n.expires_in)),{data:{session:t,user:null!==(e=n.user)&&void 0!==e?e:n},error:null}}function jp(n){var e;return{data:{user:null!==(e=n.user)&&void 0!==e?e:n},error:null}}function o4(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:s}=n,u=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:t,hashed_token:i,redirect_to:r,verification_type:s},user:Object.assign({},u)},error:null}}var Vl=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};class c4{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=c2(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return Vl(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Bi(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return Vl(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:jp})}catch(i){if(Bi(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return Vl(this,void 0,void 0,function*(){try{const{options:t}=e,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}(e,["options"]),r=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(r.new_email=i?.newEmail,delete r.newEmail),yield Ai(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:o4,redirectTo:t?.redirectTo})}catch(t){if(Bi(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return Vl(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jp})}catch(t){if(Bi(t))return{data:{user:null},error:t};throw t}})}listUsers(){return Vl(this,void 0,void 0,function*(){try{const{data:e,error:t}=yield Ai(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(t)throw t;return{data:Object.assign({},e),error:null}}catch(e){if(Bi(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return Vl(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jp})}catch(t){if(Bi(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return Vl(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:jp})}catch(i){if(Bi(i))return{data:{user:null},error:i};throw i}})}deleteUser(e){return Vl(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jp})}catch(t){if(Bi(t))return{data:{user:null},error:t};throw t}})}_listFactors(e){return Vl(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers}),error:null}}catch(t){if(Bi(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return Vl(this,void 0,void 0,function*(){try{return{data:yield Ai(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Bi(t))return{data:null,error:t};throw t}})}}const p4={getItem:n=>Vp()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{!Vp()||globalThis.localStorage.setItem(n,e)},removeItem:n=>{!Vp()||globalThis.localStorage.removeItem(n)}};var li=function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})};!function g4(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const m4={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.2.4"}};class v4 extends class _4{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const t=Object.assign(Object.assign({},m4),e);this.inMemorySession=null,this.storageKey=t.storageKey,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.storage=t.storage||p4,this.admin=new c4({url:t.url,headers:t.headers,fetch:t.fetch}),this.url=t.url,this.headers=t.headers,this.fetch=c2(t.fetch),this.detectSessionInUrl=t.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return li(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};const{session:i,redirectType:r}=e;return yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i),"recovery"===r&&this._notifyAllSubscribers("PASSWORD_RECOVERY",i),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return Bi(e)?{error:e}:{error:new d2("Unexpected error during initialization",e)}}finally{this._handleVisibilityChange()}})}signUp(e){var t,i;return li(this,void 0,void 0,function*(){try{let r;if(yield this._removeSession(),"email"in e){const{email:m,password:y,options:b}=e;r=yield Ai(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:m,password:y,data:null!==(t=b?.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Nv})}else{if(!("phone"in e))throw new oO("You must provide either an email or phone number and a password");{const{phone:m,password:y,options:b}=e;r=yield Ai(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:y,data:null!==(i=b?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Nv})}}const{data:s,error:u}=r;if(u||!s)return{data:{user:null,session:null},error:u};const d=s.session,f=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(r){if(Bi(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithPassword(e){var t,i;return li(this,void 0,void 0,function*(){try{let r;if(yield this._removeSession(),"email"in e){const{email:d,password:f,options:m}=e;r=yield Ai(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,data:null!==(t=m?.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Nv})}else{if(!("phone"in e))throw new oO("You must provide either an email or phone number and a password");{const{phone:d,password:f,options:m}=e;r=yield Ai(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,data:null!==(i=m?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Nv})}}const{data:s,error:u}=r;return u||!s?{data:{user:null,session:null},error:u}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:u})}catch(r){if(Bi(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(e){var t,i,r;return li(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(i=e.options)||void 0===i?void 0:i.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams})})}signInWithOtp(e){var t,i,r,s;return li(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:u,options:d}=e,{error:f}=yield Ai(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:null!==(t=d?.data)&&void 0!==t?t:{},create_user:null===(i=d?.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:u,options:d}=e,{error:f}=yield Ai(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:null!==(r=d?.data)&&void 0!==r?r:{},create_user:null===(s=d?.shouldCreateUser)||void 0===s||s,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null},error:f}}throw new oO("You must provide either an email or phone number.")}catch(u){if(Bi(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(e){var t,i;return li(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:r,error:s}=yield Ai(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:null===(t=e.options)||void 0===t?void 0:t.captchaToken}}),redirectTo:null===(i=e.options)||void 0===i?void 0:i.redirectTo,xform:Nv});if(s)throw s;if(!r)throw"An error occurred on token verification.";const u=r.session,d=r.user;return u?.access_token&&(yield this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:d,session:u},error:null}}catch(r){if(Bi(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return li(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const s=yield u2(this.storage,this.storageKey);null!==s&&(this._isValidSession(s)?e=s:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at&&e.expires_at<=Date.now()/1e3))return{data:{session:e},error:null};const{session:i,error:r}=yield this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}})}getUser(e){var t,i;return li(this,void 0,void 0,function*(){try{if(!e){const{data:r,error:s}=yield this.getSession();if(s)throw s;e=null!==(i=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==i?i:void 0}return yield Ai(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jp})}catch(r){if(Bi(r))return{data:{user:null},error:r};throw r}})}updateUser(e){return li(this,void 0,void 0,function*(){try{const{data:t,error:i}=yield this.getSession();if(i)throw i;if(!t.session)throw new nC;const r=t.session,{data:s,error:u}=yield Ai(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:e,jwt:r.access_token,xform:jp});if(u)throw u;return r.user=s.user,yield this._saveSession(r),this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}}catch(t){if(Bi(t))return{data:{user:null},error:t};throw t}})}_decodeJWT(e){return function e4(n){const e=n.split(".");if(3!==e.length)throw new Error("JWT is not valid: not a JWT structure");return JSON.parse((n=>{try{return decodeURIComponent(atob(n.replace(/[-]/g,"+").replace(/[_]/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(e){if(e instanceof ReferenceError)return Buffer.from(n,"base64").toString("utf-8");throw e}})(e[1]))}(e)}setSession(e){return li(this,void 0,void 0,function*(){try{const t=Date.now()/1e3;let i=t,r=!0,s=null;if(e.access_token&&e.access_token.split(".")[1]){const u=this._decodeJWT(e.access_token);u.exp&&(i=u.exp,r=i<=t)}if(r){if(!e.refresh_token)throw new nC;const{data:u,error:d}=yield this._refreshAccessToken(e.refresh_token);if(d)return{data:{session:null,user:null},error:d};if(!u.session)return{data:{session:null,user:null},error:null};s=u.session}else{const{data:u,error:d}=yield this.getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-t,expires_at:i}}return yield this._saveSession(s),this._notifyAllSubscribers("TOKEN_REFRESHED",s),{data:{session:s,user:s.user},error:null}}catch(t){if(Bi(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return li(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:u}=yield this.getSession();if(u)throw u;e=null!==(t=s.session)&&void 0!==t?t:void 0}if(!e?.refresh_token)throw new nC;const{session:i,error:r}=yield this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}catch(i){if(Bi(i))return{data:{user:null,session:null},error:i};throw i}})}_getSessionFromUrl(){return li(this,void 0,void 0,function*(){try{if(!Vp())throw new ou("No browser detected.");if(!this._isImplicitGrantFlow())throw new ou("Not a valid implicit grant flow url.");const e=Go("error_description");if(e){const K=Go("error_code");if(!K)throw new ou("No error_code detected.");const ne=Go("error");throw ne?new ou(e,{error:ne,code:K}):new ou("No error detected.")}const t=Go("provider_token"),i=Go("provider_refresh_token"),r=Go("access_token");if(!r)throw new ou("No access_token detected.");const s=Go("expires_in");if(!s)throw new ou("No expires_in detected.");const u=Go("refresh_token");if(!u)throw new ou("No refresh_token detected.");const d=Go("token_type");if(!d)throw new ou("No token_type detected.");const m=Math.round(Date.now()/1e3)+parseInt(s),{data:y,error:b}=yield this.getUser(r);if(b)throw b;const P=y.user,V={provider_token:t,provider_refresh_token:i,access_token:r,expires_in:parseInt(s),expires_at:m,refresh_token:u,token_type:d,user:P},ee=Go("type");return window.location.hash="",{data:{session:V,redirectType:ee},error:null}}catch(e){if(Bi(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return Vp()&&(Boolean(Go("access_token"))||Boolean(Go("error_description")))}signOut(){var e;return li(this,void 0,void 0,function*(){const{data:t,error:i}=yield this.getSession();if(i)return{error:i};const r=null===(e=t.session)||void 0===e?void 0:e.access_token;if(r){const{error:s}=yield this.admin.signOut(r);if(s)return{error:s}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=function Z6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)})}(),i={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,i),{data:{subscription:i}}}resetPasswordForEmail(e,t={}){return li(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Bi(i))return{data:null,error:i};throw i}})}_refreshAccessToken(e){return li(this,void 0,void 0,function*(){try{return yield Ai(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Nv})}catch(t){if(Bi(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t={}){const i=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return Vp()&&(window.location.href=i),{data:{provider:e,url:i},error:null}}_recoverAndRefresh(){var e;return li(this,void 0,void 0,function*(){try{const t=yield u2(this.storage,this.storageKey);if(!this._isValidSession(t))return void(null!==t&&(yield this._removeSession()));const i=Math.round(Date.now()/1e3);if((null!==(e=t.expires_at)&&void 0!==e?e:1/0)<i+10)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:r}=yield this._callRefreshToken(t.refresh_token);if(r){if(console.log(r.message),r instanceof X1&&this.networkRetries<10)return this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),void(this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),100*Math.pow(2,this.networkRetries)));yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){return void console.error(t)}})}_callRefreshToken(e){var t,i;return li(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new J1,!e)throw new nC;const{data:r,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!r.session)throw new nC;yield this._saveSession(r.session),this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const u={session:r.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(r){if(Bi(r)){const s={session:null,error:r};return null===(t=this.refreshingDeferred)||void 0===t||t.resolve(s),s}throw null===(i=this.refreshingDeferred)||void 0===i||i.reject(r),r}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t){this.stateChangeEmitters.forEach(i=>i.callback(e,t))}_saveSession(e){return li(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e);const t=e.expires_at;if(t){const r=t-Math.round(Date.now()/1e3);this._startAutoRefreshToken(1e3*(r-(r>10?10:.5)))}this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return((n,e,t)=>K1(void 0,void 0,void 0,function*(){yield n.setItem(e,JSON.stringify(t))}))(this.storage,this.storageKey,e)}_removeSession(){return li(this,void 0,void 0,function*(){this.persistSession?yield((n,e)=>K1(void 0,void 0,void 0,function*(){yield n.removeItem(e)}))(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0)&&this.autoRefreshToken&&(this.refreshTokenTimer=setTimeout(()=>li(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:t},error:i}=yield this.getSession();if(!i&&t){const{error:r}=yield this._callRefreshToken(t.refresh_token);r||(this.networkRetries=0),r instanceof X1&&this.networkRetries<10&&this._startAutoRefreshToken(100*Math.pow(2,this.networkRetries))}}),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Vp()||!window?.addEventListener)return!1;try{window?.addEventListener("visibilitychange",()=>li(this,void 0,void 0,function*(){"visible"===document.visibilityState&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(e){console.error("_handleVisibilityChange",e)}}_getUrlForProvider(e,t){const i=[`provider=${encodeURIComponent(e)}`];if(t?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t?.scopes&&i.push(`scopes=${encodeURIComponent(t.scopes)}`),t?.queryParams){const r=new URLSearchParams(t.queryParams);i.push(r.toString())}return`${this.url}/authorize?${i.join("&")}`}_unenroll(e){var t;return li(this,void 0,void 0,function*(){const{data:i,error:r}=yield this.getSession();return r?{data:null,error:r}:yield Ai(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(t=i?.session)||void 0===t?void 0:t.access_token})})}_enroll(e){var t,i;return li(this,void 0,void 0,function*(){const{data:r,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:u,error:d}=yield Ai(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:null===(t=r?.session)||void 0===t?void 0:t.access_token});return d?{data:null,error:d}:(!(null===(i=u?.totp)||void 0===i)&&i.qr_code&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}_verify(e){var t;return li(this,void 0,void 0,function*(){const{data:i,error:r}=yield this.getSession();if(r)return{data:null,error:r};const{data:s,error:u}=yield Ai(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(t=i?.session)||void 0===t?void 0:t.access_token});return u?{data:null,error:u}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}_challenge(e){var t;return li(this,void 0,void 0,function*(){const{data:i,error:r}=yield this.getSession();return r?{data:null,error:r}:yield Ai(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:null===(t=i?.session)||void 0===t?void 0:t.access_token})})}_challengeAndVerify(e){return li(this,void 0,void 0,function*(){const{data:t,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return li(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const i=e?.factors||[],r=i.filter(s=>"totp"===s.factor_type&&"verified"===s.status);return{data:{all:i,totp:r},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return li(this,void 0,void 0,function*(){const{data:{session:i},error:r}=yield this.getSession();if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(i.access_token);let u=null;s.aal&&(u=s.aal);let d=u;return(null!==(t=null===(e=i.user.factors)||void 0===e?void 0:e.filter(y=>"verified"===y.status))&&void 0!==t?t:[]).length>0&&(d="aal2"),{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:s.amr||[]},error:null}})}}{constructor(e){super(e)}}const b4={headers:{"X-Client-Info":"supabase-js/2.0.6"}},w4={schema:"public"},C4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},E4={};class S4{constructor(e,t,i){var r,s,u,d,f,m,y,b;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const P=function W6(n){return n.replace(/\/$/,"")}(e);if(this.realtimeUrl=`${P}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${P}/auth/v1`,this.storageUrl=`${P}/storage/v1`,P.match(/(supabase\.co)|(supabase\.in)/)){const we=P.split(".");this.functionsUrl=`${we[0]}.functions.${we[1]}.${we[2]}`}else this.functionsUrl=`${P}/functions/v1`;const ee=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,ne=function q6(n,e){const{db:t,auth:i,realtime:r,global:s}=n,{db:u,auth:d,realtime:f,global:m}=e;return{db:Object.assign(Object.assign({},u),t),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},f),r),global:Object.assign(Object.assign({},m),s)}}(i??{},{db:w4,realtime:E4,auth:Object.assign(Object.assign({},C4),{storageKey:ee}),global:b4});this.storageKey=null!==(s=null===(r=ne.auth)||void 0===r?void 0:r.storageKey)&&void 0!==s?s:"",this.headers=null!==(d=null===(u=ne.global)||void 0===u?void 0:u.headers)&&void 0!==d?d:{},this.auth=this._initSupabaseAuthClient(null!==(f=ne.auth)&&void 0!==f?f:{},this.headers,null===(m=ne.global)||void 0===m?void 0:m.fetch),this.fetch=z6(t,this._getAccessToken.bind(this),null===(y=ne.global)||void 0===y?void 0:y.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},ne.realtime)),this.rest=new p6(`${P}/rest/v1`,{headers:this.headers,schema:null===(b=ne.db)||void 0===b?void 0:b.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new l6(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j6(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},i){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return function(n,e,t,i){return new(t||(t=Promise))(function(s,u){function d(y){try{m(i.next(y))}catch(b){u(b)}}function f(y){try{m(i.throw(y))}catch(b){u(b)}}function m(y){y.done?s(y.value):function r(s){return s instanceof t?s:new t(function(u){u(s)})}(y.value).then(d,f)}m((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return null!==(t=null===(e=i.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,storageKey:s},u,d){return new v4({url:this.authUrl,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:r,fetch:d})}_initRealtimeClient(e){return new I6(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,i?.access_token,"CLIENT")})}_handleTokenChanged(e,t,i){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===t?("SIGNED_OUT"===e||"USER_DELETED"===e)&&(this.realtime.setAuth(this.supabaseKey),"STORAGE"==i&&this.auth.signOut()):(this.realtime.setAuth(t??null),this.changedAccessToken=t)}}var T4=ie(3532);function iC(n=0,e,t=AE){let i=-1;return null!=e&&((0,T4.K)(e)?t=e:i=e),new ui.y(r=>{let s=function D4(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function I4(n,e){if(1&n&&(l.TgZ(0,"div",3),l._UZ(1,"div",4),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Udp("width",t.diameter)("height",t.diameter)}}function x4(n,e){if(1&n&&l._UZ(0,"div",5),2&n){const t=l.oxw().ngIf,i=l.oxw();l.Udp("background",i.color)("height",i.height)("width",t+"%")}}function M4(n,e){if(1&n&&(l.ynx(0),l.YNc(1,I4,2,4,"div",1),l.YNc(2,x4,1,6,"div",2),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.includeSpinner),l.xp6(1),l.Q6J("ngIf",t.includeBar)}}class P4{constructor(e={}){this.config=e,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new Yn.x,this._value$=null,this.timer$=t=>{let i=Jt(t);switch(t.action){case"start":case"increment":case"set":"start"===t.action&&0===this.config.latencyThreshold&&0===t.value&&(t.value=t.initialValue),this.requests>0&&(i=iC(this.config.latencyThreshold,250).pipe((0,kt.U)(r=>({...t,value:0===r?this.state.value||t.initialValue:this._increment()}))));break;case"complete":case"stop":i=0===t.value?Jt({...t}):iC(0,500).pipe(xn(2),(0,kt.U)(r=>({value:0===r?100:0})))}return i.pipe((0,kt.U)(r=>({...r,action:"set"})),jn(r=>this.next(r,!1)))},this.config={latencyThreshold:0,...e}}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe(rs(this.state),ii(e=>this.timer$(e)),CP(),(0,kt.U)(e=>e.value))}start(e=2){this.disabled||this.next({action:"start",initialValue:e})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(e){this.next({action:"set",value:e})}increment(e=0){this.next({action:"increment",value:e})}next(e,t=!0){switch(e.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":e.value=this._increment(e.value)}this.state={...this.state,action:null,...e},t&&this.stream$.next(this.state)}_increment(e=0){const t=this.state.value;return t>=99&&(e=0),0===e&&(e=t>=0&&t<25?3*Math.random()+3:t>=25&&t<65?3*Math.random():t>=65&&t<90?2*Math.random():t>=90&&t<99?.5:0),e+t}}const O4=new l.OlP("LOADING_BAR_CONFIG");let Up=(()=>{class n{constructor(t,i={},r){this.platformId=t,this.config=i,this.zone=r,this.refs={},this.streams$=new Yn.x,this.value$=this.streams$.pipe(rs(null),ii(()=>Co(Object.keys(this.refs).map(s=>this.refs[s].value$))),function R4(n){return n?e=>new ui.y(t=>e.subscribe(i=>n.run(()=>t.next(i)),i=>n.run(()=>t.error(i)),()=>n.run(()=>t.complete()))):e=>e}(this.zone),(0,kt.U)(s=>Math.max(0,...s)))}get progress$(){return this.value$}start(t=2){this.useRef().start(t)}set(t){this.useRef().set(t)}increment(t){this.useRef().increment(t)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(t="default"){return this.refs[t]||(this.refs[t]=new P4(this.config),this.streams$.next(),Qo(this.platformId)||this.refs[t].disable()),this.refs[t]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi),l.LFG(O4,8),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N4=(()=>{class n{constructor(t){this.loader=t,this.includeSpinner=!0,this.includeBar=!0,this.fixed=!0,this.color="#29d"}get value$(){return this.ref?this.loader.useRef(this.ref).value$:this.loader.value$}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Up))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngx-loading-bar"]],hostVars:3,hostBindings:function(t,i){2&t&&(l.uIk("fixed",i.fixed),l.Udp("color",i.color))},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",fixed:"fixed",color:"color",value:"value",ref:"ref",height:"height",diameter:"diameter"},decls:2,vars:3,consts:[[4,"ngIf"],["class","ngx-spinner",4,"ngIf"],["class","ngx-bar",3,"background","height","width",4,"ngIf"],[1,"ngx-spinner"],[1,"ngx-spinner-icon"],[1,"ngx-bar"]],template:function(t,i){1&t&&(l.YNc(0,M4,3,2,"ng-container",0),l.ALo(1,"async")),2&t&&l.Q6J("ngIf",null!=i.value?i.value:l.lcZ(1,1,i.value$))},dependencies:[ti,hu],styles:["[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:loading-bar-spinner .4s linear infinite;animation:loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@-webkit-keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"],changeDetection:0}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ni]]}),n})(),k4=(()=>{class n{constructor(t){this.loadingBar=t,this._session=null,this.supabase=new S4("https://byfebphtgoeukruthuoa.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5ZmVicGh0Z29ldWtydXRodW9hIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Njc2NTQyODgsImV4cCI6MTk4MzIzMDI4OH0.nmnmXeya3krr4iZ28nEESjzmTYER69Bw6R38X6_6rwg",void 0)}get session(){return this.loadingBar.start(5),this.supabase.auth.getSession().then(({data:t})=>{this._session=t.session}),this._session}getinstance(){return this.supabase}profile(t){return this.supabase.from("profiles").select("username, website, avatar_url").eq("id",t.id).single()}authChanges(t){return this.supabase.auth.onAuthStateChange(t)}signIn(t){return this.supabase.auth.signInWithOtp({email:t})}signOut(){return this.supabase.auth.signOut()}updateProfile(t){const i={...t,updated_at:new Date};return this.supabase.from("profiles").upsert(i)}downLoadImage(t){return this.supabase.storage.from("avatars").download(t)}uploadAvatar(t,i){return this.supabase.storage.from("avatars").upload(t,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Up))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),h2=(()=>{class n{constructor(){this.data={},this.data=JSON.parse(localStorage.getItem("data"))??{}}setData(t,i){this.data[t]=i,this.saveData()}getData(t){return this.data[t]}saveData(){localStorage.setItem("data",JSON.stringify(this.data))}clearData(){this.data={}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const f2=function(n){return{selected:n}};function F4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",18),l.NdJ("click",function(){const s=l.CHM(t).index,u=l.oxw();return l.KtG(u.onItemMenuSelected(s))}),l._UZ(1,"i"),l.qZA()}if(2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(4,f2,i.informationSelected.id==t.id)),l.xp6(1),l.Gre("fa-solid ",t.icon,"")}}function L4(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("click",function(){const s=l.CHM(t).index,u=l.oxw();return l.KtG(u.onFileSelected(s))}),l._UZ(1,"i",20),l._uU(2),l.qZA()}if(2&n){const t=e.$implicit,i=l.oxw();l.Q6J("ngClass",l.VKq(2,f2,t.id==i.fileSelected.id)),l.xp6(2),l.hij(" ",t.title," ")}}const B4=function(){return["typescript"]};function V4(n,e){if(1&n&&(l.TgZ(0,"div",21)(1,"pre"),l._uU(2,"                "),l.TgZ(3,"code",22),l._uU(4,"\n                "),l.qZA(),l._uU(5,"\n            "),l.qZA()()),2&n){const t=l.oxw();l.xp6(3),l.Q6J("highlight",null==t.fileSelected?null:t.fileSelected.content)("languages",l.DdM(3,B4))("lineNumbers",!1)}}let j4=(()=>{class n{constructor(t,i,r){this.supabase=t,this.loadingBar=i,this.dataService=r,this.informations=[],this.loading=!0,this.loadingFailed=!1,this.informationSelected={},this.fileSelected={},this.showContent=!0}ngOnInit(){this.getInformation()}getInformation(){this.loadingBar.start();let t=JSON.parse(JSON.stringify(t6)).about_information;setTimeout(()=>{this.setData(t),this.loadingBar.complete()},300)}setData(t){this.informations=t,this.informationSelected=this.informations[0],this.fileSelected=this.informationSelected.files[0]}onItemMenuSelected(t){this.informationSelected=this.informations[t],this.fileSelected=null,this.fileSelected=this.informationSelected.files[0],this.showContent=!1,setTimeout(()=>{this.showContent=!0},100)}onFileSelected(t){this.fileSelected=null,this.fileSelected=this.informationSelected.files[t],this.showContent=!1,setTimeout(()=>{this.showContent=!0},100)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(k4),l.Y36(Up),l.Y36(h2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-about"]],standalone:!0,features:[l.jDz],decls:28,vars:5,consts:[[1,"about-container","d-flex","animate__animated","animate__fadeIn"],[1,"menu-container","d-flex"],[1,"menu-option-container"],["class","item-menu",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"menu-options-container","d-flex","flex-column"],[1,"menu-option"],[1,"fa-solid","fa-caret-down","me-3"],[1,"menu-content"],["id","accordionExample",1,"accordion"],["class","file-item",3,"ngClass","click",4,"ngFor","ngForOf"],["href","",1,"d-flex"],[1,"fa-solid","fa-envelope","my-auto","me-3"],[1,"fa-solid","fa-phone","my-auto","me-3"],[1,"content-container","d-flex","flex-column","flex-fill"],[1,"tabs-container"],[1,"tab-item"],[1,"fa-solid","fa-xmark","ms-3"],["class","content custom-animated custom-fadeInUp",4,"ngIf"],[1,"item-menu",3,"ngClass","click"],[1,"file-item",3,"ngClass","click"],[1,"fa-solid","fa-file-code"],[1,"content","custom-animated","custom-fadeInUp"],[3,"highlight","languages","lineNumbers"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l.YNc(3,F4,2,6,"div",3),l.qZA(),l.TgZ(4,"div",4)(5,"div",5),l._UZ(6,"i",6),l._uU(7),l.qZA(),l.TgZ(8,"div",7),l._UZ(9,"div",8),l.YNc(10,L4,3,4,"div",9),l.qZA(),l._UZ(11,"hr"),l.TgZ(12,"div",5),l._UZ(13,"i",6),l._uU(14," contacts "),l.qZA(),l.TgZ(15,"div",7)(16,"a",10),l._UZ(17,"i",11),l._uU(18," contact@pparce.cu "),l.qZA(),l.TgZ(19,"a",10),l._UZ(20,"i",12),l._uU(21," +53 58358801 "),l.qZA()()()(),l.TgZ(22,"div",13)(23,"div",14)(24,"div",15),l._uU(25),l._UZ(26,"i",16),l.qZA()(),l.YNc(27,V4,6,4,"div",17),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngForOf",i.informations),l.xp6(4),l.hij(" ",i.informationSelected.title," "),l.xp6(3),l.Q6J("ngForOf",i.informationSelected.files),l.xp6(15),l.hij(" ",null==i.fileSelected?null:i.fileSelected.title," "),l.xp6(2),l.Q6J("ngIf",i.showContent))},dependencies:[ni,Gn,er,ti,wa,o0,eC],styles:[".about-container[_ngcontent-%COMP%]{height:100%}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{width:312px;height:100%}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-option-container[_ngcontent-%COMP%]{width:68px;border-right:1px solid var(--line-color);height:100%}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-option-container[_ngcontent-%COMP%]   .item-menu[_ngcontent-%COMP%]{font-size:18px;cursor:pointer;height:68px;width:68px;display:flex;transition:all .5s ease}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-option-container[_ngcontent-%COMP%]   .item-menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:auto}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-option-container[_ngcontent-%COMP%]   .item-menu[_ngcontent-%COMP%]:hover{background-color:#0003}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-option-container[_ngcontent-%COMP%]   .item-menu.selected[_ngcontent-%COMP%]{color:var(--accent-color)}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]{border-right:1px solid var(--line-color);height:100%;width:244px}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{font-size:14px;display:flex;align-items:center;color:#fff;padding-left:16px;height:40px;border-bottom:1px solid var(--line-color)}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:16px}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]{padding:16px 0}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;padding:4px 16px;text-decoration:inherit;transition:all .5s ease}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:16px}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)!important}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .folder[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px;transition:all .3s ease}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]:hover{color:var(--accent-color)!important}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px;transition:all .3s ease;cursor:pointer}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:16px}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .file-item.selected[_ngcontent-%COMP%]{color:var(--accent-color)}.about-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-options-container[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%]:hover{font-weight:700}.about-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid var(--line-color)}.about-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{height:100%;width:-moz-fit-content;width:fit-content;display:flex;padding:0 16px;border-right:1px solid var(--line-color);align-items:center}.about-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:50px}.about-container[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow-y:auto;padding:16px;font-size:20px}"]}),n})();var U4=ie(1144);const $4=["addListener","removeListener"],H4=["addEventListener","removeEventListener"],G4=["on","off"];function $n(n,e,t,i){if((0,_r.m)(t)&&(i=t,t=void 0),i)return $n(n,e,t).pipe(Nu(i));const[r,s]=function q4(n){return(0,_r.m)(n.addEventListener)&&(0,_r.m)(n.removeEventListener)}(n)?H4.map(u=>d=>n[u](e,d,t)):function z4(n){return(0,_r.m)(n.addListener)&&(0,_r.m)(n.removeListener)}(n)?$4.map(p2(n,e)):function W4(n){return(0,_r.m)(n.on)&&(0,_r.m)(n.off)}(n)?G4.map(p2(n,e)):[];if(!r&&(0,U4.z)(n))return(0,ki.z)(u=>$n(u,e,t))((0,$s.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ui.y(u=>{const d=(...f)=>u.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function p2(n,e){return t=>i=>n[t](e,i)}var nT=ie(5032);function On(n){return(0,bi.e)((e,t)=>{(0,$s.Xf)(n).subscribe((0,oi.x)(t,()=>t.complete(),nT.Z)),!t.closed&&e.subscribe(t)})}function uO(...n){const e=(0,mr.jO)(n);return(0,bi.e)((t,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,$s.Xf)(n[f]).subscribe((0,oi.x)(i,m=>{s[f]=m,!d&&!u[f]&&(u[f]=!0,(d=u.every(vs.y))&&(u=null))},nT.Z));t.subscribe((0,oi.x)(i,f=>{if(d){const m=[f,...s];i.next(e?e(...m):m)}}))})}new ui.y(nT.Z);let y2=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),$p=(()=>{class n extends y2{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const jl=new l.OlP("NgValueAccessor"),X4={provide:jl,useExisting:(0,l.Gpc)(()=>dO),multi:!0};let dO=(()=>{class n extends $p{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[l._Bn([X4]),l.qOj]}),n})();const e8={provide:jl,useExisting:(0,l.Gpc)(()=>iT),multi:!0},n8=new l.OlP("CompositionEventMode");let iT=(()=>{class n extends y2{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function t8(){const n=le()?le().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(n8,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([e8]),l.qOj]}),n})();const es=new l.OlP("NgValidators"),ph=new l.OlP("NgAsyncValidators");function I2(n){if(!n)return rT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(function fh(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function rT(n){return null}function x2(n){return null!=n}function M2(n){return(0,l.QGY)(n)?(0,zn.D)(n):n}function P2(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function O2(n,e){return e.map(t=>t(n))}function R2(n){return n.map(e=>function s8(n){return!n.validate}(e)?e:t=>e.validate(t))}function hO(n){return null!=n?function N2(n){if(!n)return null;const e=n.filter(x2);return 0==e.length?null:function(t){return P2(O2(t,e))}}(R2(n)):null}function fO(n){return null!=n?function k2(n){if(!n)return null;const e=n.filter(x2);return 0==e.length?null:function(t){return function Q4(...n){const e=(0,mr.jO)(n),{args:t,keys:i}=gc(n),r=new ui.y(s=>{const{length:u}=t;if(!u)return void s.complete();const d=new Array(u);let f=u,m=u;for(let y=0;y<u;y++){let b=!1;(0,$s.Xf)(t[y]).subscribe((0,oi.x)(s,P=>{b||(b=!0,m--),d[y]=P},()=>f--,void 0,()=>{(!f||!b)&&(m||s.next(i?ku(i,d):d),s.complete())}))}});return e?r.pipe(Nu(e)):r}(O2(t,e).map(M2)).pipe((0,kt.U)(P2))}}(R2(n)):null}function F2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pO(n){return n?Array.isArray(n)?n:[n]:[]}function sT(n,e){return Array.isArray(n)?n.includes(e):n===e}function V2(n,e){const t=pO(e);return pO(n).forEach(r=>{sT(t,r)||t.push(r)}),t}function j2(n,e){return pO(e).filter(t=>!sT(n,t))}class U2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=hO(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hs extends U2{get formDirective(){return null}get path(){return null}}class gh extends U2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let gO=(()=>{class n extends class $2{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gh,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})();const rC="VALID",aT="INVALID",Fv="PENDING",sC="DISABLED";function G2(n){return Array.isArray(n)?hO(n):n||null}function z2(n){return Array.isArray(n)?fO(n):n||null}function lT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function oC(n,e){(function CO(n,e){const t=function L2(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(F2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function B2(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(F2(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();dT(e._rawValidators,r),dT(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function g8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Z2(n,e)})}(n,e),function _8(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function m8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Z2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function p8(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function dT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Z2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function X2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const A8={provide:gh,useExisting:(0,l.Gpc)(()=>fT)},rB=(()=>Promise.resolve())();let fT=(()=>{class n extends gh{constructor(t,i,r,s,u){super(),this._changeDetectorRef=u,this.control=new class extends class Y2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=G2(this._rawValidators),this._composedAsyncValidatorFn=z2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rC}get invalid(){return this.status===aT}get pending(){return this.status==Fv}get disabled(){return this.status===sC}get enabled(){return this.status!==sC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=G2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=z2(e)}addValidators(e){this.setValidators(V2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(j2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(j2(e,this._rawAsyncValidators))}hasValidator(e){return sT(this._rawValidators,e)}hasAsyncValidator(e){return sT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=sC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rC,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rC||this.status===Fv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sC:rC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fv,this._hasOwnPendingAsyncValidator=!0;const t=M2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?sC:this.errors?aT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fv)?Fv:this._anyControlsHaveStatus(aT)?aT:rC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,i){super(function yO(n){return(lT(n)?n.validators:n)||null}(t),function bO(n,e){return(lT(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){X2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){X2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function SO(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===iT?t=s:function b8(n){return Object.getPrototypeOf(n.constructor)===$p}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function EO(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);rB.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function cT(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(hs,9),l.Y36(es,10),l.Y36(ph,10),l.Y36(jl,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([A8]),l.qOj,l.TTD]}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Hp=(()=>{class n{constructor(){this._validator=rT}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):rT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Z8={provide:es,useExisting:(0,l.Gpc)(()=>OO),multi:!0};let OO=(()=>{class n extends Hp{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>I2(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([Z8]),l.qOj]}),n})(),K8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[oB]}),n})(),RO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[K8]}),n})();Math,Math,Math;const lq=["*"],Tq=["dialog"];function zO(n){return"string"==typeof n}function Wp(n){return null!=n}function Uv(n){return(n||document.body).getBoundingClientRect()}const jB={animation:!0,transitionTimerDelayMs:5},bY=()=>{},{transitionTimerDelayMs:wY}=jB,pC=new Map,fs=(n,e,t,i)=>{let r=i.context||{};const s=pC.get(e);if(s)switch(i.runningTransition){case"continue":return Nr.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),pC.delete(e)}const u=t(e,i.animation,r)||bY;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),Jt(void 0).pipe(function vY(n){return e=>new ui.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new Yn.x,f=new Yn.x,m=d.pipe(function Z4(...n){return e=>is(e,Jt(...n))}(!0));pC.set(e,{transition$:d,complete:()=>{f.next(),f.complete()},context:r});const y=function yY(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const b=$n(e,"transitionend").pipe(On(m),Xn(({target:V})=>V===e));(function g2(...n){return 1===(n=wE(n)).length?(0,$s.Xf)(n[0]):new ui.y(function Y4(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,$s.Xf)(n[i]).subscribe((0,oi.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(iC(y+wY).pipe(On(m)),b,f).pipe(On(m)).subscribe(()=>{pC.delete(e),n.run(()=>{u(),d.next(),d.complete()})})}),d.asObservable()};let yT=(()=>{class n{constructor(){this.animation=jB.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),JB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var gr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(gr||(gr={})),gr))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const XB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function eV(n){const e=Array.from(n.querySelectorAll(XB)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let lV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni,RO]}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Kp{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let uZ=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(xn(1)).subscribe(()=>{fs(this._zone,this._el.nativeElement,(t,i)=>{i&&Uv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return fs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class DT{close(e){}dismiss(e){}}class dZ{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Yn.x,this._dismissed=new Yn.x,this._hidden=new Yn.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(On(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(On(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function VB(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Jt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ud(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vC=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(vC||(vC={})),vC))();let hZ=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Yn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Yn.x,this.hidden=new Yn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":zO(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(xn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=ud(fs(this._zone,t,()=>t.classList.remove("show"),i),fs(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};ud(fs(this._zone,this._elRef.nativeElement,(s,u)=>{u&&Uv(s),s.classList.add("show")},t),fs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{$n(t,"keydown").pipe(On(this._closed$),Xn(r=>r.which===gr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(vC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;$n(this._dialogEl.nativeElement,"mousedown").pipe(On(this._closed$),jn(()=>i=!1),ii(()=>$n(t,"mouseup").pipe(On(this._closed$),xn(1))),Xn(({target:r})=>t===r)).subscribe(()=>{i=!0}),$n(t,"click").pipe(On(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(vC.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=eV(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&fs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(F),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(Tq,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lq,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),fZ=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:u}=r;if(t>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${d+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pZ=(()=>{class n{constructor(t,i,r,s,u,d){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=u,this._ngZone=d,this._activeWindowCmptHasChanged=new Yn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const f=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=$n(e,"focusin").pipe(On(t),(0,kt.U)(s=>s.target));$n(e,"keydown").pipe(On(t),Xn(s=>s.which===gr.Tab),uO(r)).subscribe(([s,u])=>{const[d,f]=eV(e);(u===d||u===e)&&s.shiftKey&&(f.focus(),s.preventDefault()),u===f&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&$n(e,"click").pipe(On(t),uO(r),(0,kt.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,f.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(f.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:Wp(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new DT,f=this._getContentRef(r.injector||t,i,d,r);let m=!1!==r.backdrop?this._attachBackdrop(s):void 0,y=this._attachWindowComponent(s,f.nodes),b=new dZ(y,f,m,r.beforeDismiss);return this._registerModalRef(b),this._registerWindowCmpt(y),b.hidden.pipe(xn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=P=>{b.close(P)},d.dismiss=P=>{b.dismiss(P)},this._applyWindowOptions(y.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),m&&m.instance&&(this._applyBackdropOptions(m.instance,r),m.changeDetectorRef.detectChanges()),y.changeDetectorRef.detectChanges(),b}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,l.LMc)(uZ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,l.LMc)(hZ,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Wp(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Wp(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,r):zO(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new Kp([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(s),new Kp([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Kp([[i]])}_createFromComponent(t,i,r,s){const u=l.zs3.create({providers:[{provide:DT,useValue:r}],parent:t}),d=(0,l.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:u}),f=d.location.nativeElement;return s.scrollable&&f.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new Kp([[f]],d.hostView,d)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(F),l.LFG(fZ),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gZ=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QO=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(pZ),l.LFG(gZ))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[QO]}),n})(),_V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),AV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),DV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),xV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),PV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),OV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function IZ(){return 100}});let RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ni]}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const xZ=[WB,qB,KB,JB,lV,hV,fV,_V,NV,AV,DV,IV,xV,MV,PV,OV,RV];let kV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[xZ,WB,qB,KB,JB,lV,hV,fV,_V,NV,AV,DV,IV,xV,MV,PV,OV,RV]}),n})();function MZ(n,e){if(1&n&&l._UZ(0,"img",3),2&n){const t=l.oxw().$implicit;l.Q6J("src",t,l.LSH)}}function PZ(n,e){1&n&&l.YNc(0,MZ,1,1,"ng-template",2)}Dv.use([zL,GL,function vW({swiper:n,extendParams:e,on:t,emit:i}){function r(V){let ee;return V&&(ee=Zn(V),n.params.uniqueNavElements&&"string"==typeof V&&ee.length>1&&1===n.$el.find(V).length&&(ee=n.$el.find(V))),ee}function s(V,ee){const K=n.params.navigation;V&&V.length>0&&(V[ee?"addClass":"removeClass"](K.disabledClass),V[0]&&"BUTTON"===V[0].tagName&&(V[0].disabled=ee),n.params.watchOverflow&&n.enabled&&V[n.isLocked?"addClass":"removeClass"](K.lockClass))}function u(){if(n.params.loop)return;const{$nextEl:V,$prevEl:ee}=n.navigation;s(ee,n.isBeginning&&!n.params.rewind),s(V,n.isEnd&&!n.params.rewind)}function d(V){V.preventDefault(),(!n.isBeginning||n.params.loop||n.params.rewind)&&(n.slidePrev(),i("navigationPrev"))}function f(V){V.preventDefault(),(!n.isEnd||n.params.loop||n.params.rewind)&&(n.slideNext(),i("navigationNext"))}function m(){const V=n.params.navigation;if(n.params.navigation=HL(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!V.nextEl&&!V.prevEl)return;const ee=r(V.nextEl),K=r(V.prevEl);ee&&ee.length>0&&ee.on("click",f),K&&K.length>0&&K.on("click",d),Object.assign(n.navigation,{$nextEl:ee,nextEl:ee&&ee[0],$prevEl:K,prevEl:K&&K[0]}),n.enabled||(ee&&ee.addClass(V.lockClass),K&&K.addClass(V.lockClass))}function y(){const{$nextEl:V,$prevEl:ee}=n.navigation;V&&V.length&&(V.off("click",f),V.removeClass(n.params.navigation.disabledClass)),ee&&ee.length&&(ee.off("click",d),ee.removeClass(n.params.navigation.disabledClass))}e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},t("init",()=>{!1===n.params.navigation.enabled?P():(m(),u())}),t("toEdge fromEdge lock unlock",()=>{u()}),t("destroy",()=>{y()}),t("enable disable",()=>{const{$nextEl:V,$prevEl:ee}=n.navigation;V&&V[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass),ee&&ee[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass)}),t("click",(V,ee)=>{const{$nextEl:K,$prevEl:ne}=n.navigation,we=ee.target;if(n.params.navigation.hideOnClick&&!Zn(we).is(ne)&&!Zn(we).is(K)){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===we||n.pagination.el.contains(we)))return;let Se;K?Se=K.hasClass(n.params.navigation.hiddenClass):ne&&(Se=ne.hasClass(n.params.navigation.hiddenClass)),i(!0===Se?"navigationShow":"navigationHide"),K&&K.toggleClass(n.params.navigation.hiddenClass),ne&&ne.toggleClass(n.params.navigation.hiddenClass)}});const P=()=>{n.$el.addClass(n.params.navigation.navigationDisabledClass),y()};Object.assign(n.navigation,{enable:()=>{n.$el.removeClass(n.params.navigation.navigationDisabledClass),m(),u()},disable:P,update:u,init:m,destroy:y})}]);let OZ=(()=>{class n{constructor(){this.images=[],this.index=0,this.config={slidesPerView:1,effect:"cards",spaceBetween:50,navigation:!0,loop:!0,slideActiveClass:"active",pagination:{clickable:!0},scrollbar:{draggable:!0}}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-swiper"]],inputs:{images:"images",index:"index"},decls:2,vars:2,consts:[[3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],["loading","lazy",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"swiper",0),l.YNc(1,PZ,1,0,null,1),l.qZA()),2&t&&(l.Q6J("config",i.config),l.xp6(1),l.Q6J("ngForOf",i.images))},dependencies:[er,ZL,XP],styles:['@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-cube{overflow:visible}.swiper-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-cube.swiper-rtl .swiper-slide{transform-origin:100% 0}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-next,.swiper-cube .swiper-slide-next+.swiper-slide,.swiper-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-cube .swiper-slide-shadow-bottom,.swiper-cube .swiper-slide-shadow-left,.swiper-cube .swiper-slide-shadow-right,.swiper-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:"";background:#000;position:absolute;inset:0;filter:blur(50px)}.swiper-creative .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}:root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - var(--swiper-navigation-size) / 2);z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next.swiper-button-hidden,.swiper-button-prev.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-next,.swiper-navigation-disabled .swiper-button-prev{display:none!important}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-feature-settings:;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-button-lock{display:none}.swiper{width:100%}.swiper-slide{background-position:center;background-size:cover;opacity:.3;transition:all .3s ease}.swiper-slide img{display:block;width:100%;height:500px;object-fit:contain}.active{opacity:1;transition:all .3s ease}\n'],encapsulation:2}),n})(),RZ=(()=>{class n{constructor(t,i){this.modalService=t,this.location=i,this.index=0,this.project={gallery:["https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg"]},history.pushState(null,null,window.location.href),this.location.onPopState(()=>{this.modalService.close(!1)})}ngOnInit(){}onCancel(){this.modalService.close()}onSee(){this.modalService.close()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DT),l.Y36(B))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-project-detail-modal"]],standalone:!0,features:[l.jDz],decls:12,vars:4,consts:[[3,"images","index"],[1,"modal-content"],[1,"modal-body"],[1,"title"],[1,"description","mt-3"],[1,"modal-footer"],["type","button","ngbAutofocus","",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,i){1&t&&(l._UZ(0,"app-swiper",0),l.TgZ(1,"div",1)(2,"div",2)(3,"h5",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4),l._uU(6),l.qZA()(),l.TgZ(7,"div",5)(8,"button",6),l.NdJ("click",function(){return i.onCancel()}),l._uU(9,"_close"),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return i.onSee()}),l._uU(11,"_see_project"),l.qZA()()()),2&t&&(l.Q6J("images",i.project.gallery)("index",i.index),l.xp6(4),l.Oqu(i.project.title),l.xp6(2),l.Oqu(i.project.description))},dependencies:[eC,OZ],styles:[".carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:500px;width:100%;object-fit:cover;transition:all .8s ease}.carousel[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.5}.modal-body[_ngcontent-%COMP%]{height:auto}@media (max-width: 576px){.carousel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:100%;object-fit:cover;transition:all .8s ease}.title[_ngcontent-%COMP%]{font-size:16px}.description[_ngcontent-%COMP%]{font-size:14px;font-weight:300}.modal-body[_ngcontent-%COMP%]{height:5000px}}"]}),n})();const NZ=JSON.parse('{"projects":[{"id":1,"created_at":"2022-11-11T00:13:37.191234+00:00","title":"Angular","icon":"icons8-angularjs.svg","type":"front-end","selected":true,"projects":[{"id":7,"created_at":"2022-11-12T11:10:28.5552+00:00","title":"StoreBow","description":"This is an online store manager that allows you to carry out all the business administration. In this project I collaborated both in the process of creating administrative modules and in the visual templates for the general public.","cover":"https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","project_framework":1,"gallery":[]},{"id":1,"created_at":"2022-11-10T22:15:32+00:00","title":"Portafolio","description":"Based on a designer template on behance I tried to create something different for my portfolio. Something that will reflect the day of my work and that will make a difference.","cover":"asdfasdf","project_framework":1,"gallery":[]},{"id":4,"created_at":"2022-11-12T11:08:39.659211+00:00","title":"Odontologo","description":"This is was entirely developed by me who intends to carry all the administrative part of a dentistry clinic. It also manages a presentation page and its respective administrative manager.","cover":"https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","project_framework":1,"gallery":[]},{"id":5,"created_at":"2022-11-12T11:08:56.517525+00:00","title":"Liga Abogados","description":"Duo dolor lorem magna ipsum eos lorem diam justo voluptua dolor magna eum kasd labore. At sanctus ea diam voluptua lorem sit aliquyam accumsan et ex ipsum sit duis justo. Kasd iusto blandit et. Vero ipsum dolore takimata velit dolor. Ipsum consetetur invidunt diam sadipscing blandit ut.","cover":"https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","project_framework":1,"gallery":[]},{"id":6,"created_at":"2022-11-12T11:09:08.792348+00:00","title":"Stylopadel","description":"Duo dolor lorem magna ipsum eos lorem diam justo voluptua dolor magna eum kasd labore. At sanctus ea diam voluptua lorem sit aliquyam accumsan et ex ipsum sit duis justo. Kasd iusto blandit et. Vero ipsum dolore takimata velit dolor. Ipsum consetetur invidunt diam sadipscing blandit ut.","cover":"https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","project_framework":1,"gallery":[]},{"id":2,"created_at":"2022-11-12T10:00:31.43507+00:00","title":"Artesse Projekt ","description":"Invidunt eirmod molestie diam sea feugait magna et esse invidunt iriure amet te. Diam sit eirmod tation molestie erat dolores at nonumy lorem ut amet accusam ipsum aliquyam lorem ipsum sea stet. Odio molestie nulla eros labore odio clita. Cum lorem dolor. Sadipscing ad vero et vero duo velit ea nonummy kasd ipsum ut et sed eirmod rebum. Diam eirmod illum amet ea vel dolore volutpat clita eos clita kasd vero vulputate dignissim ipsum et sanctus takimata. Takimata at aliquyam eirmod ipsum justo te. Elit sanctus magna consequat sea diam sit dolore est at sed dolore et dolor. Quis hendrerit est ex eirmod euismod. Ad dolores magna consectetuer erat erat sea magna dolor nonummy accusam sed sed. Sadipscing dolor lorem et vero laoreet dolor ex sed voluptua no sanctus sit dolores autem. Amet eos quis kasd clita nulla ipsum eum iriure nonumy at nulla eos. Gubergren sed eum mazim est stet sit vel ea takimata et stet sanctus diam velit. Praesent sanctus ut et ipsum elit duo erat diam augue consetetur diam eirmod invidunt dolor tempor.\\r\\n\\r\\nPraesent dolores sed ipsum aliquyam dolore consetetur rebum. Ullamcorper cum lorem elitr ea dignissim facer sanctus ipsum et et ut vel ut ad nulla hendrerit. In eu stet in possim est ullamcorper odio accusam amet stet at lorem dolore dolores nibh. Amet dolor accusam erat vero zzril. Amet lorem vel imperdiet sed voluptua. Vero nonumy sit ipsum et erat facilisis. Consetetur eu stet autem dolore quod nonummy justo sit sit duo rebum est sit liber takimata ad dolores et. Invidunt kasd rebum rebum sit labore velit odio.","cover":"assets/img/screenshots/artesse-projekt/screenshot_20230512_161454.png","project_framework":1,"gallery":["assets/img/screenshots/artesse-projekt/screenshot_20230512_161454.png","assets/img/screenshots/artesse-projekt/screenshot_20230512_161612.png","assets/img/screenshots/artesse-projekt/screenshot_20230512_161701.png","assets/img/screenshots/artesse-projekt/screenshot_20230512_161733.png","assets/img/screenshots/artesse-projekt/screenshot_20230512_161810.png"]}]},{"id":2,"created_at":"2022-11-12T10:09:24.422263+00:00","title":"Flutter","icon":"icons8-flutter.svg","type":"front-end","selected":true,"projects":[{"id":3,"created_at":"2022-11-12T10:18:20.14421+00:00","title":"GoldenBull Academia","description":"Duo dolor lorem magna ipsum eos lorem diam justo voluptua dolor magna eum kasd labore. At sanctus ea diam voluptua lorem sit aliquyam accumsan et ex ipsum sit duis justo. Kasd iusto blandit et. Vero ipsum dolore takimata velit dolor. Ipsum consetetur invidunt diam sadipscing blandit ut.","cover":"https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","project_framework":2,"gallery":[]},{"id":8,"created_at":"2022-11-12T11:11:29.041921+00:00","title":"Pet app","description":"Duo dolor lorem magna ipsum eos lorem diam justo voluptua dolor magna eum kasd labore. At sanctus ea diam voluptua lorem sit aliquyam accumsan et ex ipsum sit duis justo. Kasd iusto blandit et. Vero ipsum dolore takimata velit dolor. Ipsum consetetur invidunt diam sadipscing blandit ut.","cover":"https://i.pinimg.com/originals/f9/c9/c9/f9c9c9a44d55d91306fa5ff7a1d879b3.jpg","project_framework":2,"gallery":[]}]}]}');var kZ=ie.t(NZ,2);function FV(n){return Array.isArray(n)?n:[n]}function LV(n,e=Af){return(0,bi.e)((t,i)=>{let r=null,s=null,u=null;const d=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function f(){const m=u+n,y=e.now();if(y<m)return r=this.schedule(void 0,m-y),void i.add(r);d()}t.subscribe((0,oi.x)(i,m=>{s=m,u=e.now(),r||(r=e.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}let nR;try{nR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nR=!1}let LZ=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Qo(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VV=new Set;let Gv,jZ=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$Z}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function UZ(n){if(!VV.has(n))try{Gv||(Gv=document.createElement("style"),Gv.setAttribute("type","text/css"),document.head.appendChild(Gv)),Gv.sheet&&(Gv.sheet.insertRule(`@media ${n} {body{ }}`,0),VV.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(LZ))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $Z(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let HZ=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Yn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jV(FV(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Co(jV(FV(t)).map(u=>this._registerQuery(u).observable));return s=is(s.pipe(xn(1)),s.pipe(function v2(n){return Xn((e,t)=>n<=t)}(1),LV(0))),s.pipe((0,kt.U)(u=>{const d={matches:!1,breakpoints:{}};return u.forEach(({matches:f,query:m})=>{d.matches=d.matches||f,d.breakpoints[m]=f}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new ui.y(u=>{const d=f=>this._zone.run(()=>u.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(rs(i),(0,kt.U)(({matches:u})=>({query:t,matches:u})),On(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jZ),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function GZ(n,e){1&n&&(l.TgZ(0,"small",17),l._uU(1,"Enter a valid email"),l.qZA())}const zZ=function(){return["typescript"]};let WZ=(()=>{class n{constructor(t,i){this.modalService=t,this.location=i,this.contact={},history.pushState(null,null,window.location.href),this.location.onPopState(()=>{this.modalService.close(!1)})}get code(){return`const button = document.querySelector('#contactBtn');\nconst message = {\n\tname: "${this.contact.name??""}",\n\temail: "${this.contact.email??""}",\n\tmessage: "${this.contact.message??""}",\n\tdate: "${(new Date).toLocaleDateString()}}"\n}\n\nbutton.addEventListener('click', () => {\n\tform.send(message);\n})`}ngOnInit(){this.contact.message="Hey! Just checked your website and it looks awesome!"}onCancel(){this.modalService.close()}onContact(){let t=`Name: ${this.contact.name},\nEmail: ${this.contact.email},\nMessage: ${this.contact.message}`,i=`https://mail.google.com/mail/?view=cm&fs=1&to=pedropablo2337@gmail.com&su=${encodeURIComponent("Contact from CV")}&body=${encodeURIComponent(t)}`;window.open(i,"_blank"),this.modalService.close()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DT),l.Y36(B))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact-modal"]],decls:32,vars:8,consts:[[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"row"],[1,"col-12","col-md-6"],["name","name","placeholder","Elon Musk","autocomplete","off","autofocus","false","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-3"],["name","email","autocomplete","off","autofocus","false","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}","placeholder","name@example.com","type","text",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["id","emailHelp","class","form-text text-danger",4,"ngIf"],[1,"my-3"],["name","message","rows","5","type","text",1,"form-control",3,"ngModel","ngModelChange"],[3,"highlight","languages","lineNumbers"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["id","emailHelp",1,"form-text","text-danger"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5",2),l._uU(3,"Contact me"),l.qZA()(),l.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div")(8,"label"),l._uU(9,"_name:"),l.qZA(),l.TgZ(10,"input",6),l.NdJ("ngModelChange",function(s){return i.contact.name=s}),l.qZA()(),l.TgZ(11,"div",7)(12,"label"),l._uU(13,"_email:"),l.qZA(),l.TgZ(14,"input",8,9),l.NdJ("ngModelChange",function(s){return i.contact.email=s}),l.qZA(),l.YNc(16,GZ,2,0,"small",10),l.qZA(),l.TgZ(17,"div",11)(18,"label"),l._uU(19,"_message:"),l.qZA(),l.TgZ(20,"textarea",12),l.NdJ("ngModelChange",function(s){return i.contact.message=s}),l.qZA()()(),l.TgZ(21,"div",5)(22,"pre"),l._uU(23,"                    "),l.TgZ(24,"code",13),l._uU(25,"\n                    "),l.qZA(),l._uU(26,"\n            "),l.qZA()()()(),l.TgZ(27,"div",14)(28,"button",15),l.NdJ("click",function(){return i.onCancel()}),l._uU(29,"_close "),l.qZA(),l.TgZ(30,"button",16),l.NdJ("click",function(){return i.onContact()}),l._uU(31,"_submit-message "),l.qZA()()()),2&t){const r=l.MAs(15);l.xp6(10),l.Q6J("ngModel",i.contact.name),l.xp6(4),l.Q6J("ngModel",i.contact.email),l.xp6(2),l.Q6J("ngIf",r.dirty&&!r.valid),l.xp6(4),l.Q6J("ngModel",i.contact.message),l.xp6(4),l.Q6J("highlight",i.code)("languages",l.DdM(7,zZ))("lineNumbers",!1)}},dependencies:[ti,iT,gO,OO,fT,o0]}),n})(),$V=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:18,vars:0,consts:[[1,"footer-container","d-flex"],[1,"text-find","d-flex","d-none","d-md-flex"],[1,"my-auto"],[1,"social-button","d-flex"],["href","","target","_blank",1,"d-flex","w-100"],[1,"fa-brands","fa-linkedin","m-auto"],["href","https://twitter.com/pedropablo2337","target","_blank",1,"d-flex","w-100"],[1,"fa-brands","fa-twitter","m-auto"],["href","https://www.instagram.com/arcepedropablo","target","_blank",1,"d-flex","w-100"],[1,"fa-brands","fa-instagram","m-auto"],[1,"d-none","d-md-flex","ms-auto","my-auto","me-3",2,"font-size","12px"],["href","https://www.figma.com/file/B4tWUAi7mBTWZdR0wWB9Oi/Portfolio-for-Developers?node-id=0%3A1&t=ElMLYJiLRCGWjDKV-0","target","_blank"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"span",2),l._uU(3,"find me in:"),l.qZA()(),l.TgZ(4,"div",3)(5,"a",4),l._UZ(6,"i",5),l.qZA()(),l.TgZ(7,"div",3)(8,"a",6),l._UZ(9,"i",7),l.qZA()(),l.TgZ(10,"div",3)(11,"a",8),l._UZ(12,"i",9),l.qZA()(),l.TgZ(13,"div",10),l._uU(14," created with \u2665 and inspired by\xa0"),l.TgZ(15,"a",11),l._uU(16,"Yanka Darelova"),l.qZA(),l._uU(17,"\xa0design "),l.qZA()())},styles:[".footer-container[_ngcontent-%COMP%]{height:54px;border-top:1px solid var(--line-color)}.footer-container[_ngcontent-%COMP%]   .text-find[_ngcontent-%COMP%]{height:100%;border-right:1px solid var(--line-color);padding:0 22px}.footer-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{width:53.7px;border-right:1px solid var(--line-color);cursor:pointer;transition:all .5s ease}.footer-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.footer-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.footer-container[_ngcontent-%COMP%]   .user-github[_ngcontent-%COMP%]{height:100%;border-left:1px solid var(--line-color);padding:0 22px;cursor:pointer;transition:all .5s ease}.footer-container[_ngcontent-%COMP%]   .user-github[_ngcontent-%COMP%]:hover{color:var(--accent-color)}@media (max-width: 576px){.footer-container[_ngcontent-%COMP%]   .social-button[_ngcontent-%COMP%]{width:100%}}"]}),n})();const HV=function(n){return{show:n}};let qZ=(()=>{class n{constructor(t){this.modalService=t,this.showMenu=!1}ngOnInit(){}onContactMe(t=!1){this.modalService.open(WZ,{size:"xl",scrollable:!0,fullscreen:t}).result.then(r=>[]).catch(),this.hideDrawerMenu()}showDrawerMenu(){this.showMenu=!0,history.pushState(null,"")}hideDrawerMenu(){this.showMenu=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(QO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:34,vars:6,consts:[[1,"header-container","d-none","d-md-flex"],[1,"name-link","d-flex"],["routerLink","hello",1,"my-auto"],[1,"menu-container","d-flex"],["routerLinkActive","active","routerLink","hello",1,"menu-item"],["routerLinkActive","active","routerLink","project",1,"menu-item"],["routerLinkActive","active","routerLink","curriculum",1,"menu-item"],[1,"flex-fill","d-flex","h-100","justify-content-end"],[1,"ms-auto","contact-me-link","d-flex",3,"click"],[1,"my-auto"],[1,"header-container","d-flex","d-block","d-md-none","justify-content-between"],["routerLink","hello","href","javascript:"],["href","javascript:",1,"menu-button",3,"click"],[1,"fa-solid","fa-bars"],[1,"drawer-menu","d-flex","flex-column","d-md-none",3,"ngClass"],[1,"menu-container","h-100"],[1,"nav","navbar-nav"],["role","presentation","routerLink","hello","routerLinkActive","active",1,"nav-item",3,"click"],["role","presentation","routerLink","project","routerLinkActive","active",1,"nav-item",3,"click"],["role","presentation","routerLink","curriculum","routerLinkActive","active",1,"nav-item",3,"click"],["role","presentation",1,"nav-item",3,"click"],[1,"drawer-background","d-md-none",3,"ngClass","click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"a",2),l._uU(3,"pedro-arce"),l.qZA()(),l.TgZ(4,"div",3)(5,"div",4),l._uU(6," _hello "),l.qZA(),l.TgZ(7,"div",5),l._uU(8," _projects "),l.qZA(),l.TgZ(9,"div",6),l._uU(10," _curriculum-vitae "),l.qZA()(),l.TgZ(11,"div",7)(12,"div",8),l.NdJ("click",function(){return i.onContactMe()}),l.TgZ(13,"span",9),l._uU(14,"_contact-me"),l.qZA()()()(),l.TgZ(15,"div",10)(16,"a",11)(17,"span",9),l._uU(18,"pedro-arce"),l.qZA()(),l.TgZ(19,"a",12),l.NdJ("click",function(){return i.showDrawerMenu()}),l._UZ(20,"i",13),l.qZA()(),l.TgZ(21,"div",14),l._UZ(22,"app-footer"),l.TgZ(23,"div",15)(24,"ul",16)(25,"li",17),l.NdJ("click",function(){return i.hideDrawerMenu()}),l._uU(26,"_hello "),l.qZA(),l.TgZ(27,"li",18),l.NdJ("click",function(){return i.hideDrawerMenu()}),l._uU(28,"_projects "),l.qZA(),l.TgZ(29,"li",19),l.NdJ("click",function(){return i.hideDrawerMenu()}),l._uU(30,"_curriculum-vitae "),l.qZA(),l.TgZ(31,"li",20),l.NdJ("click",function(){return i.onContactMe(!0)}),l._uU(32,"_contact-me "),l.qZA()()()(),l.TgZ(33,"div",21),l.NdJ("click",function(){return i.hideDrawerMenu()}),l.qZA()),2&t&&(l.xp6(21),l.Q6J("ngClass",l.VKq(2,HV,i.showMenu)),l.xp6(12),l.Q6J("ngClass",l.VKq(4,HV,i.showMenu)))},dependencies:[Gn,cd,bf,wf,$V],styles:['.header-container[_ngcontent-%COMP%]{height:55px;border-bottom:1px solid var(--line-color);justify-content:start;align-items:center}.header-container[_ngcontent-%COMP%]   .name-link[_ngcontent-%COMP%]{width:312px;font-size:16px;text-transform:lowercase;border-right:1px solid var(--line-color);padding-left:22px;cursor:pointer;height:100%;transition:all .3s ease}.header-container[_ngcontent-%COMP%]   .name-link[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.header-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{height:100%}.header-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;padding:0 31px;border-right:1px solid var(--line-color);align-items:center;cursor:pointer;text-decoration:none;color:var(--text-primry-color);transition:all .3s ease}.header-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background-color:#0003}.header-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .menu-item.active[_ngcontent-%COMP%]{border-bottom:3px solid var(--accent-color)}.header-container[_ngcontent-%COMP%]   .contact-me-link[_ngcontent-%COMP%]{font-size:16px;text-transform:lowercase;cursor:pointer;transition:all .3s ease;border-left:1px solid var(--line-color);padding:0 22px}.header-container[_ngcontent-%COMP%]   .contact-me-link[_ngcontent-%COMP%]:hover{color:var(--accent-color)}@media (max-width: 576px){.header-container[_ngcontent-%COMP%]{height:57px;border-bottom:1px solid var(--line-color);justify-content:start;align-items:center;padding:0 16px}.header-container[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{padding:8px}.drawer-menu[_ngcontent-%COMP%]{padding:0;position:absolute;left:0;top:0;right:30%!important;bottom:0;z-index:99999;height:100vh;transform:translate(-102%);transition:all .2s ease;background-color:#011221}.drawer-menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;margin-bottom:16px}.drawer-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{color:#4e626a;padding:16px;font-size:16px;border-bottom:1px solid var(--line-color)!important;border-right:1px solid var(--line-color)}.drawer-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{border-right:1px solid var(--line-color);border-top:1px solid var(--line-color)}.drawer-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:16px;font-size:16px;color:#4e626a;transition:all .3s ease;border-bottom:1px solid var(--line-color)!important}.drawer-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase}.drawer-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:var(--bs-primary)!important;font-weight:100;display:flex}.drawer-menu[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:before{content:"";margin:0 16px 0 -16px;border-right:5px solid var(--bs-primary)}.drawer-menu[_ngcontent-%COMP%]   .menu-info[_ngcontent-%COMP%]{padding:16px}.drawer-menu.show[_ngcontent-%COMP%]{position:fixed;inset:0 20% 0 0;z-index:99999;height:100vh;transform:translate(0)}.drawer-background[_ngcontent-%COMP%]{opacity:0;position:fixed;background-color:#000;top:0;bottom:0;height:100vh;width:100%;z-index:-2;transition:all .3s ease}.drawer-background.show[_ngcontent-%COMP%]{position:absolute;background-color:#000;top:0;bottom:0;height:100vh;width:100%;z-index:600;opacity:.8}}a[_ngcontent-%COMP%]{text-decoration:none}']}),n})();const YZ=["*"];let ZZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-container"]],ngContentSelectors:YZ,decls:2,vars:0,consts:[[1,"container-container"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".container-container[_ngcontent-%COMP%]{height:100%}"]}),n})(),GV=(()=>{class n{constructor(t){this.breakpointObserver=t,this.title="pparce-portfolio"}ngOnInit(){this.breakpointObserver.observe(["(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)","(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)"]).subscribe(t=>{n.isMobile=!!t.matches})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(HZ))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:12,vars:1,consts:[[1,"stack"],[1,"app-container"],[1,"d-flex","flex-column","h-100"],["color","#fea55f","height","2px",3,"includeSpinner"],[1,"h-100"],[1,"d-none","d-md-block"],[1,"background"],[1,"figure-1"],[1,"figure-2"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"ngx-loading-bar",3)(4,"app-header"),l.TgZ(5,"app-container",4),l._UZ(6,"router-outlet"),l.qZA(),l.TgZ(7,"div",5),l._UZ(8,"app-footer"),l.qZA()()(),l.TgZ(9,"div",6),l._UZ(10,"div",7)(11,"div",8),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("includeSpinner",!1))},dependencies:[ma,N4,qZ,$V,ZZ],styles:[".stack[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px;height:100%}.stack[_ngcontent-%COMP%]   .app-container[_ngcontent-%COMP%]{grid-area:1/1/6/6;z-index:3}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{width:100%;grid-area:1/1/6/6;display:flex;justify-content:flex-end;align-items:flex-start;z-index:1}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .figure-1[_ngcontent-%COMP%]{position:absolute;width:454px;height:200px;right:250px;top:100px;background:#43d9ad;opacity:.4;border-radius:100%;filter:blur(100px);transform:rotate(50deg)}.stack[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .figure-2[_ngcontent-%COMP%]{position:absolute;width:454px;height:200px;right:100px;top:400px;background:#4d5bce;border-radius:50%;opacity:.4;filter:blur(100px);transform:rotate(50deg)}.stack[_ngcontent-%COMP%]   .waves[_ngcontent-%COMP%]{grid-area:1/1/6/6;z-index:1;height:100%}.stack[_ngcontent-%COMP%]   .waves[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.4;filter:blur(25px);grid-area:1/1/6/6;width:100%}"]}),n})();function KZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",12)(2,"input",13),l.NdJ("ngModelChange",function(r){const u=l.CHM(t).$implicit;return l.KtG(u.selected=r)})("change",function(){const s=l.CHM(t).index,u=l.oxw();return l.KtG(u.onCheckedChange(s))}),l.qZA(),l.TgZ(3,"label",14),l._uU(4),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("id",t.title),l.Q6J("ngModel",t.selected),l.xp6(1),l.s9C("for",t.title),l.xp6(1),l.hij(" ",t.title," ")}}function JZ(n,e){1&n&&(l.TgZ(0,"div",15)(1,"div",16),l._UZ(2,"div")(3,"div")(4,"div")(5,"div"),l.qZA()())}function QZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",15)(1,"div",17)(2,"div",18),l._uU(3,"/* A problem occurred loading the information."),l._UZ(4,"br"),l._uU(5,"Check your internet connection */ "),l.qZA(),l.TgZ(6,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onRetry())}),l._uU(7,"_retry "),l.qZA()()()}}function XZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23),l.NdJ("click",function(){const s=l.CHM(t).$implicit,u=l.oxw(3);return l.KtG(u.onProjectSelect(s))}),l.TgZ(1,"div",24),l._uU(2),l.qZA(),l.TgZ(3,"div",25)(4,"div",26),l._UZ(5,"img",27),l.TgZ(6,"div",28)(7,"div",29),l._UZ(8,"img",30),l.qZA()()(),l.TgZ(9,"div",31)(10,"p",32),l._uU(11),l.qZA()()()()}if(2&n){const t=e.$implicit,i=l.oxw(2).$implicit;l.xp6(2),l.hij(" // ",t.title," "),l.xp6(3),l.Q6J("src",t.cover,l.LSH),l.xp6(3),l.Q6J("src","../../../assets/icons/"+i.icon,l.LSH),l.xp6(3),l.hij(" ",t.description," ")}}function e7(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,XZ,12,4,"div",22),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.projects)}}function t7(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,e7,2,1,"div",20),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",t.selected)}}let n7=(()=>{class n{constructor(t,i,r){this.loadingBar=t,this.dataService=i,this.modalService=r,this.frontFrameworks=[],this.backendFrameworks=[],this.projects=[],this.loading=!1,this.loadingFailed=!1}get isMobile(){return GV.isMobile}ngOnInit(){this.getFrameworks()}getFrameworks(){let t=JSON.parse(JSON.stringify(kZ)).projects;this.frontFrameworks=t.filter(i=>"front-end"==i.type),this.backendFrameworks=t.filter(i=>"backend-end"==i.type)}onCheckedChange(t){}onRetry(){this.getFrameworks()}onProjectSelect(t){const i=this.modalService.open(RZ,{size:"xl",scrollable:!0,fullscreen:this.isMobile});i.componentInstance.project=t,i.result.then(r=>{},()=>{}).catch()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Up),l.Y36(h2),l.Y36(QO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-project"]],standalone:!0,features:[l.jDz],decls:20,vars:4,consts:[[1,"projects-screen-container","animate__animated","animate__fadeIn"],[1,"projects-menu","d-none","d-md-block"],[1,"menu-option"],[1,"fa-solid","fa-caret-down","me-3"],[1,"menu-content"],[4,"ngFor","ngForOf"],[1,"projects-container","flex-fill"],[1,"tabs-container","d-none","d-md-block"],[1,"tab-item"],[1,"fa-solid","fa-xmark","ms-4"],[1,"content","custom-animated","custom-fadeInUp"],["class","d-flex h-100 justify-content-center align-items-center",4,"ngIf"],[1,"form-check","menu-check-option"],["type","checkbox","name","selected",1,"form-check-input",3,"ngModel","id","ngModelChange","change"],[1,"form-check-label",3,"for"],[1,"d-flex","h-100","justify-content-center","align-items-center"],[1,"lds-ellipsis"],[1,"d-flex","flex-column","align-items-center"],[1,"text-center"],["type","button",1,"btn","btn-outline-primary","mt-3",2,"width","200px",3,"click"],["class","row",4,"ngIf"],[1,"row"],["class","project-item col-md-6 col-xl-4 col-xxl-3",3,"click",4,"ngFor","ngForOf"],[1,"project-item","col-md-6","col-xl-4","col-xxl-3",3,"click"],[1,"mb-2"],[1,"card"],[1,"card-image"],[1,"card-img-top",3,"src"],[1,"foreground"],[1,"icon-container"],[3,"src"],[1,"card-body"],[1,"card-text"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l._uU(4," front-end "),l.qZA(),l.TgZ(5,"div",4),l.YNc(6,KZ,5,4,"div",5),l.qZA(),l.TgZ(7,"div",2),l._UZ(8,"i",3),l._uU(9," back-end "),l.qZA(),l._UZ(10,"div",4),l.qZA(),l.TgZ(11,"div",6)(12,"div",7)(13,"div",8),l._uU(14," Projects "),l._UZ(15,"i",9),l.qZA()(),l.TgZ(16,"div",10),l.YNc(17,JZ,6,0,"div",11),l.YNc(18,QZ,8,0,"div",11),l.YNc(19,t7,2,1,"div",5),l.qZA()()()),2&t&&(l.xp6(6),l.Q6J("ngForOf",i.frontFrameworks),l.xp6(11),l.Q6J("ngIf",i.loading),l.xp6(1),l.Q6J("ngIf",i.loadingFailed),l.xp6(1),l.Q6J("ngForOf",i.frontFrameworks))},dependencies:[ni,er,ti,wa,RO,dO,gO,fT,kV,eC],styles:[".projects-screen-container[_ngcontent-%COMP%]{height:100%;display:flex}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]{min-width:312px;width:312px;height:100%;border-right:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{font-size:14px;display:flex;align-items:center;color:#fff;padding-left:16px;height:40px;border-bottom:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:16px}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]{padding:16px}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]{font-size:16px;text-decoration:inherit;transition:all .5s ease;display:flex;align-items:center;margin-bottom:16px;cursor:pointer}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-top:0;background-color:transparent}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--text-primry-color);border-color:transparent;color:#011627}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6dfd00}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;margin-right:24px;height:20px;width:20px;border-radius:1px;border:1px solid #607b96}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;line-height:1px;transition:all .5s ease}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked   label[_ngcontent-%COMP%]{color:var(--accent-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:16px}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)!important}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{height:100%;width:-moz-fit-content;width:fit-content;display:flex;padding:0 16px;border-right:1px solid var(--line-color);align-items:center}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:50px}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:calc(100vh - 150px);padding:50px;margin-top:1px;overflow-y:scroll}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{transition:all .5s ease;margin-bottom:32px;cursor:pointer}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transition:all .5s ease}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{grid-area:1/1/6/6;height:150px;object-fit:cover;border-bottom:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]{grid-area:1/1/6/6;padding:16px;display:flex;justify-content:flex-end}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{height:36px;width:36px;background-color:#011221;padding:5px}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:14px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]:hover{transform:translate3d(0,-4px,0)}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]:hover   .card[_ngcontent-%COMP%]{box-shadow:-.5px 11.5px 28px #011221}@media (max-width: 576px){.projects-screen-container[_ngcontent-%COMP%]{height:100%;display:flex}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]{min-width:312px;width:312px;height:100%;border-right:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]{font-size:14px;display:flex;align-items:center;color:#fff;padding-left:16px;height:40px;border-bottom:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:16px}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]{padding:16px}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]{font-size:16px;text-decoration:inherit;transition:all .5s ease;display:flex;align-items:center;margin-bottom:16px;cursor:pointer}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{margin-top:0;background-color:transparent}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:var(--text-primry-color);border-color:transparent;color:#011627}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6dfd00}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{cursor:pointer;margin-right:24px;height:20px;width:20px;border-radius:1px;border:1px solid #607b96}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;line-height:1px;transition:all .5s ease}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked   label[_ngcontent-%COMP%]{color:var(--accent-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:var(--accent-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   .menu-check-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:16px}.projects-screen-container[_ngcontent-%COMP%]   .projects-menu[_ngcontent-%COMP%]   .menu-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--accent-color)!important}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]{height:40px;border-bottom:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]{height:100%;width:-moz-fit-content;width:fit-content;display:flex;padding:0 16px;border-right:1px solid var(--line-color);align-items:center}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%]   .tab-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:50px}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:calc(100vh - 58px);padding:16px;margin-top:1px;overflow-y:scroll}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]{transition:all .5s ease;margin-bottom:16px;cursor:pointer}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transition:all .5s ease}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{grid-area:1/1/6/6;height:150px;object-fit:cover;border-bottom:1px solid var(--line-color)}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]{grid-area:1/1/6/6;padding:16px;display:flex;justify-content:flex-end}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{height:36px;width:36px;background-color:#011221;padding:5px}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:14px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]:hover{transform:translate3d(0,-4px,0)}.projects-screen-container[_ngcontent-%COMP%]   .projects-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .project-item[_ngcontent-%COMP%]:hover   .card[_ngcontent-%COMP%]{box-shadow:-.5px 11.5px 28px #011221}}"]}),n})();var i7=ie(4327),Qp=ie(6036),xT=ie.t(Qp,2),Gl=ie(2813),r7=ie.t(Gl,2);const s7=["pdfViewerContainer"];function rR(n,e,t){n[e]=t}function bC(){return typeof window>"u"}bC()||rR(xT,"verbosity",Qp.VerbosityLevel.INFOS);var zv=(()=>(function(n){n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED"}(zv||(zv={})),zv))();let l7=(()=>{class n{constructor(t,i){if(this.element=t,this.ngZone=i,this.isVisible=!1,this._cMapsUrl=typeof xT<"u"?`https://unpkg.com/pdfjs-dist@${Qp.version}/cmaps/`:null,this._imageResourcesPath=typeof xT<"u"?`https://unpkg.com/pdfjs-dist@${Qp.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=zv.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Yn.x,this.afterLoadComplete=new l.vpe,this.pageRendered=new l.vpe,this.pageInitialized=new l.vpe,this.textLayerRendered=new l.vpe,this.onError=new l.vpe,this.onProgress=new l.vpe,this.pageChange=new l.vpe(!0),bC())return;let r;r=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Qp.version}/legacy/build/pdf.worker.min.js`,rR(Qp.GlobalWorkerOptions,"workerSrc",r)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Gl.LinkTarget.BLANK;case"none":return Gl.LinkTarget.NONE;case"self":return Gl.LinkTarget.SELF;case"parent":return Gl.LinkTarget.PARENT;case"top":return Gl.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!bC()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:zv.DISABLED,this.resetPdfDocument()):"showAll"in t&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,zn.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(On(this.destroy$)).subscribe({next:t=>{const i=this._rotation||t.rotate,r=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS;let s=this._zoom,u=!0;if(!this._originalSize||this._fitToPage&&r>this.pdfViewerContainer.nativeElement.clientWidth){const d=t.getViewport({scale:1,rotation:i});s=this.getScale(d.width,d.height),u=!this._stickToPage}this.pdfViewer._setScale(s,u)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null),this.pdfFindController.setDocument(null))}getPDFLinkServiceConfig(){const t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=function o7(n,e){const t=new n.EventBus;return function a7(n,e){$n(n,"documentload").pipe(On(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),$n(n,"pagerendered").pipe(On(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(s)}),$n(n,"textlayerrendered").pipe(On(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv.dispatchEvent(r)}),$n(n,"pagechanging").pipe(On(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),$n(n,"pagesinit").pipe(On(e)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),$n(n,"pagesloaded").pipe(On(e)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),$n(n,"scalechange").pipe(On(e)).subscribe(({scale:t,presetValue:i,source:r})=>{const s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=t,s.presetValue=i,r.container.dispatchEvent(s)}),$n(n,"updateviewarea").pipe(On(e)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),$n(n,"find").pipe(On(e)).subscribe(({source:t,type:i,query:r,phraseSearch:s,caseSensitive:u,highlightAll:d,findPrevious:f})=>{if(t===window)return;const m=document.createEvent("CustomEvent");m.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:s,caseSensitive:u,highlightAll:d,findPrevious:f}),window.dispatchEvent(m)}),$n(n,"attachmentsloaded").pipe(On(e)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),$n(n,"sidebarviewchanged").pipe(On(e)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),$n(n,"pagemode").pipe(On(e)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),$n(n,"namedaction").pipe(On(e)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),$n(n,"presentationmodechanged").pipe(On(e)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),$n(n,"outlineloaded").pipe(On(e)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,e),t}(r7,this.destroy$),$n(this.eventBus,"pagerendered").pipe(On(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),$n(this.eventBus,"pagesinit").pipe(On(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),$n(this.eventBus,"pagechanging").pipe(On(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),$n(this.eventBus,"textlayerrendered").pipe(On(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new Gl.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new Gl.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:zv.DISABLED,findController:this.pdfFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath}}setupViewer(){rR(xT,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new Gl.PDFViewer(this.getPDFOptions()):new Gl.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=Qp.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;(0,zn.D)(this.loadingTask.promise).pipe(On(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-r,u=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===u||0===i||0===s||0===t)return 1;let d=1;switch(this._zoomScale){case"page-fit":d=Math.min(u/i,s/t);break;case"page-height":d=u/i;break;default:d=s/t}return this._zoom*d/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){bC()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){bC()||this.ngZone.runOutsideAngular(()=>{$n(window,"resize").pipe(LV(100),Xn(()=>this._canAutoResize&&!!this._pdf),On(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["pdf-viewer"]],viewQuery:function(t,i){if(1&t&&l.Gf(s7,5),2&t){let r;l.iGM(r=l.CRH())&&(i.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[l.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1),l._UZ(2,"div",2),l.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),c7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const u7=["pdfCurriculum"],d7=[{path:"",redirectTo:"hello",pathMatch:"full"},{path:"hello",component:XW},{path:"about",component:j4},{path:"project",component:n7},{path:"curriculum",component:(()=>{class n{constructor(t){this.loadingBar=t,this.pdfSrc="https://pparce.github.io/assets/pdf/cv.pdf",this.pdfLoaded=!1}ngOnInit(){this.loadingBar.start()}downloadAsPDF(){const t=new XMLHttpRequest;t.open("GET",this.pdfSrc,!0),t.responseType="blob",t.onload=()=>{(0,i7.saveAs)(t.response,"CV Pedro Pablo Arce.pdf")},t.send()}afterLoadComplete(){this.loadingBar.stop(),this.pdfLoaded=!0}ngOnDestroy(){this.loadingBar.stop()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Up))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-curriculum"]],viewQuery:function(t,i){if(1&t&&l.Gf(u7,5),2&t){let r;l.iGM(r=l.CRH())&&(i.pdfCurriculum=r.first)}},standalone:!0,features:[l.jDz],decls:5,vars:13,consts:[[1,"h-100","animate__animated","animate__fadeIn"],[1,"curriculum-container"],[1,"btn","btn-primary","download-button",3,"disabled","click"],[3,"src","rotation","original-size","show-all","fit-to-page","zoom","zoom-scale","stick-to-page","render-text","external-link-target","autoresize","show-borders","after-load-complete"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return i.downloadAsPDF()}),l._uU(3," _download_cv() "),l.qZA(),l.TgZ(4,"pdf-viewer",3),l.NdJ("after-load-complete",function(){return i.afterLoadComplete()}),l.qZA()()()),2&t&&(l.xp6(2),l.Q6J("disabled",!i.pdfLoaded),l.xp6(2),l.Q6J("src",i.pdfSrc)("rotation",0)("original-size",!1)("show-all",!0)("fit-to-page",!0)("zoom",1)("zoom-scale","page-width")("stick-to-page",!1)("render-text",!0)("external-link-target","blank")("autoresize",!0)("show-borders",!1))},dependencies:[ni,c7,l7],styles:[".curriculum-container[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin:0 350px}.curriculum-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}.curriculum-container[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:70px;z-index:2}.curriculum-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{grid-area:1/1/6/6}@media (max-width: 576px){.curriculum-container[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 60px);margin:0 0 0 10px}.curriculum-container[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%;grid-area:1/1/6/6}.curriculum-container[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:16px;z-index:2}.curriculum-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{grid-area:1/1/6/6}}.vl[_ngcontent-%COMP%]{border-left:1px solid #607b96;height:auto}"]}),n})()}];let h7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[dm.forRoot(d7,{initialNavigation:"enabledBlocking"}),dm]}),n})();class zV{}class WV{}class cu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(d=>-1===s.indexOf(d)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class f7{encodeKey(e){return qV(e)}encodeValue(e){return qV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const g7=/%(\d[a-f0-9])/gi,m7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qV(n){return encodeURIComponent(n).replace(g7,(e,t)=>m7[t]??e)}function MT(n){return`${n}`}class vh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new f7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function p7(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],f=t.get(u)||[];f.push(d),t.set(u,f)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(MT):[MT(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(MT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(MT(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class v7{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function YV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ZV(n){return typeof Blob<"u"&&n instanceof Blob}function KV(n){return typeof FormData<"u"&&n instanceof FormData}class wC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function y7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new cu),this.context||(this.context=new v7),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+u}}else this.params=new vh,this.urlWithParams=t}serializeBody(){return null===this.body?null:YV(this.body)||ZV(this.body)||KV(this.body)||function b7(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||KV(this.body)?null:ZV(this.body)?this.body.type||null:YV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let f=e.headers||this.headers,m=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(f=Object.keys(e.setHeaders).reduce((b,P)=>b.set(P,e.setHeaders[P]),f)),e.setParams&&(m=Object.keys(e.setParams).reduce((b,P)=>b.set(P,e.setParams[P]),m)),new wC(t,i,s,{params:m,headers:f,context:y,reportProgress:d,responseType:r,withCredentials:u})}}var ar=(()=>((ar=ar||{})[ar.Sent=0]="Sent",ar[ar.UploadProgress=1]="UploadProgress",ar[ar.ResponseHeader=2]="ResponseHeader",ar[ar.DownloadProgress=3]="DownloadProgress",ar[ar.Response=4]="Response",ar[ar.User=5]="User",ar))();class sR{constructor(e,t=200,i="OK"){this.headers=e.headers||new cu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class oR extends sR{constructor(e={}){super(e),this.type=ar.ResponseHeader}clone(e={}){return new oR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class PT extends sR{constructor(e={}){super(e),this.type=ar.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new PT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class JV extends sR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function aR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let w7=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof wC)s=t;else{let f,m;f=r.headers instanceof cu?r.headers:new cu(r.headers),r.params&&(m=r.params instanceof vh?r.params:new vh({fromObject:r.params})),s=new wC(t,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Jt(s).pipe(zr(f=>this.handler.handle(f)));if(t instanceof wC||"events"===r.observe)return u;const d=u.pipe(Xn(f=>f instanceof PT));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,kt.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,kt.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,kt.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,kt.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new vh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,aR(r,i))}post(t,i,r={}){return this.request("POST",t,aR(r,i))}put(t,i,r={}){return this.request("PUT",t,aR(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class QV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const lR=new l.OlP("HTTP_INTERCEPTORS");let C7=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const E7=/^\)\]\}',?\n/;let XV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ui.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((V,ee)=>r.setRequestHeader(V,ee.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&r.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();r.responseType="json"!==V?V:"text"}const s=t.serializeBody();let u=null;const d=()=>{if(null!==u)return u;const V=r.statusText||"OK",ee=new cu(r.getAllResponseHeaders()),K=function S7(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new oR({headers:ee,status:r.status,statusText:V,url:K}),u},f=()=>{let{headers:V,status:ee,statusText:K,url:ne}=d(),we=null;204!==ee&&(we=typeof r.response>"u"?r.responseText:r.response),0===ee&&(ee=we?200:0);let Se=ee>=200&&ee<300;if("json"===t.responseType&&"string"==typeof we){const Pe=we;we=we.replace(E7,"");try{we=""!==we?JSON.parse(we):null}catch($e){we=Pe,Se&&(Se=!1,we={error:$e,text:we})}}Se?(i.next(new PT({body:we,headers:V,status:ee,statusText:K,url:ne||void 0})),i.complete()):i.error(new JV({error:we,headers:V,status:ee,statusText:K,url:ne||void 0}))},m=V=>{const{url:ee}=d(),K=new JV({error:V,status:r.status||0,statusText:r.statusText||"Unknown Error",url:ee||void 0});i.error(K)};let y=!1;const b=V=>{y||(i.next(d()),y=!0);let ee={type:ar.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(ee.total=V.total),"text"===t.responseType&&!!r.responseText&&(ee.partialText=r.responseText),i.next(ee)},P=V=>{let ee={type:ar.UploadProgress,loaded:V.loaded};V.lengthComputable&&(ee.total=V.total),i.next(ee)};return r.addEventListener("load",f),r.addEventListener("error",m),r.addEventListener("timeout",m),r.addEventListener("abort",m),t.reportProgress&&(r.addEventListener("progress",b),null!==s&&r.upload&&r.upload.addEventListener("progress",P)),r.send(s),i.next({type:ar.Sent}),()=>{r.removeEventListener("error",m),r.removeEventListener("abort",m),r.removeEventListener("load",f),r.removeEventListener("timeout",m),t.reportProgress&&(r.removeEventListener("progress",b),null!==s&&r.upload&&r.upload.removeEventListener("progress",P)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($a))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const cR=new l.OlP("XSRF_COOKIE_NAME"),uR=new l.OlP("XSRF_HEADER_NAME");class ej{}let A7=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ql(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(F),l.LFG(l.Lbi),l.LFG(cR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),dR=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ej),l.LFG(uR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),T7=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(lR,[]);this.chain=i.reduceRight((r,s)=>new QV(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(WV),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),D7=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:dR,useClass:C7}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:cR,useValue:t.cookieName}:[],t.headerName?{provide:uR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dR,{provide:lR,useExisting:dR,multi:!0},{provide:ej,useClass:A7},{provide:cR,useValue:"XSRF-TOKEN"},{provide:uR,useValue:"X-XSRF-TOKEN"}]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[w7,{provide:zV,useClass:T7},XV,{provide:WV,useExisting:XV}],imports:[D7.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const I7=new class _7{constructor(e){this.defaultValue=e}}(()=>!1);let x7=(()=>{class n{constructor(t){this.loader=t}intercept(t,i){if(t.headers.has("ignoreLoadingBar"))return i.handle(t.clone({headers:t.headers.delete("ignoreLoadingBar")}));if(!0===t.context.get(I7))return i.handle(t);let r=!1;const s=this.loader.useRef("http");return i.handle(t).pipe(jn(()=>{r||(s.start(),r=!0)}),yc(()=>r&&s.complete()))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Up))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),M7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:lR,useClass:x7,multi:!0}],imports:[[hR,kv],hR,kv]}),n})(),P7=(()=>{class n{constructor(t,i){const r=i.useRef("router");t.events.subscribe(s=>{const u=this.getCurrentNavigationState(t);u&&u.ignoreLoadingBar||(s instanceof Ec&&r.start(),(s instanceof cf||s instanceof xo||s instanceof Sc)&&r.complete())})}getCurrentNavigationState(t){const i=t.getCurrentNavigation&&t.getCurrentNavigation();return i&&i.extras?i.extras.state:{}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zi),l.LFG(Up))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[dm,kv],dm,kv]}),n})(),O7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[GV]}),n.\u0275inj=l.cJS({providers:[{provide:r0,useValue:{coreLibraryLoader:()=>ie.e(112).then(ie.bind(ie,9112)),lineNumbersLoader:()=>ie.e(859).then(ie.t.bind(ie,859,23)),languages:{typescript:()=>ie.e(535).then(ie.bind(ie,2535)),css:()=>ie.e(403).then(ie.bind(ie,4403)),xml:()=>ie.e(142).then(ie.bind(ie,9142))},themePath:"path-to-theme.css"}},{provide:B,useClass:R}],imports:[$h.withServerTransition({appId:"serverApp"}),hR,h7,kV,RO,wa,kv,M7,P7,kv,eC]}),n})();function tj(){Mu().bootstrapModule(O7).catch(n=>console.error(n))}(0,l.G48)(),"complete"===document.readyState?tj():document.addEventListener("DOMContentLoaded",tj)},8472:function(tt,se){var le,ie=typeof self<"u"?self:this,l=function(){function le(){this.fetch=!1,this.DOMException=ie.DOMException}return le.prototype=ie,new le}();le=l,function(Ae){var ue_searchParams="URLSearchParams"in le,ue_iterable="Symbol"in le&&"iterator"in Symbol,ue_blob="FileReader"in le&&"Blob"in le&&function(){try{return new Blob,!0}catch{return!1}}(),ue_formData="FormData"in le,ue_arrayBuffer="ArrayBuffer"in le;if(ue_arrayBuffer)var te=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],W=ArrayBuffer.isView||function(J){return J&&te.indexOf(Object.prototype.toString.call(J))>-1};function M(J){if("string"!=typeof J&&(J=String(J)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(J))throw new TypeError("Invalid character in header field name");return J.toLowerCase()}function S(J){return"string"!=typeof J&&(J=String(J)),J}function k(J){var de={next:function(){var re=J.shift();return{done:void 0===re,value:re}}};return ue_iterable&&(de[Symbol.iterator]=function(){return de}),de}function A(J){this.map={},J instanceof A?J.forEach(function(de,re){this.append(re,de)},this):Array.isArray(J)?J.forEach(function(de){this.append(de[0],de[1])},this):J&&Object.getOwnPropertyNames(J).forEach(function(de){this.append(de,J[de])},this)}function x(J){if(J.bodyUsed)return Promise.reject(new TypeError("Already read"));J.bodyUsed=!0}function L(J){return new Promise(function(de,re){J.onload=function(){de(J.result)},J.onerror=function(){re(J.error)}})}function oe(J){var de=new FileReader,re=L(de);return de.readAsArrayBuffer(J),re}function D(J){if(J.slice)return J.slice(0);var de=new Uint8Array(J.byteLength);return de.set(new Uint8Array(J)),de.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(J){this._bodyInit=J,J?"string"==typeof J?this._bodyText=J:ue_blob&&Blob.prototype.isPrototypeOf(J)?this._bodyBlob=J:ue_formData&&FormData.prototype.isPrototypeOf(J)?this._bodyFormData=J:ue_searchParams&&URLSearchParams.prototype.isPrototypeOf(J)?this._bodyText=J.toString():ue_arrayBuffer&&ue_blob&&function F(J){return J&&DataView.prototype.isPrototypeOf(J)}(J)?(this._bodyArrayBuffer=D(J.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ue_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(J)||W(J))?this._bodyArrayBuffer=D(J):this._bodyText=J=Object.prototype.toString.call(J):this._bodyText="",this.headers.get("content-type")||("string"==typeof J?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):ue_searchParams&&URLSearchParams.prototype.isPrototypeOf(J)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},ue_blob&&(this.blob=function(){var J=x(this);if(J)return J;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(oe)}),this.text=function(){var J=x(this);if(J)return J;if(this._bodyBlob)return function B(J){var de=new FileReader,re=L(de);return de.readAsText(J),re}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function j(J){for(var de=new Uint8Array(J),re=new Array(de.length),Ie=0;Ie<de.length;Ie++)re[Ie]=String.fromCharCode(de[Ie]);return re.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ue_formData&&(this.formData=function(){return this.text().then(fe)}),this.json=function(){return this.text().then(JSON.parse)},this}A.prototype.append=function(J,de){J=M(J),de=S(de);var re=this.map[J];this.map[J]=re?re+", "+de:de},A.prototype.delete=function(J){delete this.map[M(J)]},A.prototype.get=function(J){return J=M(J),this.has(J)?this.map[J]:null},A.prototype.has=function(J){return this.map.hasOwnProperty(M(J))},A.prototype.set=function(J,de){this.map[M(J)]=S(de)},A.prototype.forEach=function(J,de){for(var re in this.map)this.map.hasOwnProperty(re)&&J.call(de,this.map[re],re,this)},A.prototype.keys=function(){var J=[];return this.forEach(function(de,re){J.push(re)}),k(J)},A.prototype.values=function(){var J=[];return this.forEach(function(de){J.push(de)}),k(J)},A.prototype.entries=function(){var J=[];return this.forEach(function(de,re){J.push([re,de])}),k(J)},ue_iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);var Y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function q(J,de){var re=(de=de||{}).body;if(J instanceof q){if(J.bodyUsed)throw new TypeError("Already read");this.url=J.url,this.credentials=J.credentials,de.headers||(this.headers=new A(J.headers)),this.method=J.method,this.mode=J.mode,this.signal=J.signal,!re&&null!=J._bodyInit&&(re=J._bodyInit,J.bodyUsed=!0)}else this.url=String(J);if(this.credentials=de.credentials||this.credentials||"same-origin",(de.headers||!this.headers)&&(this.headers=new A(de.headers)),this.method=function H(J){var de=J.toUpperCase();return Y.indexOf(de)>-1?de:J}(de.method||this.method||"GET"),this.mode=de.mode||this.mode||null,this.signal=de.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&re)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(re)}function fe(J){var de=new FormData;return J.trim().split("&").forEach(function(re){if(re){var Ie=re.split("="),Me=Ie.shift().replace(/\+/g," "),Ne=Ie.join("=").replace(/\+/g," ");de.append(decodeURIComponent(Me),decodeURIComponent(Ne))}}),de}function _e(J){var de=new A;return J.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ie){var Me=Ie.split(":"),Ne=Me.shift().trim();if(Ne){var et=Me.join(":").trim();de.append(Ne,et)}}),de}function z(J,de){de||(de={}),this.type="default",this.status=void 0===de.status?200:de.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in de?de.statusText:"OK",this.headers=new A(de.headers),this.url=de.url||"",this._initBody(J)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})},R.call(q.prototype),R.call(z.prototype),z.prototype.clone=function(){return new z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},z.error=function(){var J=new z(null,{status:0,statusText:""});return J.type="error",J};var ge=[301,302,303,307,308];z.redirect=function(J,de){if(-1===ge.indexOf(de))throw new RangeError("Invalid status code");return new z(null,{status:de,headers:{location:J}})},Ae.DOMException=le.DOMException;try{new Ae.DOMException}catch{Ae.DOMException=function(de,re){this.message=de,this.name=re;var Ie=Error(de);this.stack=Ie.stack},Ae.DOMException.prototype=Object.create(Error.prototype),Ae.DOMException.prototype.constructor=Ae.DOMException}function ce(J,de){return new Promise(function(re,Ie){var Me=new q(J,de);if(Me.signal&&Me.signal.aborted)return Ie(new Ae.DOMException("Aborted","AbortError"));var Ne=new XMLHttpRequest;function et(){Ne.abort()}Ne.onload=function(){var ye={status:Ne.status,statusText:Ne.statusText,headers:_e(Ne.getAllResponseHeaders()||"")};ye.url="responseURL"in Ne?Ne.responseURL:ye.headers.get("X-Request-URL"),re(new z("response"in Ne?Ne.response:Ne.responseText,ye))},Ne.onerror=function(){Ie(new TypeError("Network request failed"))},Ne.ontimeout=function(){Ie(new TypeError("Network request failed"))},Ne.onabort=function(){Ie(new Ae.DOMException("Aborted","AbortError"))},Ne.open(Me.method,Me.url,!0),"include"===Me.credentials?Ne.withCredentials=!0:"omit"===Me.credentials&&(Ne.withCredentials=!1),"responseType"in Ne&&ue_blob&&(Ne.responseType="blob"),Me.headers.forEach(function(ye,N){Ne.setRequestHeader(N,ye)}),Me.signal&&(Me.signal.addEventListener("abort",et),Ne.onreadystatechange=function(){4===Ne.readyState&&Me.signal.removeEventListener("abort",et)}),Ne.send(typeof Me._bodyInit>"u"?null:Me._bodyInit)})}ce.polyfill=!0,le.fetch||(le.fetch=ce,le.Headers=A,le.Request=q,le.Response=z),Ae.Headers=A,Ae.Request=q,Ae.Response=z,Ae.fetch=ce,Object.defineProperty(Ae,"__esModule",{value:!0})}({}),l.fetch.ponyfill=!0,delete l.fetch.polyfill;var xe=l;(se=xe.fetch).default=xe.fetch,se.fetch=xe.fetch,se.Headers=xe.Headers,se.Request=xe.Request,se.Response=xe.Response,tt.exports=se},8878:tt=>{var se=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};tt.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return se()}try{return __global__||se()}finally{delete Object.prototype.__global__}}()},4327:function(tt,se){var xe;void 0!==(xe=function(){"use strict";function Ee(M,S,k){var A=new XMLHttpRequest;A.open("GET",M),A.responseType="blob",A.onload=function(){W(A.response,S,k)},A.onerror=function(){console.error("could not download file")},A.send()}function Ae(M){var S=new XMLHttpRequest;S.open("HEAD",M,!1);try{S.send()}catch{}return 200<=S.status&&299>=S.status}function ue(M){try{M.dispatchEvent(new MouseEvent("click"))}catch{var S=document.createEvent("MouseEvents");S.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),M.dispatchEvent(S)}}var F="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,te=F.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),W=F.saveAs||("object"!=typeof window||window!==F?function(){}:"download"in HTMLAnchorElement.prototype&&!te?function(M,S,k){var A=F.URL||F.webkitURL,x=document.createElement("a");x.download=S=S||M.name||"download",x.rel="noopener","string"==typeof M?(x.href=M,x.origin===location.origin?ue(x):Ae(x.href)?Ee(M,S,k):ue(x,x.target="_blank")):(x.href=A.createObjectURL(M),setTimeout(function(){A.revokeObjectURL(x.href)},4e4),setTimeout(function(){ue(x)},0))}:"msSaveOrOpenBlob"in navigator?function(M,S,k){if(S=S||M.name||"download","string"!=typeof M)navigator.msSaveOrOpenBlob(function le(M,S){return typeof S>"u"?S={autoBom:!1}:"object"!=typeof S&&(console.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(M.type)?new Blob(["\ufeff",M],{type:M.type}):M}(M,k),S);else if(Ae(M))Ee(M,S,k);else{var A=document.createElement("a");A.href=M,A.target="_blank",setTimeout(function(){ue(A)})}}:function(M,S,k,A){if((A=A||open("","_blank"))&&(A.document.title=A.document.body.innerText="downloading..."),"string"==typeof M)return Ee(M,S,k);var x="application/octet-stream"===M.type,L=/constructor/i.test(F.HTMLElement)||F.safari,oe=/CriOS\/[\d]+/.test(navigator.userAgent);if((oe||x&&L||te)&&typeof FileReader<"u"){var B=new FileReader;B.onloadend=function(){var R=B.result;R=oe?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),A?A.location.href=R:location=R,A=null},B.readAsDataURL(M)}else{var j=F.URL||F.webkitURL,D=j.createObjectURL(M);A?A.location=D:location.href=D,A=null,setTimeout(function(){j.revokeObjectURL(D)},4e4)}});F.saveAs=W.saveAs=W,tt.exports=W}.apply(se,[]))&&(tt.exports=xe)},127:(tt,se,ie)=>{"use strict";ie.d(se,{Z:()=>l.Z});var l=ie(3942);l.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(tt,se,ie)=>{"use strict";ie.r(se);var l=ie(5861),xe=ie(3942),le=ie(2090),Ee=ie(9681),Ae=ie(1877),ue=ie(655),F=ie(4859);const L=function A(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},oe=function x(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},B=new le.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),D=new Ae.Yd("@firebase/auth");function R(w,...g){D.logLevel<=Ae.in.ERROR&&D.error(`Auth (${Ee.SDK_VERSION}): ${w}`,...g)}function Y(w,...g){throw _e(w,...g)}function H(w,...g){return _e(w,...g)}function q(w,g,v){const E=Object.assign(Object.assign({},oe()),{[g]:v});return new le.LL("auth","Firebase",E).create(g,{appName:w.name})}function fe(w,g,v){if(!(g instanceof v))throw v.name!==g.constructor.name&&Y(w,"argument-error"),q(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _e(w,...g){if("string"!=typeof w){const v=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(v,...E)}return B.create(w,...g)}function z(w,g,...v){if(!w)throw _e(g,...v)}function ge(w){const g="INTERNAL ASSERTION FAILED: "+w;throw R(g),new Error(g)}function ce(w,g){w||ge(g)}const J=new Map;function de(w){ce(w instanceof Function,"Expected a class definition");let g=J.get(w);return g?(ce(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,J.set(w,g),g)}function Me(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ne(){return"http:"===et()||"https:"===et()}function et(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class G{constructor(g,v){this.shortDelay=g,this.longDelay=v,ce(v>g,"Short delay should be less than long delay!"),this.isMobile=(0,le.uI)()||(0,le.b$)()}get(){return function ye(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ne()||(0,le.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function I(w,g){ce(w.emulator,"Emulator should always be set here");const{url:v}=w.emulator;return g?`${v}${g.startsWith("/")?g.slice(1):g}`:v}class U{static initialize(g,v,E){this.fetchImpl=g,v&&(this.headersImpl=v),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},me=new G(3e4,6e4);function ae(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function be(w,g,v,E){return ke.apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(w,g,v,E,Q={}){return Be(w,Q,(0,l.Z)(function*(){let ve={},He={};E&&("GET"===g?He=E:ve={body:JSON.stringify(E)});const dt=(0,le.xO)(Object.assign({key:w.config.apiKey},He)).slice(1),Ft=yield w._getAdditionalHeaders();return Ft["Content-Type"]="application/json",w.languageCode&&(Ft["X-Firebase-Locale"]=w.languageCode),U.fetch()(nt(w,w.config.apiHost,v,dt),Object.assign({method:g,headers:Ft,referrerPolicy:"no-referrer"},ve))}))})).apply(this,arguments)}function Be(w,g,v){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(w,g,v){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},X),g);try{const Q=new wt(w),ve=yield Promise.race([v(),Q.promise]);Q.clearNetworkTimeout();const He=yield ve.json();if("needConfirmation"in He)throw Lt(w,"account-exists-with-different-credential",He);if(ve.ok&&!("errorMessage"in He))return He;{const dt=ve.ok?He.errorMessage:He.error.message,[Ft,Kt]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw Lt(w,"credential-already-in-use",He);if("EMAIL_EXISTS"===Ft)throw Lt(w,"email-already-in-use",He);if("USER_DISABLED"===Ft)throw Lt(w,"user-disabled",He);const hn=E[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-");if(Kt)throw q(w,hn,Kt);Y(w,hn)}}catch(Q){if(Q instanceof le.ZR)throw Q;Y(w,"network-request-failed")}})).apply(this,arguments)}function Ge(w,g,v,E){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(w,g,v,E,Q={}){const ve=yield be(w,g,v,E,Q);return"mfaPendingCredential"in ve&&Y(w,"multi-factor-auth-required",{_serverResponse:ve}),ve})).apply(this,arguments)}function nt(w,g,v,E){const Q=`${g}${v}?${E}`;return w.config.emulator?I(w.config,Q):`${w.config.apiScheme}://${Q}`}class wt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((v,E)=>{this.timer=setTimeout(()=>E(H(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lt(w,g,v){const E={appName:w.name};v.email&&(E.email=v.email),v.phoneNumber&&(E.phoneNumber=v.phoneNumber);const Q=H(w,g,E);return Q.customData._tokenResponse=v,Q}function je(){return(je=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rt(w,g){return pe.apply(this,arguments)}function pe(){return(pe=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Oe(w,g){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function It(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function St(){return(St=(0,l.Z)(function*(w,g=!1){const v=(0,le.m9)(w),E=yield v.getIdToken(g),Q=Mt(E);z(Q&&Q.exp&&Q.auth_time&&Q.iat,v.auth,"internal-error");const ve="object"==typeof Q.firebase?Q.firebase:void 0,He=ve?.sign_in_provider;return{claims:Q,token:E,authTime:It(ft(Q.auth_time)),issuedAtTime:It(ft(Q.iat)),expirationTime:It(ft(Q.exp)),signInProvider:He||null,signInSecondFactor:ve?.sign_in_second_factor||null}})).apply(this,arguments)}function ft(w){return 1e3*Number(w)}function Mt(w){var g;const[v,E,Q]=w.split(".");if(void 0===v||void 0===E||void 0===Q)return R("JWT malformed, contained fewer than 3 sections"),null;try{const ve=(0,le.tV)(E);return ve?JSON.parse(ve):(R("Failed to decode base64 JWT payload"),null)}catch(ve){return R("Caught error parsing JWT payload as JSON",null===(g=ve)||void 0===g?void 0:g.toString()),null}}function bn(w,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(w,g,v=!1){if(v)return g;try{return yield g}catch(E){throw E instanceof le.ZR&&Te(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Te({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Ce{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var v;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const Q=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,Q)}}schedule(g=!1){var v=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield v.iteration()}),E)}iteration(){var g=this;return(0,l.Z)(function*(){var v;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(v=E)||void 0===v?void 0:v.code)&&g.schedule(!0))}g.schedule()})()}}class ut{constructor(g,v){this.createdAt=g,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=It(this.lastLoginAt),this.creationTime=It(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ct(w){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(w){var g;const v=w.auth,E=yield w.getIdToken(),Q=yield bn(w,Oe(v,{idToken:E}));z(Q?.users.length,v,"internal-error");const ve=Q.users[0];w._notifyReloadListener(ve);const He=null!==(g=ve.providerUserInfo)&&void 0!==g&&g.length?Bt(ve.providerUserInfo):[],dt=gn(w.providerData,He),hn=!!w.isAnonymous&&!(w.email&&ve.passwordHash||dt?.length),ln={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:dt,metadata:new ut(ve.createdAt,ve.lastLoginAt),isAnonymous:hn};Object.assign(w,ln)})).apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(w){const g=(0,le.m9)(w);yield ct(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function gn(w,g){return[...w.filter(E=>!g.some(Q=>Q.providerId===E.providerId)),...g]}function Bt(w){return w.map(g=>{var{providerId:v}=g,E=(0,ue._T)(g,["providerId"]);return{providerId:v,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ht(){return(Ht=(0,l.Z)(function*(w,g){const v=yield Be(w,{},(0,l.Z)(function*(){const E=(0,le.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Q,apiKey:ve}=w.config,He=nt(w,Q,"/v1/token",`key=${ve}`),dt=yield w._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",U.fetch()(He,{method:"POST",headers:dt,body:E})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){z(g.idToken,"internal-error"),z(typeof g.idToken<"u","internal-error"),z(typeof g.refreshToken<"u","internal-error");const v="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Zt(w){const g=Mt(w);return z(g,"internal-error"),z(typeof g.exp<"u","internal-error"),z(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,v)}getToken(g,v=!1){var E=this;return(0,l.Z)(function*(){return z(!E.accessToken||E.refreshToken,g,"user-token-expired"),v||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,v){var E=this;return(0,l.Z)(function*(){const{accessToken:Q,refreshToken:ve,expiresIn:He}=yield function pt(w,g){return Ht.apply(this,arguments)}(g,v);E.updateTokensAndExpiration(Q,ve,Number(He))})()}updateTokensAndExpiration(g,v,E){this.refreshToken=v||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,v){const{refreshToken:E,accessToken:Q,expirationTime:ve}=v,He=new qt;return E&&(z("string"==typeof E,"internal-error",{appName:g}),He.refreshToken=E),Q&&(z("string"==typeof Q,"internal-error",{appName:g}),He.accessToken=Q),ve&&(z("number"==typeof ve,"internal-error",{appName:g}),He.expirationTime=ve),He}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return ge("not implemented")}}function sn(w,g){z("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class en{constructor(g){var{uid:v,auth:E,stsTokenManager:Q}=g,ve=(0,ue._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=E,this.stsTokenManager=Q,this.accessToken=Q.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new ut(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(g){var v=this;return(0,l.Z)(function*(){const E=yield bn(v,v.stsTokenManager.getToken(v.auth,g));return z(E,v.auth,"internal-error"),v.accessToken!==E&&(v.accessToken=E,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),E})()}getIdTokenResult(g){return function _t(w){return St.apply(this,arguments)}(this,g)}reload(){return function bt(w){return on.apply(this,arguments)}(this)}_assign(g){this!==g&&(z(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(v=>Object.assign({},v)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new en(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,v=!1){var E=this;return(0,l.Z)(function*(){let Q=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),Q=!0),v&&(yield ct(E)),yield E.auth._persistUserIfCurrent(E),Q&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,l.Z)(function*(){const v=yield g.getIdToken();return yield bn(g,function Xe(w,g){return je.apply(this,arguments)}(g.auth,{idToken:v})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,v){var E,Q,ve,He,dt,Ft,Kt,hn;const ln=null!==(E=v.displayName)&&void 0!==E?E:void 0,Wn=null!==(Q=v.email)&&void 0!==Q?Q:void 0,yr=null!==(ve=v.phoneNumber)&&void 0!==ve?ve:void 0,_a=null!==(He=v.photoURL)&&void 0!==He?He:void 0,Ny=null!==(dt=v.tenantId)&&void 0!==dt?dt:void 0,Mc=null!==(Ft=v._redirectEventId)&&void 0!==Ft?Ft:void 0,Kg=null!==(Kt=v.createdAt)&&void 0!==Kt?Kt:void 0,rd=null!==(hn=v.lastLoginAt)&&void 0!==hn?hn:void 0,{uid:Jg,emailVerified:ky,isAnonymous:ul,providerData:va,stsTokenManager:pf}=v;z(Jg&&pf,g,"internal-error");const gf=qt.fromJSON(this.name,pf);z("string"==typeof Jg,g,"internal-error"),sn(ln,g.name),sn(Wn,g.name),z("boolean"==typeof ky,g,"internal-error"),z("boolean"==typeof ul,g,"internal-error"),sn(yr,g.name),sn(_a,g.name),sn(Ny,g.name),sn(Mc,g.name),sn(Kg,g.name),sn(rd,g.name);const Po=new en({uid:Jg,auth:g,email:Wn,emailVerified:ky,displayName:ln,isAnonymous:ul,photoURL:_a,phoneNumber:yr,tenantId:Ny,stsTokenManager:gf,createdAt:Kg,lastLoginAt:rd});return va&&Array.isArray(va)&&(Po.providerData=va.map(dl=>Object.assign({},dl))),Mc&&(Po._redirectEventId=Mc),Po}static _fromIdTokenResponse(g,v,E=!1){return(0,l.Z)(function*(){const Q=new qt;Q.updateFromServerResponse(v);const ve=new en({uid:v.localId,auth:g,stsTokenManager:Q,isAnonymous:E});return yield ct(ve),ve})()}}const Re=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(v,E){var Q=this;return(0,l.Z)(function*(){Q.storage[v]=E})()}_get(v){var E=this;return(0,l.Z)(function*(){const Q=E.storage[v];return void 0===Q?null:Q})()}_remove(v){var E=this;return(0,l.Z)(function*(){delete E.storage[v]})()}_addListener(v,E){}_removeListener(v,E){}}return w.type="NONE",w})();function Ue(w,g,v){return`firebase:${w}:${g}:${v}`}class mt{constructor(g,v,E){this.persistence=g,this.auth=v,this.userKey=E;const{config:Q,name:ve}=this.auth;this.fullUserKey=Ue(this.userKey,Q.apiKey,ve),this.fullPersistenceKey=Ue("persistence",Q.apiKey,ve),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const v=yield g.persistence._get(g.fullUserKey);return v?en._fromJSON(g.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var v=this;return(0,l.Z)(function*(){if(v.persistence===g)return;const E=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=g,E?v.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,v,E="authUser"){return(0,l.Z)(function*(){if(!v.length)return new mt(de(Re),g,E);const Q=(yield Promise.all(v.map(function(){var Kt=(0,l.Z)(function*(hn){if(yield hn._isAvailable())return hn});return function(hn){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let ve=Q[0]||de(Re);const He=Ue(E,g.config.apiKey,g.name);let dt=null;for(const Kt of v)try{const hn=yield Kt._get(He);if(hn){const ln=en._fromJSON(g,hn);Kt!==ve&&(dt=ln),ve=Kt;break}}catch{}const Ft=Q.filter(Kt=>Kt._shouldAllowMigration);return ve._shouldAllowMigration&&Ft.length?(ve=Ft[0],dt&&(yield ve._set(He,dt.toJSON())),yield Promise.all(v.map(function(){var Kt=(0,l.Z)(function*(hn){if(hn!==ve)try{yield hn._remove(He)}catch{}});return function(hn){return Kt.apply(this,arguments)}}())),new mt(ve,g,E)):new mt(ve,g,E)})()}}function qe(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Jn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Nt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Vt(g))return"Blackberry";if(zt(g))return"Webos";if(nn(g))return"Safari";if((g.includes("chrome/")||Nn(g))&&!g.includes("edge/"))return"Chrome";if(Ln(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Nt(w=(0,le.z$)()){return/firefox\//i.test(w)}function nn(w=(0,le.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Nn(w=(0,le.z$)()){return/crios\//i.test(w)}function Jn(w=(0,le.z$)()){return/iemobile/i.test(w)}function Ln(w=(0,le.z$)()){return/android/i.test(w)}function Vt(w=(0,le.z$)()){return/blackberry/i.test(w)}function zt(w=(0,le.z$)()){return/webos/i.test(w)}function In(w=(0,le.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function uo(w=(0,le.z$)()){return In(w)||Ln(w)||zt(w)||Vt(w)||/windows phone/i.test(w)||Jn(w)}function Ba(w,g=[]){let v;switch(w){case"Browser":v=qe((0,le.z$)());break;case"Worker":v=`${qe((0,le.z$)())}-${w}`;break;default:v=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${v}/JsCore/${Ee.SDK_VERSION}/${E}`}class Wl{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,v){const E=ve=>new Promise((He,dt)=>{try{He(g(ve))}catch(Ft){dt(Ft)}});E.onAbort=v,this.queue.push(E);const Q=this.queue.length-1;return()=>{this.queue[Q]=()=>Promise.resolve()}}runMiddleware(g){var v=this;return(0,l.Z)(function*(){var E;if(v.auth.currentUser===g)return;const Q=[];try{for(const ve of v.queue)yield ve(g),ve.onAbort&&Q.push(ve.onAbort)}catch(ve){Q.reverse();for(const He of Q)try{He()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=ve)||void 0===E?void 0:E.message})}})()}}class Sn{constructor(g,v,E){this.app=g,this.heartbeatServiceProvider=v,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qo(this),this.idTokenSubscription=new qo(this),this.beforeStateQueue=new Wl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,v){var E=this;return v&&(this._popupRedirectResolver=de(v)),this._initializationPromise=this.queue((0,l.Z)(function*(){var Q,ve;if(!E._deleted&&(E.persistenceManager=yield mt.create(E,g),!E._deleted)){if(null!==(Q=E._popupRedirectResolver)&&void 0!==Q&&Q._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(v),E.lastNotifiedUid=(null===(ve=E.currentUser)||void 0===ve?void 0:ve.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const v=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||v){if(g.currentUser&&v&&g.currentUser.uid===v.uid)return g._currentUser._assign(v),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(v,!0)}})()}initializeCurrentUser(g){var v=this;return(0,l.Z)(function*(){var E;const Q=yield v.assertedPersistence.getCurrentUser();let ve=Q,He=!1;if(g&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const dt=null===(E=v.redirectUser)||void 0===E?void 0:E._redirectEventId,Ft=ve?._redirectEventId,Kt=yield v.tryRedirectSignIn(g);(!dt||dt===Ft)&&Kt?.user&&(ve=Kt.user,He=!0)}if(!ve)return v.directlySetCurrentUser(null);if(!ve._redirectEventId){if(He)try{yield v.beforeStateQueue.runMiddleware(ve)}catch(dt){ve=Q,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(dt))}return ve?v.reloadAndSetCurrentUserOrClear(ve):v.directlySetCurrentUser(null)}return z(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===ve._redirectEventId?v.directlySetCurrentUser(ve):v.reloadAndSetCurrentUserOrClear(ve)})()}tryRedirectSignIn(g){var v=this;return(0,l.Z)(function*(){let E=null;try{E=yield v._popupRedirectResolver._completeRedirectFn(v,g,!0)}catch{yield v._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var v=this;return(0,l.Z)(function*(){var E;try{yield ct(g)}catch(Q){if("auth/network-request-failed"!==(null===(E=Q)||void 0===E?void 0:E.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function N(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var v=this;return(0,l.Z)(function*(){const E=g?(0,le.m9)(g):null;return E&&z(E.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(E&&E._clone(v))})()}_updateCurrentUser(g,v=!1){var E=this;return(0,l.Z)(function*(){if(!E._deleted)return g&&z(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),v||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,l.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var v=this;return this.queue((0,l.Z)(function*(){yield v.assertedPersistence.setPersistence(de(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new le.LL("auth","Firebase",g())}onAuthStateChanged(g,v,E){return this.registerStateListener(this.authStateSubscription,g,v,E)}beforeAuthStateChanged(g,v){return this.beforeStateQueue.pushCallback(g,v)}onIdTokenChanged(g,v,E){return this.registerStateListener(this.idTokenSubscription,g,v,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,v){var E=this;return(0,l.Z)(function*(){const Q=yield E.getOrInitRedirectPersistenceManager(v);return null===g?Q.removeCurrentUser():Q.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var v=this;return(0,l.Z)(function*(){if(!v.redirectPersistenceManager){const E=g&&de(g)||v._popupRedirectResolver;z(E,v,"argument-error"),v.redirectPersistenceManager=yield mt.create(v,[de(E._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(g){var v=this;return(0,l.Z)(function*(){var E,Q;return v._isInitialized&&(yield v.queue((0,l.Z)(function*(){}))),(null===(E=v._currentUser)||void 0===E?void 0:E._redirectEventId)===g?v._currentUser:(null===(Q=v.redirectUser)||void 0===Q?void 0:Q._redirectEventId)===g?v.redirectUser:null})()}_persistUserIfCurrent(g){var v=this;return(0,l.Z)(function*(){if(g===v.currentUser)return v.queue((0,l.Z)(function*(){return v.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(v=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,v,E,Q){if(this._deleted)return()=>{};const ve="function"==typeof v?v:v.next.bind(v),He=this._isInitialized?Promise.resolve():this._initializationPromise;return z(He,this,"internal-error"),He.then(()=>ve(this.currentUser)),"function"==typeof v?g.addObserver(v,E,Q):g.addObserver(v)}directlySetCurrentUser(g){var v=this;return(0,l.Z)(function*(){v.currentUser&&v.currentUser!==g&&v._currentUser._stopProactiveRefresh(),g&&v.isProactiveRefreshEnabled&&g._startProactiveRefresh(),v.currentUser=g,g?yield v.assertedPersistence.setCurrentUser(g):yield v.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ba(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var v;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const Q=yield null===(v=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return Q&&(E["X-Firebase-Client"]=Q),E})()}}function ci(w){return(0,le.m9)(w)}class qo{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,le.ne)(v=>this.observer=v)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ho(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function fo(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class Xi{constructor(g,v){this.providerId=g,this.signInMethod=v}toJSON(){return ge("not implemented")}_getIdTokenResponse(g){return ge("not implemented")}_linkToIdToken(g,v){return ge("not implemented")}_getReauthenticationResolver(g){return ge("not implemented")}}function Va(w,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:resetPassword",ae(w,g))})).apply(this,arguments)}function Gn(w,g){return bh.apply(this,arguments)}function bh(){return(bh=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function tg(w,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:update",ae(w,g))})).apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithPassword",ae(w,g))})).apply(this,arguments)}function po(w,g){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:sendOobCode",ae(w,g))})).apply(this,arguments)}function ti(w,g){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,l.Z)(function*(w,g){return po(w,g)})).apply(this,arguments)}function lr(w,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(w,g){return po(w,g)})).apply(this,arguments)}function ja(w,g){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(w,g){return po(w,g)})).apply(this,arguments)}function Yl(w,g){return $r.apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(w,g){return po(w,g)})).apply(this,arguments)}function ig(){return(ig=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithEmailLink",ae(w,g))})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithEmailLink",ae(w,g))})).apply(this,arguments)}class Eh extends Xi{constructor(g,v,E,Q=null){super("password",E),this._email=g,this._password=v,this._tenantId=Q}static _fromEmailAndPassword(g,v){return new Eh(g,v,"password")}static _fromEmailAndCode(g,v,E=null){return new Eh(g,v,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(g){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return function wh(w,g){return er.apply(this,arguments)}(g,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ng(w,g){return ig.apply(this,arguments)}(g,{email:v._email,oobCode:v._password});default:Y(g,"internal-error")}})()}_linkToIdToken(g,v){var E=this;return(0,l.Z)(function*(){switch(E.signInMethod){case"password":return Gn(g,{idToken:v,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Jv(w,g){return go.apply(this,arguments)}(g,{idToken:v,email:E._email,oobCode:E._password});default:Y(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Ui(w,g){return rg.apply(this,arguments)}function rg(){return(rg=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithIdp",ae(w,g))})).apply(this,arguments)}class Ls extends Xi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const v=new Ls(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(v.idToken=g.idToken),g.accessToken&&(v.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(v.nonce=g.nonce),g.pendingToken&&(v.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(v.accessToken=g.oauthToken,v.secret=g.oauthTokenSecret):Y("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:Q}=v,ve=(0,ue._T)(v,["providerId","signInMethod"]);if(!E||!Q)return null;const He=new Ls(E,Q);return He.idToken=ve.idToken||void 0,He.accessToken=ve.accessToken||void 0,He.secret=ve.secret,He.nonce=ve.nonce,He.pendingToken=ve.pendingToken||null,He}_getIdTokenResponse(g){return Ui(g,this.buildRequest())}_linkToIdToken(g,v){const E=this.buildRequest();return E.idToken=v,Ui(g,E)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ui(g,v)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),g.postBody=(0,le.xO)(v)}return g}}function IC(w,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:sendVerificationCode",ae(w,g))})).apply(this,arguments)}function sg(){return(sg=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithPhoneNumber",ae(w,g))})).apply(this,arguments)}function og(){return(og=(0,l.Z)(function*(w,g){const v=yield Ge(w,"POST","/v1/accounts:signInWithPhoneNumber",ae(w,g));if(v.temporaryProof)throw Lt(w,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const PC={USER_NOT_FOUND:"user-not-found"};function ag(){return(ag=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithPhoneNumber",ae(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),PC)})).apply(this,arguments)}class mo extends Xi{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,v){return new mo({verificationId:g,verificationCode:v})}static _fromTokenResponse(g,v){return new mo({phoneNumber:g,temporaryProof:v})}_getIdTokenResponse(g){return function xC(w,g){return sg.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,v){return function MC(w,g){return og.apply(this,arguments)}(g,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function OC(w,g){return ag.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:v,verificationId:E,verificationCode:Q}=this.params;return g&&v?{temporaryProof:g,phoneNumber:v}:{sessionInfo:E,code:Q}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:v,verificationCode:E,phoneNumber:Q,temporaryProof:ve}=g;return E||v||Q||ve?new mo({verificationId:v,verificationCode:E,phoneNumber:Q,temporaryProof:ve}):null}}class fu{constructor(g){var v,E,Q,ve,He,dt;const Ft=(0,le.zd)((0,le.pd)(g)),Kt=null!==(v=Ft.apiKey)&&void 0!==v?v:null,hn=null!==(E=Ft.oobCode)&&void 0!==E?E:null,ln=function Sh(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Q=Ft.mode)&&void 0!==Q?Q:null);z(Kt&&hn&&ln,"argument-error"),this.apiKey=Kt,this.operation=ln,this.code=hn,this.continueUrl=null!==(ve=Ft.continueUrl)&&void 0!==ve?ve:null,this.languageCode=null!==(He=Ft.languageCode)&&void 0!==He?He:null,this.tenantId=null!==(dt=Ft.tenantId)&&void 0!==dt?dt:null}static parseLink(g){const v=function RC(w){const g=(0,le.zd)((0,le.pd)(w)).link,v=g?(0,le.zd)((0,le.pd)(g)).deep_link_id:null,E=(0,le.zd)((0,le.pd)(w)).deep_link_id;return(E?(0,le.zd)((0,le.pd)(E)).link:null)||E||v||g||w}(g);try{return new fu(v)}catch{return null}}}let ps=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(v,E){return Eh._fromEmailAndPassword(v,E)}static credentialWithLink(v,E){const Q=fu.parseLink(E);return z(Q,"argument-error"),Eh._fromEmailAndCode(v,Q.code,Q.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Bs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class _o extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Jo extends _o{static credentialFromJSON(g){const v="string"==typeof g?JSON.parse(g):g;return z("providerId"in v&&"signInMethod"in v,"argument-error"),Ls._fromParams(v)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return z(g.idToken||g.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Jo.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Jo.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:E,oauthTokenSecret:Q,pendingToken:ve,nonce:He,providerId:dt}=g;if(!E&&!Q&&!v&&!ve||!dt)return null;try{return new Jo(dt)._credential({idToken:v,accessToken:E,nonce:He,pendingToken:ve})}catch{return null}}}let pu=(()=>{class w extends _o{constructor(){super("facebook.com")}static credential(v){return Ls._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),gu=(()=>{class w extends _o{constructor(){super("google.com"),this.addScope("profile")}static credential(v,E){return Ls._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:E})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:E,oauthAccessToken:Q}=v;if(!E&&!Q)return null;try{return w.credential(E,Q)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ah=(()=>{class w extends _o{constructor(){super("github.com")}static credential(v){return Ls._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return w.credential(v.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class ni extends Xi{constructor(g,v){super(g,g),this.pendingToken=v}_getIdTokenResponse(g){return Ui(g,this.buildRequest())}_linkToIdToken(g,v){const E=this.buildRequest();return E.idToken=v,Ui(g,E)}_getReauthenticationResolver(g){const v=this.buildRequest();return v.autoCreate=!1,Ui(g,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const v="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:Q,pendingToken:ve}=v;return E&&Q&&ve&&E===Q?new ni(E,ve):null}static _create(g,v){return new ni(g,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _u extends Bs{constructor(g){z(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return _u.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return _u.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const v=ni.fromJSON(g);return z(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:v,providerId:E}=g;if(!v||!E)return null;try{return ni._create(E,v)}catch{return null}}}let Or=(()=>{class w extends _o{constructor(){super("twitter.com")}static credential(v,E){return Ls._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:E})}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:E,oauthTokenSecret:Q}=v;if(!E||!Q)return null;try{return w.credential(E,Q)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function vu(w,g){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signUp",ae(w,g))})).apply(this,arguments)}class ur{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,v,E,Q=!1){return(0,l.Z)(function*(){const ve=yield en._fromIdTokenResponse(g,E,Q),He=Xv(E);return new ur({user:ve,providerId:He,_tokenResponse:E,operationType:v})})()}static _forOperation(g,v,E){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const Q=Xv(E);return new ur({user:g,providerId:Q,_tokenResponse:E,operationType:v})})()}}function Xv(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function vi(){return(vi=(0,l.Z)(function*(w){var g;const v=ci(w);if(yield v._initializationPromise,null!==(g=v.currentUser)&&void 0!==g&&g.isAnonymous)return new ur({user:v.currentUser,providerId:null,operationType:"signIn"});const E=yield vu(v,{returnSecureToken:!0}),Q=yield ur._fromIdTokenResponse(v,"signIn",E,!0);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class yu extends le.ZR{constructor(g,v,E,Q){var ve;super(v.code,v.message),this.operationType=E,this.user=Q,Object.setPrototypeOf(this,yu.prototype),this.customData={appName:g.name,tenantId:null!==(ve=g.tenantId)&&void 0!==ve?ve:void 0,_serverResponse:v.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,v,E,Q){return new yu(g,v,E,Q)}}function ey(w,g,v,E){return("reauthenticate"===g?v._getReauthenticationResolver(w):v._getIdTokenResponse(w)).catch(ve=>{throw"auth/multi-factor-auth-required"===ve.code?yu._fromErrorAndOperation(w,ve,g,E):ve})}function Ua(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function lg(){return(lg=(0,l.Z)(function*(w,g){const v=(0,le.m9)(w);yield Bn(!0,v,g);const{providerUserInfo:E}=yield rt(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[g]}),Q=Ua(E||[]);return v.providerData=v.providerData.filter(ve=>Q.has(ve.providerId)),Q.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function $a(w,g){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(w,g,v=!1){const E=yield bn(w,g._linkToIdToken(w.auth,yield w.getIdToken()),v);return ur._forOperation(w,"link",E)})).apply(this,arguments)}function Bn(w,g,v){return cg.apply(this,arguments)}function cg(){return(cg=(0,l.Z)(function*(w,g,v){yield ct(g);const Q=!1===w?"provider-already-linked":"no-such-provider";z(Ua(g.providerData).has(v)===w,g.auth,Q)})).apply(this,arguments)}function ea(w,g){return ug.apply(this,arguments)}function ug(){return(ug=(0,l.Z)(function*(w,g,v=!1){var E;const{auth:Q}=w,ve="reauthenticate";try{const He=yield bn(w,ey(Q,ve,g,w),v);z(He.idToken,Q,"internal-error");const dt=Mt(He.idToken);z(dt,Q,"internal-error");const{sub:Ft}=dt;return z(w.uid===Ft,Q,"user-mismatch"),ur._forOperation(w,ve,He)}catch(He){throw"auth/user-not-found"===(null===(E=He)||void 0===E?void 0:E.code)&&Y(Q,"user-mismatch"),He}})).apply(this,arguments)}function Vs(w,g){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(w,g,v=!1){const E="signIn",Q=yield ey(w,E,g),ve=yield ur._fromIdTokenResponse(w,E,Q);return v||(yield w._updateCurrentUser(ve.user)),ve})).apply(this,arguments)}function Ha(w,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(w,g){return Vs(ci(w),g)})).apply(this,arguments)}function dg(w,g){return ty.apply(this,arguments)}function ty(){return(ty=(0,l.Z)(function*(w,g){const v=(0,le.m9)(w);return yield Bn(!1,v,g.providerId),$a(v,g)})).apply(this,arguments)}function hg(w,g){return Th.apply(this,arguments)}function Th(){return(Th=(0,l.Z)(function*(w,g){return ea((0,le.m9)(w),g)})).apply(this,arguments)}function ny(w,g){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(w,g){return Ge(w,"POST","/v1/accounts:signInWithCustomToken",ae(w,g))})).apply(this,arguments)}function Dh(){return(Dh=(0,l.Z)(function*(w,g){const v=ci(w),E=yield ny(v,{token:g,returnSecureToken:!0}),Q=yield ur._fromIdTokenResponse(v,"signIn",E);return yield v._updateCurrentUser(Q.user),Q})).apply(this,arguments)}class Tt{constructor(g,v){this.factorId=g,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(g,v){return"phoneInfo"in v?Rn._fromServerResponse(g,v):Y(g,"internal-error")}}class Rn extends Tt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,v){return new Rn(v)}}function wu(w,g,v){var E;z((null===(E=v.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),z(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=v.url,g.dynamicLinkDomain=v.dynamicLinkDomain,g.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(z(v.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=v.iOS.bundleId),v.android&&(z(v.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=v.android.installApp,g.androidMinimumVersionCode=v.android.minimumVersion,g.androidPackageName=v.android.packageName)}function Di(){return(Di=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w),Q={requestType:"PASSWORD_RESET",email:g};v&&wu(E,Q,v),yield lr(E,Q)})).apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(w,g,v){yield Va((0,le.m9)(w),{oobCode:g,newPassword:v})})).apply(this,arguments)}function Cu(){return(Cu=(0,l.Z)(function*(w,g){yield tg((0,le.m9)(w),{oobCode:g})})).apply(this,arguments)}function Ih(w,g){return xh.apply(this,arguments)}function xh(){return(xh=(0,l.Z)(function*(w,g){const v=(0,le.m9)(w),E=yield Va(v,{oobCode:g}),Q=E.requestType;switch(z(Q,v,"internal-error"),Q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(E.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(E.mfaInfo,v,"internal-error");default:z(E.email,v,"internal-error")}let ve=null;return E.mfaInfo&&(ve=Tt._fromServerResponse(ci(v),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ve},operation:Q}})).apply(this,arguments)}function gg(){return(gg=(0,l.Z)(function*(w,g){const{data:v}=yield Ih((0,le.m9)(w),g);return v.email})).apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(w,g,v){const E=ci(w),Q=yield vu(E,{returnSecureToken:!0,email:g,password:v}),ve=yield ur._fromIdTokenResponse(E,"signIn",Q);return yield E._updateCurrentUser(ve.user),ve})).apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w),Q={requestType:"EMAIL_SIGNIN",email:g};z(v.handleCodeInApp,E,"argument-error"),v&&wu(E,Q,v),yield ja(E,Q)})).apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w),Q=ps.credentialWithLink(g,v||Me());return z(Q._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ha(E,Q)})).apply(this,arguments)}function kC(w,g){return mg.apply(this,arguments)}function mg(){return(mg=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:createAuthUri",ae(w,g))})).apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(w,g){const E={identifier:g,continueUri:Ne()?Me():"http://localhost"},{signinMethods:Q}=yield kC((0,le.m9)(w),E);return Q||[]})).apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(w,g){const v=(0,le.m9)(w),Q={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&wu(v.auth,Q,g);const{email:ve}=yield ti(v.auth,Q);ve!==w.email&&(yield w.reload())})).apply(this,arguments)}function Oh(){return(Oh=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w),ve={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};v&&wu(E.auth,ve,v);const{email:He}=yield Yl(E.auth,ve);He!==w.email&&(yield w.reload())})).apply(this,arguments)}function vg(w,g){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,l.Z)(function*(w,g){return be(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Nh(){return(Nh=(0,l.Z)(function*(w,{displayName:g,photoURL:v}){if(void 0===g&&void 0===v)return;const E=(0,le.m9)(w),ve={idToken:yield E.getIdToken(),displayName:g,photoUrl:v,returnSecureToken:!0},He=yield bn(E,vg(E.auth,ve));E.displayName=He.displayName||null,E.photoURL=He.photoUrl||null;const dt=E.providerData.find(({providerId:Ft})=>"password"===Ft);dt&&(dt.displayName=E.displayName,dt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(He)})).apply(this,arguments)}function za(w,g,v){return kh.apply(this,arguments)}function kh(){return(kh=(0,l.Z)(function*(w,g,v){const{auth:E}=w,ve={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(ve.email=g),v&&(ve.password=v);const He=yield bn(w,Gn(E,ve));yield w._updateTokensIfNecessary(He,!0)})).apply(this,arguments)}class Rr{constructor(g,v,E={}){this.isNewUser=g,this.providerId=v,this.profile=E}}class si extends Rr{constructor(g,v,E,Q){super(g,v,E),this.username=Q}}class ly extends Rr{constructor(g,v){super(g,"facebook.com",v)}}class cy extends si{constructor(g,v){super(g,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class uy extends Rr{constructor(g,v){super(g,"google.com",v)}}class dy extends si{constructor(g,v,E){super(g,"twitter.com",v,E)}}function Su(w){const{user:g,_tokenResponse:v}=w;return g.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function $i(w){var g,v;if(!w)return null;const{providerId:E}=w,Q=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},ve=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const He=null===(v=null===(g=Mt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===v?void 0:v.sign_in_provider;if(He)return new Rr(ve,"anonymous"!==He&&"custom"!==He?He:null)}if(!E)return null;switch(E){case"facebook.com":return new ly(ve,Q);case"github.com":return new cy(ve,Q);case"google.com":return new uy(ve,Q);case"twitter.com":return new dy(ve,Q,w.screenName||null);case"custom":case"anonymous":return new Rr(ve,null);default:return new Rr(ve,E,Q)}}(v)}class ra{constructor(g,v,E){this.type=g,this.credential=v,this.auth=E}static _fromIdtoken(g,v){return new ra("enroll",g,v)}static _fromMfaPendingCredential(g){return new ra("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var v,E;if(g?.multiFactorSession){if(null!==(v=g.multiFactorSession)&&void 0!==v&&v.pendingCredential)return ra._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return ra._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Vh{constructor(g,v,E){this.session=g,this.hints=v,this.signInResolver=E}static _fromError(g,v){const E=ci(g),Q=v.customData._serverResponse,ve=(Q.mfaInfo||[]).map(dt=>Tt._fromServerResponse(E,dt));z(Q.mfaPendingCredential,E,"internal-error");const He=ra._fromMfaPendingCredential(Q.mfaPendingCredential);return new Vh(He,ve,function(){var dt=(0,l.Z)(function*(Ft){const Kt=yield Ft._process(E,He);delete Q.mfaInfo,delete Q.mfaPendingCredential;const hn=Object.assign(Object.assign({},Q),{idToken:Kt.idToken,refreshToken:Kt.refreshToken});switch(v.operationType){case"signIn":const ln=yield ur._fromIdTokenResponse(E,v.operationType,hn);return yield E._updateCurrentUser(ln.user),ln;case"reauthenticate":return z(v.user,E,"internal-error"),ur._forOperation(v.user,v.operationType,hn);default:Y(E,"internal-error")}});return function(Ft){return dt.apply(this,arguments)}}())}resolveSignIn(g){var v=this;return(0,l.Z)(function*(){return v.signInResolver(g)})()}}function jh(w,g){return be(w,"POST","/v2/accounts/mfaEnrollment:start",ae(w,g))}class hy{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(E=>Tt._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new hy(g)}getSession(){var g=this;return(0,l.Z)(function*(){return ra._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,v){var E=this;return(0,l.Z)(function*(){const Q=g,ve=yield E.getSession(),He=yield bn(E.user,Q._process(E.user.auth,ve,v));return yield E.user._updateTokensIfNecessary(He),E.user.reload()})()}unenroll(g){var v=this;return(0,l.Z)(function*(){var E;const Q="string"==typeof g?g:g.uid,ve=yield v.user.getIdToken(),He=yield bn(v.user,function wg(w,g){return be(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ae(w,g))}(v.user.auth,{idToken:ve,mfaEnrollmentId:Q}));v.enrolledFactors=v.enrolledFactors.filter(({uid:dt})=>dt!==Q),yield v.user._updateTokensIfNecessary(He);try{yield v.user.reload()}catch(dt){if("auth/user-token-expired"!==(null===(E=dt)||void 0===E?void 0:E.code))throw dt}})()}}const Tu=new WeakMap,tc="__sak";class Du{constructor(g,v){this.storageRetriever=g,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(tc,"1"),this.storage.removeItem(tc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,v){return this.storage.setItem(g,JSON.stringify(v)),Promise.resolve()}_get(g){const v=this.storage.getItem(g);return Promise.resolve(v?JSON.parse(v):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const rc=(()=>{class w extends Du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,E)=>this.onStorageEvent(v,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nc(){const w=(0,le.z$)();return nn(w)||In(w)}()&&function ri(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=uo(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const E of Object.keys(this.listeners)){const Q=this.storage.getItem(E),ve=this.localCache[E];Q!==ve&&v(E,ve,Q)}}onStorageEvent(v,E=!1){if(!v.key)return void this.forAllChangedKeys((dt,Ft,Kt)=>{this.notifyListeners(dt,Kt)});const Q=v.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(Q);if(v.newValue!==dt)null!==v.newValue?this.storage.setItem(Q,v.newValue):this.storage.removeItem(Q);else if(this.localCache[Q]===v.newValue&&!E)return}const ve=()=>{const dt=this.storage.getItem(Q);!E&&this.localCache[Q]===dt||this.notifyListeners(Q,dt)},He=this.storage.getItem(Q);!function Ni(){return(0,le.w1)()&&10===document.documentMode}()||He===v.newValue||v.newValue===v.oldValue?ve():setTimeout(ve,10)}notifyListeners(v,E){this.localCache[v]=E;const Q=this.listeners[v];if(Q)for(const ve of Array.from(Q))ve(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,E,Q)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:E,newValue:Q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,E){var Q=()=>super._set,ve=this;return(0,l.Z)(function*(){yield Q().call(ve,v,E),ve.localCache[v]=JSON.stringify(E)})()}_get(v){var E=()=>super._get,Q=this;return(0,l.Z)(function*(){const ve=yield E().call(Q,v);return Q.localCache[v]=JSON.stringify(ve),ve})()}_remove(v){var E=()=>super._remove,Q=this;return(0,l.Z)(function*(){yield E().call(Q,v),delete Q.localCache[v]})()}}return w.type="LOCAL",w})(),_s=(()=>{class w extends Du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,E){}_removeListener(v,E){}}return w.type="SESSION",w})();let Sg=(()=>{class w{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const E=this.receivers.find(ve=>ve.isListeningto(v));if(E)return E;const Q=new w(v);return this.receivers.push(Q),Q}isListeningto(v){return this.eventTarget===v}handleEvent(v){var E=this;return(0,l.Z)(function*(){const Q=v,{eventId:ve,eventType:He,data:dt}=Q.data,Ft=E.handlersMap[He];if(!Ft?.size)return;Q.ports[0].postMessage({status:"ack",eventId:ve,eventType:He});const Kt=Array.from(Ft).map(function(){var ln=(0,l.Z)(function*(Wn){return Wn(Q.origin,dt)});return function(Wn){return ln.apply(this,arguments)}}()),hn=yield function Iu(w){return Promise.all(w.map(function(){var g=(0,l.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(E){return{fulfilled:!1,reason:E}}});return function(v){return g.apply(this,arguments)}}()))}(Kt);Q.ports[0].postMessage({status:"done",eventId:ve,eventType:He,response:hn})})()}_subscribe(v,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(E)}_unsubscribe(v,E){this.handlersMap[v]&&E&&this.handlersMap[v].delete(E),(!E||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function oc(w="",g=10){let v="";for(let E=0;E<g;E++)v+=Math.floor(10*Math.random());return w+v}class fy{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,v,E=50){var Q=this;return(0,l.Z)(function*(){const ve=typeof MessageChannel<"u"?new MessageChannel:null;if(!ve)throw new Error("connection_unavailable");let He,dt;return new Promise((Ft,Kt)=>{const hn=oc("",20);ve.port1.start();const ln=setTimeout(()=>{Kt(new Error("unsupported_event"))},E);dt={messageChannel:ve,onMessage(Wn){const yr=Wn;if(yr.data.eventId===hn)switch(yr.data.status){case"ack":clearTimeout(ln),He=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(He),Ft(yr.data.response);break;default:clearTimeout(ln),clearTimeout(He),Kt(new Error("invalid_response"))}}},Q.handlers.add(dt),ve.port1.addEventListener("message",dt.onMessage),Q.target.postMessage({eventType:g,eventId:hn,data:v},[ve.port2])}).finally(()=>{dt&&Q.removeMessageHandler(dt)})})()}}function Ii(){return window}function Uh(){return typeof Ii().WorkerGlobalScope<"u"&&"function"==typeof Ii().importScripts}function lc(){return(lc=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const qa="firebaseLocalStorageDb",Ya="firebaseLocalStorage",$h="fbase_key";class cc{constructor(g){this.request=g}toPromise(){return new Promise((g,v)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function uc(w,g){return w.transaction([Ya],g?"readwrite":"readonly").objectStore(Ya)}function Za(){const w=indexedDB.open(qa,1);return new Promise((g,v)=>{w.addEventListener("error",()=>{v(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Ya,{keyPath:$h})}catch(Q){v(Q)}}),w.addEventListener("success",(0,l.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Ya)?g(E):(E.close(),yield function FC(){const w=indexedDB.deleteDatabase(qa);return new cc(w).toPromise()}(),g(yield Za()))}))})}function sa(w,g,v){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,l.Z)(function*(w,g,v){const E=uc(w,!0).put({[$h]:g,value:v});return new cc(E).toPromise()})).apply(this,arguments)}function Gh(){return(Gh=(0,l.Z)(function*(w,g){const v=uc(w,!1).get(g),E=yield new cc(v).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ka(w,g){const v=uc(w,!0).delete(g);return new cc(v).toPromise()}const Ja=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,l.Z)(function*(){return v.db||(v.db=yield Za()),v.db})()}_withRetries(v){var E=this;return(0,l.Z)(function*(){let Q=0;for(;;)try{const ve=yield E._openDb();return yield v(ve)}catch(ve){if(Q++>3)throw ve;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,l.Z)(function*(){return Uh()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,l.Z)(function*(){v.receiver=Sg._getInstance(function Mu(){return Uh()?self:null}()),v.receiver._subscribe("keyChanged",function(){var E=(0,l.Z)(function*(Q,ve){return{keyProcessed:(yield v._poll()).includes(ve.key)}});return function(Q,ve){return E.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var E=(0,l.Z)(function*(Q,ve){return["keyChanged"]});return function(Q,ve){return E.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,l.Z)(function*(){var E,Q;if(v.activeServiceWorker=yield function ac(){return lc.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new fy(v.activeServiceWorker);const ve=yield v.sender._send("ping",{},800);!ve||(null===(E=ve[0])||void 0===E?void 0:E.fulfilled)&&(null===(Q=ve[0])||void 0===Q?void 0:Q.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var E=this;return(0,l.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function xu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:v},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Za();return yield sa(v,tc,"1"),yield Ka(v,tc),!0}catch{}return!1})()}_withPendingWrite(v){var E=this;return(0,l.Z)(function*(){E.pendingWrites++;try{yield v()}finally{E.pendingWrites--}})()}_set(v,E){var Q=this;return(0,l.Z)(function*(){return Q._withPendingWrite((0,l.Z)(function*(){return yield Q._withRetries(ve=>sa(ve,v,E)),Q.localCache[v]=E,Q.notifyServiceWorker(v)}))})()}_get(v){var E=this;return(0,l.Z)(function*(){const Q=yield E._withRetries(ve=>function Tg(w,g){return Gh.apply(this,arguments)}(ve,v));return E.localCache[v]=Q,Q})()}_remove(v){var E=this;return(0,l.Z)(function*(){return E._withPendingWrite((0,l.Z)(function*(){return yield E._withRetries(Q=>Ka(Q,v)),delete E.localCache[v],E.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,l.Z)(function*(){const E=yield v._withRetries(He=>{const dt=uc(He,!1).getAll();return new cc(dt).toPromise()});if(!E)return[];if(0!==v.pendingWrites)return[];const Q=[],ve=new Set;for(const{fbase_key:He,value:dt}of E)ve.add(He),JSON.stringify(v.localCache[He])!==JSON.stringify(dt)&&(v.notifyListeners(He,dt),Q.push(He));for(const He of Object.keys(v.localCache))v.localCache[He]&&!ve.has(He)&&(v.notifyListeners(He,null),Q.push(He));return Q})()}notifyListeners(v,E){this.localCache[v]=E;const Q=this.listeners[v];if(Q)for(const ve of Array.from(Q))ve(E)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(E)}_removeListener(v,E){this.listeners[v]&&(this.listeners[v].delete(E),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Pu(w,g){return be(w,"POST","/v2/accounts/mfaSignIn:start",ae(w,g))}function oa(){return(oa=(0,l.Z)(function*(w){return(yield be(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zh(w){return new Promise((g,v)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=Q=>{const ve=H("internal-error");ve.customData=Q,v(ve)},E.type="text/javascript",E.charset="UTF-8",function hc(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Wh(w){return`__${w}${Math.floor(1e6*Math.random())}`}const qh=1e12;class Qn{constructor(g){this.auth=g,this.counter=qh,this._widgets=new Map}render(g,v){const E=this.counter;return this._widgets.set(E,new LC(g,this.auth.name,v||{})),this.counter++,E}reset(g){var v;const E=g||qh;null===(v=this._widgets.get(E))||void 0===v||v.delete(),this._widgets.delete(E)}getResponse(g){var v;return(null===(v=this._widgets.get(g||qh))||void 0===v?void 0:v.getResponse())||""}execute(g){var v=this;return(0,l.Z)(function*(){var E;return null===(E=v._widgets.get(g||qh))||void 0===E||E.execute(),""})()}}class LC{constructor(g,v,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Q="string"==typeof g?document.getElementById(g):g;z(Q,"argument-error",{appName:v}),this.container=Q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function UT(w){const g=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(v.charAt(Math.floor(Math.random()*v.length)));return g.join("")}(50);const{callback:g,"expired-callback":v}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const py=Wh("rcb"),$T=new G(3e4,6e4);class GT{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ii().grecaptcha)||void 0===g||!g.render)}load(g,v=""){return z(function zT(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(v),g,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Ii().grecaptcha):new Promise((E,Q)=>{const ve=Ii().setTimeout(()=>{Q(H(g,"network-request-failed"))},$T.get());Ii()[py]=()=>{Ii().clearTimeout(ve),delete Ii()[py];const dt=Ii().grecaptcha;if(!dt)return void Q(H(g,"internal-error"));const Ft=dt.render;dt.render=(Kt,hn)=>{const ln=Ft(Kt,hn);return this.counter++,ln},this.hostLanguage=v,E(dt)},zh(`https://www.google.com/recaptcha/api.js??${(0,le.xO)({onload:py,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(ve),Q(H(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var v;return!(null===(v=Ii().grecaptcha)||void 0===v||!v.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qa{load(g){return(0,l.Z)(function*(){return new Qn(g)})()}clearedOneInstance(){}}const gy="recaptcha",my={theme:"light",type:"image"};class Hi{constructor(g,v=Object.assign({},my),E){this.parameters=v,this.type=gy,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ci(E),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Q="string"==typeof g?document.getElementById(g):g;z(Q,this.auth,"argument-error"),this.container=Q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qa:new GT,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const v=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(v)||new Promise(ve=>{const He=dt=>{!dt||(g.tokenChangeListeners.delete(He),ve(dt))};g.tokenChangeListeners.add(He),g.isInvisible&&E.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return v=>{if(this.tokenChangeListeners.forEach(E=>E(v)),"function"==typeof g)g(v);else if("string"==typeof g){const E=Ii()[g];"function"==typeof E&&E(v)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let v=g.container;if(!g.isInvisible){const E=document.createElement("div");v.appendChild(E),v=E}g.widgetId=g.getAssertedRecaptcha().render(v,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){z(Ne()&&!Uh(),g.auth,"internal-error"),yield function zn(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const v=yield function dc(w){return oa.apply(this,arguments)}(g.auth);z(v,g.auth,"internal-error"),g.parameters.sitekey=v})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mr{constructor(g,v){this.verificationId=g,this.onConfirmation=v}confirm(g){const v=mo._fromVerification(this.verificationId,g);return this.onConfirmation(v)}}function Yn(){return(Yn=(0,l.Z)(function*(w,g,v){const E=ci(w),Q=yield wo(E,g,(0,le.m9)(v));return new mr(Q,ve=>Ha(E,ve))})).apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w);yield Bn(!1,E,"phone");const Q=yield wo(E.auth,g,(0,le.m9)(v));return new mr(Q,ve=>dg(E,ve))})).apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w),Q=yield wo(E.auth,g,(0,le.m9)(v));return new mr(Q,ve=>hg(E,ve))})).apply(this,arguments)}function wo(w,g,v){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(w,g,v){var E;const Q=yield v.verify();try{let ve;if(z("string"==typeof Q,w,"argument-error"),z(v.type===gy,w,"argument-error"),ve="string"==typeof g?{phoneNumber:g}:g,"session"in ve){const He=ve.session;if("phoneNumber"in ve)return z("enroll"===He.type,w,"internal-error"),(yield jh(w,{idToken:He.credential,phoneEnrollmentInfo:{phoneNumber:ve.phoneNumber,recaptchaToken:Q}})).phoneSessionInfo.sessionInfo;{z("signin"===He.type,w,"internal-error");const dt=(null===(E=ve.multiFactorHint)||void 0===E?void 0:E.uid)||ve.multiFactorUid;return z(dt,w,"missing-multi-factor-info"),(yield Pu(w,{mfaPendingCredential:He.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:Q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:He}=yield IC(w,{phoneNumber:ve.phoneNumber,recaptchaToken:Q});return He}}finally{v._reset()}})).apply(this,arguments)}function Yh(){return(Yh=(0,l.Z)(function*(w,g){yield $a((0,le.m9)(w),g)})).apply(this,arguments)}let gc=(()=>{class w{constructor(v){this.providerId=w.PROVIDER_ID,this.auth=ci(v)}verifyPhoneNumber(v,E){return wo(this.auth,v,(0,le.m9)(E))}static credential(v,E){return mo._fromVerification(v,E)}static credentialFromResult(v){return w.credentialFromTaggedObject(v)}static credentialFromError(v){return w.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:E,temporaryProof:Q}=v;return E&&Q?mo._fromTokenResponse(E,Q):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Xa(w,g){return g?de(g):(z(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class vs extends Xi{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Ui(g,this._buildIdpRequest())}_linkToIdToken(g,v){return Ui(g,this._buildIdpRequest(v))}_getReauthenticationResolver(g){return Ui(g,this._buildIdpRequest())}_buildIdpRequest(g){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(v.idToken=g),v}}function kt(w){return Vs(w.auth,new vs(w),w.bypassAuthState)}function Zh(w){const{auth:g,user:v}=w;return z(v,g,"internal-error"),ea(v,new vs(w),w.bypassAuthState)}function el(w){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,l.Z)(function*(w){const{auth:g,user:v}=w;return z(v,g,"internal-error"),$a(v,new vs(w),w.bypassAuthState)})).apply(this,arguments)}class ku{constructor(g,v,E,Q,ve=!1){this.auth=g,this.resolver=E,this.user=Q,this.bypassAuthState=ve,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var g=this;return new Promise(function(){var v=(0,l.Z)(function*(E,Q){g.pendingPromise={resolve:E,reject:Q};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ve){g.reject(ve)}});return function(E,Q){return v.apply(this,arguments)}}())}onAuthEvent(g){var v=this;return(0,l.Z)(function*(){const{urlResponse:E,sessionId:Q,postBody:ve,tenantId:He,error:dt,type:Ft}=g;if(dt)return void v.reject(dt);const Kt={auth:v.auth,requestUri:E,sessionId:Q,tenantId:He||void 0,postBody:ve||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Ft)(Kt))}catch(hn){v.reject(hn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return kt;case"linkViaPopup":case"linkViaRedirect":return el;case"reauthViaPopup":case"reauthViaRedirect":return Zh;default:Y(this.auth,"internal-error")}}resolve(g){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oi=new G(2e3,1e4);function Co(){return(Co=(0,l.Z)(function*(w,g,v){const E=ci(w);fe(w,g,Bs);const Q=Xa(E,v);return new is(E,"signInViaPopup",g,Q).executeNotNull()})).apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w);fe(E.auth,g,Bs);const Q=Xa(E.auth,v);return new is(E.auth,"reauthViaPopup",g,Q,E).executeNotNull()})).apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w);fe(E.auth,g,Bs);const Q=Xa(E.auth,v);return new is(E.auth,"linkViaPopup",g,Q,E).executeNotNull()})).apply(this,arguments)}let is=(()=>{class w extends ku{constructor(v,E,Q,ve,He){super(v,E,ve,He),this.provider=Q,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var v=this;return(0,l.Z)(function*(){const E=yield v.execute();return z(E,v.auth,"internal-error"),E})()}onExecution(){var v=this;return(0,l.Z)(function*(){ce(1===v.filter.length,"Popup operations only handle one event");const E=oc();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],E),v.authWindow.associatedEvent=E,v.resolver._originValidation(v.auth).catch(Q=>{v.reject(Q)}),v.resolver._isIframeWebStorageSupported(v.auth,Q=>{Q||v.reject(H(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(H(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const v=()=>{var E,Q;this.pollId=null!==(Q=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==Q&&Q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(H(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,oi.get())};v()}}return w.currentPopupAction=null,w})();const ys=new Map;class Kh extends ku{constructor(g,v,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,v=this;return(0,l.Z)(function*(){let E=ys.get(v.auth._key());if(!E){try{const ve=(yield function _r(w,g){return Gr.apply(this,arguments)}(v.resolver,v.auth))?yield g().call(v):null;E=()=>Promise.resolve(ve)}catch(Q){E=()=>Promise.reject(Q)}ys.set(v.auth._key(),E)}return v.bypassAuthState||ys.set(v.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var v=()=>super.onAuthEvent,E=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return v().call(E,g);if("unknown"!==g.type){if(g.eventId){const Q=yield E.auth._redirectUserForId(g.eventId);if(Q)return E.user=Q,v().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Gr(){return(Gr=(0,l.Z)(function*(w,g){const v=ii(g),E=Eo(w);if(!(yield E._isAvailable()))return!1;const Q="true"===(yield E._get(v));return yield E._remove(v),Q})).apply(this,arguments)}function Nr(w,g){return tl.apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(w,g){return Eo(w)._set(ii(g),"true")})).apply(this,arguments)}function Hs(w,g){ys.set(w._key(),g)}function Eo(w){return de(w._redirectPersistence)}function ii(w){return Ue("pendingRedirect",w.config.apiKey,w.name)}function Xn(){return(Xn=(0,l.Z)(function*(w,g,v){const E=ci(w);fe(w,g,Bs);const Q=Xa(E,v);return yield Nr(Q,E),Q._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w);fe(E.auth,g,Bs);const Q=Xa(E.auth,v);yield Nr(Q,E.auth);const ve=yield vc(E);return Q._openRedirect(E.auth,g,"reauthViaRedirect",ve)})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(w,g,v){const E=(0,le.m9)(w);fe(E.auth,g,Bs);const Q=Xa(E.auth,v);yield Bn(!1,E,g.providerId),yield Nr(Q,E.auth);const ve=yield vc(E);return Q._openRedirect(E.auth,g,"linkViaRedirect",ve)})).apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(w,g){return yield ci(w)._initializationPromise,Ao(w,g,!1)})).apply(this,arguments)}function Ao(w,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(w,g,v=!1){const E=ci(w),Q=Xa(E,g),He=yield new Kh(E,Q,v).execute();return He&&!v&&(delete He.user._redirectEventId,yield E._persistUserIfCurrent(He.user),yield E._setRedirectUser(null,g)),He})).apply(this,arguments)}function vc(w){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(w){const g=oc(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Vu{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let v=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(v=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function bs(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return An(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=g,v=!0)),v}sendToConsumer(g,v){var E;if(g.error&&!An(g)){const Q=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";v.onError(H(this.auth,Q))}else v.onAuthEvent(g)}isEventForConsumer(g,v){const E=null===v.eventId||!!g.eventId&&g.eventId===v.eventId;return v.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yc(g))}saveEventToCache(g){this.cachedEventUids.add(yc(g)),this.lastProcessedEventTime=Date.now()}}function yc(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function An({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function nl(w){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(w,g={}){return be(w,"GET","/v1/projects",g)})).apply(this,arguments)}const BC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xg=/^https?/;function Jh(){return(Jh=(0,l.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield nl(w);for(const v of g)try{if(Mg(v))return}catch{}Y(w,"unauthorized-domain")})).apply(this,arguments)}function Mg(w){const g=Me(),{protocol:v,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const He=new URL(w);return""===He.hostname&&""===E?"chrome-extension:"===v&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===v&&He.hostname===E}if(!xg.test(v))return!1;if(BC.test(w))return E===w;const Q=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Q+"|"+Q+")$","i").test(E)}const Pg=new G(3e4,6e4);function wy(){const w=Ii().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let v=0;v<w.CP.length;v++)w.CP[v]=null}let qr=null;function Qh(w){return qr=qr||function xi(w){return new Promise((g,v)=>{var E,Q,ve;function He(){wy(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{wy(),v(H(w,"network-request-failed"))},timeout:Pg.get()})}if(null!==(Q=null===(E=Ii().gapi)||void 0===E?void 0:E.iframes)&&void 0!==Q&&Q.Iframe)g(gapi.iframes.getContext());else{if(null===(ve=Ii().gapi)||void 0===ve||!ve.load){const dt=Wh("iframefcb");return Ii()[dt]=()=>{gapi.load?He():v(H(w,"network-request-failed"))},zh(`https://apis.google.com/js/api.js?onload=${dt}`).catch(Ft=>v(Ft))}He()}}).catch(g=>{throw qr=null,g})}(w),qr}const Og=new G(5e3,15e3),Cy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ef=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rg(w){const g=w.config;z(g.authDomain,w,"auth-domain-config-required");const v=g.emulator?I(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:w.name,v:Ee.SDK_VERSION},Q=ef.get(w.config.apiHost);Q&&(E.eid=Q);const ve=w._getFrameworks();return ve.length&&(E.fw=ve.join(",")),`${v}?${(0,le.xO)(E).slice(1)}`}function la(){return la=(0,l.Z)(function*(w){const g=yield Qh(w),v=Ii().gapi;return z(v,w,"internal-error"),g.open({where:document.body,url:Rg(w),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cy,dontclear:!0},E=>new Promise(function(){var Q=(0,l.Z)(function*(ve,He){yield E.restyle({setHideOnLeave:!1});const dt=H(w,"network-request-failed"),Ft=Ii().setTimeout(()=>{He(dt)},Og.get());function Kt(){Ii().clearTimeout(Ft),ve(E)}E.ping(Kt).then(Kt,()=>{He(dt)})});return function(ve,He){return Q.apply(this,arguments)}}()))}),la.apply(this,arguments)}const ju={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class bc{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qs(w,g,v,E,Q,ve){z(w.config.authDomain,w,"auth-domain-config-required"),z(w.config.apiKey,w,"invalid-api-key");const He={apiKey:w.config.apiKey,appName:w.name,authType:v,redirectUrl:E,v:Ee.SDK_VERSION,eventId:Q};if(g instanceof Bs){g.setDefaultLanguage(w.languageCode),He.providerId=g.providerId||"",(0,le.xb)(g.getCustomParameters())||(He.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ft,Kt]of Object.entries(ve||{}))He[Ft]=Kt}if(g instanceof _o){const Ft=g.getScopes().filter(Kt=>""!==Kt);Ft.length>0&&(He.scopes=Ft.join(","))}w.tenantId&&(He.tid=w.tenantId);const dt=He;for(const Ft of Object.keys(dt))void 0===dt[Ft]&&delete dt[Ft];return`${function Hu({config:w}){return w.emulator?I(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,le.xO)(dt).slice(1)}`}const ua="webStorageSupport";class kr extends class Ey{constructor(g){this.factorId=g}_process(g,v,E){switch(v.type){case"enroll":return this._finalizeEnroll(g,v.credential,E);case"signin":return this._finalizeSignIn(g,v.credential);default:return ge("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new kr(g)}_finalizeEnroll(g,v,E){return function Au(w,g){return be(w,"POST","/v2/accounts/mfaEnrollment:finalize",ae(w,g))}(g,{idToken:v,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,v){return function Ou(w,g){return be(w,"POST","/v2/accounts/mfaSignIn:finalize",ae(w,g))}(g,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ys=(()=>{class w{constructor(){}static assertion(v){return kr._fromCredential(v)}}return w.FACTOR_ID="phone",w})();var nf="@firebase/auth",rf="0.20.11";class Sy{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var v=this;return(0,l.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const v=this.auth.onIdTokenChanged(E=>{var Q;g((null===(Q=E)||void 0===Q?void 0:Q.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,v),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const v=this.internalListeners.get(g);!v||(this.internalListeners.delete(g),v(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function da(){return window}function ha(){return(ha=(0,l.Z)(function*(w,g,v){var E;const{BuildInfo:Q}=da();ce(g.sessionId,"AuthEvent did not contain a session ID");const ve=yield fa(g.sessionId),He={};return In()?He.ibi=Q.packageName:Ln()?He.apn=Q.packageName:Y(w,"operation-not-supported-in-this-environment"),Q.displayName&&(He.appDisplayName=Q.displayName),He.sessionId=ve,qs(w,v,g.type,void 0,null!==(E=g.eventId)&&void 0!==E?E:void 0,He)})).apply(this,arguments)}function rl(){return(rl=(0,l.Z)(function*(w){const{BuildInfo:g}=da(),v={};In()?v.iosBundleId=g.packageName:Ln()?v.androidPackageName=g.packageName:Y(w,"operation-not-supported-in-this-environment"),yield nl(w,v)})).apply(this,arguments)}function Vg(){return(Vg=(0,l.Z)(function*(w,g,v){const{cordova:E}=da();let Q=()=>{};try{yield new Promise((ve,He)=>{let dt=null;function Ft(){var ln;ve();const Wn=null===(ln=E.plugins.browsertab)||void 0===ln?void 0:ln.close;"function"==typeof Wn&&Wn(),"function"==typeof v?.close&&v.close()}function Kt(){dt||(dt=window.setTimeout(()=>{He(H(w,"redirect-cancelled-by-user"))},2e3))}function hn(){"visible"===document?.visibilityState&&Kt()}g.addPassiveListener(Ft),document.addEventListener("resume",Kt,!1),Ln()&&document.addEventListener("visibilitychange",hn,!1),Q=()=>{g.removePassiveListener(Ft),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",hn,!1),dt&&window.clearTimeout(dt)}})}finally{Q()}})).apply(this,arguments)}function fa(w){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(w){const g=Cc(w),v=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(v)).map(Q=>Q.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cc(w){if(ce(/[0-9a-zA-Z]+/.test(w),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(w);const g=new ArrayBuffer(w.length),v=new Uint8Array(g);for(let E=0;E<w.length;E++)v[E]=w.charCodeAt(E);return v}(0,le.Pz)("authIdTokenMaxAge"),function Ty(w){(0,Ee._registerComponent)(new F.wA("auth",(g,{options:v})=>{const E=g.getProvider("app").getImmediate(),Q=g.getProvider("heartbeat"),{apiKey:ve,authDomain:He}=E.options;return((dt,Ft)=>{z(ve&&!ve.includes(":"),"invalid-api-key",{appName:dt.name}),z(!He?.includes(":"),"argument-error",{appName:dt.name});const Kt={apiKey:ve,authDomain:He,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ba(w)},hn=new Sn(dt,Ft,Kt);return function Ie(w,g){const v=g?.persistence||[],E=(Array.isArray(v)?v:[v]).map(de);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}(hn,v),hn})(E,Q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,v,E)=>{g.getProvider("auth-internal").initialize()})),(0,Ee._registerComponent)(new F.wA("auth-internal",g=>{const v=ci(g.getProvider("auth").getImmediate());return new Sy(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ee.registerVersion)(nf,rf,function Ay(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,Ee.registerVersion)(nf,rf,"esm2017")}("Browser");class sf extends Vu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function Ug(w){return af.apply(this,arguments)}function af(){return(af=(0,l.Z)(function*(w){const g=yield ol()._get(Ks(w));return g&&(yield ol()._remove(Ks(w))),g})).apply(this,arguments)}function zu(){const w=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const E=Math.floor(Math.random()*g.length);w.push(g.charAt(E))}return w.join("")}function ol(){return de(rc)}function Ks(w){return Ue("authEvent",w.config.apiKey,w.name)}function Wu(w){if(!w?.includes("?"))return{};const[g,...v]=w.split("?");return(0,le.zd)(v.join("?"))}function Ec(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:H("no-auth-event")}}function Yu(){var w;return(null===(w=self?.location)||void 0===w?void 0:w.protocol)||null}function al(w=(0,le.z$)()){return!("file:"!==Yu()&&"ionic:"!==Yu()&&"capacitor:"!==Yu()||!w.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wg(){try{const w=self.localStorage,g=oc();if(w)return w.setItem(g,"1"),w.removeItem(g),!function zg(w=(0,le.z$)()){return function Hg(){return(0,le.w1)()&&11===document?.documentMode}()||function Gg(w=(0,le.z$)()){return/Edge\/\d+/.test(w)}(w)}()||(0,le.hl)()}catch{return Zu()&&(0,le.hl)()}return!1}function Zu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ku(){return(function HC(){return"http:"===Yu()||"https:"===Yu()}()||(0,le.ru)()||al())&&!function uf(){return(0,le.b$)()||(0,le.UG)()}()&&Wg()&&!Zu()}function Ac(){return al()&&typeof document<"u"}function Ju(){return(Ju=(0,l.Z)(function*(){return!!Ac()&&new Promise(w=>{const g=setTimeout(()=>{w(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),w(!0)})})})).apply(this,arguments)}const tr={LOCAL:"local",NONE:"none",SESSION:"session"},vr=z,Fr="persistence";function ll(w){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(w){yield w._initializationPromise;const g=Dc(),v=Ue(Fr,w.config.apiKey,w.name);g&&g.setItem(v,w._getPersistence())})).apply(this,arguments)}function Dc(){var w;try{return(null===(w=function Tc(){return typeof window<"u"?window:null}())||void 0===w?void 0:w.sessionStorage)||null}catch{return null}}const Qu=z;class Yi{constructor(){this.browserResolver=de(class Fg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=Ao,this._overrideRedirectResult=Hs}_openPopup(g,v,E,Q){var ve=this;return(0,l.Z)(function*(){var He;ce(null===(He=ve.eventManagers[g._key()])||void 0===He?void 0:He.manager,"_initialize() not called before _openPopup()");const dt=qs(g,v,E,Me(),Q);return function Ws(w,g,v,E=500,Q=600){const ve=Math.max((window.screen.availHeight-Q)/2,0).toString(),He=Math.max((window.screen.availWidth-E)/2,0).toString();let dt="";const Ft=Object.assign(Object.assign({},ju),{width:E.toString(),height:Q.toString(),top:ve,left:He}),Kt=(0,le.z$)().toLowerCase();v&&(dt=Nn(Kt)?"_blank":v),Nt(Kt)&&(g=g||"http://localhost",Ft.scrollbars="yes");const hn=Object.entries(Ft).reduce((Wn,[yr,_a])=>`${Wn}${yr}=${_a},`,"");if(function ts(w=(0,le.z$)()){var g;return In(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Kt)&&"_self"!==dt)return function kg(w,g){const v=document.createElement("a");v.href=w,v.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(E)}(g||"",dt),new bc(null);const ln=window.open(g||"",dt,hn);z(ln,w,"popup-blocked");try{ln.focus()}catch{}return new bc(ln)}(g,dt,oc())})()}_openRedirect(g,v,E,Q){var ve=this;return(0,l.Z)(function*(){return yield ve._originValidation(g),function js(w){Ii().location.href=w}(qs(g,v,E,Me(),Q)),new Promise(()=>{})})()}_initialize(g){const v=g._key();if(this.eventManagers[v]){const{manager:Q,promise:ve}=this.eventManagers[v];return Q?Promise.resolve(Q):(ce(ve,"If manager is not set, promise should be"),ve)}const E=this.initAndGetManager(g);return this.eventManagers[v]={promise:E},E.catch(()=>{delete this.eventManagers[v]}),E}initAndGetManager(g){var v=this;return(0,l.Z)(function*(){const E=yield function Ng(w){return la.apply(this,arguments)}(g),Q=new Vu(g);return E.register("authEvent",ve=>(z(ve?.authEvent,g,"invalid-auth-event"),{status:Q.onEvent(ve.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[g._key()]={manager:Q},v.iframes[g._key()]=E,Q})()}_isIframeWebStorageSupported(g,v){this.iframes[g._key()].send(ua,{type:ua},Q=>{var ve;const He=null===(ve=Q?.[0])||void 0===ve?void 0:ve[ua];void 0!==He&&v(!!He),Y(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function ws(w){return Jh.apply(this,arguments)}(g)),this.originValidationPromises[v]}get _shouldInitProactively(){return uo()||nn()||In()}}),this.cordovaResolver=de(class qu{constructor(){this._redirectPersistence=_s,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ao,this._overrideRedirectResult=Hs}_initialize(g){var v=this;return(0,l.Z)(function*(){const E=g._key();let Q=v.eventManagers.get(E);return Q||(Q=new sf(g),v.eventManagers.set(E,Q),v.attachCallbackListeners(g,Q)),Q})()}_openPopup(g){Y(g,"operation-not-supported-in-this-environment")}_openRedirect(g,v,E,Q){var ve=this;return(0,l.Z)(function*(){!function $C(w){var g,v,E,Q,ve,He,dt,Ft,Kt,hn;const ln=da();z("function"==typeof(null===(g=ln?.universalLinks)||void 0===g?void 0:g.subscribe),w,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),z(typeof(null===(v=ln?.BuildInfo)||void 0===v?void 0:v.packageName)<"u",w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),z("function"==typeof(null===(ve=null===(Q=null===(E=ln?.cordova)||void 0===E?void 0:E.plugins)||void 0===Q?void 0:Q.browsertab)||void 0===ve?void 0:ve.openUrl),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(Ft=null===(dt=null===(He=ln?.cordova)||void 0===He?void 0:He.plugins)||void 0===dt?void 0:dt.browsertab)||void 0===Ft?void 0:Ft.isAvailable),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),z("function"==typeof(null===(hn=null===(Kt=ln?.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===hn?void 0:hn.open),w,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const He=yield ve._initialize(g);yield He.initialized(),He.resetRedirect(),function bi(){ys.clear()}(),yield ve._originValidation(g);const dt=function jg(w,g,v=null){return{type:g,eventId:v,urlResponse:null,sessionId:zu(),postBody:null,tenantId:w.tenantId,error:H(w,"no-auth-event")}}(g,E,Q);yield function sl(w,g){return ol()._set(Ks(w),g)}(g,dt);const Ft=yield function Yr(w,g,v){return ha.apply(this,arguments)}(g,dt,v),Kt=yield function Iy(w){const{cordova:g}=da();return new Promise(v=>{g.plugins.browsertab.isAvailable(E=>{let Q=null;E?g.plugins.browsertab.openUrl(w):Q=g.InAppBrowser.open(w,function Vi(w=(0,le.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}()?"_blank":"_system","location=yes"),v(Q)})})}(Ft);return function UC(w,g,v){return Vg.apply(this,arguments)}(g,He,Kt)})()}_isIframeWebStorageSupported(g,v){throw new Error("Method not implemented.")}_originValidation(g){const v=g._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Io(w){return rl.apply(this,arguments)}(g)),this.originValidationPromises[v]}attachCallbackListeners(g,v){const{universalLinks:E,handleOpenURL:Q,BuildInfo:ve}=da(),He=setTimeout((0,l.Z)(function*(){yield Ug(g),v.onEvent(Ec())}),500),dt=function(){var hn=(0,l.Z)(function*(ln){clearTimeout(He);const Wn=yield Ug(g);let yr=null;Wn&&ln?.url&&(yr=function lf(w,g){var v,E;const Q=function di(w){const g=Wu(w),v=g.link?decodeURIComponent(g.link):void 0,E=Wu(v).link,Q=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Wu(Q).link||Q||E||v||w}(g);if(Q.includes("/__/auth/callback")){const ve=Wu(Q),He=ve.firebaseError?function My(w){try{return JSON.parse(w)}catch{return null}}(decodeURIComponent(ve.firebaseError)):null,dt=null===(E=null===(v=He?.code)||void 0===v?void 0:v.split("auth/"))||void 0===E?void 0:E[1],Ft=dt?H(dt):null;return Ft?{type:w.type,eventId:w.eventId,tenantId:w.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:w.type,eventId:w.eventId,tenantId:w.tenantId,sessionId:w.sessionId,urlResponse:Q,postBody:null}}return null}(Wn,ln.url)),v.onEvent(yr||Ec())});return function(Wn){return hn.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,dt);const Ft=Q,Kt=`${ve.packageName.toLowerCase()}://`;da().handleOpenURL=function(){var hn=(0,l.Z)(function*(ln){if(ln.toLowerCase().startsWith(Kt)&&dt({url:ln}),"function"==typeof Ft)try{Ft(ln)}catch(Wn){console.error(Wn)}});return function(ln){return hn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_s,this._completeRedirectFn=Ao,this._overrideRedirectResult=Hs}_initialize(g){var v=this;return(0,l.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,v,E,Q){var ve=this;return(0,l.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openPopup(g,v,E,Q)})()}_openRedirect(g,v,E,Q){var ve=this;return(0,l.Z)(function*(){return yield ve.selectUnderlyingResolver(),ve.assertedUnderlyingResolver._openRedirect(g,v,E,Q)})()}_isIframeWebStorageSupported(g,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,v)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ac()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const v=yield function GC(){return Ju.apply(this,arguments)}();g.underlyingResolver=v?g.cordovaResolver:g.browserResolver})()}}function Xu(w){return w.unwrap()}function Yg(w){return xc(w)}function xc(w){const{_tokenResponse:g}=w instanceof le.ZR?w.customData:w;if(!g)return null;if(!(w instanceof le.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return gc.credentialFromResult(w);const v=g.providerId;if(!v||"password"===v)return null;let E;switch(v){case"google.com":E=gu;break;case"facebook.com":E=pu;break;case"github.com":E=Ah;break;case"twitter.com":E=Or;break;default:const{oauthIdToken:Q,oauthAccessToken:ve,oauthTokenSecret:He,pendingToken:dt,nonce:Ft}=g;return ve||He||Q||dt?dt?v.startsWith("saml.")?ni._create(v,dt):Ls._fromParams({providerId:v,signInMethod:v,pendingToken:dt,idToken:Q,accessToken:ve}):new Jo(v).credential({idToken:Q,accessToken:ve,rawNonce:Ft}):null}return w instanceof le.ZR?E.credentialFromError(w):E.credentialFromResult(w)}function Fi(w,g){return g.catch(v=>{throw v instanceof le.ZR&&function df(w,g){var v,E;const Q=null===(v=g.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===(null===(E=g)||void 0===E?void 0:E.code))g.resolver=new Oy(w,function ec(w,g){var v;const E=(0,le.m9)(w),Q=g;return z(g.customData.operationType,E,"argument-error"),z(null===(v=Q.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,E,"argument-error"),Vh._fromError(E,Q)}(w,g));else if(Q){const ve=xc(g),He=g;ve&&(He.credential=ve,He.tenantId=Q.tenantId||void 0,He.email=Q.email||void 0,He.phoneNumber=Q.phoneNumber||void 0)}}(w,v),v}).then(v=>{const Q=v.user;return{operationType:v.operationType,credential:Yg(v),additionalUserInfo:Su(v),user:ss.getOrCreate(Q)}})}function ga(w,g){return hf.apply(this,arguments)}function hf(){return(hf=(0,l.Z)(function*(w,g){const v=yield g;return{verificationId:v.verificationId,confirm:E=>Fi(w,v.confirm(E))}})).apply(this,arguments)}class Oy{constructor(g,v){this.resolver=v,this.auth=function Ic(w){return w.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return Fi(Xu(this.auth),this.resolver.resolveSignIn(g))}}class ss{constructor(g){this._delegate=g,this.multiFactor=function Wa(w){const g=(0,le.m9)(w);return Tu.has(g)||Tu.set(g,hy._fromUser(g)),Tu.get(g)}(g)}static getOrCreate(g){return ss.USER_MAP.has(g)||ss.USER_MAP.set(g,new ss(g)),ss.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var v=this;return(0,l.Z)(function*(){return Fi(v.auth,dg(v._delegate,g))})()}linkWithPhoneNumber(g,v){var E=this;return(0,l.Z)(function*(){return ga(E.auth,function Vn(w,g,v){return ns.apply(this,arguments)}(E._delegate,g,v))})()}linkWithPopup(g){var v=this;return(0,l.Z)(function*(){return Fi(v.auth,function mc(w,g,v){return _c.apply(this,arguments)}(v._delegate,g,Yi))})()}linkWithRedirect(g){var v=this;return(0,l.Z)(function*(){return yield ll(ci(v.auth)),function by(w,g,v){return function Gs(w,g,v){return zr.apply(this,arguments)}(w,g,v)}(v._delegate,g,Yi)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var v=this;return(0,l.Z)(function*(){return Fi(v.auth,hg(v._delegate,g))})()}reauthenticateWithPhoneNumber(g,v){return ga(this.auth,function pc(w,g,v){return ui.apply(this,arguments)}(this._delegate,g,v))}reauthenticateWithPopup(g){return Fi(this.auth,function yy(w,g,v){return Fu.apply(this,arguments)}(this._delegate,g,Yi))}reauthenticateWithRedirect(g){var v=this;return(0,l.Z)(function*(){return yield ll(ci(v.auth)),function ki(w,g,v){return function So(w,g,v){return Lu.apply(this,arguments)}(w,g,v)}(v._delegate,g,Yi)})()}sendEmailVerification(g){return function sy(w,g){return Kl.apply(this,arguments)}(this._delegate,g)}unlink(g){var v=this;return(0,l.Z)(function*(){return yield function Hr(w,g){return lg.apply(this,arguments)}(v._delegate,g),v})()}updateEmail(g){return function yg(w,g){return za((0,le.m9)(w),g,null)}(this._delegate,g)}updatePassword(g){return function Jl(w,g){return za((0,le.m9)(w),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function _y(w,g){return Yh.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function ay(w,g){return Nh.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,v){return function oy(w,g,v){return Oh.apply(this,arguments)}(this._delegate,g,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ss.USER_MAP=new WeakMap;const Mo=z;let ff=(()=>{class w{constructor(v,E){if(this.app=v,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Q}=v.options;Mo(Q,"invalid-api-key",{appName:v.name}),Mo(Q,"invalid-api-key",{appName:v.name});const ve=typeof window<"u"?Yi:void 0;this._delegate=E.initialize({options:{persistence:Zg(Q,v.name),popupRedirectResolver:ve}}),this._delegate._updateErrorMap(L),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,E){!function du(w,g,v){const E=ci(w);z(E._canInitEmulator,E,"emulator-config-failed"),z(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const Q=!!v?.disableWarnings,ve=ho(g),{host:He,port:dt}=function ji(w){const g=ho(w),v=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!v)return{host:"",port:null};const E=v[2].split("@").pop()||"",Q=/^(\[[^\]]+\])(:|$)/.exec(E);if(Q){const ve=Q[1];return{host:ve,port:fo(E.substr(ve.length+1))}}{const[ve,He]=E.split(":");return{host:ve,port:fo(He)}}}(g);E.config.emulator={url:`${ve}//${He}${null===dt?"":`:${dt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:He,port:dt,protocol:ve.replace(":",""),options:Object.freeze({disableWarnings:Q})}),Q||function Yo(){function w(){const g=document.createElement("p"),v=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}(this._delegate,v,E)}applyActionCode(v){return function gs(w,g){return Cu.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Ih(this._delegate,v)}confirmPasswordReset(v,E){return function pg(w,g,v){return Ga.apply(this,arguments)}(this._delegate,v,E)}createUserWithEmailAndPassword(v,E){var Q=this;return(0,l.Z)(function*(){return Fi(Q._delegate,function Eu(w,g,v){return yi.apply(this,arguments)}(Q._delegate,v,E))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function _g(w,g){return Zl.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function vo(w,g){return"EMAIL_SIGNIN"===fu.parseLink(g)?.operation}(0,v)}getRedirectResult(){var v=this;return(0,l.Z)(function*(){Mo(Ku(),v._delegate,"operation-not-supported-in-this-environment");const E=yield function jn(w,g){return Wr.apply(this,arguments)}(v._delegate,Yi);return E?Fi(v._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function xo(w,g){ci(w)._logFramework(g)}(this._delegate,v)}onAuthStateChanged(v,E,Q){const{next:ve,error:He,complete:dt}=ed(v,E,Q);return this._delegate.onAuthStateChanged(ve,He,dt)}onIdTokenChanged(v,E,Q){const{next:ve,error:He,complete:dt}=ed(v,E,Q);return this._delegate.onIdTokenChanged(ve,He,dt)}sendSignInLinkToEmail(v,E){return function Mh(w,g,v){return na.apply(this,arguments)}(this._delegate,v,E)}sendPasswordResetEmail(v,E){return function fg(w,g,v){return Di.apply(this,arguments)}(this._delegate,v,E||void 0)}setPersistence(v){var E=this;return(0,l.Z)(function*(){let Q;switch(function qg(w,g){vr(Object.values(tr).includes(g),w,"invalid-persistence-type"),(0,le.b$)()?vr(g!==tr.SESSION,w,"unsupported-persistence-type"):(0,le.UG)()?vr(g===tr.NONE,w,"unsupported-persistence-type"):Zu()?vr(g===tr.NONE||g===tr.LOCAL&&(0,le.hl)(),w,"unsupported-persistence-type"):vr(g===tr.NONE||Wg(),w,"unsupported-persistence-type")}(E._delegate,v),v){case tr.SESSION:Q=_s;break;case tr.LOCAL:Q=(yield de(Ja)._isAvailable())?Ja:rc;break;case tr.NONE:Q=Re;break;default:return Y("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(Q)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return Fi(this._delegate,function VT(w){return vi.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return Fi(this._delegate,Ha(this._delegate,v))}signInWithCustomToken(v){return Fi(this._delegate,function iy(w,g){return Dh.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,E){return Fi(this._delegate,function ms(w,g,v){return Ha((0,le.m9)(w),ps.credential(g,v))}(this._delegate,v,E))}signInWithEmailLink(v,E){return Fi(this._delegate,function NC(w,g,v){return Ph.apply(this,arguments)}(this._delegate,v,E))}signInWithPhoneNumber(v,E){return ga(this._delegate,function Jt(w,g,v){return Yn.apply(this,arguments)}(this._delegate,v,E))}signInWithPopup(v){var E=this;return(0,l.Z)(function*(){return Mo(Ku(),E._delegate,"operation-not-supported-in-this-environment"),Fi(E._delegate,function vy(w,g,v){return Co.apply(this,arguments)}(E._delegate,v,Yi))})()}signInWithRedirect(v){var E=this;return(0,l.Z)(function*(){return Mo(Ku(),E._delegate,"operation-not-supported-in-this-environment"),yield ll(E._delegate),function xn(w,g,v){return function rs(w,g,v){return Xn.apply(this,arguments)}(w,g,v)}(E._delegate,v,Yi)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function ry(w,g){return gg.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return w.Persistence=tr,w})();function ed(w,g,v){let E=w;"function"!=typeof w&&({next:E,error:g,complete:v}=w);const Q=E;return{next:He=>Q(He&&ss.getOrCreate(He)),error:g,complete:v}}function Zg(w,g){const v=function pa(w,g){const v=Dc();if(!v)return[];const E=Ue(Fr,w,g);switch(v.getItem(E)){case tr.NONE:return[Re];case tr.LOCAL:return[Ja,_s];case tr.SESSION:return[_s];default:return[]}}(w,g);if(typeof self<"u"&&!v.includes(Ja)&&v.push(Ja),typeof window<"u")for(const E of[rc,_s])v.includes(E)||v.push(E);return v.includes(Re)||v.push(Re),v}class td{constructor(){this.providerId="phone",this._delegate=new gc(Xu(xe.Z.auth()))}static credential(g,v){return gc.credential(g,v)}verifyPhoneNumber(g,v){return this._delegate.verifyPhoneNumber(g,v)}unwrap(){return this._delegate}}td.PHONE_SIGN_IN_METHOD=gc.PHONE_SIGN_IN_METHOD,td.PROVIDER_ID=gc.PROVIDER_ID;const nd=z;class id{constructor(g,v,E=xe.Z.app()){var Q;nd(null===(Q=E.options)||void 0===Q?void 0:Q.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Hi(g,v,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ry(w){w.INTERNAL.registerComponent(new F.wA("auth-compat",g=>{const v=g.getProvider("app-compat").getImmediate(),E=g.getProvider("auth");return new ff(v,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ps,FacebookAuthProvider:pu,GithubAuthProvider:Ah,GoogleAuthProvider:gu,OAuthProvider:Jo,SAMLAuthProvider:_u,PhoneAuthProvider:td,PhoneMultiFactorGenerator:Ys,RecaptchaVerifier:id,TwitterAuthProvider:Or,Auth:ff,AuthCredential:Xi,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),w.registerVersion("@firebase/auth-compat","0.2.24")}(xe.Z)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(7156).default,ie;ie=()=>(()=>{"use strict";var __webpack_modules__=[,(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.VerbosityLevel=se.Util=se.UnknownErrorException=se.UnexpectedResponseException=se.UNSUPPORTED_FEATURES=se.TextRenderingMode=se.StreamType=se.RenderingIntentFlag=se.PermissionFlag=se.PasswordResponses=se.PasswordException=se.PageActionEventType=se.OPS=se.MissingPDFException=se.InvalidPDFException=se.ImageKind=se.IDENTITY_MATRIX=se.FormatError=se.FontType=se.FeatureTest=se.FONT_IDENTITY_MATRIX=se.DocumentActionEventType=se.CMapCompressionType=se.BaseException=se.AnnotationType=se.AnnotationStateModelType=se.AnnotationReviewState=se.AnnotationReplyType=se.AnnotationMode=se.AnnotationMarkedState=se.AnnotationFlag=se.AnnotationFieldFlag=se.AnnotationBorderStyleType=se.AnnotationActionEventType=se.AbortException=void 0,se.arrayByteLength=Be,se.arraysToBytes=function Fe(Ke){const Te=Ke.length;if(1===Te&&Ke[0]instanceof Uint8Array)return Ke[0];let Ce=0;for(let At=0;At<Te;At++)Ce+=Be(Ke[At]);let ut=0;const ct=new Uint8Array(Ce);for(let At=0;At<Te;At++){let bt=Ke[At];bt instanceof Uint8Array||(bt="string"==typeof bt?ke(bt):new Uint8Array(bt));const on=bt.byteLength;ct.set(bt,ut),ut+=on}return ct},se.assert=function Ie(Ke,Te){Ke||re(Te)},se.bytesToString=function be(Ke){("object"!=typeof Ke||null===Ke||void 0===Ke.length)&&re("Invalid argument for bytesToString");const Te=Ke.length;if(Te<8192)return String.fromCharCode.apply(null,Ke);const ut=[];for(let ct=0;ct<Te;ct+=8192){const At=Math.min(ct+8192,Te),bt=Ke.subarray(ct,At);ut.push(String.fromCharCode.apply(null,bt))}return ut.join("")},se.createPromiseCapability=function bn(){const Ke=Object.create(null);let Te=!1;return Object.defineProperty(Ke,"settled",{get:()=>Te}),Ke.promise=new Promise(function(Ce,ut){Ke.resolve=function(ct){Te=!0,Ce(ct)},Ke.reject=function(ct){Te=!0,ut(ct)}}),Ke},se.createValidAbsoluteUrl=function Ne(Ke,Te=null,Ce=null){if(!Ke)return null;try{if(Ce&&"string"==typeof Ke){if(Ce.addDefaultProtocol&&Ke.startsWith("www.")){const ct=Ke.match(/\./g);ct&&ct.length>=2&&(Ke=`http://${Ke}`)}if(Ce.tryConvertEncoding)try{Ke=_t(Ke)}catch{}}const ut=Te?new URL(Ke,Te):new URL(Ke);if(function Me(Ke){if(!Ke)return!1;switch(Ke.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(ut))return ut}catch{}return null},se.escapeString=function We(Ke){return Ke.replace(/([()\\\n\r])/g,Te=>"\n"===Te?"\\n":"\r"===Te?"\\r":`\\${Te}`)},se.getModificationDate=function Zt(Ke=new Date){return[Ke.getUTCFullYear().toString(),(Ke.getUTCMonth()+1).toString().padStart(2,"0"),Ke.getUTCDate().toString().padStart(2,"0"),Ke.getUTCHours().toString().padStart(2,"0"),Ke.getUTCMinutes().toString().padStart(2,"0"),Ke.getUTCSeconds().toString().padStart(2,"0")].join("")},se.getVerbosityLevel=function ce(){return z},se.info=function J(Ke){z>=Y.INFOS&&console.log(`Info: ${Ke}`)},se.isArrayBuffer=function ft(Ke){return"object"==typeof Ke&&null!==Ke&&void 0!==Ke.byteLength},se.isArrayEqual=function Mt(Ke,Te){if(Ke.length!==Te.length)return!1;for(let Ce=0,ut=Ke.length;Ce<ut;Ce++)if(Ke[Ce]!==Te[Ce])return!1;return!0},se.isAscii=function It(Ke){return/^[\x00-\x7F]*$/.test(Ke)},se.objectFromMap=function nt(Ke){const Te=Object.create(null);for(const[Ce,ut]of Ke)Te[Ce]=ut;return Te},se.objectSize=function Ye(Ke){return Object.keys(Ke).length},se.setVerbosityLevel=function ge(Ke){Number.isInteger(Ke)&&(z=Ke)},se.shadow=et,se.string32=function Ge(Ke){return String.fromCharCode(Ke>>24&255,Ke>>16&255,Ke>>8&255,255&Ke)},se.stringToBytes=ke,se.stringToPDFString=function Oe(Ke){if(Ke[0]>="\xef"){let Ce;if("\xfe"===Ke[0]&&"\xff"===Ke[1]?Ce="utf-16be":"\xff"===Ke[0]&&"\xfe"===Ke[1]?Ce="utf-16le":"\xef"===Ke[0]&&"\xbb"===Ke[1]&&"\xbf"===Ke[2]&&(Ce="utf-8"),Ce)try{const ut=new TextDecoder(Ce,{fatal:!0}),ct=ke(Ke);return ut.decode(ct)}catch(ut){de(`stringToPDFString: "${ut}".`)}}const Te=[];for(let Ce=0,ut=Ke.length;Ce<ut;Ce++){const ct=pe[Ke.charCodeAt(Ce)];Te.push(ct?String.fromCharCode(ct):Ke.charAt(Ce))}return Te.join("")},se.stringToUTF16BEString=function yt(Ke){const Te=["\xfe\xff"];for(let Ce=0,ut=Ke.length;Ce<ut;Ce++){const ct=Ke.charCodeAt(Ce);Te.push(String.fromCharCode(ct>>8&255),String.fromCharCode(255&ct))}return Te.join("")},se.stringToUTF8String=_t,se.unreachable=re,se.utf8StringToString=function St(Ke){return unescape(encodeURIComponent(Ke))},se.warn=de,ie(2),se.IDENTITY_MATRIX=[1,0,0,1,0,0],se.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],se.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},se.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},se.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},se.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},se.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},se.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},se.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},se.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},se.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},se.AnnotationReplyType={GROUP:"Group",REPLY:"R"},se.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},se.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},se.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},se.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},se.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},se.PageActionEventType={O:"PageOpen",C:"PageClose"},se.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},se.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const Y={ERRORS:0,WARNINGS:1,INFOS:5};se.VerbosityLevel=Y,se.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},se.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},se.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},se.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let z=Y.WARNINGS;function de(Ke){z>=Y.WARNINGS&&console.log(`Warning: ${Ke}`)}function re(Ke){throw new Error(Ke)}function et(Ke,Te,Ce){return Object.defineProperty(Ke,Te,{value:Ce,enumerable:!0,configurable:!0,writable:!1}),Ce}const ye=function(){function Te(Ce,ut){this.constructor===Te&&re("Cannot initialize BaseException."),this.message=Ce,this.name=ut}return Te.prototype=new Error,Te.constructor=Te,Te}();function ke(Ke){"string"!=typeof Ke&&re("Invalid argument for stringToBytes");const Te=Ke.length,Ce=new Uint8Array(Te);for(let ut=0;ut<Te;++ut)Ce[ut]=255&Ke.charCodeAt(ut);return Ce}function Be(Ke){return void 0!==Ke.length?Ke.length:void 0!==Ke.byteLength?Ke.byteLength:void re("Invalid argument for arrayByteLength")}se.BaseException=ye,se.PasswordException=class N extends ye{constructor(Te,Ce){super(Te,"PasswordException"),this.code=Ce}},se.UnknownErrorException=class G extends ye{constructor(Te,Ce){super(Te,"UnknownErrorException"),this.details=Ce}},se.InvalidPDFException=class I extends ye{constructor(Te){super(Te,"InvalidPDFException")}},se.MissingPDFException=class U extends ye{constructor(Te){super(Te,"MissingPDFException")}},se.UnexpectedResponseException=class X extends ye{constructor(Te,Ce){super(Te,"UnexpectedResponseException"),this.status=Ce}},se.FormatError=class me extends ye{constructor(Te){super(Te,"FormatError")}},se.AbortException=class ae extends ye{constructor(Te){super(Te,"AbortException")}},se.FeatureTest=class Xe{static get isLittleEndian(){return et(this,"isLittleEndian",function wt(){const Ke=new Uint8Array(4);return Ke[0]=1,1===new Uint32Array(Ke.buffer,0,1)[0]}())}static get isEvalSupported(){return et(this,"isEvalSupported",function Lt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return et(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const je=[...Array(256).keys()].map(Ke=>Ke.toString(16).padStart(2,"0"));class rt{static makeHexColor(Te,Ce,ut){return`#${je[Te]}${je[Ce]}${je[ut]}`}static scaleMinMax(Te,Ce){let ut;Te[0]?(Te[0]<0&&(ut=Ce[0],Ce[0]=Ce[1],Ce[1]=ut),Ce[0]*=Te[0],Ce[1]*=Te[0],Te[3]<0&&(ut=Ce[2],Ce[2]=Ce[3],Ce[3]=ut),Ce[2]*=Te[3],Ce[3]*=Te[3]):(ut=Ce[0],Ce[0]=Ce[2],Ce[2]=ut,ut=Ce[1],Ce[1]=Ce[3],Ce[3]=ut,Te[1]<0&&(ut=Ce[2],Ce[2]=Ce[3],Ce[3]=ut),Ce[2]*=Te[1],Ce[3]*=Te[1],Te[2]<0&&(ut=Ce[0],Ce[0]=Ce[1],Ce[1]=ut),Ce[0]*=Te[2],Ce[1]*=Te[2]),Ce[0]+=Te[4],Ce[1]+=Te[4],Ce[2]+=Te[5],Ce[3]+=Te[5]}static transform(Te,Ce){return[Te[0]*Ce[0]+Te[2]*Ce[1],Te[1]*Ce[0]+Te[3]*Ce[1],Te[0]*Ce[2]+Te[2]*Ce[3],Te[1]*Ce[2]+Te[3]*Ce[3],Te[0]*Ce[4]+Te[2]*Ce[5]+Te[4],Te[1]*Ce[4]+Te[3]*Ce[5]+Te[5]]}static applyTransform(Te,Ce){return[Te[0]*Ce[0]+Te[1]*Ce[2]+Ce[4],Te[0]*Ce[1]+Te[1]*Ce[3]+Ce[5]]}static applyInverseTransform(Te,Ce){const ut=Ce[0]*Ce[3]-Ce[1]*Ce[2];return[(Te[0]*Ce[3]-Te[1]*Ce[2]+Ce[2]*Ce[5]-Ce[4]*Ce[3])/ut,(-Te[0]*Ce[1]+Te[1]*Ce[0]+Ce[4]*Ce[1]-Ce[5]*Ce[0])/ut]}static getAxialAlignedBoundingBox(Te,Ce){const ut=rt.applyTransform(Te,Ce),ct=rt.applyTransform(Te.slice(2,4),Ce),At=rt.applyTransform([Te[0],Te[3]],Ce),bt=rt.applyTransform([Te[2],Te[1]],Ce);return[Math.min(ut[0],ct[0],At[0],bt[0]),Math.min(ut[1],ct[1],At[1],bt[1]),Math.max(ut[0],ct[0],At[0],bt[0]),Math.max(ut[1],ct[1],At[1],bt[1])]}static inverseTransform(Te){const Ce=Te[0]*Te[3]-Te[1]*Te[2];return[Te[3]/Ce,-Te[1]/Ce,-Te[2]/Ce,Te[0]/Ce,(Te[2]*Te[5]-Te[4]*Te[3])/Ce,(Te[4]*Te[1]-Te[5]*Te[0])/Ce]}static apply3dTransform(Te,Ce){return[Te[0]*Ce[0]+Te[1]*Ce[1]+Te[2]*Ce[2],Te[3]*Ce[0]+Te[4]*Ce[1]+Te[5]*Ce[2],Te[6]*Ce[0]+Te[7]*Ce[1]+Te[8]*Ce[2]]}static singularValueDecompose2dScale(Te){const Ce=[Te[0],Te[2],Te[1],Te[3]],ut=Te[0]*Ce[0]+Te[1]*Ce[2],bt=Te[2]*Ce[1]+Te[3]*Ce[3],on=(ut+bt)/2,gn=Math.sqrt((ut+bt)**2-4*(ut*bt-(Te[2]*Ce[0]+Te[3]*Ce[2])*(Te[0]*Ce[1]+Te[1]*Ce[3])))/2,pt=on-gn||1;return[Math.sqrt(on+gn||1),Math.sqrt(pt)]}static normalizeRect(Te){const Ce=Te.slice(0);return Te[0]>Te[2]&&(Ce[0]=Te[2],Ce[2]=Te[0]),Te[1]>Te[3]&&(Ce[1]=Te[3],Ce[3]=Te[1]),Ce}static intersect(Te,Ce){const ut=Math.max(Math.min(Te[0],Te[2]),Math.min(Ce[0],Ce[2])),ct=Math.min(Math.max(Te[0],Te[2]),Math.max(Ce[0],Ce[2]));if(ut>ct)return null;const At=Math.max(Math.min(Te[1],Te[3]),Math.min(Ce[1],Ce[3])),bt=Math.min(Math.max(Te[1],Te[3]),Math.max(Ce[1],Ce[3]));return At>bt?null:[ut,At,ct,bt]}static bezierBoundingBox(Te,Ce,ut,ct,At,bt,on,gn){const Bt=[],pt=[[],[]];let Ht,qt,sn,en,Le,Re,Ue,mt;for(let Nn=0;Nn<2;++Nn)if(0===Nn?(qt=6*Te-12*ut+6*At,Ht=-3*Te+9*ut-9*At+3*on,sn=3*ut-3*Te):(qt=6*Ce-12*ct+6*bt,Ht=-3*Ce+9*ct-9*bt+3*gn,sn=3*ct-3*Ce),Math.abs(Ht)<1e-12){if(Math.abs(qt)<1e-12)continue;en=-sn/qt,0<en&&en<1&&Bt.push(en)}else Ue=qt*qt-4*sn*Ht,mt=Math.sqrt(Ue),!(Ue<0)&&(Le=(-qt+mt)/(2*Ht),0<Le&&Le<1&&Bt.push(Le),Re=(-qt-mt)/(2*Ht),0<Re&&Re<1&&Bt.push(Re));let Nt,qe=Bt.length;const nn=qe;for(;qe--;)en=Bt[qe],Nt=1-en,pt[0][qe]=Nt*Nt*Nt*Te+3*Nt*Nt*en*ut+3*Nt*en*en*At+en*en*en*on,pt[1][qe]=Nt*Nt*Nt*Ce+3*Nt*Nt*en*ct+3*Nt*en*en*bt+en*en*en*gn;return pt[0][nn]=Te,pt[1][nn]=Ce,pt[0][nn+1]=on,pt[1][nn+1]=gn,pt[0].length=pt[1].length=nn+2,[Math.min(...pt[0]),Math.min(...pt[1]),Math.max(...pt[0]),Math.max(...pt[1])]}}se.Util=rt;const pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _t(Ke){return decodeURIComponent(escape(Ke))}},(tt,se,ie)=>{ie(3)},(tt,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.isNodeJS=void 0;const ie=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);se.isNodeJS=ie},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var tt,ie,l,xe,le,Ee,Ae,ue,gR,te;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:M,NodeCMapReaderFactory:S,NodeStandardFontDataFactory:k}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=M,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=S,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=k}function setPDFNetworkStreamFactory(M){createPDFNetworkStream=M}function getDocument(M){const S=new PDFDocumentLoadingTask;let k;if("string"==typeof M||M instanceof URL)k={url:M};else if((0,_util.isArrayBuffer)(M))k={data:M};else if(M instanceof PDFDataRangeTransport)k={range:M};else{if("object"!=typeof M)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!M.url&&!M.data&&!M.range)throw new Error("Invalid parameter object: need either .data, .range or .url");k=M}const A=Object.create(null);let x=null,L=null;for(const B in k){const j=k[B];switch(B){case"url":if(typeof window<"u")try{A[B]=new URL(j,window.location).href;continue}catch(D){(0,_util.warn)(`Cannot create valid URL: "${D}".`)}else if("string"==typeof j||j instanceof URL){A[B]=j.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":x=j;continue;case"worker":L=j;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&j instanceof Buffer)A[B]=new Uint8Array(j);else{if(j instanceof Uint8Array)break;if("string"==typeof j)A[B]=(0,_util.stringToBytes)(j);else if("object"!=typeof j||null===j||isNaN(j.length)){if(!(0,_util.isArrayBuffer)(j))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");A[B]=new Uint8Array(j)}else A[B]=new Uint8Array(j)}continue}A[B]=j}if(A.CMapReaderFactory=A.CMapReaderFactory||DefaultCMapReaderFactory,A.StandardFontDataFactory=A.StandardFontDataFactory||DefaultStandardFontDataFactory,A.ignoreErrors=!0!==A.stopAtErrors,A.fontExtraProperties=!0===A.fontExtraProperties,A.pdfBug=!0===A.pdfBug,A.enableXfa=!0===A.enableXfa,(!Number.isInteger(A.rangeChunkSize)||A.rangeChunkSize<1)&&(A.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof A.docBaseUrl||(0,_display_utils.isDataScheme)(A.docBaseUrl))&&(A.docBaseUrl=null),(!Number.isInteger(A.maxImageSize)||A.maxImageSize<-1)&&(A.maxImageSize=-1),"string"!=typeof A.cMapUrl&&(A.cMapUrl=null),"string"!=typeof A.standardFontDataUrl&&(A.standardFontDataUrl=null),"boolean"!=typeof A.useWorkerFetch&&(A.useWorkerFetch=A.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&A.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof A.isEvalSupported&&(A.isEvalSupported=!0),"boolean"!=typeof A.disableFontFace&&(A.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof A.useSystemFonts&&(A.useSystemFonts=!_is_node.isNodeJS&&!A.disableFontFace),("object"!=typeof A.ownerDocument||null===A.ownerDocument)&&(A.ownerDocument=globalThis.document),"boolean"!=typeof A.disableRange&&(A.disableRange=!1),"boolean"!=typeof A.disableStream&&(A.disableStream=!1),"boolean"!=typeof A.disableAutoFetch&&(A.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(A.verbosity),!L){const B={verbosity:A.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};L=B.port?PDFWorker.fromPort(B):new PDFWorker(B),S._worker=L}const oe=S.docId;return L.promise.then(function(){if(S.destroyed)throw new Error("Loading aborted");const B=_fetchDocument(L,A,x,oe),j=new Promise(function(D){let R;x?R=new _transport_stream.PDFDataTransportStream({length:A.length,initialData:A.initialData,progressiveDone:A.progressiveDone,contentDispositionFilename:A.contentDispositionFilename,disableRange:A.disableRange,disableStream:A.disableStream},x):A.data||(R=createPDFNetworkStream({url:A.url,length:A.length,httpHeaders:A.httpHeaders,withCredentials:A.withCredentials,rangeChunkSize:A.rangeChunkSize,disableRange:A.disableRange,disableStream:A.disableStream})),D(R)});return Promise.all([B,j]).then(function([D,R]){if(S.destroyed)throw new Error("Loading aborted");const Y=new _message_handler.MessageHandler(oe,D,L.port),H=new WorkerTransport(Y,S,R,A);S._transport=H,Y.send("Ready",null)})}).catch(S._capability.reject),S}function _fetchDocument(M,S,k,A){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(M,S,k,A){if(M.destroyed)throw new Error("Worker was destroyed");k&&(S.length=k.length,S.initialData=k.initialData,S.progressiveDone=k.progressiveDone,S.contentDispositionFilename=k.contentDispositionFilename);const x=yield M.messageHandler.sendWithPromise("GetDocRequest",{docId:A,apiVersion:"2.14.305",source:{data:S.data,url:S.url,password:S.password,disableAutoFetch:S.disableAutoFetch,rangeChunkSize:S.rangeChunkSize,length:S.length},maxImageSize:S.maxImageSize,disableFontFace:S.disableFontFace,docBaseUrl:S.docBaseUrl,ignoreErrors:S.ignoreErrors,isEvalSupported:S.isEvalSupported,fontExtraProperties:S.fontExtraProperties,enableXfa:S.enableXfa,useSystemFonts:S.useSystemFonts,cMapUrl:S.useWorkerFetch?S.cMapUrl:null,standardFontDataUrl:S.useWorkerFetch?S.standardFontDataUrl:null});if(M.destroyed)throw new Error("Worker was destroyed");return x})).apply(this,arguments)}const se=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+cj(se,tt)._++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var S=this;return _asyncToGenerator(function*(){S.destroyed=!0,yield S._transport?.destroy(),S._transport=null,S._worker&&(S._worker.destroy(),S._worker=null)})()}};let PDFDocumentLoadingTask=se;tt=new WeakMap,fn(PDFDocumentLoadingTask,tt,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(S,k,A=!1,x=null){this.length=S,this.initialData=k,this.progressiveDone=A,this.contentDispositionFilename=x,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(S){this._rangeListeners.push(S)}addProgressListener(S){this._progressListeners.push(S)}addProgressiveReadListener(S){this._progressiveReadListeners.push(S)}addProgressiveDoneListener(S){this._progressiveDoneListeners.push(S)}onDataRange(S,k){for(const A of this._rangeListeners)A(S,k)}onDataProgress(S,k){this._readyCapability.promise.then(()=>{for(const A of this._progressListeners)A(S,k)})}onDataProgressiveRead(S){this._readyCapability.promise.then(()=>{for(const k of this._progressiveReadListeners)k(S)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const S of this._progressiveDoneListeners)S()})}transportReady(){this._readyCapability.resolve()}requestDataRange(S,k){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(S,k){var x,A=this;this._pdfInfo=S,this._transport=k,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(x=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),A.stats||{streamTypes:{},fontTypes:{}}}),function(){return x.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(S){return this._transport.getPage(S)}getPageIndex(S){return this._transport.getPageIndex(S)}getDestinations(){return this._transport.getDestinations()}getDestination(S){return this._transport.getDestination(S)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(S=!1){return this._transport.startCleanup(S||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(S,k,A,x,L=!1){this._pageIndex=S,this._pageInfo=k,this._ownerDocument=x,this._transport=A,this._stats=L?new _display_utils.StatTimer:null,this._pdfBug=L,this.commonObjs=A.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:S,rotation:k=this.rotate,offsetX:A=0,offsetY:x=0,dontFlip:L=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:S,rotation:k,offsetX:A,offsetY:x,dontFlip:L})}getAnnotations({intent:S="display"}={}){const k=this._transport.getRenderingIntent(S);let A=this._annotationPromises.get(k.cacheKey);return A||(A=this._transport.getAnnotations(this._pageIndex,k.renderingIntent),this._annotationPromises.set(k.cacheKey,A),A=A.then(x=>{for(const L of x)void 0!==L.titleObj&&Object.defineProperty(L,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),L.titleObj.str)}),void 0!==L.contentsObj&&Object.defineProperty(L,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),L.contentsObj.str)});return x})),A}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var S=this;return _asyncToGenerator(function*(){return S._transport._htmlForXfa?.children[S._pageIndex]||null})()}render({canvasContext:S,viewport:k,intent:A="display",annotationMode:x=_util.AnnotationMode.ENABLE,transform:L=null,imageLayer:oe=null,canvasFactory:B=null,background:j=null,optionalContentConfigPromise:D=null,annotationCanvasMap:R=null,pageColors:Y=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&x===_util.AnnotationMode.ENABLE&&(x=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&x===_util.AnnotationMode.ENABLE&&(x=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const H=this._transport.getRenderingIntent(A,x);this.pendingCleanup=!1,D||(D=this._transport.getOptionalContentConfig());let q=this._intentStates.get(H.cacheKey);q||(q=Object.create(null),this._intentStates.set(H.cacheKey,q)),q.streamReaderCancelTimeout&&(clearTimeout(q.streamReaderCancelTimeout),q.streamReaderCancelTimeout=null);const fe=B||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),_e=!!(H.renderingIntent&_util.RenderingIntentFlag.PRINT);q.displayReadyCapability||(q.displayReadyCapability=(0,_util.createPromiseCapability)(),q.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(H));const z=J=>{q.renderTasks.delete(ge),(this.cleanupAfterRender||_e)&&(this.pendingCleanup=!0),this._tryCleanup(),J?(ge.capability.reject(J),this._abortOperatorList({intentState:q,reason:J instanceof Error?J:new Error(J)})):ge.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},ge=new InternalRenderTask({callback:z,params:{canvasContext:S,viewport:k,transform:L,imageLayer:oe,background:j},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:R,operatorList:q.operatorList,pageIndex:this._pageIndex,canvasFactory:fe,useRequestAnimationFrame:!_e,pdfBug:this._pdfBug,pageColors:Y});(q.renderTasks||(q.renderTasks=new Set)).add(ge);const ce=ge.task;return Promise.all([q.displayReadyCapability.promise,D]).then(([J,de])=>{this.pendingCleanup?z():(this._stats&&this._stats.time("Rendering"),ge.initializeGraphics({transparency:J,optionalContentConfig:de}),ge.operatorListChanged())}).catch(z),ce}getOperatorList({intent:S="display",annotationMode:k=_util.AnnotationMode.ENABLE}={}){const x=this._transport.getRenderingIntent(S,k,!0);let oe,L=this._intentStates.get(x.cacheKey);return L||(L=Object.create(null),this._intentStates.set(x.cacheKey,L)),L.opListReadCapability||(oe=Object.create(null),oe.operatorListChanged=function A(){L.operatorList.lastChunk&&(L.opListReadCapability.resolve(L.operatorList),L.renderTasks.delete(oe))},L.opListReadCapability=(0,_util.createPromiseCapability)(),(L.renderTasks||(L.renderTasks=new Set)).add(oe),L.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(x)),L.opListReadCapability.promise}streamTextContent({disableCombineTextItems:S=!1,includeMarkedContent:k=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==S,includeMarkedContent:!0===k},{highWaterMark:100,size:x=>x.items.length})}getTextContent(S={}){if(this._transport._htmlForXfa)return this.getXfa().then(A=>_xfa_text.XfaText.textContent(A));const k=this.streamTextContent(S);return new Promise(function(A,x){const oe=k.getReader(),B={items:[],styles:Object.create(null)};!function L(){oe.read().then(function({value:j,done:D}){D?A(B):(Object.assign(B.styles,j.styles),B.items.push(...j.items),L())},x)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const S=[];for(const k of this._intentStates.values())if(this._abortOperatorList({intentState:k,reason:new Error("Page was destroyed."),force:!0}),!k.opListReadCapability)for(const A of k.renderTasks)S.push(A.completed),A.cancel();this.objs.clear();for(const k of this._bitmaps)k.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(S)}cleanup(S=!1){return this.pendingCleanup=!0,this._tryCleanup(S)}_tryCleanup(S=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:k,operatorList:A}of this._intentStates.values())if(k.size>0||!A.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,S&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const k of this._bitmaps)k.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(S,k){const A=this._intentStates.get(k);!A||(this._stats&&this._stats.timeEnd("Page Request"),A.displayReadyCapability&&A.displayReadyCapability.resolve(S))}_renderPageChunk(S,k){for(let A=0,x=S.length;A<x;A++)k.operatorList.fnArray.push(S.fnArray[A]),k.operatorList.argsArray.push(S.argsArray[A]);k.operatorList.lastChunk=S.lastChunk;for(const A of k.renderTasks)A.operatorListChanged();S.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:S,cacheKey:k}){const x=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:S,cacheKey:k,annotationStorage:S&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),L=this._intentStates.get(k);L.streamReader=x;const oe=()=>{x.read().then(({value:B,done:j})=>{j?L.streamReader=null:this._transport.destroyed||(this._renderPageChunk(B,L),oe())},B=>{if(L.streamReader=null,!this._transport.destroyed){if(L.operatorList){L.operatorList.lastChunk=!0;for(const j of L.renderTasks)j.operatorListChanged();this._tryCleanup()}if(L.displayReadyCapability)L.displayReadyCapability.reject(B);else{if(!L.opListReadCapability)throw B;L.opListReadCapability.reject(B)}}})};oe()}_abortOperatorList({intentState:S,reason:k,force:A=!1}){if(S.streamReader){if(!A){if(S.renderTasks.size>0)return;if(k instanceof _display_utils.RenderingCancelledException)return void(S.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:S,reason:k,force:!0}),S.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(S.streamReader.cancel(new _util.AbortException(k.message)).catch(()=>{}),S.streamReader=null,!this._transport.destroyed){for(const[x,L]of this._intentStates)if(L===S){this._intentStates.delete(x);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(S,k){const A={data:structuredClone(S,k)};this._deferred.then(()=>{for(const x of this._listeners)x.call(this,A)})}addEventListener(S,k){this._listeners.push(k)}removeEventListener(S,k){const A=this._listeners.indexOf(k);this._listeners.splice(A,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const M=document?.currentScript?.src;M&&(PDFWorkerUtil.fallbackWorkerSrc=M.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(M,S){let k;try{if(k=new URL(M),!k.origin||"null"===k.origin)return!1}catch{return!1}const A=new URL(S,k);return k.origin===A.origin},PDFWorkerUtil.createCDNWrapper=function(M){return URL.createObjectURL(new Blob([`importScripts("${M}");`]))};const _PDFWorker=class{constructor({name:M=null,port:S=null,verbosity:k=(0,_util.getVerbosityLevel)()}={}){if(S&&Xt(_PDFWorker,ie).has(S))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=M,this.destroyed=!1,this.verbosity=k,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,S)return Xt(_PDFWorker,ie).set(S,this),void this._initializeFromPort(S);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(M){this._port=M,this._messageHandler=new _message_handler.MessageHandler("main","worker",M),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let M=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,M)||(M=PDFWorkerUtil.createCDNWrapper(new URL(M,window.location).href));const S=new Worker(M),k=new _message_handler.MessageHandler("main","worker",S),A=()=>{S.removeEventListener("error",x),k.destroy(),S.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},x=()=>{this._webWorker||A()};S.addEventListener("error",x),k.on("test",oe=>{S.removeEventListener("error",x),this.destroyed?A():oe?(this._messageHandler=k,this._port=S,this._webWorker=S,this._readyCapability.resolve(),k.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),k.destroy(),S.terminate())}),k.on("ready",oe=>{if(S.removeEventListener("error",x),this.destroyed)A();else try{L()}catch{this._setupFakeWorker()}});const L=()=>{const oe=new Uint8Array;k.send("test",oe,[oe.buffer])};return void L()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(M=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const S=new LoopbackPort;this._port=S;const k="fake"+PDFWorkerUtil.fakeWorkerId++,A=new _message_handler.MessageHandler(k+"_worker",k,S);M.setup(A,S);const x=new _message_handler.MessageHandler(k,k+"_worker",S);this._messageHandler=x,this._readyCapability.resolve(),x.send("configure",{verbosity:this.verbosity})}).catch(M=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${M.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Xt(_PDFWorker,ie).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(M){if(!M?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Xt(this,ie).has(M.port)?Xt(this,ie).get(M.port):new _PDFWorker(M)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function M(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ie=new WeakMap,fn(PDFWorker,ie,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(S,k,A,x){fn(this,l,null),fn(this,xe,new Map),fn(this,le,new Map),fn(this,Ee,null),this.messageHandler=S,this.loadingTask=k,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:k.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:x.ownerDocument,styleElement:x.styleElement}),this._params=x,x.useWorkerFetch||(this.CMapReaderFactory=new x.CMapReaderFactory({baseUrl:x.cMapUrl,isCompressed:x.cMapPacked}),this.StandardFontDataFactory=new x.StandardFontDataFactory({baseUrl:x.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=A,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Xt(this,l)}getRenderingIntent(S,k=_util.AnnotationMode.ENABLE,A=!1){let x=_util.RenderingIntentFlag.DISPLAY,L="";switch(S){case"any":x=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":x=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${S}`)}switch(k){case _util.AnnotationMode.DISABLE:x+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:x+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:x+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,L=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${k}`)}return A&&(x+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:x,cacheKey:`${x}_${L}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const S=[];for(const A of Xt(this,xe).values())S.push(A._destroy());Xt(this,xe).clear(),Xt(this,le).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const k=this.messageHandler.sendWithPromise("Terminate",null);return S.push(k),Promise.all(S).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ti(this,Ee,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:S,loadingTask:k}=this;S.on("GetReader",(A,x)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=L=>{this._lastProgress={loaded:L.loaded,total:L.total}},x.onPull=()=>{this._fullReader.read().then(function({value:L,done:oe}){oe?x.close():((0,_util.assert)((0,_util.isArrayBuffer)(L),"GetReader - expected an ArrayBuffer."),x.enqueue(new Uint8Array(L),1,[L]))}).catch(L=>{x.error(L)})},x.onCancel=L=>{this._fullReader.cancel(L),x.ready.catch(oe=>{if(!this.destroyed)throw oe})}}),S.on("ReaderHeadersReady",A=>{const x=(0,_util.createPromiseCapability)(),L=this._fullReader;return L.headersReady.then(()=>{(!L.isStreamingSupported||!L.isRangeSupported)&&(this._lastProgress&&k.onProgress?.(this._lastProgress),L.onProgress=oe=>{k.onProgress?.({loaded:oe.loaded,total:oe.total})}),x.resolve({isStreamingSupported:L.isStreamingSupported,isRangeSupported:L.isRangeSupported,contentLength:L.contentLength})},x.reject),x.promise}),S.on("GetRangeReader",(A,x)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const L=this._networkStream.getRangeReader(A.begin,A.end);L?(x.onPull=()=>{L.read().then(function({value:oe,done:B}){B?x.close():((0,_util.assert)((0,_util.isArrayBuffer)(oe),"GetRangeReader - expected an ArrayBuffer."),x.enqueue(new Uint8Array(oe),1,[oe]))}).catch(oe=>{x.error(oe)})},x.onCancel=oe=>{L.cancel(oe),x.ready.catch(B=>{if(!this.destroyed)throw B})}):x.close()}),S.on("GetDoc",({pdfInfo:A})=>{this._numPages=A.numPages,this._htmlForXfa=A.htmlForXfa,delete A.htmlForXfa,k._capability.resolve(new PDFDocumentProxy(A,this))}),S.on("DocException",function(A){let x;switch(A.name){case"PasswordException":x=new _util.PasswordException(A.message,A.code);break;case"InvalidPDFException":x=new _util.InvalidPDFException(A.message);break;case"MissingPDFException":x=new _util.MissingPDFException(A.message);break;case"UnexpectedResponseException":x=new _util.UnexpectedResponseException(A.message,A.status);break;case"UnknownErrorException":x=new _util.UnknownErrorException(A.message,A.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}k._capability.reject(x)}),S.on("PasswordRequest",A=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),k.onPassword){const x=L=>{L instanceof Error?this._passwordCapability.reject(L):this._passwordCapability.resolve({password:L})};try{k.onPassword(x,A.code)}catch(L){this._passwordCapability.reject(L)}}else this._passwordCapability.reject(new _util.PasswordException(A.message,A.code));return this._passwordCapability.promise}),S.on("DataLoaded",A=>{k.onProgress?.({loaded:A.length,total:A.length}),this.downloadInfoCapability.resolve(A)}),S.on("StartRenderPage",A=>{this.destroyed||Xt(this,xe).get(A.pageIndex)._startRenderPage(A.transparency,A.cacheKey)}),S.on("commonobj",([A,x,L])=>{if(!this.destroyed&&!this.commonObjs.has(A))switch(x){case"Font":const oe=this._params;if("error"in L){const D=L.error;(0,_util.warn)(`Error during font loading: ${D}`),this.commonObjs.resolve(A,D);break}let B=null;oe.pdfBug&&globalThis.FontInspector?.enabled&&(B={registerFont(D,R){globalThis.FontInspector.fontAdded(D,R)}});const j=new _font_loader.FontFaceObject(L,{isEvalSupported:oe.isEvalSupported,disableFontFace:oe.disableFontFace,ignoreErrors:oe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:B});this.fontLoader.bind(j).catch(D=>S.sendWithPromise("FontFallback",{id:A})).finally(()=>{!oe.fontExtraProperties&&j.data&&(j.data=null),this.commonObjs.resolve(A,j)});break;case"FontPath":case"Image":this.commonObjs.resolve(A,L);break;default:throw new Error(`Got unknown common object type ${x}`)}}),S.on("obj",([A,x,L,oe])=>{if(this.destroyed)return;const B=Xt(this,xe).get(x);if(!B.objs.has(A))switch(L){case"Image":B.objs.resolve(A,oe);const j=8e6;if(oe){let D;if(oe.bitmap){const{bitmap:R,width:Y,height:H}=oe;D=Y*H*4,B._bitmaps.add(R)}else D=oe.data?.length||0;D>j&&(B.cleanupAfterRender=!0)}break;case"Pattern":B.objs.resolve(A,oe);break;default:throw new Error(`Got unknown object type ${L}`)}}),S.on("DocProgress",A=>{this.destroyed||k.onProgress?.({loaded:A.loaded,total:A.total})}),S.on("DocStats",A=>{this.destroyed||Ti(this,l,Object.freeze({streamTypes:Object.freeze(A.streamTypes),fontTypes:Object.freeze(A.fontTypes)}))}),S.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),S.on("FetchBuiltInCMap",A=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(A):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),S.on("FetchStandardFontData",A=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(A):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:S}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(S)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(S){if(!Number.isInteger(S)||S<=0||S>this._numPages)return Promise.reject(new Error("Invalid page request."));const k=S-1,A=Xt(this,le).get(k);if(A)return A;const x=this.messageHandler.sendWithPromise("GetPage",{pageIndex:k}).then(L=>{if(this.destroyed)throw new Error("Transport destroyed");const oe=new PDFPageProxy(k,L,this,this._params.ownerDocument,this._params.pdfBug);return Xt(this,xe).set(k,oe),oe});return Xt(this,le).set(k,x),x}getPageIndex(S){return"object"!=typeof S||null===S||!Number.isInteger(S.num)||S.num<0||!Number.isInteger(S.gen)||S.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:S.num,gen:S.gen})}getAnnotations(S,k){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:S,intent:k})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(S){return"string"!=typeof S?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:S})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(S){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:S})}getStructTree(S){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:S})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(S=>new _optional_content_config.OptionalContentConfig(S))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Xt(this,Ee)||Ti(this,Ee,this.messageHandler.sendWithPromise("GetMetadata",null).then(S=>({info:S[0],metadata:S[1]?new _metadata.Metadata(S[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(S=!1){var k=this;return _asyncToGenerator(function*(){if(yield k.messageHandler.sendWithPromise("Cleanup",null),!k.destroyed){for(const A of Xt(k,xe).values())if(!A.cleanup())throw new Error(`startCleanup: Page ${A.pageNumber} is currently rendering.`);k.commonObjs.clear(),S||k.fontLoader.clear(),Ti(k,Ee,null),k._getFieldObjectsPromise=null,k._hasJSActionsPromise=null}})()}get loadingParams(){const S=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:S.disableAutoFetch,enableXfa:S.enableXfa})}}l=new WeakMap,xe=new WeakMap,le=new WeakMap,Ee=new WeakMap;class PDFObjects{constructor(){fn(this,ue),fn(this,Ae,Object.create(null))}get(S,k=null){if(k){const x=rn(this,ue,gR).call(this,S);return x.capability.promise.then(()=>k(x.data)),null}const A=Xt(this,Ae)[S];if(!A?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${S}.`);return A.data}has(S){return Xt(this,Ae)[S]?.capability.settled||!1}resolve(S,k=null){const A=rn(this,ue,gR).call(this,S);A.data=k,A.capability.resolve()}clear(){Ti(this,Ae,Object.create(null))}}Ae=new WeakMap,ue=new WeakSet,gR=function(S){return Xt(this,Ae)[S]||(Xt(this,Ae)[S]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(S){this._internalRenderTask=S,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;const W=class{constructor({callback:S,params:k,objs:A,commonObjs:x,annotationCanvasMap:L,operatorList:oe,pageIndex:B,canvasFactory:j,useRequestAnimationFrame:D=!1,pdfBug:R=!1,pageColors:Y=null}){this.callback=S,this.params=k,this.objs=A,this.commonObjs=x,this.annotationCanvasMap=L,this.operatorListIdx=null,this.operatorList=oe,this._pageIndex=B,this.canvasFactory=j,this._pdfBug=R,this.pageColors=Y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===D&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=k.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:S=!1,optionalContentConfig:k}){if(this.cancelled)return;if(this._canvas){if(Xt(W,te).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Xt(W,te).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:A,viewport:x,transform:L,imageLayer:oe,background:B}=this.params;this.gfx=new _canvas.CanvasGraphics(A,this.commonObjs,this.objs,this.canvasFactory,oe,k,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:L,viewport:x,transparency:S,background:B}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(S=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Xt(W,te).delete(this._canvas),this.callback(S||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var S=this;return _asyncToGenerator(function*(){S.cancelled||(S.operatorListIdx=S.gfx.executeOperatorList(S.operatorList,S.operatorListIdx,S._continueBound,S.stepper),S.operatorListIdx===S.operatorList.argsArray.length&&(S.running=!1,S.operatorList.lastChunk&&(S.gfx.endDrawing(),S._canvas&&Xt(W,te).delete(S._canvas),S.callback())))})()}};let InternalRenderTask=W;te=new WeakMap,fn(InternalRenderTask,te,new WeakSet);const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.StatTimer=se.RenderingCancelledException=se.PixelsPerInch=se.PageViewport=se.PDFDateString=se.DOMStandardFontDataFactory=se.DOMSVGFactory=se.DOMCanvasFactory=se.DOMCMapReaderFactory=void 0,se.deprecated=function R(_e){console.log("Deprecated API usage: "+_e)},se.getFilenameFromUrl=function L(_e){const z=_e.indexOf("#"),ge=_e.indexOf("?"),ce=Math.min(z>0?z:_e.length,ge>0?ge:_e.length);return _e.substring(_e.lastIndexOf("/",ce)+1,ce)},se.getPdfFilenameFromUrl=function oe(_e,z="document.pdf"){if("string"!=typeof _e)return z;if(A(_e))return(0,xe.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),z;const ce=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,J=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(_e);let de=ce.exec(J[1])||ce.exec(J[2])||ce.exec(J[3]);if(de&&(de=de[0],de.includes("%")))try{de=ce.exec(decodeURIComponent(de))[0]}catch{}return de||z},se.getXfaPageViewport=function q(_e,{scale:z=1,rotation:ge=0}){const{width:ce,height:J}=_e.attributes.style,de=[0,0,parseInt(ce),parseInt(J)];return new S({viewBox:de,scale:z,rotation:ge})},se.isDataScheme=A,se.isPdfFile=function x(_e){return"string"==typeof _e&&/\.pdf$/i.test(_e)},se.isValidFetchUrl=j,se.loadScript=function D(_e,z=!1){return new Promise((ge,ce)=>{const J=document.createElement("script");J.src=_e,J.onload=function(de){z&&J.remove(),ge(de)},J.onerror=function(){ce(new Error(`Cannot load script at: ${J.src}`))},(document.head||document.documentElement).appendChild(J)})};var l=ie(6),xe=ie(1);const fe=class{};let Y,Ee=fe;function ue(_e){return F.apply(this,arguments)}function F(){return(F=_asyncToGenerator(function*(_e,z=!1){if(j(_e,document.baseURI)){const ge=yield fetch(_e);if(!ge.ok)throw new Error(ge.statusText);return z?new Uint8Array(yield ge.arrayBuffer()):(0,xe.stringToBytes)(yield ge.text())}return new Promise((ge,ce)=>{const J=new XMLHttpRequest;J.open("GET",_e,!0),z&&(J.responseType="arraybuffer"),J.onreadystatechange=()=>{if(J.readyState===XMLHttpRequest.DONE){if(200===J.status||0===J.status){let de;if(z&&J.response?de=new Uint8Array(J.response):!z&&J.responseText&&(de=(0,xe.stringToBytes)(J.responseText)),de)return void ge(de)}ce(new Error(J.statusText))}},J.send(null)})})).apply(this,arguments)}NT(Ee,"CSS",96),NT(Ee,"PDF",72),NT(Ee,"PDF_TO_CSS_UNITS",fe.CSS/fe.PDF),se.PixelsPerInch=Ee,se.DOMCanvasFactory=class Ae extends l.BaseCanvasFactory{constructor({ownerDocument:z=globalThis.document}={}){super(),this._document=z}_createCanvas(z,ge){const ce=this._document.createElement("canvas");return ce.width=z,ce.height=ge,ce}},se.DOMCMapReaderFactory=class te extends l.BaseCMapReaderFactory{_fetchData(z,ge){return ue(z,this.isCompressed).then(ce=>({cMapData:ce,compressionType:ge}))}},se.DOMStandardFontDataFactory=class W extends l.BaseStandardFontDataFactory{_fetchData(z){return ue(z,!0)}},se.DOMSVGFactory=class M extends l.BaseSVGFactory{_createSVG(z){return document.createElementNS("http://www.w3.org/2000/svg",z)}};class S{constructor({viewBox:z,scale:ge,rotation:ce,offsetX:J=0,offsetY:de=0,dontFlip:re=!1}){this.viewBox=z,this.scale=ge,this.rotation=ce,this.offsetX=J,this.offsetY=de;const Ie=(z[2]+z[0])/2,Me=(z[3]+z[1])/2;let Ne,et,ye,N,G,I,U,X;switch((ce%=360)<0&&(ce+=360),ce){case 180:Ne=-1,et=0,ye=0,N=1;break;case 90:Ne=0,et=1,ye=1,N=0;break;case 270:Ne=0,et=-1,ye=-1,N=0;break;case 0:Ne=1,et=0,ye=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}re&&(ye=-ye,N=-N),0===Ne?(G=Math.abs(Me-z[1])*ge+J,I=Math.abs(Ie-z[0])*ge+de,U=Math.abs(z[3]-z[1])*ge,X=Math.abs(z[2]-z[0])*ge):(G=Math.abs(Ie-z[0])*ge+J,I=Math.abs(Me-z[1])*ge+de,U=Math.abs(z[2]-z[0])*ge,X=Math.abs(z[3]-z[1])*ge),this.transform=[Ne*ge,et*ge,ye*ge,N*ge,G-Ne*ge*Ie-ye*ge*Me,I-et*ge*Ie-N*ge*Me],this.width=U,this.height=X}clone({scale:z=this.scale,rotation:ge=this.rotation,offsetX:ce=this.offsetX,offsetY:J=this.offsetY,dontFlip:de=!1}={}){return new S({viewBox:this.viewBox.slice(),scale:z,rotation:ge,offsetX:ce,offsetY:J,dontFlip:de})}convertToViewportPoint(z,ge){return xe.Util.applyTransform([z,ge],this.transform)}convertToViewportRectangle(z){const ge=xe.Util.applyTransform([z[0],z[1]],this.transform),ce=xe.Util.applyTransform([z[2],z[3]],this.transform);return[ge[0],ge[1],ce[0],ce[1]]}convertToPdfPoint(z,ge){return xe.Util.applyInverseTransform([z,ge],this.transform)}}function A(_e){const z=_e.length;let ge=0;for(;ge<z&&""===_e[ge].trim();)ge++;return"data:"===_e.substring(ge,ge+5).toLowerCase()}function j(_e,z){try{const{protocol:ge}=z?new URL(_e,z):new URL(_e);return"http:"===ge||"https:"===ge}catch{return!1}}se.PageViewport=S,se.RenderingCancelledException=class k extends xe.BaseException{constructor(z,ge){super(z,"RenderingCancelledException"),this.type=ge}},se.StatTimer=class B{constructor(){this.started=Object.create(null),this.times=[]}time(z){z in this.started&&(0,xe.warn)(`Timer is already running for ${z}`),this.started[z]=Date.now()}timeEnd(z){z in this.started||(0,xe.warn)(`Timer has not been started for ${z}`),this.times.push({name:z,start:this.started[z],end:Date.now()}),delete this.started[z]}toString(){const z=[];let ge=0;for(const ce of this.times){const J=ce.name;J.length>ge&&(ge=J.length)}for(const ce of this.times){const J=ce.end-ce.start;z.push(`${ce.name.padEnd(ge)} ${J}ms\n`)}return z.join("")}},se.PDFDateString=class H{static toDateObject(z){if(!z||"string"!=typeof z)return null;Y||(Y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ge=Y.exec(z);if(!ge)return null;const ce=parseInt(ge[1],10);let J=parseInt(ge[2],10);J=J>=1&&J<=12?J-1:0;let de=parseInt(ge[3],10);de=de>=1&&de<=31?de:1;let re=parseInt(ge[4],10);re=re>=0&&re<=23?re:0;let Ie=parseInt(ge[5],10);Ie=Ie>=0&&Ie<=59?Ie:0;let Me=parseInt(ge[6],10);Me=Me>=0&&Me<=59?Me:0;const Ne=ge[7]||"Z";let et=parseInt(ge[8],10);et=et>=0&&et<=23?et:0;let ye=parseInt(ge[9],10)||0;return ye=ye>=0&&ye<=59?ye:0,"-"===Ne?(re+=et,Ie+=ye):"+"===Ne&&(re-=et,Ie-=ye),new Date(Date.UTC(ce,J,de,re,Ie,Me))}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.BaseStandardFontDataFactory=se.BaseSVGFactory=se.BaseCanvasFactory=se.BaseCMapReaderFactory=void 0;var l=ie(1);class xe{constructor(){this.constructor===xe&&(0,l.unreachable)("Cannot initialize BaseCanvasFactory.")}create(F,te){if(F<=0||te<=0)throw new Error("Invalid canvas size");const W=this._createCanvas(F,te);return{canvas:W,context:W.getContext("2d")}}reset(F,te,W){if(!F.canvas)throw new Error("Canvas is not specified");if(te<=0||W<=0)throw new Error("Invalid canvas size");F.canvas.width=te,F.canvas.height=W}destroy(F){if(!F.canvas)throw new Error("Canvas is not specified");F.canvas.width=0,F.canvas.height=0,F.canvas=null,F.context=null}_createCanvas(F,te){(0,l.unreachable)("Abstract method `_createCanvas` called.")}}se.BaseCanvasFactory=xe;class le{constructor({baseUrl:F=null,isCompressed:te=!1}){this.constructor===le&&(0,l.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=F,this.isCompressed=te}fetch({name:F}){var te=this;return _asyncToGenerator(function*(){if(!te.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!F)throw new Error("CMap name must be specified.");const W=te.baseUrl+F+(te.isCompressed?".bcmap":"");return te._fetchData(W,te.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE).catch(S=>{throw new Error(`Unable to load ${te.isCompressed?"binary ":""}CMap at: ${W}`)})})()}_fetchData(F,te){(0,l.unreachable)("Abstract method `_fetchData` called.")}}se.BaseCMapReaderFactory=le;class Ee{constructor({baseUrl:F=null}){this.constructor===Ee&&(0,l.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=F}fetch({filename:F}){var te=this;return _asyncToGenerator(function*(){if(!te.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!F)throw new Error("Font filename must be specified.");const W=`${te.baseUrl}${F}`;return te._fetchData(W).catch(M=>{throw new Error(`Unable to load font data at: ${W}`)})})()}_fetchData(F){(0,l.unreachable)("Abstract method `_fetchData` called.")}}se.BaseStandardFontDataFactory=Ee;class Ae{constructor(){this.constructor===Ae&&(0,l.unreachable)("Cannot initialize BaseSVGFactory.")}create(F,te){if(F<=0||te<=0)throw new Error("Invalid SVG dimensions");const W=this._createSVG("svg:svg");return W.setAttribute("version","1.1"),W.setAttribute("width",`${F}px`),W.setAttribute("height",`${te}px`),W.setAttribute("preserveAspectRatio","none"),W.setAttribute("viewBox",`0 0 ${F} ${te}`),W}createElement(F){if("string"!=typeof F)throw new Error("Invalid SVG element type");return this._createSVG(F)}_createSVG(F){(0,l.unreachable)("Abstract method `_createSVG` called.")}}se.BaseSVGFactory=Ae},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.FontLoader=se.FontFaceObject=void 0;var l=ie(1);class xe{constructor({docId:ue,onUnsupportedFeature:F,ownerDocument:te=globalThis.document,styleElement:W=null}){this.constructor===xe&&(0,l.unreachable)("Cannot initialize BaseFontLoader."),this.docId=ue,this._onUnsupportedFeature=F,this._document=te,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(ue){this.nativeFontFaces.push(ue),this._document.fonts.add(ue)}insertRule(ue){let F=this.styleElement;F||(F=this.styleElement=this._document.createElement("style"),F.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(F));const te=F.sheet;te.insertRule(ue,te.cssRules.length)}clear(){for(const ue of this.nativeFontFaces)this._document.fonts.delete(ue);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(ue){var F=this;return _asyncToGenerator(function*(){if(ue.attached||ue.missingFile)return;if(ue.attached=!0,F.isFontLoadingAPISupported){const W=ue.createNativeFontFace();if(W){F.addNativeFontFace(W);try{yield W.loaded}catch(M){throw F._onUnsupportedFeature({featureId:l.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,l.warn)(`Failed to load font '${W.family}': '${M}'.`),ue.disableFontFace=!0,M}}return}const te=ue.createFontFaceRule();if(te){if(F.insertRule(te),F.isSyncFontLoadingSupported)return;yield new Promise(W=>{const M=F._queueLoadingCallback(W);F._prepareFontLoadEvent([te],[ue],M)})}})()}_queueLoadingCallback(ue){(0,l.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,l.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,l.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,l.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(ue,F,te){(0,l.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let le;se.FontLoader=le,se.FontLoader=le=class extends xe{constructor(ue){super(ue),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let ue=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(ue=!0),(0,l.shadow)(this,"isSyncFontLoadingSupported",ue)}_queueLoadingCallback(ue){const te=this.loadingContext,W={id:"pdfjs-font-loading-"+te.nextRequestId++,done:!1,complete:function F(){for((0,l.assert)(!W.done,"completeRequest() cannot be called twice."),W.done=!0;te.requests.length>0&&te.requests[0].done;){const M=te.requests.shift();setTimeout(M.callback,0)}},callback:ue};return te.requests.push(W),W}get _loadTestFont(){return(0,l.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(ue,F,te){function W(ge,ce){return ge.charCodeAt(ce)<<24|ge.charCodeAt(ce+1)<<16|ge.charCodeAt(ce+2)<<8|255&ge.charCodeAt(ce+3)}function M(ge,ce,J,de){return ge.substring(0,ce)+de+ge.substring(ce+J)}let S,k;const A=this._document.createElement("canvas");A.width=1,A.height=1;const x=A.getContext("2d");let L=0;const B=`lt${Date.now()}${this.loadTestFontId++}`;let j=this._loadTestFont;j=M(j,976,B.length,B);const Y=1482184792;let H=W(j,16);for(S=0,k=B.length-3;S<k;S+=4)H=H-Y+W(B,S)|0;S<B.length&&(H=H-Y+W(B+"XXX",S)|0),j=M(j,16,4,(0,l.string32)(H));const q=`url(data:font/opentype;base64,${btoa(j)});`;this.insertRule(`@font-face {font-family:"${B}";src:${q}}`);const _e=[];for(const ge of F)_e.push(ge.loadedName);_e.push(B);const z=this._document.createElement("div");z.style.visibility="hidden",z.style.width=z.style.height="10px",z.style.position="absolute",z.style.top=z.style.left="0px";for(const ge of _e){const ce=this._document.createElement("span");ce.textContent="Hi",ce.style.fontFamily=ge,z.appendChild(ce)}this._document.body.appendChild(z),function oe(ge,ce){if(L++,L>30)return(0,l.warn)("Load test font never loaded."),void ce();x.font="30px "+ge,x.fillText(".",0,20),x.getImageData(0,0,1,1).data[3]>0?ce():setTimeout(oe.bind(null,ge,ce))}(B,()=>{z.remove(),te.complete()})}},se.FontFaceObject=class Ee{constructor(ue,{isEvalSupported:F=!0,disableFontFace:te=!1,ignoreErrors:W=!1,onUnsupportedFeature:M,fontRegistry:S=null}){this.compiledGlyphs=Object.create(null);for(const k in ue)this[k]=ue[k];this.isEvalSupported=!1!==F,this.disableFontFace=!0===te,this.ignoreErrors=!0===W,this._onUnsupportedFeature=M,this.fontRegistry=S}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let ue;if(this.cssFontInfo){const F={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(F.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ue=new FontFace(this.cssFontInfo.fontFamily,this.data,F)}else ue=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),ue}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const ue=(0,l.bytesToString)(this.data),F=`url(data:${this.mimetype};base64,${btoa(ue)});`;let te;if(this.cssFontInfo){let W=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(W+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),te=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${W}src:${F}}`}else te=`@font-face {font-family:"${this.loadedName}";src:${F}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,F),te}getPathGenerator(ue,F){if(void 0!==this.compiledGlyphs[F])return this.compiledGlyphs[F];let te;try{te=ue.get(this.loadedName+"_path_"+F)}catch(W){if(!this.ignoreErrors)throw W;return this._onUnsupportedFeature({featureId:l.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,l.warn)(`getPathGenerator - ignoring character: "${W}".`),this.compiledGlyphs[F]=function(M,S){}}if(this.isEvalSupported&&l.FeatureTest.isEvalSupported){const W=[];for(const M of te){const S=void 0!==M.args?M.args.join(","):"";W.push("c.",M.cmd,"(",S,");\n")}return this.compiledGlyphs[F]=new Function("c","size",W.join(""))}return this.compiledGlyphs[F]=function(W,M){for(const S of te)"scale"===S.cmd&&(S.args=[M,-M]),W[S.cmd].apply(W,S.args)}}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.AnnotationStorage=void 0;var l=ie(9),xe=ie(1);se.AnnotationStorage=class le{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Ae,ue){const F=this._storage.get(Ae);return void 0===F?ue:Object.assign(ue,F)}getRawValue(Ae){return this._storage.get(Ae)}setValue(Ae,ue){const F=this._storage.get(Ae);let te=!1;if(void 0!==F)for(const[W,M]of Object.entries(ue))F[W]!==M&&(te=!0,F[W]=M);else te=!0,this._storage.set(Ae,ue);te&&this._setModified()}getAll(){return this._storage.size>0?(0,xe.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const Ae=new l.MurmurHash3_64;for(const[ue,F]of this._storage)Ae.update(`${ue}:${JSON.stringify(F)}`);return Ae.hexdigest()}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.MurmurHash3_64=void 0;var l=ie(1);const xe=3285377520,le=4294901760,Ee=65535;se.MurmurHash3_64=class Ae{constructor(F){this.h1=F?4294967295&F:xe,this.h2=F?4294967295&F:xe}update(F){let te,W;if("string"==typeof F){te=new Uint8Array(2*F.length),W=0;for(let Y=0,H=F.length;Y<H;Y++){const q=F.charCodeAt(Y);q<=255?te[W++]=q:(te[W++]=q>>>8,te[W++]=255&q)}}else{if(!(0,l.isArrayBuffer)(F))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");te=F.slice(),W=te.byteLength}const M=W>>2,S=W-4*M,k=new Uint32Array(te.buffer,0,M);let A=0,x=0,L=this.h1,oe=this.h2;const B=3432918353,j=461845907,D=B&Ee,R=j&Ee;for(let Y=0;Y<M;Y++)1&Y?(A=k[Y],A=A*B&le|A*D&Ee,A=A<<15|A>>>17,A=A*j&le|A*R&Ee,L^=A,L=L<<13|L>>>19,L=5*L+3864292196):(x=k[Y],x=x*B&le|x*D&Ee,x=x<<15|x>>>17,x=x*j&le|x*R&Ee,oe^=x,oe=oe<<13|oe>>>19,oe=5*oe+3864292196);switch(A=0,S){case 3:A^=te[4*M+2]<<16;case 2:A^=te[4*M+1]<<8;case 1:A^=te[4*M],A=A*B&le|A*D&Ee,A=A<<15|A>>>17,A=A*j&le|A*R&Ee,1&M?L^=A:oe^=A}this.h1=L,this.h2=oe}hexdigest(){let F=this.h1,te=this.h2;F^=te>>>1,F=3981806797*F&le|36045*F&Ee,te=4283543511*te&le|(2950163797*(te<<16|F>>>16)&le)>>>16,F^=te>>>1,F=444984403*F&le|60499*F&Ee,te=3301882366*te&le|(3120437893*(te<<16|F>>>16)&le)>>>16,F^=te>>>1;const W=(F>>>0).toString(16),M=(te>>>0).toString(16);return W.padStart(8,"0")+M.padStart(8,"0")}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.CanvasGraphics=void 0;var l=ie(1),xe=ie(11),le=ie(12),Ee=ie(3),Ae=ie(5);const te=4096,A=16;function oe(ye){if(ye._transformStack&&(ye._transformStack=[]),!ye.mozCurrentTransform){ye._originalSave=ye.save,ye._originalRestore=ye.restore,ye._originalRotate=ye.rotate,ye._originalScale=ye.scale,ye._originalTranslate=ye.translate,ye._originalTransform=ye.transform,ye._originalSetTransform=ye.setTransform,ye._originalResetTransform=ye.resetTransform,ye._transformMatrix=ye._transformMatrix||[1,0,0,1,0,0],ye._transformStack=[];try{const N=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ye),"lineWidth");ye._setLineWidth=N.set,ye._getLineWidth=N.get,Object.defineProperty(ye,"lineWidth",{set:function(I){this._setLineWidth(1.000001*I)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ye,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ye,"mozCurrentTransformInverse",{get:function(){const[G,I,U,X,me,ae]=this._transformMatrix,be=G*X-I*U,ke=I*U-G*X;return[X/be,I/ke,U/ke,G/be,(X*me-U*ae)/ke,(I*me-G*ae)/be]}}),ye.save=function(){const G=this._transformMatrix;this._transformStack.push(G),this._transformMatrix=G.slice(0,6),this._originalSave()},ye.restore=function(){0===this._transformStack.length&&(0,l.warn)("Tried to restore a ctx when the stack was already empty.");const G=this._transformStack.pop();G&&(this._transformMatrix=G,this._originalRestore())},ye.translate=function(G,I){const U=this._transformMatrix;U[4]=U[0]*G+U[2]*I+U[4],U[5]=U[1]*G+U[3]*I+U[5],this._originalTranslate(G,I)},ye.scale=function(G,I){const U=this._transformMatrix;U[0]*=G,U[1]*=G,U[2]*=I,U[3]*=I,this._originalScale(G,I)},ye.transform=function(G,I,U,X,me,ae){const be=this._transformMatrix;this._transformMatrix=[be[0]*G+be[2]*I,be[1]*G+be[3]*I,be[0]*U+be[2]*X,be[1]*U+be[3]*X,be[0]*me+be[2]*ae+be[4],be[1]*me+be[3]*ae+be[5]],ye._originalTransform(G,I,U,X,me,ae)},ye.setTransform=function(G,I,U,X,me,ae){this._transformMatrix=[G,I,U,X,me,ae],ye._originalSetTransform(G,I,U,X,me,ae)},ye.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ye._originalResetTransform()},ye.rotate=function(G){const I=Math.cos(G),U=Math.sin(G),X=this._transformMatrix;this._transformMatrix=[X[0]*I+X[2]*U,X[1]*I+X[3]*U,X[0]*-U+X[2]*I,X[1]*-U+X[3]*I,X[4],X[5]],this._originalRotate(G)}}}class B{constructor(N){this.canvasFactory=N,this.cache=Object.create(null)}getCanvas(N,G,I,U){let X;return void 0!==this.cache[N]?(X=this.cache[N],this.canvasFactory.reset(X,G,I),X.context.setTransform(1,0,0,1,0,0)):(X=this.canvasFactory.create(G,I),this.cache[N]=X),U&&oe(X.context),X}delete(N){delete this.cache[N]}clear(){for(const N in this.cache)this.canvasFactory.destroy(this.cache[N]),delete this.cache[N]}}function j(ye,N,G,I,U,X,me,ae,be,ke){const[Be,Fe,Ge,Ye,nt,wt]=ye.mozCurrentTransform;if(0===Fe&&0===Ge){const rt=Math.round(me*Be+nt),Oe=Math.round(ae*Ye+wt),It=Math.abs(Math.round((me+be)*Be+nt)-rt)||1,_t=Math.abs(Math.round((ae+ke)*Ye+wt)-Oe)||1;return ye.setTransform(Math.sign(Be),0,0,Math.sign(Ye),rt,Oe),ye.drawImage(N,G,I,U,X,0,0,It,_t),ye.setTransform(Be,Fe,Ge,Ye,nt,wt),[It,_t]}if(0===Be&&0===Ye){const rt=Math.round(ae*Ge+nt),Oe=Math.round(me*Fe+wt),It=Math.abs(Math.round((ae+ke)*Ge+nt)-rt)||1,_t=Math.abs(Math.round((me+be)*Fe+wt)-Oe)||1;return ye.setTransform(0,Math.sign(Fe),Math.sign(Ge),0,rt,Oe),ye.drawImage(N,G,I,U,X,0,0,_t,It),ye.setTransform(Be,Fe,Ge,Ye,nt,wt),[_t,It]}return ye.drawImage(N,G,I,U,X,me,ae,be,ke),[Math.hypot(Be,Fe)*be,Math.hypot(Ge,Ye)*ke]}class R{constructor(N,G){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=l.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=l.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,N,G])}clone(){const N=Object.create(this);return N.clipBox=this.clipBox.slice(),N}setCurrentPoint(N,G){this.x=N,this.y=G}updatePathMinMax(N,G,I){[G,I]=l.Util.applyTransform([G,I],N),this.minX=Math.min(this.minX,G),this.minY=Math.min(this.minY,I),this.maxX=Math.max(this.maxX,G),this.maxY=Math.max(this.maxY,I)}updateRectMinMax(N,G){const I=l.Util.applyTransform(G,N),U=l.Util.applyTransform(G.slice(2),N);this.minX=Math.min(this.minX,I[0],U[0]),this.minY=Math.min(this.minY,I[1],U[1]),this.maxX=Math.max(this.maxX,I[0],U[0]),this.maxY=Math.max(this.maxY,I[1],U[1])}updateScalingPathMinMax(N,G){l.Util.scaleMinMax(N,G),this.minX=Math.min(this.minX,G[0]),this.maxX=Math.max(this.maxX,G[1]),this.minY=Math.min(this.minY,G[2]),this.maxY=Math.max(this.maxY,G[3])}updateCurvePathMinMax(N,G,I,U,X,me,ae,be,ke,Be){const Fe=l.Util.bezierBoundingBox(G,I,U,X,me,ae,be,ke);if(Be)return Be[0]=Math.min(Be[0],Fe[0],Fe[2]),Be[1]=Math.max(Be[1],Fe[0],Fe[2]),Be[2]=Math.min(Be[2],Fe[1],Fe[3]),void(Be[3]=Math.max(Be[3],Fe[1],Fe[3]));this.updateRectMinMax(N,Fe)}getPathBoundingBox(N=xe.PathType.FILL,G=null){const I=[this.minX,this.minY,this.maxX,this.maxY];if(N===xe.PathType.STROKE){G||(0,l.unreachable)("Stroke bounding box must include transform.");const U=l.Util.singularValueDecompose2dScale(G),X=U[0]*this.lineWidth/2,me=U[1]*this.lineWidth/2;I[0]-=X,I[1]-=me,I[2]+=X,I[3]+=me}return I}updateClipFromPath(){const N=l.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(N||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(N){this.clipBox=N,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(N=xe.PathType.FILL,G=null){return l.Util.intersect(this.clipBox,this.getPathBoundingBox(N,G))}}function Y(ye,N,G=null){if(typeof ImageData<"u"&&N instanceof ImageData)return void ye.putImageData(N,0,0);const I=N.height,U=N.width,X=I%A,me=(I-X)/A,ae=0===X?me:me+1,be=ye.createImageData(U,A);let Be,ke=0;const Fe=N.data,Ge=be.data;let Ye,nt,wt,Lt,Xe,je,rt,pe;if(G)switch(G.length){case 1:Xe=G[0],je=G[0],rt=G[0],pe=G[0];break;case 4:Xe=G[0],je=G[1],rt=G[2],pe=G[3]}if(N.kind===l.ImageKind.GRAYSCALE_1BPP){const Oe=Fe.byteLength,We=new Uint32Array(Ge.buffer,0,Ge.byteLength>>2),It=We.length,yt=U+7>>3;let _t=4294967295,St=l.FeatureTest.isLittleEndian?4278190080:255;for(pe&&255===pe[0]&&0===pe[255]&&([_t,St]=[St,_t]),Ye=0;Ye<ae;Ye++){for(wt=Ye<me?A:X,Be=0,nt=0;nt<wt;nt++){const ft=Oe-ke;let Mt=0;const Zt=ft>yt?U:8*ft-7,bn=-8&Zt;let Ke=0,Te=0;for(;Mt<bn;Mt+=8)Te=Fe[ke++],We[Be++]=128&Te?_t:St,We[Be++]=64&Te?_t:St,We[Be++]=32&Te?_t:St,We[Be++]=16&Te?_t:St,We[Be++]=8&Te?_t:St,We[Be++]=4&Te?_t:St,We[Be++]=2&Te?_t:St,We[Be++]=1&Te?_t:St;for(;Mt<Zt;Mt++)0===Ke&&(Te=Fe[ke++],Ke=128),We[Be++]=Te&Ke?_t:St,Ke>>=1}for(;Be<It;)We[Be++]=0;ye.putImageData(be,0,Ye*A)}}else if(N.kind===l.ImageKind.RGBA_32BPP){const Oe=!!(Xe||je||rt);for(nt=0,Lt=U*A*4,Ye=0;Ye<me;Ye++){if(Ge.set(Fe.subarray(ke,ke+Lt)),ke+=Lt,Oe)for(let We=0;We<Lt;We+=4)Xe&&(Ge[We+0]=Xe[Ge[We+0]]),je&&(Ge[We+1]=je[Ge[We+1]]),rt&&(Ge[We+2]=rt[Ge[We+2]]);ye.putImageData(be,0,nt),nt+=A}if(Ye<ae){if(Lt=U*X*4,Ge.set(Fe.subarray(ke,ke+Lt)),Oe)for(let We=0;We<Lt;We+=4)Xe&&(Ge[We+0]=Xe[Ge[We+0]]),je&&(Ge[We+1]=je[Ge[We+1]]),rt&&(Ge[We+2]=rt[Ge[We+2]]);ye.putImageData(be,0,nt)}}else{if(N.kind!==l.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${N.kind}`);{const Oe=!!(Xe||je||rt);for(wt=A,Lt=U*wt,Ye=0;Ye<ae;Ye++){for(Ye>=me&&(wt=X,Lt=U*wt),Be=0,nt=Lt;nt--;)Ge[Be++]=Fe[ke++],Ge[Be++]=Fe[ke++],Ge[Be++]=Fe[ke++],Ge[Be++]=255;if(Oe)for(let We=0;We<Be;We+=4)Xe&&(Ge[We+0]=Xe[Ge[We+0]]),je&&(Ge[We+1]=je[Ge[We+1]]),rt&&(Ge[We+2]=rt[Ge[We+2]]);ye.putImageData(be,0,Ye*A)}}}}function H(ye,N){if(N.bitmap)return void ye.drawImage(N.bitmap,0,0);const G=N.height,I=N.width,U=G%A,X=(G-U)/A,me=0===U?X:X+1,ae=ye.createImageData(I,A);let be=0;const ke=N.data,Be=ae.data;for(let Fe=0;Fe<me;Fe++){const Ge=Fe<X?A:U;({srcPos:be}=(0,le.applyMaskImageData)({src:ke,srcPos:be,dest:Be,width:I,height:Ge})),ye.putImageData(ae,0,Fe*A)}}function q(ye,N){const G=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let I=0,U=G.length;I<U;I++){const X=G[I];void 0!==ye[X]&&(N[X]=ye[X])}void 0!==ye.setLineDash&&(N.setLineDash(ye.getLineDash()),N.lineDashOffset=ye.lineDashOffset)}function fe(ye,N){ye.strokeStyle=ye.fillStyle=N||"#000000",ye.fillRule="nonzero",ye.globalAlpha=1,ye.lineWidth=1,ye.lineCap="butt",ye.lineJoin="miter",ye.miterLimit=10,ye.globalCompositeOperation="source-over",ye.font="10px sans-serif",void 0!==ye.setLineDash&&(ye.setLineDash([]),ye.lineDashOffset=0)}function _e(ye,N,G,I){const U=ye.length;for(let X=3;X<U;X+=4){const me=ye[X];if(0===me)ye[X-3]=N,ye[X-2]=G,ye[X-1]=I;else if(me<255){const ae=255-me;ye[X-3]=ye[X-3]*me+N*ae>>8,ye[X-2]=ye[X-2]*me+G*ae>>8,ye[X-1]=ye[X-1]*me+I*ae>>8}}}function z(ye,N,G){const I=ye.length;for(let X=3;X<I;X+=4)N[X]=N[X]*(G?G[ye[X]]:ye[X])*.00392156862745098|0}function ge(ye,N,G){const I=ye.length;for(let U=3;U<I;U+=4){const X=77*ye[U-3]+152*ye[U-2]+28*ye[U-1];N[U]=G?N[U]*G[X>>8]>>8:N[U]*X>>16}}function de(ye,N){const G=l.Util.singularValueDecompose2dScale(ye);G[0]=Math.fround(G[0]),G[1]=Math.fround(G[1]);const I=Math.fround((globalThis.devicePixelRatio||1)*Ae.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==N?N:G[0]<=I||G[1]<=I}const re=["butt","round","square"],Ie=["miter","round","bevel"],Me={},Ne={};class et{constructor(N,G,I,U,X,me,ae,be){this.ctx=N,this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=G,this.objs=I,this.canvasFactory=U,this.imageLayer=X,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=me,this.cachedCanvases=new B(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ae,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=be?.background||null,this.foregroundColor=be?.foreground||null,N&&oe(N),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(N,G=null){return"string"==typeof N?N.startsWith("g_")?this.commonObjs.get(N):this.objs.get(N):G}beginDrawing({transform:N,viewport:G,transparency:I=!1,background:U=null}){const X=this.ctx.canvas.width,me=this.ctx.canvas.height,ae=U||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const be=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ke=this.backgroundColor=this.ctx.fillStyle;let Be=!0,Fe=ae;if(this.ctx.fillStyle=ae,Fe=this.ctx.fillStyle,Be="string"==typeof Fe&&/^#[0-9A-Fa-f]{6}$/.test(Fe),"#000000"===be&&"#ffffff"===ke||be===ke||!Be)this.foregroundColor=this.backgroundColor=null;else{const Ge=parseInt(Fe.slice(1),16),nt=(Ge&&65280)>>8,wt=Ge&&255,Lt=je=>(je/=255)<=.03928?je/12.92:((je+.055)/1.055)**2.4,Xe=Math.round(.2126*Lt((Ge&&16711680)>>16)+.7152*Lt(nt)+.0722*Lt(wt));this.selectColor=(je,rt,pe)=>{const Oe=.2126*Lt(je)+.7152*Lt(rt)+.0722*Lt(pe);return Math.round(Oe)===Xe?ke:be}}}if(this.ctx.fillStyle=this.backgroundColor||ae,this.ctx.fillRect(0,0,X,me),this.ctx.restore(),I){const be=this.cachedCanvases.getCanvas("transparent",X,me,!0);this.compositeCtx=this.ctx,this.transparentCanvas=be.canvas,this.ctx=be.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),fe(this.ctx,this.foregroundColor),N&&(this.ctx.transform.apply(this.ctx,N),this.outputScaleX=N[0],this.outputScaleY=N[0]),this.ctx.transform.apply(this.ctx,G.transform),this.viewportScale=G.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(N,G,I,U){const X=N.argsArray,me=N.fnArray;let ae=G||0;const be=X.length;if(be===ae)return ae;const ke=be-ae>10&&"function"==typeof I,Be=ke?Date.now()+15:0;let Fe=0;const Ge=this.commonObjs,Ye=this.objs;let nt;for(;;){if(void 0!==U&&ae===U.nextBreakPoint)return U.breakIt(ae,I),ae;if(nt=me[ae],nt!==l.OPS.dependency)this[nt].apply(this,X[ae]);else for(const wt of X[ae]){const Lt=wt.startsWith("g_")?Ge:Ye;if(!Lt.has(wt))return Lt.get(wt,I),ae}if(ae++,ae===be)return ae;if(ke&&++Fe>10){if(Date.now()>Be)return I(),ae;Fe=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const N of this._cachedBitmapsMap.values()){for(const G of N.values())typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement&&(G.width=G.height=0);N.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(N,G){const I=N.width,U=N.height;let Be,Fe,X=Math.max(Math.hypot(G[0],G[1]),1),me=Math.max(Math.hypot(G[2],G[3]),1),ae=I,be=U,ke="prescale1";for(;X>2&&ae>1||me>2&&be>1;){let Ge=ae,Ye=be;X>2&&ae>1&&(Ge=Math.ceil(ae/2),X/=ae/Ge),me>2&&be>1&&(Ye=Math.ceil(be/2),me/=be/Ye),Be=this.cachedCanvases.getCanvas(ke,Ge,Ye,!1),Fe=Be.context,Fe.clearRect(0,0,Ge,Ye),Fe.drawImage(N,0,0,ae,be,0,0,Ge,Ye),N=Be.canvas,ae=Ge,be=Ye,ke="prescale1"===ke?"prescale2":"prescale1"}return{img:N,paintWidth:ae,paintHeight:be}}_createMaskCanvas(N){const G=this.ctx,{width:I,height:U}=N,X=this.current.fillColor,me=this.current.patternFill,ae=G.mozCurrentTransform;let be,ke,Be,Fe;if((N.bitmap||N.data)&&N.count>1){const It=N.bitmap||N.data.buffer,yt=ae.slice(0,4);ke=JSON.stringify(me?yt:[yt,X]),be=this._cachedBitmapsMap.get(It),be||(be=new Map,this._cachedBitmapsMap.set(It,be));const _t=be.get(ke);if(_t&&!me)return{canvas:_t,offsetX:Math.round(Math.min(ae[0],ae[2])+ae[4]),offsetY:Math.round(Math.min(ae[1],ae[3])+ae[5])};Be=_t}Be||(Fe=this.cachedCanvases.getCanvas("maskCanvas",I,U,!1),H(Fe.context,N));let Ge=l.Util.transform(ae,[1/I,0,0,-1/U,0,0]);Ge=l.Util.transform(Ge,[1,0,0,1,0,-U]);const Ye=l.Util.applyTransform([0,0],Ge),nt=l.Util.applyTransform([I,U],Ge),wt=l.Util.normalizeRect([Ye[0],Ye[1],nt[0],nt[1]]),Lt=Math.round(wt[2]-wt[0])||1,Xe=Math.round(wt[3]-wt[1])||1,je=this.cachedCanvases.getCanvas("fillCanvas",Lt,Xe,!0),rt=je.context,pe=Math.min(Ye[0],nt[0]),Oe=Math.min(Ye[1],nt[1]);rt.translate(-pe,-Oe),rt.transform.apply(rt,Ge),Be||(Be=this._scaleImage(Fe.canvas,rt.mozCurrentTransformInverse),Be=Be.img,be&&me&&be.set(ke,Be)),rt.imageSmoothingEnabled=de(rt.mozCurrentTransform,N.interpolate),j(rt,Be,0,0,Be.width,Be.height,0,0,I,U),rt.globalCompositeOperation="source-in";const We=l.Util.transform(rt.mozCurrentTransformInverse,[1,0,0,1,-pe,-Oe]);return rt.fillStyle=me?X.getPattern(G,this,We,xe.PathType.FILL):X,rt.fillRect(0,0,I,U),be&&!me&&(this.cachedCanvases.delete("fillCanvas"),be.set(ke,je.canvas)),{canvas:je.canvas,offsetX:Math.round(pe),offsetY:Math.round(Oe)}}setLineWidth(N){N!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=N,this.ctx.lineWidth=N}setLineCap(N){this.ctx.lineCap=re[N]}setLineJoin(N){this.ctx.lineJoin=Ie[N]}setMiterLimit(N){this.ctx.miterLimit=N}setDash(N,G){const I=this.ctx;void 0!==I.setLineDash&&(I.setLineDash(N),I.lineDashOffset=G)}setRenderingIntent(N){}setFlatness(N){}setGState(N){for(let G=0,I=N.length;G<I;G++){const U=N[G],me=U[1];switch(U[0]){case"LW":this.setLineWidth(me);break;case"LC":this.setLineCap(me);break;case"LJ":this.setLineJoin(me);break;case"ML":this.setMiterLimit(me);break;case"D":this.setDash(me[0],me[1]);break;case"RI":this.setRenderingIntent(me);break;case"FL":this.setFlatness(me);break;case"Font":this.setFont(me[0],me[1]);break;case"CA":this.current.strokeAlpha=U[1];break;case"ca":this.current.fillAlpha=U[1],this.ctx.globalAlpha=U[1];break;case"BM":this.ctx.globalCompositeOperation=me;break;case"SMask":this.current.activeSMask=me?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=me}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const N=this.inSMaskMode;this.current.activeSMask&&!N?this.beginSMaskMode():!this.current.activeSMask&&N&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const U=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=U.context;const X=this.ctx;X.setTransform.apply(X,this.suspendedCtx.mozCurrentTransform),q(this.suspendedCtx,X),function L(ye,N){if(ye._removeMirroring)throw new Error("Context is already forwarding operations.");ye.__originalSave=ye.save,ye.__originalRestore=ye.restore,ye.__originalRotate=ye.rotate,ye.__originalScale=ye.scale,ye.__originalTranslate=ye.translate,ye.__originalTransform=ye.transform,ye.__originalSetTransform=ye.setTransform,ye.__originalResetTransform=ye.resetTransform,ye.__originalClip=ye.clip,ye.__originalMoveTo=ye.moveTo,ye.__originalLineTo=ye.lineTo,ye.__originalBezierCurveTo=ye.bezierCurveTo,ye.__originalRect=ye.rect,ye.__originalClosePath=ye.closePath,ye.__originalBeginPath=ye.beginPath,ye._removeMirroring=()=>{ye.save=ye.__originalSave,ye.restore=ye.__originalRestore,ye.rotate=ye.__originalRotate,ye.scale=ye.__originalScale,ye.translate=ye.__originalTranslate,ye.transform=ye.__originalTransform,ye.setTransform=ye.__originalSetTransform,ye.resetTransform=ye.__originalResetTransform,ye.clip=ye.__originalClip,ye.moveTo=ye.__originalMoveTo,ye.lineTo=ye.__originalLineTo,ye.bezierCurveTo=ye.__originalBezierCurveTo,ye.rect=ye.__originalRect,ye.closePath=ye.__originalClosePath,ye.beginPath=ye.__originalBeginPath,delete ye._removeMirroring},ye.save=function(){N.save(),this.__originalSave()},ye.restore=function(){N.restore(),this.__originalRestore()},ye.translate=function(I,U){N.translate(I,U),this.__originalTranslate(I,U)},ye.scale=function(I,U){N.scale(I,U),this.__originalScale(I,U)},ye.transform=function(I,U,X,me,ae,be){N.transform(I,U,X,me,ae,be),this.__originalTransform(I,U,X,me,ae,be)},ye.setTransform=function(I,U,X,me,ae,be){N.setTransform(I,U,X,me,ae,be),this.__originalSetTransform(I,U,X,me,ae,be)},ye.resetTransform=function(){N.resetTransform(),this.__originalResetTransform()},ye.rotate=function(I){N.rotate(I),this.__originalRotate(I)},ye.clip=function(I){N.clip(I),this.__originalClip(I)},ye.moveTo=function(G,I){N.moveTo(G,I),this.__originalMoveTo(G,I)},ye.lineTo=function(G,I){N.lineTo(G,I),this.__originalLineTo(G,I)},ye.bezierCurveTo=function(G,I,U,X,me,ae){N.bezierCurveTo(G,I,U,X,me,ae),this.__originalBezierCurveTo(G,I,U,X,me,ae)},ye.rect=function(G,I,U,X){N.rect(G,I,U,X),this.__originalRect(G,I,U,X)},ye.closePath=function(){N.closePath(),this.__originalClosePath()},ye.beginPath=function(){N.beginPath(),this.__originalBeginPath()}}(X,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),q(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(N){this.current.activeSMask&&(N?(N[0]=Math.floor(N[0]),N[1]=Math.floor(N[1]),N[2]=Math.ceil(N[2]),N[3]=Math.ceil(N[3])):N=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function J(ye,N,G,I){const U=I[0],X=I[1],me=I[2]-U,ae=I[3]-X;0===me||0===ae||(function ce(ye,N,G,I,U,X,me,ae,be,ke,Be){const Fe=!!X,Ge=Fe?X[0]:0,Ye=Fe?X[1]:0,nt=Fe?X[2]:0;let wt;wt="Luminosity"===U?ge:z;const Xe=Math.min(I,Math.ceil(1048576/G));for(let je=0;je<I;je+=Xe){const rt=Math.min(Xe,I-je),pe=ye.getImageData(ae-ke,je+(be-Be),G,rt),Oe=N.getImageData(ae,je+be,G,rt);Fe&&_e(pe.data,Ge,Ye,nt),wt(pe.data,Oe.data,me),N.putImageData(Oe,ae,je+be)}}(N.context,G,me,ae,N.subtype,N.backdrop,N.transferMap,U,X,N.offsetX,N.offsetY),ye.save(),ye.globalAlpha=1,ye.globalCompositeOperation="source-over",ye.setTransform(1,0,0,1,0,0),ye.drawImage(G.canvas,0,0),ye.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,N),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(q(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const N=this.current;this.stateStack.push(N),this.current=N.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),q(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(N,G,I,U,X,me){this.ctx.transform(N,G,I,U,X,me),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(N,G,I){const U=this.ctx,X=this.current;let be,ke,me=X.x,ae=X.y;const Be=U.mozCurrentTransform,Fe=0===Be[0]&&0===Be[3]||0===Be[1]&&0===Be[2],Ge=Fe?I.slice(0):null;for(let Ye=0,nt=0,wt=N.length;Ye<wt;Ye++)switch(0|N[Ye]){case l.OPS.rectangle:me=G[nt++],ae=G[nt++];const Lt=G[nt++],Xe=G[nt++],je=me+Lt,rt=ae+Xe;U.moveTo(me,ae),0===Lt||0===Xe?U.lineTo(je,rt):(U.lineTo(je,ae),U.lineTo(je,rt),U.lineTo(me,rt)),Fe||X.updateRectMinMax(Be,[me,ae,je,rt]),U.closePath();break;case l.OPS.moveTo:me=G[nt++],ae=G[nt++],U.moveTo(me,ae),Fe||X.updatePathMinMax(Be,me,ae);break;case l.OPS.lineTo:me=G[nt++],ae=G[nt++],U.lineTo(me,ae),Fe||X.updatePathMinMax(Be,me,ae);break;case l.OPS.curveTo:be=me,ke=ae,me=G[nt+4],ae=G[nt+5],U.bezierCurveTo(G[nt],G[nt+1],G[nt+2],G[nt+3],me,ae),X.updateCurvePathMinMax(Be,be,ke,G[nt],G[nt+1],G[nt+2],G[nt+3],me,ae,Ge),nt+=6;break;case l.OPS.curveTo2:be=me,ke=ae,U.bezierCurveTo(me,ae,G[nt],G[nt+1],G[nt+2],G[nt+3]),X.updateCurvePathMinMax(Be,be,ke,me,ae,G[nt],G[nt+1],G[nt+2],G[nt+3],Ge),me=G[nt+2],ae=G[nt+3],nt+=4;break;case l.OPS.curveTo3:be=me,ke=ae,me=G[nt+2],ae=G[nt+3],U.bezierCurveTo(G[nt],G[nt+1],me,ae,me,ae),X.updateCurvePathMinMax(Be,be,ke,G[nt],G[nt+1],me,ae,me,ae,Ge),nt+=4;break;case l.OPS.closePath:U.closePath()}Fe&&X.updateScalingPathMinMax(Be,Ge),X.setCurrentPoint(me,ae)}closePath(){this.ctx.closePath()}stroke(N){N=!(typeof N<"u")||N;const G=this.ctx,I=this.current.strokeColor;G.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof I&&I?.getPattern?(G.save(),G.strokeStyle=I.getPattern(G,this,G.mozCurrentTransformInverse,xe.PathType.STROKE),this.rescaleAndStroke(!1),G.restore()):this.rescaleAndStroke(!0)),N&&this.consumePath(this.current.getClippedPathBoundingBox()),G.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(N){N=!(typeof N<"u")||N;const G=this.ctx,I=this.current.fillColor;let X=!1;this.current.patternFill&&(G.save(),G.fillStyle=I.getPattern(G,this,G.mozCurrentTransformInverse,xe.PathType.FILL),X=!0);const me=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==me&&(this.pendingEOFill?(G.fill("evenodd"),this.pendingEOFill=!1):G.fill()),X&&G.restore(),N&&this.consumePath(me)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Me}eoClip(){this.pendingClip=Ne}beginText(){this.current.textMatrix=l.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const N=this.pendingTextPaths,G=this.ctx;if(void 0!==N){G.save(),G.beginPath();for(let I=0;I<N.length;I++){const U=N[I];G.setTransform.apply(G,U.transform),G.translate(U.x,U.y),U.addToPath(G,U.fontSize)}G.restore(),G.clip(),G.beginPath(),delete this.pendingTextPaths}else G.beginPath()}setCharSpacing(N){this.current.charSpacing=N}setWordSpacing(N){this.current.wordSpacing=N}setHScale(N){this.current.textHScale=N/100}setLeading(N){this.current.leading=-N}setFont(N,G){const I=this.commonObjs.get(N),U=this.current;if(!I)throw new Error(`Can't find font for ${N}`);if(U.fontMatrix=I.fontMatrix||l.FONT_IDENTITY_MATRIX,(0===U.fontMatrix[0]||0===U.fontMatrix[3])&&(0,l.warn)("Invalid font matrix for font "+N),G<0?(G=-G,U.fontDirection=-1):U.fontDirection=1,this.current.font=I,this.current.fontSize=G,I.isType3Font)return;let me="normal";I.black?me="900":I.bold&&(me="bold");const ae=I.italic?"italic":"normal",be=`"${I.loadedName||"sans-serif"}", ${I.fallbackName}`;let ke=G;G<16?ke=16:G>100&&(ke=100),this.current.fontSizeScale=G/ke,this.ctx.font=`${ae} ${me} ${ke}px ${be}`}setTextRenderingMode(N){this.current.textRenderingMode=N}setTextRise(N){this.current.textRise=N}moveText(N,G){this.current.x=this.current.lineX+=N,this.current.y=this.current.lineY+=G}setLeadingMoveText(N,G){this.setLeading(-G),this.moveText(N,G)}setTextMatrix(N,G,I,U,X,me){this.current.textMatrix=[N,G,I,U,X,me],this.current.textMatrixScale=Math.hypot(N,G),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(N,G,I,U){const X=this.ctx,me=this.current,ae=me.font,be=me.textRenderingMode,ke=me.fontSize/me.fontSizeScale,Be=be&l.TextRenderingMode.FILL_STROKE_MASK,Fe=!!(be&l.TextRenderingMode.ADD_TO_PATH_FLAG),Ge=me.patternFill&&!ae.missingFile;let Ye;(ae.disableFontFace||Fe||Ge)&&(Ye=ae.getPathGenerator(this.commonObjs,N)),ae.disableFontFace||Ge?(X.save(),X.translate(G,I),X.beginPath(),Ye(X,ke),U&&X.setTransform.apply(X,U),(Be===l.TextRenderingMode.FILL||Be===l.TextRenderingMode.FILL_STROKE)&&X.fill(),(Be===l.TextRenderingMode.STROKE||Be===l.TextRenderingMode.FILL_STROKE)&&X.stroke(),X.restore()):((Be===l.TextRenderingMode.FILL||Be===l.TextRenderingMode.FILL_STROKE)&&X.fillText(N,G,I),(Be===l.TextRenderingMode.STROKE||Be===l.TextRenderingMode.FILL_STROKE)&&X.strokeText(N,G,I)),Fe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:X.mozCurrentTransform,x:G,y:I,fontSize:ke,addToPath:Ye})}get isFontSubpixelAAEnabled(){const{context:N}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);N.scale(1.5,1),N.fillText("I",0,10);const G=N.getImageData(0,0,10,10).data;let I=!1;for(let U=3;U<G.length;U+=4)if(G[U]>0&&G[U]<255){I=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",I)}showText(N){const G=this.current,I=G.font;if(I.isType3Font)return this.showType3Text(N);const U=G.fontSize;if(0===U)return;const X=this.ctx,me=G.fontSizeScale,ae=G.charSpacing,be=G.wordSpacing,ke=G.fontDirection,Be=G.textHScale*ke,Fe=N.length,Ge=I.vertical,Ye=Ge?1:-1,nt=I.defaultVMetrics,wt=U*G.fontMatrix[0],Lt=G.textRenderingMode===l.TextRenderingMode.FILL&&!I.disableFontFace&&!G.patternFill;let Xe;if(X.save(),X.transform.apply(X,G.textMatrix),X.translate(G.x,G.y+G.textRise),X.scale(Be,ke>0?-1:1),G.patternFill){X.save();const We=G.fillColor.getPattern(X,this,X.mozCurrentTransformInverse,xe.PathType.FILL);Xe=X.mozCurrentTransform,X.restore(),X.fillStyle=We}let je=G.lineWidth;const rt=G.textMatrixScale;if(0===rt||0===je){const We=G.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;(We===l.TextRenderingMode.STROKE||We===l.TextRenderingMode.FILL_STROKE)&&(je=this.getSinglePixelWidth())}else je/=rt;1!==me&&(X.scale(me,me),je/=me),X.lineWidth=je;let Oe,pe=0;for(Oe=0;Oe<Fe;++Oe){const We=N[Oe];if("number"==typeof We){pe+=Ye*We*U/1e3;continue}let It=!1;const yt=(We.isSpace?be:0)+ae,_t=We.fontChar,St=We.accent;let ft,Mt,bn,Zt=We.width;if(Ge){const Ke=We.vmetric||nt,Te=-(We.vmetric?Ke[1]:.5*Zt)*wt;Zt=Ke?-Ke[0]:Zt,ft=Te/me,Mt=(pe+Ke[2]*wt)/me}else ft=pe/me,Mt=0;if(I.remeasure&&Zt>0){const Ke=1e3*X.measureText(_t).width/U*me;if(Zt<Ke&&this.isFontSubpixelAAEnabled){const Te=Zt/Ke;It=!0,X.save(),X.scale(Te,1),ft/=Te}else Zt!==Ke&&(ft+=(Zt-Ke)/2e3*U/me)}this.contentVisible&&(We.isInFont||I.missingFile)&&(Lt&&!St?X.fillText(_t,ft,Mt):(this.paintChar(_t,ft,Mt,Xe),St&&this.paintChar(St.fontChar,ft+U*St.offset.x/me,Mt-U*St.offset.y/me,Xe))),bn=Ge?Zt*wt-yt*ke:Zt*wt+yt*ke,pe+=bn,It&&X.restore()}Ge?G.y-=pe:G.x+=pe*Be,X.restore(),this.compose()}showType3Text(N){const G=this.ctx,I=this.current,U=I.font,X=I.fontSize,me=I.fontDirection,ae=U.vertical?1:-1,be=I.charSpacing,ke=I.wordSpacing,Be=I.textHScale*me,Fe=I.fontMatrix||l.FONT_IDENTITY_MATRIX,Ge=N.length;let nt,wt,Lt,Xe;if(I.textRenderingMode!==l.TextRenderingMode.INVISIBLE&&0!==X){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,G.save(),G.transform.apply(G,I.textMatrix),G.translate(I.x,I.y),G.scale(Be,me),nt=0;nt<Ge;++nt){if(wt=N[nt],"number"==typeof wt){Xe=ae*wt*X/1e3,this.ctx.translate(Xe,0),I.x+=Xe*Be;continue}const je=(wt.isSpace?ke:0)+be,rt=U.charProcOperatorList[wt.operatorListId];rt?(this.contentVisible&&(this.processingType3=wt,this.save(),G.scale(X,X),G.transform.apply(G,Fe),this.executeOperatorList(rt),this.restore()),Lt=l.Util.applyTransform([wt.width,0],Fe)[0]*X+je,G.translate(Lt,0),I.x+=Lt*Be):(0,l.warn)(`Type3 character "${wt.operatorListId}" is not available.`)}G.restore(),this.processingType3=null}}setCharWidth(N,G){}setCharWidthAndBounds(N,G,I,U,X,me){this.ctx.rect(I,U,X-I,me-U),this.ctx.clip(),this.endPath()}getColorN_Pattern(N){let G;if("TilingPattern"===N[0]){const I=N[1],U=this.baseTransform||this.ctx.mozCurrentTransform.slice();G=new xe.TilingPattern(N,I,this.ctx,{createCanvasGraphics:me=>new et(me,this.commonObjs,this.objs,this.canvasFactory)},U)}else G=this._getPattern(N[1],N[2]);return G}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(N,G,I){const U=this.selectColor?.(N,G,I)||l.Util.makeHexColor(N,G,I);this.ctx.strokeStyle=U,this.current.strokeColor=U}setFillRGBColor(N,G,I){const U=this.selectColor?.(N,G,I)||l.Util.makeHexColor(N,G,I);this.ctx.fillStyle=U,this.current.fillColor=U,this.current.patternFill=!1}_getPattern(N,G=null){let I;return this.cachedPatterns.has(N)?I=this.cachedPatterns.get(N):(I=(0,xe.getShadingPattern)(this.objs.get(N)),this.cachedPatterns.set(N,I)),G&&(I.matrix=G),I}shadingFill(N){if(!this.contentVisible)return;const G=this.ctx;this.save();const I=this._getPattern(N);G.fillStyle=I.getPattern(G,this,G.mozCurrentTransformInverse,xe.PathType.SHADING);const U=G.mozCurrentTransformInverse;if(U){const X=G.canvas,me=X.width,ae=X.height,be=l.Util.applyTransform([0,0],U),ke=l.Util.applyTransform([0,ae],U),Be=l.Util.applyTransform([me,0],U),Fe=l.Util.applyTransform([me,ae],U),Ge=Math.min(be[0],ke[0],Be[0],Fe[0]),Ye=Math.min(be[1],ke[1],Be[1],Fe[1]),nt=Math.max(be[0],ke[0],Be[0],Fe[0]),wt=Math.max(be[1],ke[1],Be[1],Fe[1]);this.ctx.fillRect(Ge,Ye,nt-Ge,wt-Ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,l.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,l.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(N,G){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(N)&&6===N.length&&this.transform.apply(this,N),this.baseTransform=this.ctx.mozCurrentTransform,G)&&(this.ctx.rect(G[0],G[1],G[2]-G[0],G[3]-G[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,G),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(N){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const G=this.ctx;N.isolated||(0,l.info)("TODO: Support non-isolated groups."),N.knockout&&(0,l.warn)("Knockout groups not supported.");const I=G.mozCurrentTransform;if(N.matrix&&G.transform.apply(G,N.matrix),!N.bbox)throw new Error("Bounding box is required.");let U=l.Util.getAxialAlignedBoundingBox(N.bbox,G.mozCurrentTransform);U=l.Util.intersect(U,[0,0,G.canvas.width,G.canvas.height])||[0,0,0,0];const me=Math.floor(U[0]),ae=Math.floor(U[1]);let be=Math.max(Math.ceil(U[2])-me,1),ke=Math.max(Math.ceil(U[3])-ae,1),Be=1,Fe=1;be>te&&(Be=be/te,be=te),ke>te&&(Fe=ke/te,ke=te),this.current.startNewPathAndClipBox([0,0,be,ke]);let Ge="groupAt"+this.groupLevel;N.smask&&(Ge+="_smask_"+this.smaskCounter++%2);const Ye=this.cachedCanvases.getCanvas(Ge,be,ke,!0),nt=Ye.context;nt.scale(1/Be,1/Fe),nt.translate(-me,-ae),nt.transform.apply(nt,I),N.smask?this.smaskStack.push({canvas:Ye.canvas,context:nt,offsetX:me,offsetY:ae,scaleX:Be,scaleY:Fe,subtype:N.smask.subtype,backdrop:N.smask.backdrop,transferMap:N.smask.transferMap||null,startTransformInverse:null}):(G.setTransform(1,0,0,1,0,0),G.translate(me,ae),G.scale(Be,Fe),G.save()),q(G,nt),this.ctx=nt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(G),this.groupLevel++}endGroup(N){if(!this.contentVisible)return;this.groupLevel--;const G=this.ctx,I=this.groupStack.pop();if(this.ctx=I,this.ctx.imageSmoothingEnabled=!1,N.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const U=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,U);const X=l.Util.getAxialAlignedBoundingBox([0,0,G.canvas.width,G.canvas.height],U);this.ctx.drawImage(G.canvas,0,0),this.ctx.restore(),this.compose(X)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(N,G,I,U,X){if(this.save(),Array.isArray(G)&&4===G.length){const me=G[2]-G[0],ae=G[3]-G[1];if(X&&this.annotationCanvasMap){(I=I.slice())[4]-=G[0],I[5]-=G[1],(G=G.slice())[0]=G[1]=0,G[2]=me,G[3]=ae;const[be,ke]=l.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Be}=this,Fe=Math.ceil(me*this.outputScaleX*Be),Ge=Math.ceil(ae*this.outputScaleY*Be);this.annotationCanvas=this.canvasFactory.create(Fe,Ge);const{canvas:Ye,context:nt}=this.annotationCanvas,wt=`var(--zoom-factor) * ${Ae.PixelsPerInch.PDF_TO_CSS_UNITS}`;Ye.style.width=`calc(${me}px * ${wt})`,Ye.style.height=`calc(${ae}px * ${wt})`,this.annotationCanvasMap.set(N,Ye),this.annotationCanvas.savedCtx=this.ctx,this.ctx=nt,this.ctx.setTransform(be,0,0,-ke,0,ae*ke),oe(this.ctx),fe(this.ctx,this.foregroundColor)}else fe(this.ctx,this.foregroundColor),this.ctx.rect(G[0],G[1],me,ae),this.ctx.clip(),this.endPath()}this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,I),this.transform.apply(this,U)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(N){if(!this.contentVisible)return;const G=N.count;(N=this.getObject(N.data,N)).count=G;const I=this.ctx,U=this.processingType3;if(U&&(void 0===U.compiled&&(U.compiled=function D(ye){const{width:N,height:G}=ye;if(N>1e3||G>1e3)return null;const U=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),X=N+1;let ae,be,ke,me=new Uint8Array(X*(G+1));const Be=N+7&-8;let Fe=new Uint8Array(Be*G),Ge=0;for(const rt of ye.data){let pe=128;for(;pe>0;)Fe[Ge++]=rt&pe?0:255,pe>>=1}let Ye=0;for(Ge=0,0!==Fe[Ge]&&(me[0]=1,++Ye),be=1;be<N;be++)Fe[Ge]!==Fe[Ge+1]&&(me[be]=Fe[Ge]?2:1,++Ye),Ge++;for(0!==Fe[Ge]&&(me[be]=2,++Ye),ae=1;ae<G;ae++){Ge=ae*Be,ke=ae*X,Fe[Ge-Be]!==Fe[Ge]&&(me[ke]=Fe[Ge]?1:8,++Ye);let rt=(Fe[Ge]?4:0)+(Fe[Ge-Be]?8:0);for(be=1;be<N;be++)rt=(rt>>2)+(Fe[Ge+1]?4:0)+(Fe[Ge-Be+1]?8:0),U[rt]&&(me[ke+be]=U[rt],++Ye),Ge++;if(Fe[Ge-Be]!==Fe[Ge]&&(me[ke+be]=Fe[Ge]?2:4,++Ye),Ye>1e3)return null}for(Ge=Be*(G-1),ke=ae*X,0!==Fe[Ge]&&(me[ke]=8,++Ye),be=1;be<N;be++)Fe[Ge]!==Fe[Ge+1]&&(me[ke+be]=Fe[Ge]?4:8,++Ye),Ge++;if(0!==Fe[Ge]&&(me[ke+be]=4,++Ye),Ye>1e3)return null;const nt=new Int32Array([0,X,-1,0,-X,0,0,0,1]);let wt,Lt,Xe;for(Ee.isNodeJS?Lt=[]:wt=new Path2D,ae=0;Ye&&ae<=G;ae++){let rt=ae*X;const pe=rt+N;for(;rt<pe&&!me[rt];)rt++;if(rt===pe)continue;wt?wt.moveTo(rt%X,ae):Xe=[rt%X,ae];const Oe=rt;let We=me[rt];do{const It=nt[We];do{rt+=It}while(!me[rt]);const yt=me[rt];5!==yt&&10!==yt?(We=yt,me[rt]=0):(We=yt&51*We>>4,me[rt]&=We>>2|We<<2),wt?wt.lineTo(rt%X,rt/X|0):Xe.push(rt%X,rt/X|0),me[rt]||--Ye}while(Oe!==rt);wt||Lt.push(Xe),--ae}return Fe=null,me=null,function(rt){if(rt.save(),rt.scale(1/N,-1/G),rt.translate(0,-G),wt)rt.fill(wt);else{rt.beginPath();for(const pe of Lt){rt.moveTo(pe[0],pe[1]);for(let Oe=2,We=pe.length;Oe<We;Oe+=2)rt.lineTo(pe[Oe],pe[Oe+1])}rt.fill()}rt.beginPath(),rt.restore()}}(N)),U.compiled))return void U.compiled(I);const X=this._createMaskCanvas(N),me=X.canvas;I.save(),I.setTransform(1,0,0,1,0,0),I.drawImage(me,X.offsetX,X.offsetY),I.restore(),this.compose()}paintImageMaskXObjectRepeat(N,G,I=0,U=0,X,me){if(!this.contentVisible)return;N=this.getObject(N.data,N);const ae=this.ctx;ae.save();const be=ae.mozCurrentTransform;ae.transform(G,I,U,X,0,0);const ke=this._createMaskCanvas(N);ae.setTransform(1,0,0,1,0,0);for(let Be=0,Fe=me.length;Be<Fe;Be+=2){const Ge=l.Util.transform(be,[G,I,U,X,me[Be],me[Be+1]]),[Ye,nt]=l.Util.applyTransform([0,0],Ge);ae.drawImage(ke.canvas,Ye,nt)}ae.restore(),this.compose()}paintImageMaskXObjectGroup(N){if(!this.contentVisible)return;const G=this.ctx,I=this.current.fillColor,U=this.current.patternFill;for(let X=0,me=N.length;X<me;X++){const ae=N[X],be=ae.width,ke=ae.height,Be=this.cachedCanvases.getCanvas("maskCanvas",be,ke,!1),Fe=Be.context;Fe.save(),H(Fe,ae),Fe.globalCompositeOperation="source-in",Fe.fillStyle=U?I.getPattern(Fe,this,G.mozCurrentTransformInverse,xe.PathType.FILL):I,Fe.fillRect(0,0,be,ke),Fe.restore(),G.save(),G.transform.apply(G,ae.transform),G.scale(1,-1),j(G,Be.canvas,0,0,be,ke,0,-1,1,1),G.restore()}this.compose()}paintImageXObject(N){if(!this.contentVisible)return;const G=this.getObject(N);G?this.paintInlineImageXObject(G):(0,l.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(N,G,I,U){if(!this.contentVisible)return;const X=this.getObject(N);if(!X)return void(0,l.warn)("Dependent image isn't ready yet");const me=X.width,ae=X.height,be=[];for(let ke=0,Be=U.length;ke<Be;ke+=2)be.push({transform:[G,0,0,I,U[ke],U[ke+1]],x:0,y:0,w:me,h:ae});this.paintInlineImageXObjectGroup(X,be)}paintInlineImageXObject(N){if(!this.contentVisible)return;const G=N.width,I=N.height,U=this.ctx;let X;if(this.save(),U.scale(1/G,-1/I),"function"==typeof HTMLElement&&N instanceof HTMLElement||!N.data)X=N;else{const ke=this.cachedCanvases.getCanvas("inlineImage",G,I,!1);Y(ke.context,N,this.current.transferMaps),X=ke.canvas}const me=this._scaleImage(X,U.mozCurrentTransformInverse);U.imageSmoothingEnabled=de(U.mozCurrentTransform,N.interpolate);const[ae,be]=j(U,me.img,0,0,me.paintWidth,me.paintHeight,0,-I,G,I);if(this.imageLayer){const ke=this.getCanvasPosition(0,-I);this.imageLayer.appendImage({imgData:N,left:ke[0],top:ke[1],width:ae,height:be})}this.compose(),this.restore()}paintInlineImageXObjectGroup(N,G){if(!this.contentVisible)return;const I=this.ctx,U=N.width,X=N.height,me=this.cachedCanvases.getCanvas("inlineImage",U,X,!1);Y(me.context,N,this.current.transferMaps);for(let be=0,ke=G.length;be<ke;be++){const Be=G[be];if(I.save(),I.transform.apply(I,Be.transform),I.scale(1,-1),j(I,me.canvas,Be.x,Be.y,Be.w,Be.h,0,-1,1,1),this.imageLayer){const Fe=this.getCanvasPosition(Be.x,Be.y);this.imageLayer.appendImage({imgData:N,left:Fe[0],top:Fe[1],width:U,height:X})}I.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(N){}markPointProps(N,G){}beginMarkedContent(N){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(N,G){this.markedContentStack.push("OC"===N?{visible:this.optionalContentConfig.isVisible(G)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(N){const G=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(N);const I=this.ctx;this.pendingClip&&(G||(this.pendingClip===Ne?I.clip("evenodd"):I.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),I.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const N=this.ctx.mozCurrentTransform;if(0===N[1]&&0===N[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(N[0]),Math.abs(N[3]));else{const G=Math.abs(N[0]*N[3]-N[2]*N[1]),I=Math.hypot(N[0],N[2]),U=Math.hypot(N[1],N[3]);this._cachedGetSinglePixelWidth=Math.max(I,U)/G}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:N}=this.current,G=this.ctx.mozCurrentTransform;let I,U;if(0===G[1]&&0===G[2]){const X=Math.abs(G[0]),me=Math.abs(G[3]);if(0===N)I=1/X,U=1/me;else{const ae=X*N,be=me*N;I=ae<1?1/ae:1,U=be<1?1/be:1}}else{const X=Math.abs(G[0]*G[3]-G[2]*G[1]),me=Math.hypot(G[0],G[1]),ae=Math.hypot(G[2],G[3]);if(0===N)I=ae/X,U=me/X;else{const be=N*X;I=ae>be?ae/be:1,U=me>be?me/be:1}}this._cachedScaleForStroking=[I,U]}return this._cachedScaleForStroking}rescaleAndStroke(N){const{ctx:G}=this,{lineWidth:I}=this.current,[U,X]=this.getScaleForStroking();if(G.lineWidth=I||1,1===U&&1===X)return void G.stroke();let me,ae,be;N&&(me=G.mozCurrentTransform.slice(),ae=G.getLineDash().slice(),be=G.lineDashOffset),G.scale(U,X);const ke=Math.max(U,X);G.setLineDash(G.getLineDash().map(Be=>Be/ke)),G.lineDashOffset/=ke,G.stroke(),N&&(G.setTransform(...me),G.setLineDash(ae),G.lineDashOffset=be)}getCanvasPosition(N,G){const I=this.ctx.mozCurrentTransform;return[I[0]*N+I[2]*G+I[4],I[1]*N+I[3]*G+I[5]]}isContentVisible(){for(let N=this.markedContentStack.length-1;N>=0;N--)if(!this.markedContentStack[N].visible)return!1;return!0}}se.CanvasGraphics=et;for(const ye in l.OPS)void 0!==et.prototype[ye]&&(et.prototype[l.OPS[ye]]=et.prototype[ye])},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.TilingPattern=se.PathType=void 0,se.getShadingPattern=function S(x){switch(x[0]){case"RadialAxial":return new ue(x);case"Mesh":return new W(x);case"Dummy":return new M}throw new Error(`Unknown IR type: ${x[0]}`)};var l=ie(1),xe=ie(3);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Ee(x,L){if(!L||xe.isNodeJS)return;const oe=L[2]-L[0],B=L[3]-L[1],j=new Path2D;j.rect(L[0],L[1],oe,B),x.clip(j)}se.PathType=le;class Ae{constructor(){this.constructor===Ae&&(0,l.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,l.unreachable)("Abstract method `getPattern` called.")}}class ue extends Ae{constructor(L){super(),this._type=L[1],this._bbox=L[2],this._colorStops=L[3],this._p0=L[4],this._p1=L[5],this._r0=L[6],this._r1=L[7],this.matrix=null}_createGradient(L){let oe;"axial"===this._type?oe=L.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(oe=L.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const B of this._colorStops)oe.addColorStop(B[0],B[1]);return oe}getPattern(L,oe,B,j){let D;if(j===le.STROKE||j===le.FILL){const R=oe.current.getClippedPathBoundingBox(j,L.mozCurrentTransform)||[0,0,0,0],Y=Math.ceil(R[2]-R[0])||1,H=Math.ceil(R[3]-R[1])||1,q=oe.cachedCanvases.getCanvas("pattern",Y,H,!0),fe=q.context;fe.clearRect(0,0,fe.canvas.width,fe.canvas.height),fe.beginPath(),fe.rect(0,0,fe.canvas.width,fe.canvas.height),fe.translate(-R[0],-R[1]),B=l.Util.transform(B,[1,0,0,1,R[0],R[1]]),fe.transform.apply(fe,oe.baseTransform),this.matrix&&fe.transform.apply(fe,this.matrix),Ee(fe,this._bbox),fe.fillStyle=this._createGradient(fe),fe.fill(),D=L.createPattern(q.canvas,"no-repeat");const _e=new DOMMatrix(B);try{D.setTransform(_e)}catch(z){(0,l.warn)(`RadialAxialShadingPattern.getPattern: "${z?.message}".`)}}else Ee(L,this._bbox),D=this._createGradient(L);return D}}function F(x,L,oe,B,j,D,R,Y){const H=L.coords,q=L.colors,fe=x.data,_e=4*x.width;let z;H[oe+1]>H[B+1]&&(z=oe,oe=B,B=z,z=D,D=R,R=z),H[B+1]>H[j+1]&&(z=B,B=j,j=z,z=R,R=Y,Y=z),H[oe+1]>H[B+1]&&(z=oe,oe=B,B=z,z=D,D=R,R=z);const ge=(H[oe]+L.offsetX)*L.scaleX,ce=(H[oe+1]+L.offsetY)*L.scaleY,J=(H[B]+L.offsetX)*L.scaleX,de=(H[B+1]+L.offsetY)*L.scaleY,re=(H[j]+L.offsetX)*L.scaleX,Ie=(H[j+1]+L.offsetY)*L.scaleY;if(ce>=Ie)return;const Me=q[D],Ne=q[D+1],et=q[D+2],ye=q[R],N=q[R+1],G=q[R+2],I=q[Y],U=q[Y+1],X=q[Y+2],me=Math.round(ce),ae=Math.round(Ie);let be,ke,Be,Fe,Ge,Ye,nt,wt;for(let Lt=me;Lt<=ae;Lt++){if(Lt<de){let Oe;Oe=Lt<ce?0:(ce-Lt)/(ce-de),be=ge-(ge-J)*Oe,ke=Me-(Me-ye)*Oe,Be=Ne-(Ne-N)*Oe,Fe=et-(et-G)*Oe}else{let Oe;Oe=Lt>Ie?1:de===Ie?0:(de-Lt)/(de-Ie),be=J-(J-re)*Oe,ke=ye-(ye-I)*Oe,Be=N-(N-U)*Oe,Fe=G-(G-X)*Oe}let Xe;Xe=Lt<ce?0:Lt>Ie?1:(ce-Lt)/(ce-Ie),Ge=ge-(ge-re)*Xe,Ye=Me-(Me-I)*Xe,nt=Ne-(Ne-U)*Xe,wt=et-(et-X)*Xe;const je=Math.round(Math.min(be,Ge)),rt=Math.round(Math.max(be,Ge));let pe=_e*Lt+4*je;for(let Oe=je;Oe<=rt;Oe++)Xe=(be-Oe)/(be-Ge),Xe<0?Xe=0:Xe>1&&(Xe=1),fe[pe++]=ke-(ke-Ye)*Xe|0,fe[pe++]=Be-(Be-nt)*Xe|0,fe[pe++]=Fe-(Fe-wt)*Xe|0,fe[pe++]=255}}function te(x,L,oe){const B=L.coords,j=L.colors;let D,R;switch(L.type){case"lattice":const Y=L.verticesPerRow,H=Math.floor(B.length/Y)-1,q=Y-1;for(D=0;D<H;D++){let fe=D*Y;for(let _e=0;_e<q;_e++,fe++)F(x,oe,B[fe],B[fe+1],B[fe+Y],j[fe],j[fe+1],j[fe+Y]),F(x,oe,B[fe+Y+1],B[fe+1],B[fe+Y],j[fe+Y+1],j[fe+1],j[fe+Y])}break;case"triangles":for(D=0,R=B.length;D<R;D+=3)F(x,oe,B[D],B[D+1],B[D+2],j[D],j[D+1],j[D+2]);break;default:throw new Error("illegal figure")}}class W extends Ae{constructor(L){super(),this._coords=L[2],this._colors=L[3],this._figures=L[4],this._bounds=L[5],this._bbox=L[7],this._background=L[8],this.matrix=null}_createMeshCanvas(L,oe,B){const Y=Math.floor(this._bounds[0]),H=Math.floor(this._bounds[1]),q=Math.ceil(this._bounds[2])-Y,fe=Math.ceil(this._bounds[3])-H,_e=Math.min(Math.ceil(Math.abs(q*L[0]*1.1)),3e3),z=Math.min(Math.ceil(Math.abs(fe*L[1]*1.1)),3e3),ge=q/_e,ce=fe/z,J={coords:this._coords,colors:this._colors,offsetX:-Y,offsetY:-H,scaleX:1/ge,scaleY:1/ce},Ie=B.getCanvas("mesh",_e+4,z+4,!1),Me=Ie.context,Ne=Me.createImageData(_e,z);if(oe){const ye=Ne.data;for(let N=0,G=ye.length;N<G;N+=4)ye[N]=oe[0],ye[N+1]=oe[1],ye[N+2]=oe[2],ye[N+3]=255}for(const ye of this._figures)te(Ne,ye,J);return Me.putImageData(Ne,2,2),{canvas:Ie.canvas,offsetX:Y-2*ge,offsetY:H-2*ce,scaleX:ge,scaleY:ce}}getPattern(L,oe,B,j){let D;if(Ee(L,this._bbox),j===le.SHADING)D=l.Util.singularValueDecompose2dScale(L.mozCurrentTransform);else if(D=l.Util.singularValueDecompose2dScale(oe.baseTransform),this.matrix){const Y=l.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*Y[0],D[1]*Y[1]]}const R=this._createMeshCanvas(D,j===le.SHADING?null:this._background,oe.cachedCanvases);return j!==le.SHADING&&(L.setTransform.apply(L,oe.baseTransform),this.matrix&&L.transform.apply(L,this.matrix)),L.translate(R.offsetX,R.offsetY),L.scale(R.scaleX,R.scaleY),L.createPattern(R.canvas,"no-repeat")}}class M extends Ae{getPattern(){return"hotpink"}}class A{static get MAX_PATTERN_SIZE(){return(0,l.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(L,oe,B,j,D){this.operatorList=L[2],this.matrix=L[3]||[1,0,0,1,0,0],this.bbox=L[4],this.xstep=L[5],this.ystep=L[6],this.paintType=L[7],this.tilingType=L[8],this.color=oe,this.ctx=B,this.canvasGraphicsFactory=j,this.baseTransform=D}createPatternCanvas(L){const oe=this.operatorList,B=this.bbox,j=this.xstep,D=this.ystep,R=this.paintType,H=this.color,q=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+this.tilingType);const fe=B[0],_e=B[1],z=B[2],ge=B[3],ce=l.Util.singularValueDecompose2dScale(this.matrix),J=l.Util.singularValueDecompose2dScale(this.baseTransform),de=[ce[0]*J[0],ce[1]*J[1]],re=this.getSizeAndScale(j,this.ctx.canvas.width,de[0]),Ie=this.getSizeAndScale(D,this.ctx.canvas.height,de[1]),Me=L.cachedCanvases.getCanvas("pattern",re.size,Ie.size,!0),Ne=Me.context,et=q.createCanvasGraphics(Ne);et.groupLevel=L.groupLevel,this.setFillAndStrokeStyleToContext(et,R,H);let ye=fe,N=_e,G=z,I=ge;return fe<0&&(ye=0,G+=Math.abs(fe)),_e<0&&(N=0,I+=Math.abs(_e)),Ne.translate(-re.scale*ye,-Ie.scale*N),et.transform(re.scale,0,0,Ie.scale,0,0),Ne.save(),this.clipBbox(et,ye,N,G,I),et.baseTransform=et.ctx.mozCurrentTransform.slice(),et.executeOperatorList(oe),et.endDrawing(),{canvas:Me.canvas,scaleX:re.scale,scaleY:Ie.scale,offsetX:ye,offsetY:N}}getSizeAndScale(L,oe,B){L=Math.abs(L);const j=Math.max(A.MAX_PATTERN_SIZE,oe);let D=Math.ceil(L*B);return D>=j?D=j:B=D/L,{scale:B,size:D}}clipBbox(L,oe,B,j,D){L.ctx.rect(oe,B,j-oe,D-B),L.current.updateRectMinMax(L.ctx.mozCurrentTransform,[oe,B,j,D]),L.clip(),L.endPath()}setFillAndStrokeStyleToContext(L,oe,B){const j=L.ctx,D=L.current;switch(oe){case 1:const R=this.ctx;j.fillStyle=R.fillStyle,j.strokeStyle=R.strokeStyle,D.fillColor=R.fillStyle,D.strokeColor=R.strokeStyle;break;case 2:const Y=l.Util.makeHexColor(B[0],B[1],B[2]);j.fillStyle=Y,j.strokeStyle=Y,D.fillColor=Y,D.strokeColor=Y;break;default:throw new l.FormatError(`Unsupported paint type: ${oe}`)}}getPattern(L,oe,B,j){let D=B;j!==le.SHADING&&(D=l.Util.transform(D,oe.baseTransform),this.matrix&&(D=l.Util.transform(D,this.matrix)));const R=this.createPatternCanvas(oe);let Y=new DOMMatrix(D);Y=Y.translate(R.offsetX,R.offsetY),Y=Y.scale(1/R.scaleX,1/R.scaleY);const H=L.createPattern(R.canvas,"repeat");try{H.setTransform(Y)}catch(q){(0,l.warn)(`TilingPattern.getPattern: "${q?.message}".`)}return H}}se.TilingPattern=A},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.applyMaskImageData=function xe({src:le,srcPos:Ee=0,dest:Ae,destPos:ue=0,width:F,height:te,inverseDecode:W=!1}){const M=l.FeatureTest.isLittleEndian?4278190080:255,[S,k]=W?[0,M]:[M,0],A=F>>3,x=7&F,L=le.length;Ae=new Uint32Array(Ae.buffer);for(let oe=0;oe<te;oe++){for(const j=Ee+A;Ee<j;Ee++){const D=Ee<L?le[Ee]:255;Ae[ue++]=128&D?k:S,Ae[ue++]=64&D?k:S,Ae[ue++]=32&D?k:S,Ae[ue++]=16&D?k:S,Ae[ue++]=8&D?k:S,Ae[ue++]=4&D?k:S,Ae[ue++]=2&D?k:S,Ae[ue++]=1&D?k:S}if(0===x)continue;const B=Ee<L?le[Ee++]:255;for(let j=0;j<x;j++)Ae[ue++]=B&1<<7-j?k:S}return{srcPos:Ee,destPos:ue}};var l=ie(1)},(tt,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.GlobalWorkerOptions=void 0;const ie=Object.create(null);se.GlobalWorkerOptions=ie,ie.workerPort=void 0===ie.workerPort?null:ie.workerPort,ie.workerSrc=void 0===ie.workerSrc?"":ie.workerSrc},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.MessageHandler=void 0;var l=ie(1);function Ee(ue){switch(ue instanceof Error||"object"==typeof ue&&null!==ue||(0,l.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ue.name){case"AbortException":return new l.AbortException(ue.message);case"MissingPDFException":return new l.MissingPDFException(ue.message);case"PasswordException":return new l.PasswordException(ue.message,ue.code);case"UnexpectedResponseException":return new l.UnexpectedResponseException(ue.message,ue.status);case"UnknownErrorException":return new l.UnknownErrorException(ue.message,ue.details);default:return new l.UnknownErrorException(ue.message,ue.toString())}}se.MessageHandler=class Ae{constructor(F,te,W){this.sourceName=F,this.targetName=te,this.comObj=W,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=M=>{const S=M.data;if(S.targetName!==this.sourceName)return;if(S.stream)return void this._processStreamMessage(S);if(S.callback){const A=S.callbackId,x=this.callbackCapabilities[A];if(!x)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],1===S.callback)x.resolve(S.data);else{if(2!==S.callback)throw new Error("Unexpected callback case");x.reject(Ee(S.reason))}return}const k=this.actionHandler[S.action];if(!k)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){const A=this.sourceName,x=S.sourceName;new Promise(function(L){L(k(S.data))}).then(function(L){W.postMessage({sourceName:A,targetName:x,callback:1,callbackId:S.callbackId,data:L})},function(L){W.postMessage({sourceName:A,targetName:x,callback:2,callbackId:S.callbackId,reason:Ee(L)})})}else S.streamId?this._createStreamSink(S):k(S.data)},W.addEventListener("message",this._onComObjOnMessage)}on(F,te){const W=this.actionHandler;if(W[F])throw new Error(`There is already an actionName called "${F}"`);W[F]=te}send(F,te,W){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,data:te},W)}sendWithPromise(F,te,W){const M=this.callbackId++,S=(0,l.createPromiseCapability)();this.callbackCapabilities[M]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:F,callbackId:M,data:te},W)}catch(k){S.reject(k)}return S.promise}sendWithStream(F,te,W,M){const S=this.streamId++,k=this.sourceName,A=this.targetName,x=this.comObj;return new ReadableStream({start:L=>{const oe=(0,l.createPromiseCapability)();return this.streamControllers[S]={controller:L,startCall:oe,pullCall:null,cancelCall:null,isClosed:!1},x.postMessage({sourceName:k,targetName:A,action:F,streamId:S,data:te,desiredSize:L.desiredSize},M),oe.promise},pull:L=>{const oe=(0,l.createPromiseCapability)();return this.streamControllers[S].pullCall=oe,x.postMessage({sourceName:k,targetName:A,stream:6,streamId:S,desiredSize:L.desiredSize}),oe.promise},cancel:L=>{(0,l.assert)(L instanceof Error,"cancel must have a valid reason");const oe=(0,l.createPromiseCapability)();return this.streamControllers[S].cancelCall=oe,this.streamControllers[S].isClosed=!0,x.postMessage({sourceName:k,targetName:A,stream:1,streamId:S,reason:Ee(L)}),oe.promise}},W)}_createStreamSink(F){const te=F.streamId,W=this.sourceName,M=F.sourceName,S=this.comObj,k=this,A=this.actionHandler[F.action],x={enqueue(L,oe=1,B){if(this.isCancelled)return;const j=this.desiredSize;this.desiredSize-=oe,j>0&&this.desiredSize<=0&&(this.sinkCapability=(0,l.createPromiseCapability)(),this.ready=this.sinkCapability.promise),S.postMessage({sourceName:W,targetName:M,stream:4,streamId:te,chunk:L},B)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:W,targetName:M,stream:3,streamId:te}),delete k.streamSinks[te])},error(L){(0,l.assert)(L instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:W,targetName:M,stream:5,streamId:te,reason:Ee(L)}))},sinkCapability:(0,l.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:F.desiredSize,ready:null};x.sinkCapability.resolve(),x.ready=x.sinkCapability.promise,this.streamSinks[te]=x,new Promise(function(L){L(A(F.data,x))}).then(function(){S.postMessage({sourceName:W,targetName:M,stream:8,streamId:te,success:!0})},function(L){S.postMessage({sourceName:W,targetName:M,stream:8,streamId:te,reason:Ee(L)})})}_processStreamMessage(F){const te=F.streamId,W=this.sourceName,M=F.sourceName,S=this.comObj,k=this.streamControllers[te],A=this.streamSinks[te];switch(F.stream){case 8:F.success?k.startCall.resolve():k.startCall.reject(Ee(F.reason));break;case 7:F.success?k.pullCall.resolve():k.pullCall.reject(Ee(F.reason));break;case 6:if(!A){S.postMessage({sourceName:W,targetName:M,stream:7,streamId:te,success:!0});break}A.desiredSize<=0&&F.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=F.desiredSize,new Promise(function(x){x(A.onPull&&A.onPull())}).then(function(){S.postMessage({sourceName:W,targetName:M,stream:7,streamId:te,success:!0})},function(x){S.postMessage({sourceName:W,targetName:M,stream:7,streamId:te,reason:Ee(x)})});break;case 4:if((0,l.assert)(k,"enqueue should have stream controller"),k.isClosed)break;k.controller.enqueue(F.chunk);break;case 3:if((0,l.assert)(k,"close should have stream controller"),k.isClosed)break;k.isClosed=!0,k.controller.close(),this._deleteStreamController(k,te);break;case 5:(0,l.assert)(k,"error should have stream controller"),k.controller.error(Ee(F.reason)),this._deleteStreamController(k,te);break;case 2:F.success?k.cancelCall.resolve():k.cancelCall.reject(Ee(F.reason)),this._deleteStreamController(k,te);break;case 1:if(!A)break;new Promise(function(x){x(A.onCancel&&A.onCancel(Ee(F.reason)))}).then(function(){S.postMessage({sourceName:W,targetName:M,stream:2,streamId:te,success:!0})},function(x){S.postMessage({sourceName:W,targetName:M,stream:2,streamId:te,reason:Ee(x)})}),A.sinkCapability.reject(Ee(F.reason)),A.isCancelled=!0,delete this.streamSinks[te];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(F,te){var W=this;return _asyncToGenerator(function*(){yield Promise.allSettled([F.startCall&&F.startCall.promise,F.pullCall&&F.pullCall.promise,F.cancelCall&&F.cancelCall.promise]),delete W.streamControllers[te]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(tt,se,ie)=>{var le,Ee;Object.defineProperty(se,"__esModule",{value:!0}),se.Metadata=void 0;var l=ie(1);le=new WeakMap,Ee=new WeakMap,se.Metadata=class xe{constructor({parsedData:ue,rawData:F}){fn(this,le,void 0),fn(this,Ee,void 0),Ti(this,le,ue),Ti(this,Ee,F)}getRaw(){return Xt(this,Ee)}get(ue){return Xt(this,le).get(ue)??null}getAll(){return(0,l.objectFromMap)(Xt(this,le))}has(ue){return Xt(this,le).has(ue)}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.OptionalContentConfig=void 0;var l=ie(1);class xe{constructor(Ae,ue){this.visible=!0,this.name=Ae,this.intent=ue}}se.OptionalContentConfig=class le{constructor(Ae){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==Ae){this.name=Ae.name,this.creator=Ae.creator,this._order=Ae.order;for(const ue of Ae.groups)this._groups.set(ue.id,new xe(ue.name,ue.intent));if("OFF"===Ae.baseState)for(const ue of this._groups)ue.visible=!1;for(const ue of Ae.on)this._groups.get(ue).visible=!0;for(const ue of Ae.off)this._groups.get(ue).visible=!1}}_evaluateVisibilityExpression(Ae){const ue=Ae.length;if(ue<2)return!0;const F=Ae[0];for(let te=1;te<ue;te++){const W=Ae[te];let M;if(Array.isArray(W))M=this._evaluateVisibilityExpression(W);else{if(!this._groups.has(W))return(0,l.warn)(`Optional content group not found: ${W}`),!0;M=this._groups.get(W).visible}switch(F){case"And":if(!M)return!1;break;case"Or":if(M)return!0;break;case"Not":return!M;default:return!0}}return"And"===F}isVisible(Ae){if(0===this._groups.size)return!0;if(!Ae)return(0,l.warn)("Optional content group not defined."),!0;if("OCG"===Ae.type)return this._groups.has(Ae.id)?this._groups.get(Ae.id).visible:((0,l.warn)(`Optional content group not found: ${Ae.id}`),!0);if("OCMD"===Ae.type){if(Ae.expression)return this._evaluateVisibilityExpression(Ae.expression);if(!Ae.policy||"AnyOn"===Ae.policy){for(const ue of Ae.ids){if(!this._groups.has(ue))return(0,l.warn)(`Optional content group not found: ${ue}`),!0;if(this._groups.get(ue).visible)return!0}return!1}if("AllOn"===Ae.policy){for(const ue of Ae.ids){if(!this._groups.has(ue))return(0,l.warn)(`Optional content group not found: ${ue}`),!0;if(!this._groups.get(ue).visible)return!1}return!0}if("AnyOff"===Ae.policy){for(const ue of Ae.ids){if(!this._groups.has(ue))return(0,l.warn)(`Optional content group not found: ${ue}`),!0;if(!this._groups.get(ue).visible)return!0}return!1}if("AllOff"===Ae.policy){for(const ue of Ae.ids){if(!this._groups.has(ue))return(0,l.warn)(`Optional content group not found: ${ue}`),!0;if(this._groups.get(ue).visible)return!1}return!0}return(0,l.warn)(`Unknown optional content policy ${Ae.policy}.`),!0}return(0,l.warn)(`Unknown group type ${Ae.type}.`),!0}setVisibility(Ae,ue=!0){this._groups.has(Ae)?this._groups.get(Ae).visible=!!ue:(0,l.warn)(`Optional content group not found: ${Ae}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,l.objectFromMap)(this._groups):null}getGroup(Ae){return this._groups.get(Ae)||null}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFDataTransportStream=void 0;var l=ie(1),xe=ie(5);se.PDFDataTransportStream=class le{constructor(F,te){(0,l.assert)(te,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=F.progressiveDone||!1,this._contentDispositionFilename=F.contentDispositionFilename||null;const W=F.initialData;if(W?.length>0){const M=new Uint8Array(W).buffer;this._queuedChunks.push(M)}this._pdfDataRangeTransport=te,this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._contentLength=F.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((M,S)=>{this._onReceiveData({begin:M,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((M,S)=>{this._onProgress({loaded:M,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(M=>{this._onReceiveData({chunk:M})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(F){const te=new Uint8Array(F.chunk).buffer;if(void 0===F.begin)this._fullRequestReader?this._fullRequestReader._enqueue(te):this._queuedChunks.push(te);else{const W=this._rangeReaders.some(function(M){return M._begin===F.begin&&(M._enqueue(te),!0)});(0,l.assert)(W,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(F){if(void 0===F.total){const te=this._rangeReaders[0];te?.onProgress&&te.onProgress({loaded:F.loaded})}else{const te=this._fullRequestReader;te?.onProgress&&te.onProgress({loaded:F.loaded,total:F.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(F){const te=this._rangeReaders.indexOf(F);te>=0&&this._rangeReaders.splice(te,1)}getFullReader(){(0,l.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const F=this._queuedChunks;return this._queuedChunks=null,new Ee(this,F,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(F,te){if(te<=this._progressiveDataLength)return null;const W=new Ae(this,F,te);return this._pdfDataRangeTransport.requestDataRange(F,te),this._rangeReaders.push(W),W}cancelAllRequests(F){this._fullRequestReader&&this._fullRequestReader.cancel(F);for(const te of this._rangeReaders.slice(0))te.cancel(F);this._pdfDataRangeTransport.abort()}};class Ee{constructor(F,te,W=!1,M=null){this._stream=F,this._done=W||!1,this._filename=(0,xe.isPdfFile)(M)?M:null,this._queuedChunks=te||[],this._loaded=0;for(const S of this._queuedChunks)this._loaded+=S.byteLength;this._requests=[],this._headersReady=Promise.resolve(),F._fullRequestReader=this,this.onProgress=null}_enqueue(F){this._done||(this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunks.push(F),this._loaded+=F.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var F=this;return _asyncToGenerator(function*(){if(F._queuedChunks.length>0)return{value:F._queuedChunks.shift(),done:!1};if(F._done)return{value:void 0,done:!0};const te=(0,l.createPromiseCapability)();return F._requests.push(te),te.promise})()}cancel(F){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Ae{constructor(F,te,W){this._stream=F,this._begin=te,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(F){if(!this._done){if(0===this._requests.length)this._queuedChunk=F;else{this._requests.shift().resolve({value:F,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var F=this;return _asyncToGenerator(function*(){if(F._queuedChunk){const W=F._queuedChunk;return F._queuedChunk=null,{value:W,done:!1}}if(F._done)return{value:void 0,done:!0};const te=(0,l.createPromiseCapability)();return F._requests.push(te),te.promise})()}cancel(F){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(tt,se)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.XfaText=void 0;class ie{static textContent(xe){const le=[],Ee={items:le,styles:Object.create(null)};return function Ae(ue){if(!ue)return;let F=null;const te=ue.name;if("#text"===te)F=ue.value;else{if(!ie.shouldBuildText(te))return;ue?.attributes?.textContent?F=ue.attributes.textContent:ue.value&&(F=ue.value)}if(null!==F&&le.push({str:F}),ue.children)for(const W of ue.children)Ae(W)}(xe),Ee}static shouldBuildText(xe){return!("textarea"===xe||"input"===xe||"option"===xe||"select"===xe)}}se.XfaText=ie},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.NodeStandardFontDataFactory=se.NodeCanvasFactory=se.NodeCMapReaderFactory=void 0;var l=ie(6);const xe=function(ue){return new Promise((F,te)=>{__webpack_require__(172).readFile(ue,(M,S)=>{!M&&S?F(new Uint8Array(S)):te(new Error(M))})})};se.NodeCanvasFactory=class le extends l.BaseCanvasFactory{_createCanvas(F,te){return __webpack_require__(3414).createCanvas(F,te)}},se.NodeCMapReaderFactory=class Ee extends l.BaseCMapReaderFactory{_fetchData(F,te){return xe(F).then(W=>({cMapData:W,compressionType:te}))}},se.NodeStandardFontDataFactory=class Ae extends l.BaseStandardFontDataFactory{_fetchData(F){return xe(F)}}},(tt,se,ie)=>{var ye,mR;Object.defineProperty(se,"__esModule",{value:!0}),se.AnnotationLayer=void 0;var l=ie(1),xe=ie(5),le=ie(8),Ee=ie(21),Ae=ie(22);const F=new WeakSet;function te(G){return{width:G[2]-G[0],height:G[3]-G[1]}}class W{static create(I){switch(I.data.annotationType){case l.AnnotationType.LINK:return new S(I);case l.AnnotationType.TEXT:return new k(I);case l.AnnotationType.WIDGET:switch(I.data.fieldType){case"Tx":return new x(I);case"Btn":return I.data.radioButton?new oe(I):I.data.checkBox?new L(I):new B(I);case"Ch":return new j(I)}return new A(I);case l.AnnotationType.POPUP:return new D(I);case l.AnnotationType.FREETEXT:return new Y(I);case l.AnnotationType.LINE:return new H(I);case l.AnnotationType.SQUARE:return new q(I);case l.AnnotationType.CIRCLE:return new fe(I);case l.AnnotationType.POLYLINE:return new _e(I);case l.AnnotationType.CARET:return new ge(I);case l.AnnotationType.INK:return new ce(I);case l.AnnotationType.POLYGON:return new z(I);case l.AnnotationType.HIGHLIGHT:return new J(I);case l.AnnotationType.UNDERLINE:return new de(I);case l.AnnotationType.SQUIGGLY:return new re(I);case l.AnnotationType.STRIKEOUT:return new Ie(I);case l.AnnotationType.STAMP:return new Me(I);case l.AnnotationType.FILEATTACHMENT:return new Ne(I);default:return new M(I)}}}class M{constructor(I,{isRenderable:U=!1,ignoreBorder:X=!1,createQuadrilaterals:me=!1}={}){this.isRenderable=U,this.data=I.data,this.layer=I.layer,this.page=I.page,this.viewport=I.viewport,this.linkService=I.linkService,this.downloadManager=I.downloadManager,this.imageResourcesPath=I.imageResourcesPath,this.renderForms=I.renderForms,this.svgFactory=I.svgFactory,this.annotationStorage=I.annotationStorage,this.enableScripting=I.enableScripting,this.hasJSActions=I.hasJSActions,this._fieldObjects=I.fieldObjects,this._mouseState=I.mouseState,U&&(this.container=this._createContainer(X)),me&&(this.quadrilaterals=this._createQuadrilaterals(X))}_createContainer(I=!1){const U=this.data,X=this.page,me=this.viewport,ae=document.createElement("section");let{width:be,height:ke}=te(U.rect);ae.setAttribute("data-annotation-id",U.id);const Be=l.Util.normalizeRect([U.rect[0],X.view[3]-U.rect[1]+X.view[1],U.rect[2],X.view[3]-U.rect[3]+X.view[1]]);if(U.hasOwnCanvas){const Fe=me.transform.slice(),[Ge,Ye]=l.Util.singularValueDecompose2dScale(Fe);be=Math.ceil(be*Ge),ke=Math.ceil(ke*Ye),Be[0]*=Ge,Be[1]*=Ye;for(let nt=0;nt<4;nt++)Fe[nt]=Math.sign(Fe[nt]);ae.style.transform=`matrix(${Fe.join(",")})`}else ae.style.transform=`matrix(${me.transform.join(",")})`;if(ae.style.transformOrigin=`${-Be[0]}px ${-Be[1]}px`,!I&&U.borderStyle.width>0){ae.style.borderWidth=`${U.borderStyle.width}px`,U.borderStyle.style!==l.AnnotationBorderStyleType.UNDERLINE&&(be-=2*U.borderStyle.width,ke-=2*U.borderStyle.width);const Fe=U.borderStyle.horizontalCornerRadius,Ge=U.borderStyle.verticalCornerRadius;switch((Fe>0||Ge>0)&&(ae.style.borderRadius=`${Fe}px / ${Ge}px`),U.borderStyle.style){case l.AnnotationBorderStyleType.SOLID:ae.style.borderStyle="solid";break;case l.AnnotationBorderStyleType.DASHED:ae.style.borderStyle="dashed";break;case l.AnnotationBorderStyleType.BEVELED:(0,l.warn)("Unimplemented border style: beveled");break;case l.AnnotationBorderStyleType.INSET:(0,l.warn)("Unimplemented border style: inset");break;case l.AnnotationBorderStyleType.UNDERLINE:ae.style.borderBottomStyle="solid"}U.borderColor||U.color?ae.style.borderColor=l.Util.makeHexColor(0|U.color[0],0|U.color[1],0|U.color[2]):ae.style.borderWidth=0}return ae.style.left=`${Be[0]}px`,ae.style.top=`${Be[1]}px`,U.hasOwnCanvas?ae.style.width=ae.style.height="auto":(ae.style.width=`${be}px`,ae.style.height=`${ke}px`),ae}get _commonActions(){const I=(U,X,me)=>{const ae=me.detail[U];me.target.style[X]=Ee.ColorConverters[`${ae[0]}_HTML`](ae.slice(1))};return(0,l.shadow)(this,"_commonActions",{display:U=>{const X=U.detail.display%2==1;U.target.style.visibility=X?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:X,print:0===U.detail.display||3===U.detail.display})},print:U=>{this.annotationStorage.setValue(this.data.id,{print:U.detail.print})},hidden:U=>{U.target.style.visibility=U.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:U.detail.hidden})},focus:U=>{setTimeout(()=>U.target.focus({preventScroll:!1}),0)},userName:U=>{U.target.title=U.detail.userName},readonly:U=>{U.detail.readonly?U.target.setAttribute("readonly",""):U.target.removeAttribute("readonly")},required:U=>{U.detail.required?U.target.setAttribute("required",""):U.target.removeAttribute("required")},bgColor:U=>{I("bgColor","backgroundColor",U)},fillColor:U=>{I("fillColor","backgroundColor",U)},fgColor:U=>{I("fgColor","color",U)},textColor:U=>{I("textColor","color",U)},borderColor:U=>{I("borderColor","borderColor",U)},strokeColor:U=>{I("strokeColor","borderColor",U)}})}_dispatchEventFromSandbox(I,U){const X=this._commonActions;for(const me of Object.keys(U.detail)){const ae=I[me]||X[me];ae&&ae(U)}}_setDefaultPropertiesFromJS(I){if(!this.enableScripting)return;const U=this.annotationStorage.getRawValue(this.data.id);if(!U)return;const X=this._commonActions;for(const[me,ae]of Object.entries(U)){const be=X[me];be&&(be({detail:ae,target:I}),delete U[me])}}_createQuadrilaterals(I=!1){if(!this.data.quadPoints)return null;const U=[],X=this.data.rect;for(const me of this.data.quadPoints)this.data.rect=[me[2].x,me[2].y,me[1].x,me[1].y],U.push(this._createContainer(I));return this.data.rect=X,U}_createPopup(I,U){let X=this.container;this.quadrilaterals&&(I=I||this.quadrilaterals,X=this.quadrilaterals[0]),I||((I=document.createElement("div")).style.height=X.style.height,I.style.width=X.style.width,X.appendChild(I));const ae=new R({container:X,trigger:I,color:U.color,titleObj:U.titleObj,modificationDate:U.modificationDate,contentsObj:U.contentsObj,richText:U.richText,hideWrapper:!0}).render();ae.style.left=X.style.width,X.appendChild(ae)}_renderQuadrilaterals(I){for(const U of this.quadrilaterals)U.className=I;return this.quadrilaterals}render(){(0,l.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(I,U=null){const X=[];if(this._fieldObjects){const me=this._fieldObjects[I];if(me)for(const{page:ae,id:be,exportValues:ke}of me){if(-1===ae||be===U)continue;const Be="string"==typeof ke?ke:null,Fe=document.getElementById(be);!Fe||F.has(Fe)?X.push({id:be,exportValue:Be,domElement:Fe}):(0,l.warn)(`_getElementsByName - element not allowed: ${be}`)}return X}for(const me of document.getElementsByName(I)){const{id:ae,exportValue:be}=me;ae!==U&&(!F.has(me)||X.push({id:ae,exportValue:be,domElement:me}))}return X}static get platform(){const I=typeof navigator<"u"?navigator.platform:"";return(0,l.shadow)(this,"platform",{isWin:I.includes("Win"),isMac:I.includes("Mac")})}}class S extends M{constructor(I,U=null){super(I,{isRenderable:!!(I.data.url||I.data.dest||I.data.action||I.data.isTooltipOnly||I.data.resetForm||I.data.actions&&(I.data.actions.Action||I.data.actions["Mouse Up"]||I.data.actions["Mouse Down"])),ignoreBorder:!!U?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:I,linkService:U}=this,X=document.createElement("a");if(I.url)U.addLinkAttributes(X,I.url,I.newWindow);else if(I.action)this._bindNamedAction(X,I.action);else if(I.dest)this._bindLink(X,I.dest);else{let me=!1;I.actions&&(I.actions.Action||I.actions["Mouse Up"]||I.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(me=!0,this._bindJSAction(X,I)),I.resetForm?this._bindResetFormAction(X,I.resetForm):me||this._bindLink(X,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((me,ae)=>{const be=0===ae?X:X.cloneNode();return me.appendChild(be),me}):(this.container.className="linkAnnotation",this.container.appendChild(X),this.container)}_bindLink(I,U){I.href=this.linkService.getDestinationHash(U),I.onclick=()=>(U&&this.linkService.goToDestination(U),!1),(U||""===U)&&(I.className="internalLink")}_bindNamedAction(I,U){I.href=this.linkService.getAnchorUrl(""),I.onclick=()=>(this.linkService.executeNamedAction(U),!1),I.className="internalLink"}_bindJSAction(I,U){I.href=this.linkService.getAnchorUrl("");const X=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const me of Object.keys(U.actions)){const ae=X.get(me);!ae||(I[ae]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U.id,name:me}}),!1))}I.onclick||(I.onclick=()=>!1),I.className="internalLink"}_bindResetFormAction(I,U){const X=I.onclick;if(X||(I.href=this.linkService.getAnchorUrl("")),I.className="internalLink",!this._fieldObjects)return(0,l.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(X||(I.onclick=()=>!1));I.onclick=()=>{X&&X();const{fields:me,refs:ae,include:be}=U,ke=[];if(0!==me.length||0!==ae.length){const Ge=new Set(ae);for(const Ye of me){const nt=this._fieldObjects[Ye]||[];for(const{id:wt}of nt)Ge.add(wt)}for(const Ye of Object.values(this._fieldObjects))for(const nt of Ye)Ge.has(nt.id)===be&&ke.push(nt)}else for(const Ge of Object.values(this._fieldObjects))ke.push(...Ge);const Be=this.annotationStorage,Fe=[];for(const Ge of ke){const{id:Ye}=Ge;switch(Fe.push(Ye),Ge.type){case"text":case"combobox":case"listbox":Be.setValue(Ye,{value:Ge.defaultValue||""});break;case"checkbox":case"radiobutton":Be.setValue(Ye,{value:Ge.defaultValue===Ge.exportValues});break;default:continue}const nt=document.getElementById(Ye);!nt||!F.has(nt)||nt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Fe,name:"ResetForm"}}),!1}}}class k extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str)})}render(){this.container.className="textAnnotation";const I=document.createElement("img");return I.style.height=this.container.style.height,I.style.width=this.container.style.width,I.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",I.alt="[{{type}} Annotation]",I.dataset.l10nId="text_annotation_type",I.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(I,this.data),this.container.appendChild(I),this.container}}class A extends M{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(I){const{isWin:U,isMac:X}=M.platform;return U&&I.ctrlKey||X&&I.metaKey}_setEventListener(I,U,X,me){U.includes("mouse")?I.addEventListener(U,ae=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:X,value:me(ae),shift:ae.shiftKey,modifier:this._getKeyModifier(ae)}})}):I.addEventListener(U,ae=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:X,value:me(ae)}})})}_setEventListeners(I,U,X){for(const[me,ae]of U)("Action"===ae||this.data.actions?.[ae])&&this._setEventListener(I,me,ae,X)}_setBackgroundColor(I){const U=this.data.backgroundColor||null;I.style.backgroundColor=null===U?"transparent":l.Util.makeHexColor(U[0],U[1],U[2])}}class x extends A{constructor(I){super(I,{isRenderable:I.renderForms||!I.data.hasAppearance&&!!I.data.fieldValue})}setPropertyOnSiblings(I,U,X,me){const ae=this.annotationStorage;for(const be of this._getElementsByName(I.name,I.id))be.domElement&&(be.domElement[U]=X),ae.setValue(be.id,{[me]:X})}render(){const I=this.annotationStorage,U=this.data.id;this.container.className="textWidgetAnnotation";let X=null;if(this.renderForms){const me=I.getValue(U,{value:this.data.fieldValue}),ae=me.formattedValue||me.value||"",be={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(X=document.createElement("textarea"),X.textContent=ae):(X=document.createElement("input"),X.type="text",X.setAttribute("value",ae)),F.add(X),X.disabled=this.data.readOnly,X.name=this.data.fieldName,X.tabIndex=1e3,be.userValue=ae,X.setAttribute("id",U),X.addEventListener("input",Be=>{I.setValue(U,{value:Be.target.value}),this.setPropertyOnSiblings(X,"value",Be.target.value,"value")}),X.addEventListener("resetform",Be=>{X.value=be.userValue=this.data.defaultFieldValue??"",be.formattedValue=null});let ke=Be=>{const{formattedValue:Fe}=be;null!=Fe&&(Be.target.value=Fe),Be.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){X.addEventListener("focus",Fe=>{be.userValue&&(Fe.target.value=be.userValue),be.valueOnFocus=Fe.target.value}),X.addEventListener("updatefromsandbox",Fe=>{this._dispatchEventFromSandbox({value(Ye){be.userValue=Ye.detail.value??"",I.setValue(U,{value:be.userValue.toString()}),Ye.target.value=be.userValue},formattedValue(Ye){const{formattedValue:nt}=Ye.detail;be.formattedValue=nt,null!=nt&&Ye.target!==document.activeElement&&(Ye.target.value=nt),I.setValue(U,{formattedValue:nt})},selRange(Ye){Ye.target.setSelectionRange(...Ye.detail.selRange)}},Fe)}),X.addEventListener("keydown",Fe=>{let Ge=-1;if("Escape"===Fe.key?Ge=0:"Enter"===Fe.key?Ge=2:"Tab"===Fe.key&&(Ge=3),-1===Ge)return;const{value:Ye}=Fe.target;be.valueOnFocus!==Ye&&(be.userValue=Ye,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ye,willCommit:!0,commitKey:Ge,selStart:Fe.target.selectionStart,selEnd:Fe.target.selectionEnd}}))});const Be=ke;ke=null,X.addEventListener("blur",Fe=>{const{value:Ge}=Fe.target;be.userValue=Ge,this._mouseState.isDown&&be.valueOnFocus!==Ge&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ge,willCommit:!0,commitKey:1,selStart:Fe.target.selectionStart,selEnd:Fe.target.selectionEnd}}),Be(Fe)}),this.data.actions?.Keystroke&&X.addEventListener("beforeinput",Fe=>{const{data:Ge,target:Ye}=Fe,{value:nt,selectionStart:wt,selectionEnd:Lt}=Ye;let Xe=wt,je=Lt;switch(Fe.inputType){case"deleteWordBackward":{const rt=nt.substring(0,wt).match(/\w*[^\w]*$/);rt&&(Xe-=rt[0].length);break}case"deleteWordForward":{const rt=nt.substring(wt).match(/^[^\w]*\w*/);rt&&(je+=rt[0].length);break}case"deleteContentBackward":wt===Lt&&(Xe-=1);break;case"deleteContentForward":wt===Lt&&(je+=1)}Fe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:nt,change:Ge||"",willCommit:!1,selStart:Xe,selEnd:je}})}),this._setEventListeners(X,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Fe=>Fe.target.value)}if(ke&&X.addEventListener("blur",ke),null!==this.data.maxLen&&(X.maxLength=this.data.maxLen),this.data.comb){const Fe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;X.classList.add("comb"),X.style.letterSpacing=`calc(${Fe}px - 1ch)`}}else X=document.createElement("div"),X.textContent=this.data.fieldValue,X.style.verticalAlign="middle",X.style.display="table-cell";return this._setTextStyle(X),this._setBackgroundColor(X),this._setDefaultPropertiesFromJS(X),this.container.appendChild(X),this.container}_setTextStyle(I){const{fontSize:X,fontColor:me}=this.data.defaultAppearanceData,ae=I.style;X&&(ae.fontSize=`${X}px`),ae.color=l.Util.makeHexColor(me[0],me[1],me[2]),null!==this.data.textAlignment&&(ae.textAlign=["left","center","right"][this.data.textAlignment])}}class L extends A{constructor(I){super(I,{isRenderable:I.renderForms})}render(){const I=this.annotationStorage,U=this.data,X=U.id;let me=I.getValue(X,{value:U.exportValue===U.fieldValue}).value;"string"==typeof me&&(me="Off"!==me,I.setValue(X,{value:me})),this.container.className="buttonWidgetAnnotation checkBox";const ae=document.createElement("input");return F.add(ae),ae.disabled=U.readOnly,ae.type="checkbox",ae.name=U.fieldName,me&&ae.setAttribute("checked",!0),ae.setAttribute("id",X),ae.setAttribute("exportValue",U.exportValue),ae.tabIndex=1e3,ae.addEventListener("change",be=>{const{name:ke,checked:Be}=be.target;for(const Fe of this._getElementsByName(ke,X)){const Ge=Be&&Fe.exportValue===U.exportValue;Fe.domElement&&(Fe.domElement.checked=Ge),I.setValue(Fe.id,{value:Ge})}I.setValue(X,{value:Be})}),ae.addEventListener("resetform",be=>{be.target.checked=(U.defaultFieldValue||"Off")===U.exportValue}),this.enableScripting&&this.hasJSActions&&(ae.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({value(Be){Be.target.checked="Off"!==Be.detail.value,I.setValue(X,{value:Be.target.checked})}},be)}),this._setEventListeners(ae,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)),this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.appendChild(ae),this.container}}class oe extends A{constructor(I){super(I,{isRenderable:I.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const I=this.annotationStorage,U=this.data,X=U.id;let me=I.getValue(X,{value:U.fieldValue===U.buttonValue}).value;"string"==typeof me&&(me=me!==U.buttonValue,I.setValue(X,{value:me}));const ae=document.createElement("input");if(F.add(ae),ae.disabled=U.readOnly,ae.type="radio",ae.name=U.fieldName,me&&ae.setAttribute("checked",!0),ae.setAttribute("id",X),ae.tabIndex=1e3,ae.addEventListener("change",be=>{const{name:ke,checked:Be}=be.target;for(const Fe of this._getElementsByName(ke,X))I.setValue(Fe.id,{value:!1});I.setValue(X,{value:Be})}),ae.addEventListener("resetform",be=>{const ke=U.defaultFieldValue;be.target.checked=null!=ke&&ke===U.buttonValue}),this.enableScripting&&this.hasJSActions){const be=U.buttonValue;ae.addEventListener("updatefromsandbox",ke=>{this._dispatchEventFromSandbox({value:Fe=>{const Ge=be===Fe.detail.value;for(const Ye of this._getElementsByName(Fe.target.name)){const nt=Ge&&Ye.id===X;Ye.domElement&&(Ye.domElement.checked=nt),I.setValue(Ye.id,{value:nt})}}},ke)}),this._setEventListeners(ae,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.checked)}return this._setBackgroundColor(ae),this._setDefaultPropertiesFromJS(ae),this.container.appendChild(ae),this.container}}class B extends S{constructor(I){super(I,{ignoreBorder:I.data.hasAppearance})}render(){const I=super.render();return I.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(I.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(I),I}}class j extends A{constructor(I){super(I,{isRenderable:I.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const I=this.annotationStorage,U=this.data.id,X=I.getValue(U,{value:this.data.fieldValue});let{fontSize:me}=this.data.defaultAppearanceData;me||(me=9);const ae=`calc(${me}px * var(--zoom-factor))`,be=document.createElement("select");F.add(be),be.disabled=this.data.readOnly,be.name=this.data.fieldName,be.setAttribute("id",U),be.tabIndex=1e3,be.style.fontSize=`${me}px`,this.data.combo||(be.size=this.data.options.length,this.data.multiSelect&&(be.multiple=!0)),be.addEventListener("resetform",Fe=>{const Ge=this.data.defaultFieldValue;for(const Ye of be.options)Ye.selected=Ye.value===Ge});for(const Fe of this.data.options){const Ge=document.createElement("option");Ge.textContent=Fe.displayValue,Ge.value=Fe.exportValue,this.data.combo&&(Ge.style.fontSize=ae),X.value.includes(Fe.exportValue)&&Ge.setAttribute("selected",!0),be.appendChild(Ge)}const ke=(Fe,Ge)=>{const Ye=Ge?"value":"textContent",nt=Fe.target.options;return Fe.target.multiple?Array.prototype.filter.call(nt,wt=>wt.selected).map(wt=>wt[Ye]):-1===nt.selectedIndex?null:nt[nt.selectedIndex][Ye]},Be=Fe=>Array.prototype.map.call(Fe.target.options,Ye=>({displayValue:Ye.textContent,exportValue:Ye.value}));return this.enableScripting&&this.hasJSActions?(be.addEventListener("updatefromsandbox",Fe=>{this._dispatchEventFromSandbox({value(Ye){const nt=Ye.detail.value,wt=new Set(Array.isArray(nt)?nt:[nt]);for(const Lt of be.options)Lt.selected=wt.has(Lt.value);I.setValue(U,{value:ke(Ye,!0)})},multipleSelection(Ye){be.multiple=!0},remove(Ye){const nt=be.options,wt=Ye.detail.remove;nt[wt].selected=!1,be.remove(wt),nt.length>0&&-1===Array.prototype.findIndex.call(nt,Xe=>Xe.selected)&&(nt[0].selected=!0),I.setValue(U,{value:ke(Ye,!0),items:Be(Ye)})},clear(Ye){for(;0!==be.length;)be.remove(0);I.setValue(U,{value:null,items:[]})},insert(Ye){const{index:nt,displayValue:wt,exportValue:Lt}=Ye.detail.insert,Xe=document.createElement("option");Xe.textContent=wt,Xe.value=Lt,be.insertBefore(Xe,be.children[nt]),I.setValue(U,{value:ke(Ye,!0),items:Be(Ye)})},items(Ye){const{items:nt}=Ye.detail;for(;0!==be.length;)be.remove(0);for(const wt of nt){const{displayValue:Lt,exportValue:Xe}=wt,je=document.createElement("option");je.textContent=Lt,je.value=Xe,be.appendChild(je)}be.options.length>0&&(be.options[0].selected=!0),I.setValue(U,{value:ke(Ye,!0),items:Be(Ye)})},indices(Ye){const nt=new Set(Ye.detail.indices);for(const wt of Ye.target.options)wt.selected=nt.has(wt.index);I.setValue(U,{value:ke(Ye,!0)})},editable(Ye){Ye.target.disabled=!Ye.detail.editable}},Fe)}),be.addEventListener("input",Fe=>{const Ge=ke(Fe,!0),Ye=ke(Fe,!1);I.setValue(U,{value:Ge}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:U,name:"Keystroke",value:Ye,changeEx:Ge,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(be,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Fe=>Fe.target.checked)):be.addEventListener("input",function(Fe){I.setValue(U,{value:ke(Fe,!0)})}),this._setBackgroundColor(be),this._setDefaultPropertiesFromJS(be),this.container.appendChild(be),this.container}}class D extends M{constructor(I){super(I,{isRenderable:!!(I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const X=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===X.length)return this.container;const me=new R({container:this.container,trigger:Array.from(X),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ae=this.page,be=l.Util.normalizeRect([this.data.parentRect[0],ae.view[3]-this.data.parentRect[1]+ae.view[1],this.data.parentRect[2],ae.view[3]-this.data.parentRect[3]+ae.view[1]]),ke=be[0]+this.data.parentRect[2]-this.data.parentRect[0],Be=be[1];return this.container.style.transformOrigin=`${-ke}px ${-Be}px`,this.container.style.left=`${ke}px`,this.container.style.top=`${Be}px`,this.container.appendChild(me.render()),this.container}}class R{constructor(I){this.container=I.container,this.trigger=I.trigger,this.color=I.color,this.titleObj=I.titleObj,this.modificationDate=I.modificationDate,this.contentsObj=I.contentsObj,this.richText=I.richText,this.hideWrapper=I.hideWrapper||!1,this.pinned=!1}render(){const U=document.createElement("div");U.className="popupWrapper",this.hideElement=this.hideWrapper?U:this.container,this.hideElement.hidden=!0;const X=document.createElement("div");X.className="popup";const me=this.color;me&&(X.style.backgroundColor=l.Util.makeHexColor(0|.7*(255-me[0])+me[0],0|.7*(255-me[1])+me[1],0|.7*(255-me[2])+me[2]));const ae=document.createElement("h1");ae.dir=this.titleObj.dir,ae.textContent=this.titleObj.str,X.appendChild(ae);const be=xe.PDFDateString.toDateObject(this.modificationDate);if(be){const ke=document.createElement("span");ke.className="popupDate",ke.textContent="{{date}}, {{time}}",ke.dataset.l10nId="annotation_date_string",ke.dataset.l10nArgs=JSON.stringify({date:be.toLocaleDateString(),time:be.toLocaleTimeString()}),X.appendChild(ke)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const ke=this._formatContents(this.contentsObj);X.appendChild(ke)}else Ae.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:X}),X.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ke of this.trigger)ke.addEventListener("click",this._toggle.bind(this)),ke.addEventListener("mouseover",this._show.bind(this,!1)),ke.addEventListener("mouseout",this._hide.bind(this,!1));return X.addEventListener("click",this._hide.bind(this,!0)),U.appendChild(X),U}_formatContents({str:I,dir:U}){const X=document.createElement("p");X.className="popupContent",X.dir=U;const me=I.split(/(?:\r\n?|\n)/);for(let ae=0,be=me.length;ae<be;++ae)X.appendChild(document.createTextNode(me[ae])),ae<be-1&&X.appendChild(document.createElement("br"));return X}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(I=!1){I&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(I=!0){I&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class Y extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const I=this.data,{width:U,height:X}=te(I.rect),me=this.svgFactory.create(U,X),ae=this.svgFactory.createElement("svg:line");return ae.setAttribute("x1",I.rect[2]-I.lineCoordinates[0]),ae.setAttribute("y1",I.rect[3]-I.lineCoordinates[1]),ae.setAttribute("x2",I.rect[2]-I.lineCoordinates[2]),ae.setAttribute("y2",I.rect[3]-I.lineCoordinates[3]),ae.setAttribute("stroke-width",I.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),me.appendChild(ae),this.container.append(me),this._createPopup(ae,I),this.container}}class q extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const I=this.data,{width:U,height:X}=te(I.rect),me=this.svgFactory.create(U,X),ae=I.borderStyle.width,be=this.svgFactory.createElement("svg:rect");return be.setAttribute("x",ae/2),be.setAttribute("y",ae/2),be.setAttribute("width",U-ae),be.setAttribute("height",X-ae),be.setAttribute("stroke-width",ae||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),me.appendChild(be),this.container.append(me),this._createPopup(be,I),this.container}}class fe extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const I=this.data,{width:U,height:X}=te(I.rect),me=this.svgFactory.create(U,X),ae=I.borderStyle.width,be=this.svgFactory.createElement("svg:ellipse");return be.setAttribute("cx",U/2),be.setAttribute("cy",X/2),be.setAttribute("rx",U/2-ae/2),be.setAttribute("ry",X/2-ae/2),be.setAttribute("stroke-width",ae||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),me.appendChild(be),this.container.append(me),this._createPopup(be,I),this.container}}class _e extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const I=this.data,{width:U,height:X}=te(I.rect),me=this.svgFactory.create(U,X);let ae=[];for(const ke of I.vertices)ae.push(ke.x-I.rect[0]+","+(I.rect[3]-ke.y));ae=ae.join(" ");const be=this.svgFactory.createElement(this.svgElementName);return be.setAttribute("points",ae),be.setAttribute("stroke-width",I.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),me.appendChild(be),this.container.append(me),this._createPopup(be,I),this.container}}class z extends _e{constructor(I){super(I),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ge extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ce extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const I=this.data,{width:U,height:X}=te(I.rect),me=this.svgFactory.create(U,X);for(const ae of I.inkLists){let be=[];for(const Be of ae)be.push(`${Be.x-I.rect[0]},${I.rect[3]-Be.y}`);be=be.join(" ");const ke=this.svgFactory.createElement(this.svgElementName);ke.setAttribute("points",be),ke.setAttribute("stroke-width",I.borderStyle.width||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),this._createPopup(ke,I),me.appendChild(ke)}return this.container.append(me),this.container}}class J extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class de extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class re extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Ie extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Me extends M{constructor(I){super(I,{isRenderable:!!(I.data.hasPopup||I.data.titleObj?.str||I.data.contentsObj?.str||I.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ne extends M{constructor(I){super(I,{isRenderable:!0});const{filename:U,content:X}=this.data.file;this.filename=(0,xe.getFilenameFromUrl)(U),this.content=X,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:U,content:X})}render(){this.container.className="fileAttachmentAnnotation";const I=document.createElement("div");return I.style.height=this.container.style.height,I.style.width=this.container.style.width,I.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(I,this.data),this.container.appendChild(I),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class et{static render(I){const U=[],X=[];for(const ae of I.annotations){if(!ae)continue;const{width:be,height:ke}=te(ae.rect);if(!(be<=0||ke<=0)){if(ae.annotationType===l.AnnotationType.POPUP){X.push(ae);continue}U.push(ae)}}X.length&&U.push(...X);const me=I.div;for(const ae of U){const be=W.create({data:ae,layer:me,page:I.page,viewport:I.viewport,linkService:I.linkService,downloadManager:I.downloadManager,imageResourcesPath:I.imageResourcesPath||"",renderForms:!1!==I.renderForms,svgFactory:new xe.DOMSVGFactory,annotationStorage:I.annotationStorage||new le.AnnotationStorage,enableScripting:I.enableScripting,hasJSActions:I.hasJSActions,fieldObjects:I.fieldObjects,mouseState:I.mouseState||{isDown:!1}});if(be.isRenderable){const ke=be.render();if(ae.hidden&&(ke.style.visibility="hidden"),Array.isArray(ke))for(const Be of ke)me.appendChild(Be);else be instanceof D?me.prepend(ke):me.appendChild(ke)}}rn(this,ye,mR).call(this,me,I.annotationCanvasMap)}static update(I){const{page:U,viewport:X,annotations:me,annotationCanvasMap:ae,div:be}=I,ke=X.transform,Be=`matrix(${ke.join(",")})`;let Fe,Ge;for(const Ye of me){const nt=be.querySelectorAll(`[data-annotation-id="${Ye.id}"]`);if(nt)for(const wt of nt)if(Ye.hasOwnCanvas){const Lt=l.Util.normalizeRect([Ye.rect[0],U.view[3]-Ye.rect[1]+U.view[1],Ye.rect[2],U.view[3]-Ye.rect[3]+U.view[1]]);if(!Ge){Fe=Math.abs(ke[0]||ke[1]);const rt=ke.slice();for(let pe=0;pe<4;pe++)rt[pe]=Math.sign(rt[pe]);Ge=`matrix(${rt.join(",")})`}const Xe=Lt[0]*Fe,je=Lt[1]*Fe;wt.style.left=`${Xe}px`,wt.style.top=`${je}px`,wt.style.transformOrigin=`${-Xe}px ${-je}px`,wt.style.transform=Ge}else wt.style.transform=Be}rn(this,ye,mR).call(this,be,ae),be.hidden=!1}}ye=new WeakSet,mR=function(I,U){if(U){for(const[X,me]of U){const ae=I.querySelector(`[data-annotation-id="${X}"]`);if(!ae)continue;const{firstChild:be}=ae;"CANVAS"===be.nodeName?ae.replaceChild(me,be):ae.insertBefore(me,be)}U.clear()}},fn(et,ye),se.AnnotationLayer=et},(tt,se)=>{function ie(xe){return Math.floor(255*Math.max(0,Math.min(1,xe))).toString(16).padStart(2,"0")}Object.defineProperty(se,"__esModule",{value:!0}),se.ColorConverters=void 0,se.ColorConverters=class l{static CMYK_G([le,Ee,Ae,ue]){return["G",1-Math.min(1,.3*le+.59*Ae+.11*Ee+ue)]}static G_CMYK([le]){return["CMYK",0,0,0,1-le]}static G_RGB([le]){return["RGB",le,le,le]}static G_HTML([le]){const Ee=ie(le);return`#${Ee}${Ee}${Ee}`}static RGB_G([le,Ee,Ae]){return["G",.3*le+.59*Ee+.11*Ae]}static RGB_HTML([le,Ee,Ae]){return`#${ie(le)}${ie(Ee)}${ie(Ae)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([le,Ee,Ae,ue]){return["RGB",1-Math.min(1,le+ue),1-Math.min(1,Ae+ue),1-Math.min(1,Ee+ue)]}static CMYK_HTML(le){return this.RGB_HTML(this.CMYK_RGB(le))}static RGB_CMYK([le,Ee,Ae]){const ue=1-le,F=1-Ee,te=1-Ae;return["CMYK",ue,F,te,Math.min(ue,F,te)]}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.XfaLayer=void 0;var l=ie(18);se.XfaLayer=class xe{static setupStorage(Ee,Ae,ue,F,te){const W=F.getValue(Ae,{value:null});switch(ue.name){case"textarea":if(null!==W.value&&(Ee.textContent=W.value),"print"===te)break;Ee.addEventListener("input",M=>{F.setValue(Ae,{value:M.target.value})});break;case"input":if("radio"===ue.attributes.type||"checkbox"===ue.attributes.type){if(W.value===ue.attributes.xfaOn?Ee.setAttribute("checked",!0):W.value===ue.attributes.xfaOff&&Ee.removeAttribute("checked"),"print"===te)break;Ee.addEventListener("change",M=>{F.setValue(Ae,{value:M.target.getAttribute(M.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==W.value&&Ee.setAttribute("value",W.value),"print"===te)break;Ee.addEventListener("input",M=>{F.setValue(Ae,{value:M.target.value})})}break;case"select":if(null!==W.value)for(const M of ue.children)M.attributes.value===W.value&&(M.attributes.selected=!0);Ee.addEventListener("input",M=>{const S=M.target.options;F.setValue(Ae,{value:-1===S.selectedIndex?"":S[S.selectedIndex].value})})}}static setAttributes({html:Ee,element:Ae,storage:ue=null,intent:F,linkService:te}){const{attributes:W}=Ae,M=Ee instanceof HTMLAnchorElement;"radio"===W.type&&(W.name=`${W.name}-${F}`);for(const[S,k]of Object.entries(W))if(null!=k&&"dataId"!==S)if("style"!==S)if("textContent"===S)Ee.textContent=k;else if("class"===S)k.length&&Ee.setAttribute(S,k.join(" "));else{if(M&&("href"===S||"newWindow"===S))continue;Ee.setAttribute(S,k)}else Object.assign(Ee.style,k);M&&te.addLinkAttributes(Ee,W.href,W.newWindow),ue&&W.dataId&&this.setupStorage(Ee,W.dataId,Ae,ue)}static render(Ee){const Ae=Ee.annotationStorage,ue=Ee.linkService,F=Ee.xfaHtml,te=Ee.intent||"display",W=document.createElement(F.name);F.attributes&&this.setAttributes({html:W,element:F,intent:te,linkService:ue});const M=[[F,-1,W]],S=Ee.div;if(S.appendChild(W),Ee.viewport){const A=`matrix(${Ee.viewport.transform.join(",")})`;S.style.transform=A}"richText"!==te&&S.setAttribute("class","xfaLayer xfaFont");const k=[];for(;M.length>0;){const[A,x,L]=M[M.length-1];if(x+1===A.children.length){M.pop();continue}const oe=A.children[++M[M.length-1][1]];if(null===oe)continue;const{name:B}=oe;if("#text"===B){const D=document.createTextNode(oe.value);k.push(D),L.appendChild(D);continue}let j;if(j=oe?.attributes?.xmlns?document.createElementNS(oe.attributes.xmlns,B):document.createElement(B),L.appendChild(j),oe.attributes&&this.setAttributes({html:j,element:oe,storage:Ae,intent:te,linkService:ue}),oe.children&&oe.children.length>0)M.push([oe,-1,j]);else if(oe.value){const D=document.createTextNode(oe.value);l.XfaText.shouldBuildText(B)&&k.push(D),j.appendChild(D)}}for(const A of S.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:k}}static update(Ee){const Ae=`matrix(${Ee.viewport.transform.join(",")})`;Ee.div.style.transform=Ae,Ee.div.hidden=!1}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.renderTextLayer=function L(oe){const B=new x({textContent:oe.textContent,textContentStream:oe.textContentStream,container:oe.container,viewport:oe.viewport,textDivs:oe.textDivs,textContentItemsStr:oe.textContentItemsStr,enhanceTextSelection:oe.enhanceTextSelection});return B._render(oe.timeout),B};var l=ie(1);const Ae=new Map,ue=/^\s+$/g;function te(oe,B,j,D){const R=document.createElement("span"),Y=oe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==B.str,hasEOL:B.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==B.str,hasEOL:B.hasEOL};oe._textDivs.push(R);const H=l.Util.transform(oe._viewport.transform,B.transform);let q=Math.atan2(H[1],H[0]);const fe=j[B.fontName];fe.vertical&&(q+=Math.PI/2);const _e=Math.hypot(H[2],H[3]),z=_e*function F(oe,B){const j=Ae.get(oe);if(j)return j;B.save(),B.font=`30px ${oe}`;const D=B.measureText("");let R=D.fontBoundingBoxAscent,Y=Math.abs(D.fontBoundingBoxDescent);if(R){B.restore();const q=R/(R+Y);return Ae.set(oe,q),q}B.strokeStyle="red",B.clearRect(0,0,30,30),B.strokeText("g",0,0);let H=B.getImageData(0,0,30,30).data;Y=0;for(let q=H.length-1-3;q>=0;q-=4)if(H[q]>0){Y=Math.ceil(q/4/30);break}B.clearRect(0,0,30,30),B.strokeText("A",0,30),H=B.getImageData(0,0,30,30).data,R=0;for(let q=0,fe=H.length;q<fe;q+=4)if(H[q]>0){R=30-Math.floor(q/4/30);break}if(B.restore(),R){const q=R/(R+Y);return Ae.set(oe,q),q}return Ae.set(oe,.8),.8}(fe.fontFamily,D);let ge,ce;0===q?(ge=H[4],ce=H[5]-z):(ge=H[4]+z*Math.sin(q),ce=H[5]-z*Math.cos(q)),R.style.left=`${ge}px`,R.style.top=`${ce}px`,R.style.fontSize=`${_e}px`,R.style.fontFamily=fe.fontFamily,R.setAttribute("role","presentation"),R.textContent=B.str,R.dir=B.dir,oe._fontInspectorEnabled&&(R.dataset.fontName=B.fontName),0!==q&&(Y.angle=q*(180/Math.PI));let J=!1;if(B.str.length>1||oe._enhanceTextSelection&&ue.test(B.str))J=!0;else if(" "!==B.str&&B.transform[0]!==B.transform[3]){const de=Math.abs(B.transform[0]),re=Math.abs(B.transform[3]);de!==re&&Math.max(de,re)/Math.min(de,re)>1.5&&(J=!0)}if(J&&(Y.canvasWidth=fe.vertical?B.height*oe._viewport.scale:B.width*oe._viewport.scale),oe._textDivProperties.set(R,Y),oe._textContentStream&&oe._layoutText(R),oe._enhanceTextSelection&&Y.hasText){let de=1,re=0;0!==q&&(de=Math.cos(q),re=Math.sin(q));const Ie=(fe.vertical?B.height:B.width)*oe._viewport.scale,Me=_e;let Ne,et;0!==q?(Ne=[de,re,-re,de,ge,ce],et=l.Util.getAxialAlignedBoundingBox([0,0,Ie,Me],Ne)):et=[ge,ce,ge+Ie,ce+Me],oe._bounds.push({left:et[0],top:et[1],right:et[2],bottom:et[3],div:R,size:[Ie,Me],m:Ne})}}function W(oe){if(oe._canceled)return;const B=oe._textDivs,j=oe._capability,D=B.length;if(D>1e5)return oe._renderingDone=!0,void j.resolve();if(!oe._textContentStream)for(let R=0;R<D;R++)oe._layoutText(B[R]);oe._renderingDone=!0,j.resolve()}function M(oe,B,j){let D=0;for(let R=0;R<j;R++){const Y=oe[B++];Y>0&&(D=D?Math.min(Y,D):Y)}return D}function A(oe,B){B.sort(function(R,Y){return R.x1-Y.x1||R.index-Y.index});const D=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const R of B){let Y=0;for(;Y<D.length&&D[Y].end<=R.y1;)Y++;let H=D.length-1;for(;H>=0&&D[H].start>=R.y2;)H--;let q,fe,_e,z,ge=-1/0;for(_e=Y;_e<=H;_e++){let de;q=D[_e],fe=q.boundary,de=fe.x2>R.x1?fe.index>R.index?fe.x1New:R.x1:void 0===fe.x2New?(fe.x2+R.x1)/2:fe.x2New,de>ge&&(ge=de)}for(R.x1New=ge,_e=Y;_e<=H;_e++)q=D[_e],fe=q.boundary,void 0===fe.x2New?fe.x2>R.x1?fe.index>R.index&&(fe.x2New=fe.x2):fe.x2New=ge:fe.x2New>ge&&(fe.x2New=Math.max(ge,fe.x2));const ce=[];let J=null;for(_e=Y;_e<=H;_e++){q=D[_e],fe=q.boundary;const de=fe.x2>R.x2?fe:R;J===de?ce[ce.length-1].end=q.end:(ce.push({start:q.start,end:q.end,boundary:de}),J=de)}for(D[Y].start<R.y1&&(ce[0].start=R.y1,ce.unshift({start:D[Y].start,end:R.y1,boundary:D[Y].boundary})),R.y2<D[H].end&&(ce[ce.length-1].end=R.y2,ce.push({start:R.y2,end:D[H].end,boundary:D[H].boundary})),_e=Y;_e<=H;_e++){if(q=D[_e],fe=q.boundary,void 0!==fe.x2New)continue;let de=!1;for(z=Y-1;!de&&z>=0&&D[z].start>=fe.y1;z--)de=D[z].boundary===fe;for(z=H+1;!de&&z<D.length&&D[z].end<=fe.y2;z++)de=D[z].boundary===fe;for(z=0;!de&&z<ce.length;z++)de=ce[z].boundary===fe;de||(fe.x2New=ge)}Array.prototype.splice.apply(D,[Y,H-Y+1].concat(ce))}for(const R of D){const Y=R.boundary;void 0===Y.x2New&&(Y.x2New=Math.max(oe,Y.x2))}}class x{constructor({textContent:B,textContentStream:j,container:D,viewport:R,textDivs:Y,textContentItemsStr:H,enhanceTextSelection:q}){this._textContent=B,this._textContentStream=j,this._container=D,this._document=D.ownerDocument,this._viewport=R,this._textDivs=Y||[],this._textContentItemsStr=H||[],this._enhanceTextSelection=!!q,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,l.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new l.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(B,j){for(let D=0,R=B.length;D<R;D++)if(void 0!==B[D].str)this._textContentItemsStr.push(B[D].str),te(this,B[D],j,this._layoutTextCtx);else if("beginMarkedContentProps"===B[D].type||"beginMarkedContent"===B[D].type){const Y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==B[D].id&&this._container.setAttribute("id",`${B[D].id}`),Y.appendChild(this._container)}else"endMarkedContent"===B[D].type&&(this._container=this._container.parentNode)}_layoutText(B){const j=this._textDivProperties.get(B);let D="";if(0!==j.canvasWidth&&j.hasText){const{fontSize:R,fontFamily:Y}=B.style;(R!==this._layoutTextLastFontSize||Y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${R} ${Y}`,this._layoutTextLastFontSize=R,this._layoutTextLastFontFamily=Y);const{width:H}=this._layoutTextCtx.measureText(B.textContent);if(H>0){const q=j.canvasWidth/H;this._enhanceTextSelection&&(j.scale=q),D=`scaleX(${q})`}}if(0!==j.angle&&(D=`rotate(${j.angle}deg) ${D}`),D.length>0&&(this._enhanceTextSelection&&(j.originalTransform=D),B.style.transform=D),j.hasText&&this._container.appendChild(B),j.hasEOL){const R=document.createElement("br");R.setAttribute("role","presentation"),this._container.appendChild(R)}}_render(B=0){const j=(0,l.createPromiseCapability)();let D=Object.create(null);const R=this._document.createElement("canvas");if(R.height=R.width=30,this._layoutTextCtx=R.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),j.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const Y=()=>{this._reader.read().then(({value:H,done:q})=>{q?j.resolve():(Object.assign(D,H.styles),this._processItems(H.items,D),Y())},j.reject)};this._reader=this._textContentStream.getReader(),Y()}}j.promise.then(()=>{D=null,B?this._renderTimer=setTimeout(()=>{W(this),this._renderTimer=null},B):W(this)},this._capability.reject)}expandTextDivs(B=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function S(oe){const B=oe._bounds,j=oe._viewport,D=function k(oe,B,j){const D=j.map(function(Y,H){return{x1:Y.left,y1:Y.top,x2:Y.right,y2:Y.bottom,index:H,x1New:void 0,x2New:void 0}});A(oe,D);const R=new Array(j.length);for(const Y of D)R[Y.index]={left:Y.x1New,top:0,right:Y.x2New,bottom:0};j.map(function(Y,H){const q=R[H],fe=D[H];fe.x1=Y.top,fe.y1=oe-q.right,fe.x2=Y.bottom,fe.y2=oe-q.left,fe.index=H,fe.x1New=void 0,fe.x2New=void 0}),A(B,D);for(const Y of D){const H=Y.index;R[H].top=Y.x1New,R[H].bottom=Y.x2New}return R}(j.width,j.height,B);for(let R=0;R<D.length;R++){const Y=B[R].div,H=oe._textDivProperties.get(Y);if(0===H.angle){H.paddingLeft=B[R].left-D[R].left,H.paddingTop=B[R].top-D[R].top,H.paddingRight=D[R].right-B[R].right,H.paddingBottom=D[R].bottom-B[R].bottom,oe._textDivProperties.set(Y,H);continue}const q=D[R],fe=B[R],_e=fe.m,z=_e[0],ge=_e[1],ce=[[0,0],[0,fe.size[1]],[fe.size[0],0],fe.size],J=new Float64Array(64);for(let re=0,Ie=ce.length;re<Ie;re++){const Me=l.Util.applyTransform(ce[re],_e);J[re+0]=z&&(q.left-Me[0])/z,J[re+4]=ge&&(q.top-Me[1])/ge,J[re+8]=z&&(q.right-Me[0])/z,J[re+12]=ge&&(q.bottom-Me[1])/ge,J[re+16]=ge&&(q.left-Me[0])/-ge,J[re+20]=z&&(q.top-Me[1])/z,J[re+24]=ge&&(q.right-Me[0])/-ge,J[re+28]=z&&(q.bottom-Me[1])/z,J[re+32]=z&&(q.left-Me[0])/-z,J[re+36]=ge&&(q.top-Me[1])/-ge,J[re+40]=z&&(q.right-Me[0])/-z,J[re+44]=ge&&(q.bottom-Me[1])/-ge,J[re+48]=ge&&(q.left-Me[0])/ge,J[re+52]=z&&(q.top-Me[1])/-z,J[re+56]=ge&&(q.right-Me[0])/ge,J[re+60]=z&&(q.bottom-Me[1])/-z}const de=1+Math.min(Math.abs(z),Math.abs(ge));H.paddingLeft=M(J,32,16)/de,H.paddingTop=M(J,48,16)/de,H.paddingRight=M(J,0,16)/de,H.paddingBottom=M(J,16,16)/de,oe._textDivProperties.set(Y,H)}}(this),this._bounds=null);const j=[],D=[];for(let R=0,Y=this._textDivs.length;R<Y;R++){const H=this._textDivs[R],q=this._textDivProperties.get(H);!q.hasText||(B?(j.length=0,D.length=0,q.originalTransform&&j.push(q.originalTransform),q.paddingTop>0?(D.push(`${q.paddingTop}px`),j.push(`translateY(${-q.paddingTop}px)`)):D.push(0),D.push(q.paddingRight>0?q.paddingRight/q.scale+"px":0),D.push(q.paddingBottom>0?`${q.paddingBottom}px`:0),q.paddingLeft>0?(D.push(q.paddingLeft/q.scale+"px"),j.push(`translateX(${-q.paddingLeft/q.scale}px)`)):D.push(0),H.style.padding=D.join(" "),j.length&&(H.style.transform=j.join(" "))):(H.style.padding=null,H.style.transform=q.originalTransform))}}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.SVGGraphics=void 0;var l=ie(1),xe=ie(5),le=ie(3);let Ee=class{constructor(){(0,l.unreachable)("Not implemented: SVGGraphics")}};se.SVGGraphics=Ee;{let A=function(D){let R=[];const Y=[];for(const H of D)"save"!==H.fn?"restore"===H.fn?R=Y.pop():R.push(H):(R.push({fnId:92,fn:"group",items:[]}),Y.push(R),R=R[R.length-1].items);return R},x=function(D){if(Number.isInteger(D))return D.toString();const R=D.toFixed(10);let Y=R.length-1;if("0"!==R[Y])return R;do{Y--}while("0"===R[Y]);return R.substring(0,"."===R[Y]?Y:Y+1)},L=function(D){if(0===D[4]&&0===D[5]){if(0===D[1]&&0===D[2])return 1===D[0]&&1===D[3]?"":`scale(${x(D[0])} ${x(D[3])})`;if(D[0]===D[3]&&D[1]===-D[2]){const R=180*Math.acos(D[0])/Math.PI;return`rotate(${x(R)})`}}else if(1===D[0]&&0===D[1]&&0===D[2]&&1===D[3])return`translate(${x(D[4])} ${x(D[5])})`;return`matrix(${x(D[0])} ${x(D[1])} ${x(D[2])} ${x(D[3])} ${x(D[4])} ${x(D[5])})`};const Ae={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ue="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/1999/xlink",te=["butt","round","square"],W=["miter","round","bevel"],M=function(D,R="",Y=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Y)return URL.createObjectURL(new Blob([D],{type:R}));const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let q=`data:${R};base64,`;for(let fe=0,_e=D.length;fe<_e;fe+=3){const z=255&D[fe],ge=255&D[fe+1],ce=255&D[fe+2];q+=H[z>>2]+H[(3&z)<<4|ge>>4]+H[fe+1<_e?(15&ge)<<2|ce>>6:64]+H[fe+2<_e?63&ce:64]}return q},S=function(){const D=new Uint8Array([137,80,78,71,13,10,26,10]),Y=new Int32Array(256);for(let ce=0;ce<256;ce++){let J=ce;for(let de=0;de<8;de++)J=1&J?3988292384^J>>1&2147483647:J>>1&2147483647;Y[ce]=J}function q(ce,J,de,re){let Ie=re;const Me=J.length;de[Ie]=Me>>24&255,de[Ie+1]=Me>>16&255,de[Ie+2]=Me>>8&255,de[Ie+3]=255&Me,Ie+=4,de[Ie]=255&ce.charCodeAt(0),de[Ie+1]=255&ce.charCodeAt(1),de[Ie+2]=255&ce.charCodeAt(2),de[Ie+3]=255&ce.charCodeAt(3),Ie+=4,de.set(J,Ie),Ie+=J.length;const Ne=function H(ce,J,de){let re=-1;for(let Ie=J;Ie<de;Ie++)re=re>>>8^Y[255&(re^ce[Ie])];return-1^re}(de,re+4,Ie);de[Ie]=Ne>>24&255,de[Ie+1]=Ne>>16&255,de[Ie+2]=Ne>>8&255,de[Ie+3]=255&Ne}function z(ce){let J=ce.length;const de=65535,re=Math.ceil(J/de),Ie=new Uint8Array(2+J+5*re+4);let Me=0;Ie[Me++]=120,Ie[Me++]=156;let Ne=0;for(;J>de;)Ie[Me++]=0,Ie[Me++]=255,Ie[Me++]=255,Ie[Me++]=0,Ie[Me++]=0,Ie.set(ce.subarray(Ne,Ne+de),Me),Me+=de,Ne+=de,J-=de;Ie[Me++]=1,Ie[Me++]=255&J,Ie[Me++]=J>>8&255,Ie[Me++]=255&~J,Ie[Me++]=(65535&~J)>>8&255,Ie.set(ce.subarray(Ne),Me),Me+=ce.length-Ne;const et=function fe(ce,J,de){let re=1,Ie=0;for(let Me=J;Me<de;++Me)re=(re+(255&ce[Me]))%65521,Ie=(Ie+re)%65521;return Ie<<16|re}(ce,0,ce.length);return Ie[Me++]=et>>24&255,Ie[Me++]=et>>16&255,Ie[Me++]=et>>8&255,Ie[Me++]=255&et,Ie}return function(J,de,re){return function ge(ce,J,de,re){const Ie=ce.width,Me=ce.height;let Ne,et,ye;const N=ce.data;switch(J){case l.ImageKind.GRAYSCALE_1BPP:et=0,Ne=1,ye=Ie+7>>3;break;case l.ImageKind.RGB_24BPP:et=2,Ne=8,ye=3*Ie;break;case l.ImageKind.RGBA_32BPP:et=6,Ne=8,ye=4*Ie;break;default:throw new Error("invalid format")}const G=new Uint8Array((1+ye)*Me);let I=0,U=0;for(let Be=0;Be<Me;++Be)G[I++]=0,G.set(N.subarray(U,U+ye),I),U+=ye,I+=ye;if(J===l.ImageKind.GRAYSCALE_1BPP&&re){I=0;for(let Be=0;Be<Me;Be++){I++;for(let Fe=0;Fe<ye;Fe++)G[I++]^=255}}const X=new Uint8Array([Ie>>24&255,Ie>>16&255,Ie>>8&255,255&Ie,Me>>24&255,Me>>16&255,Me>>8&255,255&Me,Ne,et,0,0,0]),me=function _e(ce){if(!le.isNodeJS)return z(ce);try{let J;J=parseInt(process.versions.node)>=8?ce:Buffer.from(ce);const de=__webpack_require__(2258).deflateSync(J,{level:9});return de instanceof Uint8Array?de:new Uint8Array(de)}catch(J){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+J)}return z(ce)}(G),be=new Uint8Array(D.length+36+X.length+me.length);let ke=0;return be.set(D,ke),ke+=D.length,q("IHDR",X,be,ke),ke+=12+X.length,q("IDATA",me,be,ke),ke+=12+me.length,q("IEND",new Uint8Array(0),be,ke),M(be,"image/png",de)}(J,void 0===J.kind?l.ImageKind.GRAYSCALE_1BPP:J.kind,de,re)}}();class k{constructor(){this.fontSizeScale=1,this.fontWeight=Ae.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Ae.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(R,Y){this.x=R,this.y=Y}}let oe=0,B=0,j=0;se.SVGGraphics=Ee=class{constructor(D,R,Y=!1){this.svgFactory=new xe.DOMSVGFactory,this.current=new k,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=D,this.objs=R,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Y,this._operatorIdMapping=[];for(const H in l.OPS)this._operatorIdMapping[l.OPS[H]]=H}save(){this.transformStack.push(this.transformMatrix);const D=this.current;this.extraStack.push(D),this.current=D.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(D){this.save(),this.executeOpTree(D),this.restore()}loadDependencies(D){const R=D.fnArray,Y=D.argsArray;for(let H=0,q=R.length;H<q;H++)if(R[H]===l.OPS.dependency)for(const fe of Y[H]){const _e=fe.startsWith("g_")?this.commonObjs:this.objs,z=new Promise(ge=>{_e.get(fe,ge)});this.current.dependencies.push(z)}return Promise.all(this.current.dependencies)}transform(D,R,Y,H,q,fe){this.transformMatrix=l.Util.transform(this.transformMatrix,[D,R,Y,H,q,fe]),this.tgrp=null}getSVG(D,R){this.viewport=R;const Y=this._initialize(R);return this.loadDependencies(D).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(D)),Y))}convertOpList(D){const R=this._operatorIdMapping,Y=D.argsArray,H=D.fnArray,q=[];for(let fe=0,_e=H.length;fe<_e;fe++){const z=H[fe];q.push({fnId:z,fn:R[z],args:Y[fe]})}return A(q)}executeOpTree(D){for(const R of D){const Y=R.fn,q=R.args;switch(0|R.fnId){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(q);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(q[0],q[1]);break;case l.OPS.setFont:this.setFont(q);break;case l.OPS.showText:case l.OPS.showSpacedText:this.showText(q[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(q[0],q[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(q[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(q[0]);break;case l.OPS.setHScale:this.setHScale(q[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(q[0],q[1],q[2],q[3],q[4],q[5]);break;case l.OPS.setTextRise:this.setTextRise(q[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(q[0]);break;case l.OPS.setLineWidth:this.setLineWidth(q[0]);break;case l.OPS.setLineJoin:this.setLineJoin(q[0]);break;case l.OPS.setLineCap:this.setLineCap(q[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(q[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(q[0],q[1],q[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(q[0],q[1],q[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(q);break;case l.OPS.setFillColorN:this.setFillColorN(q);break;case l.OPS.shadingFill:this.shadingFill(q[0]);break;case l.OPS.setDash:this.setDash(q[0],q[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(q[0]);break;case l.OPS.setFlatness:this.setFlatness(q[0]);break;case l.OPS.setGState:this.setGState(q[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(q[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(q[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(q[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(q[0],q[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(q[0],q[1],q[2],q[3],q[4],q[5]);break;case l.OPS.constructPath:this.constructPath(q[0],q[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(R.items);break;default:(0,l.warn)(`Unimplemented operator ${Y}`)}}}setWordSpacing(D){this.current.wordSpacing=D}setCharSpacing(D){this.current.charSpacing=D}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(D,R,Y,H,q,fe){const _e=this.current;_e.textMatrix=_e.lineMatrix=[D,R,Y,H,q,fe],_e.textMatrixScale=Math.hypot(D,R),_e.x=_e.lineX=0,_e.y=_e.lineY=0,_e.xcoords=[],_e.ycoords=[],_e.tspan=this.svgFactory.createElement("svg:tspan"),_e.tspan.setAttributeNS(null,"font-family",_e.fontFamily),_e.tspan.setAttributeNS(null,"font-size",`${x(_e.fontSize)}px`),_e.tspan.setAttributeNS(null,"y",x(-_e.y)),_e.txtElement=this.svgFactory.createElement("svg:text"),_e.txtElement.appendChild(_e.tspan)}beginText(){const D=this.current;D.x=D.lineX=0,D.y=D.lineY=0,D.textMatrix=l.IDENTITY_MATRIX,D.lineMatrix=l.IDENTITY_MATRIX,D.textMatrixScale=1,D.tspan=this.svgFactory.createElement("svg:tspan"),D.txtElement=this.svgFactory.createElement("svg:text"),D.txtgrp=this.svgFactory.createElement("svg:g"),D.xcoords=[],D.ycoords=[]}moveText(D,R){const Y=this.current;Y.x=Y.lineX+=D,Y.y=Y.lineY+=R,Y.xcoords=[],Y.ycoords=[],Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.tspan.setAttributeNS(null,"font-family",Y.fontFamily),Y.tspan.setAttributeNS(null,"font-size",`${x(Y.fontSize)}px`),Y.tspan.setAttributeNS(null,"y",x(-Y.y))}showText(D){const R=this.current,Y=R.font,H=R.fontSize;if(0===H)return;const q=R.fontSizeScale,fe=R.charSpacing,_e=R.wordSpacing,z=R.fontDirection,ge=R.textHScale*z,ce=Y.vertical,J=ce?1:-1,de=Y.defaultVMetrics,re=H*R.fontMatrix[0];let Ie=0;for(const et of D){if(null===et){Ie+=z*_e;continue}if("number"==typeof et){Ie+=J*et*H/1e3;continue}const ye=(et.isSpace?_e:0)+fe,N=et.fontChar;let G,I,X,U=et.width;if(ce){let me;const ae=et.vmetric||de;me=et.vmetric?ae[1]:.5*U,me=-me*re,U=ae?-ae[0]:U,G=me/q,I=(Ie+ae[2]*re)/q}else G=Ie/q,I=0;(et.isInFont||Y.missingFile)&&(R.xcoords.push(R.x+G),ce&&R.ycoords.push(-R.y+I),R.tspan.textContent+=N),X=ce?U*re-ye*z:U*re+ye*z,Ie+=X}R.tspan.setAttributeNS(null,"x",R.xcoords.map(x).join(" ")),R.tspan.setAttributeNS(null,"y",ce?R.ycoords.map(x).join(" "):x(-R.y)),ce?R.y-=Ie:R.x+=Ie*ge,R.tspan.setAttributeNS(null,"font-family",R.fontFamily),R.tspan.setAttributeNS(null,"font-size",`${x(R.fontSize)}px`),R.fontStyle!==Ae.fontStyle&&R.tspan.setAttributeNS(null,"font-style",R.fontStyle),R.fontWeight!==Ae.fontWeight&&R.tspan.setAttributeNS(null,"font-weight",R.fontWeight);const Me=R.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;Me===l.TextRenderingMode.FILL||Me===l.TextRenderingMode.FILL_STROKE?(R.fillColor!==Ae.fillColor&&R.tspan.setAttributeNS(null,"fill",R.fillColor),R.fillAlpha<1&&R.tspan.setAttributeNS(null,"fill-opacity",R.fillAlpha)):R.tspan.setAttributeNS(null,"fill",R.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Me===l.TextRenderingMode.STROKE||Me===l.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(R.tspan,1/(R.textMatrixScale||1));let Ne=R.textMatrix;0!==R.textRise&&(Ne=Ne.slice(),Ne[5]+=R.textRise),R.txtElement.setAttributeNS(null,"transform",`${L(Ne)} scale(${x(ge)}, -1)`),R.txtElement.setAttributeNS(ue,"xml:space","preserve"),R.txtElement.appendChild(R.tspan),R.txtgrp.appendChild(R.txtElement),this._ensureTransformGroup().appendChild(R.txtElement)}setLeadingMoveText(D,R){this.setLeading(-R),this.moveText(D,R)}addFontStyle(D){if(!D.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const R=M(D.data,D.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${D.loadedName}"; src: url(${R}); }\n`}setFont(D){const R=this.current,Y=this.commonObjs.get(D[0]);let H=D[1];R.font=Y,this.embedFonts&&!Y.missingFile&&!this.embeddedFonts[Y.loadedName]&&(this.addFontStyle(Y),this.embeddedFonts[Y.loadedName]=Y),R.fontMatrix=Y.fontMatrix||l.FONT_IDENTITY_MATRIX;let q="normal";Y.black?q="900":Y.bold&&(q="bold");const fe=Y.italic?"italic":"normal";H<0?(H=-H,R.fontDirection=-1):R.fontDirection=1,R.fontSize=H,R.fontFamily=Y.loadedName,R.fontWeight=q,R.fontStyle=fe,R.tspan=this.svgFactory.createElement("svg:tspan"),R.tspan.setAttributeNS(null,"y",x(-R.y)),R.xcoords=[],R.ycoords=[]}endText(){const D=this.current;D.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&D.txtElement?.hasChildNodes()&&(D.element=D.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(D){D>0&&(this.current.lineWidth=D)}setLineCap(D){this.current.lineCap=te[D]}setLineJoin(D){this.current.lineJoin=W[D]}setMiterLimit(D){this.current.miterLimit=D}setStrokeAlpha(D){this.current.strokeAlpha=D}setStrokeRGBColor(D,R,Y){this.current.strokeColor=l.Util.makeHexColor(D,R,Y)}setFillAlpha(D){this.current.fillAlpha=D}setFillRGBColor(D,R,Y){this.current.fillColor=l.Util.makeHexColor(D,R,Y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(D){this.current.strokeColor=this._makeColorN_Pattern(D)}setFillColorN(D){this.current.fillColor=this._makeColorN_Pattern(D)}shadingFill(D){const R=this.viewport.width,Y=this.viewport.height,H=l.Util.inverseTransform(this.transformMatrix),q=l.Util.applyTransform([0,0],H),fe=l.Util.applyTransform([0,Y],H),_e=l.Util.applyTransform([R,0],H),z=l.Util.applyTransform([R,Y],H),ge=Math.min(q[0],fe[0],_e[0],z[0]),ce=Math.min(q[1],fe[1],_e[1],z[1]),J=Math.max(q[0],fe[0],_e[0],z[0]),de=Math.max(q[1],fe[1],_e[1],z[1]),re=this.svgFactory.createElement("svg:rect");re.setAttributeNS(null,"x",ge),re.setAttributeNS(null,"y",ce),re.setAttributeNS(null,"width",J-ge),re.setAttributeNS(null,"height",de-ce),re.setAttributeNS(null,"fill",this._makeShadingPattern(D)),this.current.fillAlpha<1&&re.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(re)}_makeColorN_Pattern(D){return"TilingPattern"===D[0]?this._makeTilingPattern(D):this._makeShadingPattern(D)}_makeTilingPattern(D){const R=D[1],Y=D[2],H=D[3]||l.IDENTITY_MATRIX,[q,fe,_e,z]=D[4],ge=D[5],ce=D[6],J=D[7],de="shading"+j++,[re,Ie,Me,Ne]=l.Util.normalizeRect([...l.Util.applyTransform([q,fe],H),...l.Util.applyTransform([_e,z],H)]),[et,ye]=l.Util.singularValueDecompose2dScale(H),N=ge*et,G=ce*ye,I=this.svgFactory.createElement("svg:pattern");I.setAttributeNS(null,"id",de),I.setAttributeNS(null,"patternUnits","userSpaceOnUse"),I.setAttributeNS(null,"width",N),I.setAttributeNS(null,"height",G),I.setAttributeNS(null,"x",`${re}`),I.setAttributeNS(null,"y",`${Ie}`);const U=this.svg,X=this.transformMatrix,me=this.current.fillColor,ae=this.current.strokeColor,be=this.svgFactory.create(Me-re,Ne-Ie);if(this.svg=be,this.transformMatrix=H,2===J){const ke=l.Util.makeHexColor(...R);this.current.fillColor=ke,this.current.strokeColor=ke}return this.executeOpTree(this.convertOpList(Y)),this.svg=U,this.transformMatrix=X,this.current.fillColor=me,this.current.strokeColor=ae,I.appendChild(be.childNodes[0]),this.defs.appendChild(I),`url(#${de})`}_makeShadingPattern(D){switch("string"==typeof D&&(D=this.objs.get(D)),D[0]){case"RadialAxial":const R="shading"+j++,Y=D[3];let H;switch(D[1]){case"axial":const q=D[4],fe=D[5];H=this.svgFactory.createElement("svg:linearGradient"),H.setAttributeNS(null,"id",R),H.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),H.setAttributeNS(null,"x1",q[0]),H.setAttributeNS(null,"y1",q[1]),H.setAttributeNS(null,"x2",fe[0]),H.setAttributeNS(null,"y2",fe[1]);break;case"radial":const _e=D[4],z=D[5],ge=D[6],ce=D[7];H=this.svgFactory.createElement("svg:radialGradient"),H.setAttributeNS(null,"id",R),H.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),H.setAttributeNS(null,"cx",z[0]),H.setAttributeNS(null,"cy",z[1]),H.setAttributeNS(null,"r",ce),H.setAttributeNS(null,"fx",_e[0]),H.setAttributeNS(null,"fy",_e[1]),H.setAttributeNS(null,"fr",ge);break;default:throw new Error(`Unknown RadialAxial type: ${D[1]}`)}for(const q of Y){const fe=this.svgFactory.createElement("svg:stop");fe.setAttributeNS(null,"offset",q[0]),fe.setAttributeNS(null,"stop-color",q[1]),H.appendChild(fe)}return this.defs.appendChild(H),`url(#${R})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${D[0]}`)}}setDash(D,R){this.current.dashArray=D,this.current.dashPhase=R}constructPath(D,R){const Y=this.current;let H=Y.x,q=Y.y,fe=[],_e=0;for(const z of D)switch(0|z){case l.OPS.rectangle:H=R[_e++],q=R[_e++];const J=H+R[_e++],de=q+R[_e++];fe.push("M",x(H),x(q),"L",x(J),x(q),"L",x(J),x(de),"L",x(H),x(de),"Z");break;case l.OPS.moveTo:H=R[_e++],q=R[_e++],fe.push("M",x(H),x(q));break;case l.OPS.lineTo:H=R[_e++],q=R[_e++],fe.push("L",x(H),x(q));break;case l.OPS.curveTo:H=R[_e+4],q=R[_e+5],fe.push("C",x(R[_e]),x(R[_e+1]),x(R[_e+2]),x(R[_e+3]),x(H),x(q)),_e+=6;break;case l.OPS.curveTo2:fe.push("C",x(H),x(q),x(R[_e]),x(R[_e+1]),x(R[_e+2]),x(R[_e+3])),H=R[_e+2],q=R[_e+3],_e+=4;break;case l.OPS.curveTo3:H=R[_e+2],q=R[_e+3],fe.push("C",x(R[_e]),x(R[_e+1]),x(H),x(q),x(H),x(q)),_e+=4;break;case l.OPS.closePath:fe.push("Z")}fe=fe.join(" "),Y.path&&D.length>0&&D[0]!==l.OPS.rectangle&&D[0]!==l.OPS.moveTo?fe=Y.path.getAttributeNS(null,"d")+fe:(Y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(Y.path)),Y.path.setAttributeNS(null,"d",fe),Y.path.setAttributeNS(null,"fill","none"),Y.element=Y.path,Y.setCurrentPoint(H,q)}endPath(){const D=this.current;if(D.path=null,!this.pendingClip)return;if(!D.element)return void(this.pendingClip=null);const R="clippath"+oe++,Y=this.svgFactory.createElement("svg:clipPath");Y.setAttributeNS(null,"id",R),Y.setAttributeNS(null,"transform",L(this.transformMatrix));const H=D.element.cloneNode(!0);if(H.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,Y.appendChild(H),this.defs.appendChild(Y),D.activeClipUrl){D.clipGroup=null;for(const q of this.extraStack)q.clipGroup=null;Y.setAttributeNS(null,"clip-path",D.activeClipUrl)}D.activeClipUrl=`url(#${R})`,this.tgrp=null}clip(D){this.pendingClip=D}closePath(){const D=this.current;if(D.path){const R=`${D.path.getAttributeNS(null,"d")}Z`;D.path.setAttributeNS(null,"d",R)}}setLeading(D){this.current.leading=-D}setTextRise(D){this.current.textRise=D}setTextRenderingMode(D){this.current.textRenderingMode=D}setHScale(D){this.current.textHScale=D/100}setRenderingIntent(D){}setFlatness(D){}setGState(D){for(const[R,Y]of D)switch(R){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y);break;case"CA":this.setStrokeAlpha(Y);break;case"ca":this.setFillAlpha(Y);break;default:(0,l.warn)(`Unimplemented graphic state operator ${R}`)}}fill(){const D=this.current;D.element&&(D.element.setAttributeNS(null,"fill",D.fillColor),D.element.setAttributeNS(null,"fill-opacity",D.fillAlpha),this.endPath())}stroke(){const D=this.current;D.element&&(this._setStrokeAttributes(D.element),D.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(D,R=1){const Y=this.current;let H=Y.dashArray;1!==R&&H.length>0&&(H=H.map(function(q){return R*q})),D.setAttributeNS(null,"stroke",Y.strokeColor),D.setAttributeNS(null,"stroke-opacity",Y.strokeAlpha),D.setAttributeNS(null,"stroke-miterlimit",x(Y.miterLimit)),D.setAttributeNS(null,"stroke-linecap",Y.lineCap),D.setAttributeNS(null,"stroke-linejoin",Y.lineJoin),D.setAttributeNS(null,"stroke-width",x(R*Y.lineWidth)+"px"),D.setAttributeNS(null,"stroke-dasharray",H.map(x).join(" ")),D.setAttributeNS(null,"stroke-dashoffset",x(R*Y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width","1px"),D.setAttributeNS(null,"height","1px"),D.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(D)}paintImageXObject(D){const R=D.startsWith("g_")?this.commonObjs.get(D):this.objs.get(D);R?this.paintInlineImageXObject(R):(0,l.warn)(`Dependent image with object ID ${D} is not ready yet`)}paintInlineImageXObject(D,R){const Y=D.width,H=D.height,q=S(D,this.forceDataSchema,!!R),fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",x(Y)),fe.setAttributeNS(null,"height",x(H)),this.current.element=fe,this.clip("nonzero");const _e=this.svgFactory.createElement("svg:image");_e.setAttributeNS(F,"xlink:href",q),_e.setAttributeNS(null,"x","0"),_e.setAttributeNS(null,"y",x(-H)),_e.setAttributeNS(null,"width",x(Y)+"px"),_e.setAttributeNS(null,"height",x(H)+"px"),_e.setAttributeNS(null,"transform",`scale(${x(1/Y)} ${x(-1/H)})`),R?R.appendChild(_e):this._ensureTransformGroup().appendChild(_e)}paintImageMaskXObject(D){const R=this.current,Y=D.width,H=D.height,q=R.fillColor;R.maskId="mask"+B++;const fe=this.svgFactory.createElement("svg:mask");fe.setAttributeNS(null,"id",R.maskId);const _e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x","0"),_e.setAttributeNS(null,"y","0"),_e.setAttributeNS(null,"width",x(Y)),_e.setAttributeNS(null,"height",x(H)),_e.setAttributeNS(null,"fill",q),_e.setAttributeNS(null,"mask",`url(#${R.maskId})`),this.defs.appendChild(fe),this._ensureTransformGroup().appendChild(_e),this.paintInlineImageXObject(D,fe)}paintFormXObjectBegin(D,R){if(Array.isArray(D)&&6===D.length&&this.transform(D[0],D[1],D[2],D[3],D[4],D[5]),R){const Y=R[2]-R[0],H=R[3]-R[1],q=this.svgFactory.createElement("svg:rect");q.setAttributeNS(null,"x",R[0]),q.setAttributeNS(null,"y",R[1]),q.setAttributeNS(null,"width",x(Y)),q.setAttributeNS(null,"height",x(H)),this.current.element=q,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(D){const R=this.svgFactory.create(D.width,D.height),Y=this.svgFactory.createElement("svg:defs");R.appendChild(Y),this.defs=Y;const H=this.svgFactory.createElement("svg:g");return H.setAttributeNS(null,"transform",L(D.transform)),R.appendChild(H),this.svg=H,R}_ensureClipGroup(){if(!this.current.clipGroup){const D=this.svgFactory.createElement("svg:g");D.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(D),this.current.clipGroup=D}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",L(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFNodeStream=void 0;var l=ie(1),xe=ie(26);const le=__webpack_require__(172),Ee=__webpack_require__(2001),Ae=__webpack_require__(3779),ue=__webpack_require__(6558),F=/^file:\/\/\/[a-zA-Z]:\//;se.PDFNodeStream=class W{constructor(j){this.source=j,this.url=function te(B){const j=ue.parse(B);return"file:"===j.protocol||j.host?j:/^[a-z]:[/\\]/i.test(B)?ue.parse(`file:///${B}`):(j.host||(j.protocol="file:"),j)}(j.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new L(this):new A(this),this._fullRequestReader}getRangeReader(j,D){if(D<=this._progressiveDataLength)return null;const R=this.isFsUrl?new oe(this,j,D):new x(this,j,D);return this._rangeRequestReaders.push(R),R}cancelAllRequests(j){this._fullRequestReader&&this._fullRequestReader.cancel(j);for(const D of this._rangeRequestReaders.slice(0))D.cancel(j)}};class M{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const D=j.source;this._contentLength=D.length,this._loaded=0,this._filename=null,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)(),this._headersCapability=(0,l.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){if(yield j._readCapability.promise,j._done)return{value:void 0,done:!0};if(j._storedError)throw j._storedError;const D=j._readableStream.read();return null===D?(j._readCapability=(0,l.createPromiseCapability)(),j.read()):(j._loaded+=D.length,j.onProgress&&j.onProgress({loaded:j._loaded,total:j._contentLength}),{value:new Uint8Array(D).buffer,done:!1})})()}cancel(j){this._readableStream?this._readableStream.destroy(j):this._error(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",D=>{this._error(D)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new l.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)(),this._isStreamingSupported=!j.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){if(yield j._readCapability.promise,j._done)return{value:void 0,done:!0};if(j._storedError)throw j._storedError;const D=j._readableStream.read();return null===D?(j._readCapability=(0,l.createPromiseCapability)(),j.read()):(j._loaded+=D.length,j.onProgress&&j.onProgress({loaded:j._loaded}),{value:new Uint8Array(D).buffer,done:!1})})()}cancel(j){this._readableStream?this._readableStream.destroy(j):this._error(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",D=>{this._error(D)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function k(B,j){return{protocol:B.protocol,auth:B.auth,host:B.hostname,port:B.port,path:B.path,method:"GET",headers:j}}class A extends M{constructor(j){super(j);const D=R=>{if(404===R.statusCode){const fe=new l.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=fe,void this._headersCapability.reject(fe)}this._headersCapability.resolve(),this._setReadableStream(R);const Y=fe=>this._readableStream.headers[fe.toLowerCase()],{allowRangeRequests:H,suggestedLength:q}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:Y,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=H,this._contentLength=q||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(Y)};this._request=null,this._request="http:"===this._url.protocol?Ee.request(k(this._url,j.httpHeaders),D):Ae.request(k(this._url,j.httpHeaders),D),this._request.on("error",R=>{this._storedError=R,this._headersCapability.reject(R)}),this._request.end()}}class x extends S{constructor(j,D,R){super(j),this._httpHeaders={};for(const H in j.httpHeaders){const q=j.httpHeaders[H];typeof q>"u"||(this._httpHeaders[H]=q)}this._httpHeaders.Range=`bytes=${D}-${R-1}`;const Y=H=>{if(404!==H.statusCode)this._setReadableStream(H);else{const q=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=q}};this._request=null,this._request="http:"===this._url.protocol?Ee.request(k(this._url,this._httpHeaders),Y):Ae.request(k(this._url,this._httpHeaders),Y),this._request.on("error",H=>{this._storedError=H}),this._request.end()}}class L extends M{constructor(j){super(j);let D=decodeURIComponent(this._url.path);F.test(this._url.href)&&(D=D.replace(/^\//,"")),le.lstat(D,(R,Y)=>{if(R)return"ENOENT"===R.code&&(R=new l.MissingPDFException(`Missing PDF "${D}".`)),this._storedError=R,void this._headersCapability.reject(R);this._contentLength=Y.size,this._setReadableStream(le.createReadStream(D)),this._headersCapability.resolve()})}}class oe extends S{constructor(j,D,R){super(j);let Y=decodeURIComponent(this._url.path);F.test(this._url.href)&&(Y=Y.replace(/^\//,"")),this._setReadableStream(le.createReadStream(Y,{start:D,end:R-1}))}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.createResponseStatusError=function ue(te,W){return 404===te||0===te&&W.startsWith("file:")?new l.MissingPDFException('Missing PDF "'+W+'".'):new l.UnexpectedResponseException(`Unexpected server response (${te}) while retrieving PDF "${W}".`,te)},se.extractFilenameFromHeader=function Ae(te){const W=te("Content-Disposition");if(W){let M=(0,xe.getFilenameFromContentDispositionHeader)(W);if(M.includes("%"))try{M=decodeURIComponent(M)}catch{}if((0,le.isPdfFile)(M))return M}return null},se.validateRangeRequestCapabilities=function Ee({getResponseHeader:te,isHttp:W,rangeChunkSize:M,disableRange:S}){const k={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(te("Content-Length"),10);return!Number.isInteger(A)||(k.suggestedLength=A,A<=2*M)||S||!W||"bytes"!==te("Accept-Ranges")||"identity"!==(te("Content-Encoding")||"identity")||(k.allowRangeRequests=!0),k},se.validateResponseStatus=function F(te){return 200===te||206===te};var l=ie(1),xe=ie(27),le=ie(5)},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.getFilenameFromContentDispositionHeader=function xe(le){let Ee=!0,Ae=ue("filename\\*","i").exec(le);if(Ae){Ae=Ae[1];let A=M(Ae);return A=unescape(A),A=S(A),A=k(A),te(A)}if(Ae=function W(A){const x=[];let L;const oe=ue("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(L=oe.exec(A));){let[,j,D,R]=L;if(j=parseInt(j,10),j in x){if(0===j)break}else x[j]=[D,R]}const B=[];for(let j=0;j<x.length&&j in x;++j){let[D,R]=x[j];R=M(R),D&&(R=unescape(R),0===j&&(R=S(R))),B.push(R)}return B.join("")}(le),Ae)return te(k(Ae));if(Ae=ue("filename","i").exec(le),Ae){Ae=Ae[1];let A=M(Ae);return A=k(A),te(A)}function ue(A,x){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',x)}function F(A,x){if(A){if(!/^[\x00-\xFF]+$/.test(x))return x;try{const L=new TextDecoder(A,{fatal:!0}),oe=(0,l.stringToBytes)(x);x=L.decode(oe),Ee=!1}catch{}}return x}function te(A){return Ee&&/[\x80-\xff]/.test(A)&&(A=F("utf-8",A),Ee&&(A=F("iso-8859-1",A))),A}function M(A){if(A.startsWith('"')){const x=A.slice(1).split('\\"');for(let L=0;L<x.length;++L){const oe=x[L].indexOf('"');-1!==oe&&(x[L]=x[L].slice(0,oe),x.length=L+1),x[L]=x[L].replace(/\\(.)/g,"$1")}A=x.join('"')}return A}function S(A){const x=A.indexOf("'");return-1===x?A:F(A.slice(0,x),A.slice(x+1).replace(/^[^']*'/,""))}function k(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(x,L,oe,B){if("q"===oe||"Q"===oe)return F(L,B=(B=B.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(j,D){return String.fromCharCode(parseInt(D,16))}));try{B=atob(B)}catch{}return F(L,B)})}return""};var l=ie(1)},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFNetworkStream=void 0;var l=ie(1),xe=ie(26);class ue{constructor(S,k={}){this.url=S,this.isHttp=/^https?:/i.test(S),this.httpHeaders=this.isHttp&&k.httpHeaders||Object.create(null),this.withCredentials=k.withCredentials||!1,this.getXhr=k.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(S,k,A){const x={begin:S,end:k};for(const L in A)x[L]=A[L];return this.request(x)}requestFull(S){return this.request(S)}request(S){const k=this.getXhr(),A=this.currXhrId++,x=this.pendingRequests[A]={xhr:k};k.open("GET",this.url),k.withCredentials=this.withCredentials;for(const L in this.httpHeaders){const oe=this.httpHeaders[L];typeof oe>"u"||k.setRequestHeader(L,oe)}return this.isHttp&&"begin"in S&&"end"in S?(k.setRequestHeader("Range",`bytes=${S.begin}-${S.end-1}`),x.expectedStatus=206):x.expectedStatus=200,k.responseType="arraybuffer",S.onError&&(k.onerror=function(L){S.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,A),k.onprogress=this.onProgress.bind(this,A),x.onHeadersReceived=S.onHeadersReceived,x.onDone=S.onDone,x.onError=S.onError,x.onProgress=S.onProgress,k.send(null),A}onProgress(S,k){const A=this.pendingRequests[S];!A||A.onProgress?.(k)}onStateChange(S,k){const A=this.pendingRequests[S];if(!A)return;const x=A.xhr;if(x.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),4!==x.readyState||!(S in this.pendingRequests))return;if(delete this.pendingRequests[S],0===x.status&&this.isHttp)return void A.onError?.(x.status);const L=x.status||200;if((200!==L||206!==A.expectedStatus)&&L!==A.expectedStatus)return void A.onError?.(x.status);const B=function Ae(M){const S=M.response;return"string"!=typeof S?S:(0,l.stringToBytes)(S).buffer}(x);if(206===L){const j=x.getResponseHeader("Content-Range"),D=/bytes (\d+)-(\d+)\/(\d+)/.exec(j);A.onDone({begin:parseInt(D[1],10),chunk:B})}else B?A.onDone({begin:0,chunk:B}):A.onError?.(x.status)}getRequestXhr(S){return this.pendingRequests[S].xhr}isPendingRequest(S){return S in this.pendingRequests}abortRequest(S){const k=this.pendingRequests[S].xhr;delete this.pendingRequests[S],k.abort()}}se.PDFNetworkStream=class F{constructor(S){this._source=S,this._manager=new ue(S.url,{httpHeaders:S.httpHeaders,withCredentials:S.withCredentials}),this._rangeChunkSize=S.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(S){const k=this._rangeRequestReaders.indexOf(S);k>=0&&this._rangeRequestReaders.splice(k,1)}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new te(this._manager,this._source),this._fullRequestReader}getRangeReader(S,k){const A=new W(this._manager,S,k);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(S){this._fullRequestReader?.cancel(S);for(const k of this._rangeRequestReaders.slice(0))k.cancel(S)}};class te{constructor(S,k){this._manager=S;const A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._fullRequestId=S.requestFull(A),this._headersReceivedCapability=(0,l.createPromiseCapability)(),this._disableRange=k.disableRange||!1,this._contentLength=k.length,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const S=this._fullRequestId,k=this._manager.getRequestXhr(S),A=oe=>k.getResponseHeader(oe),{allowRangeRequests:x,suggestedLength:L}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});x&&(this._isRangeSupported=!0),this._contentLength=L||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(S),this._headersReceivedCapability.resolve()}_onDone(S){if(S&&(this._requests.length>0?this._requests.shift().resolve({value:S.chunk,done:!1}):this._cachedChunks.push(S.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(S){this._storedError=(0,xe.createResponseStatusError)(S,this._url),this._headersReceivedCapability.reject(this._storedError);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(S){this.onProgress?.({loaded:S.loaded,total:S.lengthComputable?S.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var S=this;return _asyncToGenerator(function*(){if(S._storedError)throw S._storedError;if(S._cachedChunks.length>0)return{value:S._cachedChunks.shift(),done:!1};if(S._done)return{value:void 0,done:!0};const k=(0,l.createPromiseCapability)();return S._requests.push(k),k.promise})()}cancel(S){this._done=!0,this._headersReceivedCapability.reject(S);for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(S,k,A){this._manager=S;const x={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._requestId=S.requestRange(k,A,x),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(S){const k=S.chunk;this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunk=k,this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(S){this._storedError=(0,xe.createResponseStatusError)(S,this._url);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(S){this.isStreamingSupported||this.onProgress?.({loaded:S.loaded})}get isStreamingSupported(){return!1}read(){var S=this;return _asyncToGenerator(function*(){if(S._storedError)throw S._storedError;if(null!==S._queuedChunk){const A=S._queuedChunk;return S._queuedChunk=null,{value:A,done:!1}}if(S._done)return{value:void 0,done:!0};const k=(0,l.createPromiseCapability)();return S._requests.push(k),k.promise})()}cancel(S){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(tt,se,ie)=>{Object.defineProperty(se,"__esModule",{value:!0}),se.PDFFetchStream=void 0;var l=ie(1),xe=ie(26);function le(te,W,M){return{method:"GET",headers:te,signal:M?.signal,mode:"cors",credentials:W?"include":"same-origin",redirect:"follow"}}function Ee(te){const W=new Headers;for(const M in te){const S=te[M];typeof S>"u"||W.append(M,S)}return W}se.PDFFetchStream=class Ae{constructor(W){this.source=W,this.isHttp=/^https?:/i.test(W.url),this.httpHeaders=this.isHttp&&W.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ue(this),this._fullRequestReader}getRangeReader(W,M){if(M<=this._progressiveDataLength)return null;const S=new F(this,W,M);return this._rangeRequestReaders.push(S),S}cancelAllRequests(W){this._fullRequestReader&&this._fullRequestReader.cancel(W);for(const M of this._rangeRequestReaders.slice(0))M.cancel(W)}};class ue{constructor(W){this._stream=W,this._reader=null,this._loaded=0,this._filename=null;const M=W.source;this._withCredentials=M.withCredentials||!1,this._contentLength=M.length,this._headersCapability=(0,l.createPromiseCapability)(),this._disableRange=M.disableRange||!1,this._rangeChunkSize=M.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!M.disableStream,this._isRangeSupported=!M.disableRange,this._headers=Ee(this._stream.httpHeaders);const S=M.url;fetch(S,le(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,xe.validateResponseStatus)(k.status))throw(0,xe.createResponseStatusError)(k.status,S);this._reader=k.body.getReader(),this._headersCapability.resolve();const A=oe=>k.headers.get(oe),{allowRangeRequests:x,suggestedLength:L}=(0,xe.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=L||this._contentLength,this._filename=(0,xe.extractFilenameFromHeader)(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new l.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._headersCapability.promise;const{value:M,done:S}=yield W._reader.read();return S?{value:M,done:S}:(W._loaded+=M.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded,total:W._contentLength}),{value:new Uint8Array(M).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}class F{constructor(W,M,S){this._stream=W,this._reader=null,this._loaded=0;const k=W.source;this._withCredentials=k.withCredentials||!1,this._readCapability=(0,l.createPromiseCapability)(),this._isStreamingSupported=!k.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=Ee(this._stream.httpHeaders),this._headers.append("Range",`bytes=${M}-${S-1}`);const A=k.url;fetch(A,le(this._headers,this._withCredentials,this._abortController)).then(x=>{if(!(0,xe.validateResponseStatus)(x.status))throw(0,xe.createResponseStatusError)(x.status,A);this._readCapability.resolve(),this._reader=x.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var W=this;return _asyncToGenerator(function*(){yield W._readCapability.promise;const{value:M,done:S}=yield W._reader.read();return S?{value:M,done:S}:(W._loaded+=M.byteLength,W.onProgress&&W.onProgress({loaded:W._loaded}),{value:new Uint8Array(M).buffer,done:!1})})()}cancel(W){this._reader&&this._reader.cancel(W),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(tt){var se=__webpack_module_cache__[tt];if(void 0!==se)return se.exports;var ie=__webpack_module_cache__[tt]={exports:{}};return __webpack_modules__[tt](ie,ie.exports,__w_pdfjs_require__),ie.exports}var __webpack_exports__={};return(()=>{var tt=__webpack_exports__;Object.defineProperty(tt,"__esModule",{value:!0}),Object.defineProperty(tt,"AnnotationLayer",{enumerable:!0,get:function(){return xe.AnnotationLayer}}),Object.defineProperty(tt,"AnnotationMode",{enumerable:!0,get:function(){return se.AnnotationMode}}),Object.defineProperty(tt,"CMapCompressionType",{enumerable:!0,get:function(){return se.CMapCompressionType}}),Object.defineProperty(tt,"GlobalWorkerOptions",{enumerable:!0,get:function(){return le.GlobalWorkerOptions}}),Object.defineProperty(tt,"InvalidPDFException",{enumerable:!0,get:function(){return se.InvalidPDFException}}),Object.defineProperty(tt,"LoopbackPort",{enumerable:!0,get:function(){return ie.LoopbackPort}}),Object.defineProperty(tt,"MissingPDFException",{enumerable:!0,get:function(){return se.MissingPDFException}}),Object.defineProperty(tt,"OPS",{enumerable:!0,get:function(){return se.OPS}}),Object.defineProperty(tt,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ie.PDFDataRangeTransport}}),Object.defineProperty(tt,"PDFDateString",{enumerable:!0,get:function(){return l.PDFDateString}}),Object.defineProperty(tt,"PDFWorker",{enumerable:!0,get:function(){return ie.PDFWorker}}),Object.defineProperty(tt,"PasswordResponses",{enumerable:!0,get:function(){return se.PasswordResponses}}),Object.defineProperty(tt,"PermissionFlag",{enumerable:!0,get:function(){return se.PermissionFlag}}),Object.defineProperty(tt,"PixelsPerInch",{enumerable:!0,get:function(){return l.PixelsPerInch}}),Object.defineProperty(tt,"RenderingCancelledException",{enumerable:!0,get:function(){return l.RenderingCancelledException}}),Object.defineProperty(tt,"SVGGraphics",{enumerable:!0,get:function(){return ue.SVGGraphics}}),Object.defineProperty(tt,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return se.UNSUPPORTED_FEATURES}}),Object.defineProperty(tt,"UnexpectedResponseException",{enumerable:!0,get:function(){return se.UnexpectedResponseException}}),Object.defineProperty(tt,"Util",{enumerable:!0,get:function(){return se.Util}}),Object.defineProperty(tt,"VerbosityLevel",{enumerable:!0,get:function(){return se.VerbosityLevel}}),Object.defineProperty(tt,"XfaLayer",{enumerable:!0,get:function(){return F.XfaLayer}}),Object.defineProperty(tt,"build",{enumerable:!0,get:function(){return ie.build}}),Object.defineProperty(tt,"createPromiseCapability",{enumerable:!0,get:function(){return se.createPromiseCapability}}),Object.defineProperty(tt,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return se.createValidAbsoluteUrl}}),Object.defineProperty(tt,"getDocument",{enumerable:!0,get:function(){return ie.getDocument}}),Object.defineProperty(tt,"getFilenameFromUrl",{enumerable:!0,get:function(){return l.getFilenameFromUrl}}),Object.defineProperty(tt,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return l.getPdfFilenameFromUrl}}),Object.defineProperty(tt,"getXfaPageViewport",{enumerable:!0,get:function(){return l.getXfaPageViewport}}),Object.defineProperty(tt,"isPdfFile",{enumerable:!0,get:function(){return l.isPdfFile}}),Object.defineProperty(tt,"loadScript",{enumerable:!0,get:function(){return l.loadScript}}),Object.defineProperty(tt,"renderTextLayer",{enumerable:!0,get:function(){return Ae.renderTextLayer}}),Object.defineProperty(tt,"shadow",{enumerable:!0,get:function(){return se.shadow}}),Object.defineProperty(tt,"version",{enumerable:!0,get:function(){return ie.version}});var se=__w_pdfjs_require__(1),ie=__w_pdfjs_require__(4),l=__w_pdfjs_require__(5),xe=__w_pdfjs_require__(20),le=__w_pdfjs_require__(13),Ee=__w_pdfjs_require__(3),Ae=__w_pdfjs_require__(23),ue=__w_pdfjs_require__(24),F=__w_pdfjs_require__(22);if(Ee.isNodeJS){const{PDFNodeStream:M}=__w_pdfjs_require__(25);(0,ie.setPDFNetworkStreamFactory)(S=>new M(S))}else{const{PDFNetworkStream:M}=__w_pdfjs_require__(28),{PDFFetchStream:S}=__w_pdfjs_require__(29);(0,ie.setPDFNetworkStreamFactory)(k=>(0,l.isValidFetchUrl)(k.url)?new S(k):new M(k))}})(),__webpack_exports__})(),module.exports=ie()},2813:function(tt,se,ie){var Ee,l=ie(7156).default;Ee=()=>(()=>{"use strict";var xe=[,(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.DefaultXfaLayerFactory=F.DefaultTextLayerFactory=F.DefaultStructTreeLayerFactory=F.DefaultAnnotationLayerFactory=void 0;var W=te(2),M=te(4),S=te(5),k=te(7),A=te(8),x=te(9);F.DefaultAnnotationLayerFactory=class L{createAnnotationLayerBuilder(R,Y,H=null,q="",fe=!0,_e=M.NullL10n,z=!1,ge=null,ce=null,J=null,de=null){return new W.AnnotationLayerBuilder({pageDiv:R,pdfPage:Y,imageResourcesPath:q,renderForms:fe,linkService:new S.SimpleLinkService,l10n:_e,annotationStorage:H,enableScripting:z,hasJSActionsPromise:ge,fieldObjectsPromise:J,mouseState:ce,annotationCanvasMap:de})}},F.DefaultStructTreeLayerFactory=class oe{createStructTreeLayerBuilder(R){return new k.StructTreeLayerBuilder({pdfPage:R})}},F.DefaultTextLayerFactory=class B{createTextLayerBuilder(R,Y,H,q=!1,fe,_e){return new A.TextLayerBuilder({textLayerDiv:R,pageIndex:Y,viewport:H,enhanceTextSelection:q,eventBus:fe,highlighter:_e})}},F.DefaultXfaLayerFactory=class j{createXfaLayerBuilder(R,Y,H=null,q=null){return new x.XfaLayerBuilder({pageDiv:R,pdfPage:Y,annotationStorage:H,linkService:new S.SimpleLinkService,xfaHtml:q})}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.AnnotationLayerBuilder=void 0;var W=te(3),M=te(4);F.AnnotationLayerBuilder=class S{constructor({pageDiv:A,pdfPage:x,linkService:L,downloadManager:oe,annotationStorage:B=null,imageResourcesPath:j="",renderForms:D=!0,l10n:R=M.NullL10n,enableScripting:Y=!1,hasJSActionsPromise:H=null,fieldObjectsPromise:q=null,mouseState:fe=null,annotationCanvasMap:_e=null}){this.pageDiv=A,this.pdfPage=x,this.linkService=L,this.downloadManager=oe,this.imageResourcesPath=j,this.renderForms=D,this.l10n=R,this.annotationStorage=B,this.enableScripting=Y,this._hasJSActionsPromise=H,this._fieldObjectsPromise=q,this._mouseState=fe,this._annotationCanvasMap=_e,this.div=null,this._cancelled=!1}render(A,x="display"){var L=this;return l(function*(){const[oe,B=!1,j=null]=yield Promise.all([L.pdfPage.getAnnotations({intent:x}),L._hasJSActionsPromise,L._fieldObjectsPromise]);if(L._cancelled||0===oe.length)return;const D={viewport:A.clone({dontFlip:!0}),div:L.div,annotations:oe,page:L.pdfPage,imageResourcesPath:L.imageResourcesPath,renderForms:L.renderForms,linkService:L.linkService,downloadManager:L.downloadManager,annotationStorage:L.annotationStorage,enableScripting:L.enableScripting,hasJSActions:B,fieldObjects:j,mouseState:L._mouseState,annotationCanvasMap:L._annotationCanvasMap};L.div?W.AnnotationLayer.update(D):(L.div=document.createElement("div"),L.div.className="annotationLayer",L.pageDiv.appendChild(L.div),D.div=L.div,W.AnnotationLayer.render(D),L.l10n.translate(L.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},ue=>{let F;F=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:ie(6036),ue.exports=F},(ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.NullL10n=void 0,F.fixupLangCode=function S(x){return M[x?.toLowerCase()]||x},F.getL10nFallback=W;const te={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function W(x,L){switch(x){case"find_match_count":x=`find_match_count[${1===L.total?"one":"other"}]`;break;case"find_match_count_limit":x=`find_match_count_limit[${1===L.limit?"one":"other"}]`}return te[x]||""}const M={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};F.NullL10n={getLanguage:()=>l(function*(){return"en-us"})(),getDirection:()=>l(function*(){return"ltr"})(),get:(x,L=null,oe=W(x,L))=>l(function*(){return function k(x,L){return L?x.replace(/\{\{\s*(\w+)\s*\}\}/g,(oe,B)=>B in L?L[B]:"{{"+B+"}}"):x}(oe,L)})(),translate:x=>l(function*(){})()}},(ue,F,te)=>{var L,oe,_R,j,uj;Object.defineProperty(F,"__esModule",{value:!0}),F.SimpleLinkService=F.PDFLinkService=F.LinkTarget=void 0;var W=te(6);const S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function k(Y,{url:H,target:q,rel:fe,enabled:_e=!0}={}){if(!H||"string"!=typeof H)throw new Error('A valid "url" parameter must provided.');const z=(0,W.removeNullCharacters)(H);_e?Y.href=Y.title=z:(Y.href="",Y.title=`Disabled: ${z}`,Y.onclick=()=>!1);let ge="";switch(q){case S.NONE:break;case S.SELF:ge="_self";break;case S.BLANK:ge="_blank";break;case S.PARENT:ge="_parent";break;case S.TOP:ge="_top"}Y.target=ge,Y.rel="string"==typeof fe?fe:"noopener noreferrer nofollow"}F.LinkTarget=S;const R=class{constructor({eventBus:H,externalLinkTarget:q=null,externalLinkRel:fe=null,ignoreDestinationZoom:_e=!1}={}){fn(this,oe),fn(this,L,new Map),this.eventBus=H,this.externalLinkTarget=q,this.externalLinkRel=fe,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=_e,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(H,q=null){this.baseUrl=q,this.pdfDocument=H,Xt(this,L).clear()}setViewer(H){this.pdfViewer=H}setHistory(H){this.pdfHistory=H}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(H){this.pdfViewer.currentPageNumber=H}get rotation(){return this.pdfViewer.pagesRotation}set rotation(H){this.pdfViewer.pagesRotation=H}goToDestination(H){var q=this;return l(function*(){var z;if(!q.pdfDocument)return;let fe,_e;"string"==typeof H?(fe=H,_e=yield q.pdfDocument.getDestination(H)):(fe=null,_e=yield H),Array.isArray(_e)?rn(z=q,oe,_R).call(z,H,fe,_e):console.error(`PDFLinkService.goToDestination: "${_e}" is not a valid destination array, for dest="${H}".`)})()}goToPage(H){if(!this.pdfDocument)return;const q="string"==typeof H&&this.pdfViewer.pageLabelToPageNumber(H)||0|H;Number.isInteger(q)&&q>0&&q<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(q)),this.pdfViewer.scrollPageIntoView({pageNumber:q})):console.error(`PDFLinkService.goToPage: "${H}" is not a valid page.`)}addLinkAttributes(H,q,fe=!1){k(H,{url:q,target:fe?S.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(H){if("string"==typeof H){if(H.length>0)return this.getAnchorUrl("#"+escape(H))}else if(Array.isArray(H)){const q=JSON.stringify(H);if(q.length>0)return this.getAnchorUrl("#"+escape(q))}return this.getAnchorUrl("")}getAnchorUrl(H){return(this.baseUrl||"")+H}setHash(H){var _e;if(!this.pdfDocument)return;let q,fe;if(H.includes("=")){const z=(0,W.parseQueryString)(H);if(z.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:z.get("search").replace(/"/g,""),phraseSearch:"true"===z.get("phrase")}),z.has("page")&&(q=0|z.get("page")||1),z.has("zoom")){const ge=z.get("zoom").split(","),ce=ge[0],J=parseFloat(ce);ce.includes("Fit")?"Fit"===ce||"FitB"===ce?fe=[null,{name:ce}]:"FitH"===ce||"FitBH"===ce||"FitV"===ce||"FitBV"===ce?fe=[null,{name:ce},ge.length>1?0|ge[1]:null]:"FitR"===ce?5!==ge.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):fe=[null,{name:ce},0|ge[1],0|ge[2],0|ge[3],0|ge[4]]:console.error(`PDFLinkService.setHash: "${ce}" is not a valid zoom value.`):fe=[null,{name:"XYZ"},ge.length>1?0|ge[1]:null,ge.length>2?0|ge[2]:null,J?J/100:ce]}fe?this.pdfViewer.scrollPageIntoView({pageNumber:q||this.page,destArray:fe,allowNegativeOffset:!0}):q&&(this.page=q),z.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:z.get("pagemode")}),z.has("nameddest")&&this.goToDestination(z.get("nameddest"))}else{fe=unescape(H);try{fe=JSON.parse(fe),Array.isArray(fe)||(fe=fe.toString())}catch{}if("string"==typeof fe||rn(_e=R,j,uj).call(_e,fe))return void this.goToDestination(fe);console.error(`PDFLinkService.setHash: "${unescape(H)}" is not a valid destination.`)}}executeNamedAction(H){switch(H){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:H})}cachePageRef(H,q){if(!q)return;const fe=0===q.gen?`${q.num}R`:`${q.num}R${q.gen}`;Xt(this,L).set(fe,H)}_cachedPageNumber(H){if(!H)return null;const q=0===H.gen?`${H.num}R`:`${H.num}R${H.gen}`;return Xt(this,L).get(q)||null}isPageVisible(H){return this.pdfViewer.isPageVisible(H)}isPageCached(H){return this.pdfViewer.isPageCached(H)}};let A=R;L=new WeakMap,oe=new WeakSet,_R=function(H,q=null,fe){const _e=fe[0];let z;if("object"==typeof _e&&null!==_e){if(z=this._cachedPageNumber(_e),!z)return void this.pdfDocument.getPageIndex(_e).then(ge=>{this.cachePageRef(ge+1,_e),rn(this,oe,_R).call(this,H,q,fe)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${_e}" is not a valid page reference, for dest="${H}".`)})}else{if(!Number.isInteger(_e))return void console.error(`PDFLinkService.#goToDestinationHelper: "${_e}" is not a valid destination reference, for dest="${H}".`);z=_e+1}!z||z<1||z>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${z}" is not a valid page number, for dest="${H}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:q,explicitDest:fe,pageNumber:z})),this.pdfViewer.scrollPageIntoView({pageNumber:z,destArray:fe,ignoreDestinationZoom:this._ignoreDestinationZoom}))},j=new WeakSet,uj=function(H){if(!Array.isArray(H))return!1;const q=H.length;if(q<2)return!1;const fe=H[0];if(!("object"==typeof fe&&Number.isInteger(fe.num)&&Number.isInteger(fe.gen)||Number.isInteger(fe)&&fe>=0))return!1;const _e=H[1];if("object"!=typeof _e||"string"!=typeof _e.name)return!1;let z=!0;switch(_e.name){case"XYZ":if(5!==q)return!1;break;case"Fit":case"FitB":return 2===q;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==q)return!1;break;case"FitR":if(6!==q)return!1;z=!1;break;default:return!1}for(let ge=2;ge<q;ge++){const ce=H[ge];if(!("number"==typeof ce||z&&null===ce))return!1}return!0},fn(A,j),F.PDFLinkService=A,F.SimpleLinkService=class x{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(H){}get rotation(){return 0}set rotation(H){}goToDestination(H){return l(function*(){})()}goToPage(H){}addLinkAttributes(H,q,fe=!1){k(H,{url:q,enabled:this.externalLinkEnabled})}getDestinationHash(H){return"#"}getAnchorUrl(H){return"#"}setHash(H){}executeNamedAction(H){}cachePageRef(H,q){}isPageVisible(H){return!0}isPageCached(H){return!0}}},(ue,F)=>{var wt,dj;Object.defineProperty(F,"__esModule",{value:!0}),F.animationStarted=F.VERTICAL_PADDING=F.UNKNOWN_SCALE=F.TextLayerMode=F.SpreadMode=F.SidebarView=F.ScrollMode=F.SCROLLBAR_PADDING=F.RenderingStates=F.RendererType=F.ProgressBar=F.PresentationModeState=F.OutputScale=F.MIN_SCALE=F.MAX_SCALE=F.MAX_AUTO_SCALE=F.DEFAULT_SCALE_VALUE=F.DEFAULT_SCALE_DELTA=F.DEFAULT_SCALE=F.AutoPrintRegExp=void 0,F.apiPageLayoutToViewerModes=function Ye(Xe){let je=H.VERTICAL,rt=q.NONE;switch(Xe){case"SinglePage":je=H.PAGE;break;case"OneColumn":break;case"TwoPageLeft":je=H.PAGE;case"TwoColumnLeft":rt=q.ODD;break;case"TwoPageRight":je=H.PAGE;case"TwoColumnRight":rt=q.EVEN}return{scrollMode:je,spreadMode:rt}},F.apiPageModeToSidebarView=function nt(Xe){switch(Xe){case"UseNone":return D.NONE;case"UseThumbs":return D.THUMBS;case"UseOutlines":return D.OUTLINE;case"UseAttachments":return D.ATTACHMENTS;case"UseOC":return D.LAYERS}return D.NONE},F.approximateFraction=function Me(Xe){if(Math.floor(Xe)===Xe)return[Xe,1];const je=1/Xe;if(je>8)return[1,8];if(Math.floor(je)===je)return[1,je];const pe=Xe>1?je:Xe;let _t,Oe=0,We=1,It=1,yt=1;for(;;){const St=Oe+It,ft=We+yt;if(ft>8)break;pe<=St/ft?(It=St,yt=ft):(Oe=St,We=ft)}return _t=pe-Oe/We<It/yt-pe?pe===Xe?[Oe,We]:[We,Oe]:pe===Xe?[It,yt]:[yt,It],_t},F.backtrackBeforeAllVisibleElements=ye,F.binarySearchFirstItem=Ie,F.getActiveOrFocusedElement=function Ge(){let Xe=document,je=Xe.activeElement||Xe.querySelector(":focus");for(;je?.shadowRoot;)Xe=je.shadowRoot,je=Xe.activeElement||Xe.querySelector(":focus");return je},F.getPageSizeInches=function et({view:Xe,userUnit:je,rotate:rt}){const[pe,Oe,We,It]=Xe,yt=rt%180!=0,_t=(We-pe)/72*je,St=(It-Oe)/72*je;return{width:yt?St:_t,height:yt?_t:St}},F.getVisibleElements=function N({scrollEl:Xe,views:je,sortByVisibility:rt=!1,horizontal:pe=!1,rtl:Oe=!1}){const We=Xe.scrollTop,It=We+Xe.clientHeight,yt=Xe.scrollLeft,_t=yt+Xe.clientWidth,Mt=[],Zt=new Set,bn=je.length;let Ke=Ie(je,pe?function ft(ct){const At=ct.div,bt=At.offsetLeft+At.clientLeft;return Oe?bt<_t:bt+At.clientWidth>yt}:function St(ct){const At=ct.div;return At.offsetTop+At.clientTop+At.clientHeight>We});Ke>0&&Ke<bn&&!pe&&(Ke=ye(Ke,je,We));let Te=pe?_t:-1;for(let ct=Ke;ct<bn;ct++){const At=je[ct],bt=At.div,on=bt.offsetLeft+bt.clientLeft,gn=bt.offsetTop+bt.clientTop,Bt=bt.clientWidth,pt=bt.clientHeight,Ht=on+Bt,qt=gn+pt;if(-1===Te)qt>=It&&(Te=qt);else if((pe?on:gn)>Te)break;if(qt<=We||gn>=It||Ht<=yt||on>=_t)continue;const sn=Math.max(0,We-gn)+Math.max(0,qt-It),Re=(Bt-(Math.max(0,yt-on)+Math.max(0,Ht-_t)))/Bt;Mt.push({id:At.id,x:on,y:gn,view:At,percent:(pt-sn)/pt*Re*100|0,widthPercent:100*Re|0}),Zt.add(At.id)}const Ce=Mt[0],ut=Mt[Mt.length-1];return rt&&Mt.sort(function(ct,At){const bt=ct.percent-At.percent;return Math.abs(bt)>.001?-bt:ct.id-At.id}),{first:Ce,last:ut,views:Mt,ids:Zt}},F.isPortraitOrientation=function be(Xe){return Xe.width<=Xe.height},F.isValidRotation=function X(Xe){return Number.isInteger(Xe)&&Xe%90==0},F.isValidScrollMode=function me(Xe){return Number.isInteger(Xe)&&Object.values(H).includes(Xe)&&Xe!==H.UNKNOWN},F.isValidSpreadMode=function ae(Xe){return Number.isInteger(Xe)&&Object.values(q).includes(Xe)&&Xe!==q.UNKNOWN},F.noContextMenuHandler=function G(Xe){Xe.preventDefault()},F.normalizeWheelEventDelta=function U(Xe){let je=I(Xe);return 0===Xe.deltaMode?je/=900:1===Xe.deltaMode&&(je/=30),je},F.normalizeWheelEventDirection=I,F.parseQueryString=function ce(Xe){const je=new Map;for(const[rt,pe]of new URLSearchParams(Xe))je.set(rt.toLowerCase(),pe);return je},F.removeNullCharacters=function re(Xe,je=!1){return"string"!=typeof Xe?(console.error("The argument must be a string."),Xe):(je&&(Xe=Xe.replace(de," ")),Xe.replace(J,""))},F.roundToDivide=function Ne(Xe,je){const rt=Xe%je;return 0===rt?Xe:Math.round(Xe-rt+je)},F.scrollIntoView=function z(Xe,je,rt=!1){let pe=Xe.offsetParent;if(!pe)return void console.error("offsetParent is not set -- cannot scroll");let Oe=Xe.offsetTop+Xe.clientTop,We=Xe.offsetLeft+Xe.clientLeft;for(;pe.clientHeight===pe.scrollHeight&&pe.clientWidth===pe.scrollWidth||rt&&(pe.classList.contains("markedContent")||"hidden"===getComputedStyle(pe).overflow);)if(Oe+=pe.offsetTop,We+=pe.offsetLeft,pe=pe.offsetParent,!pe)return;je&&(void 0!==je.top&&(Oe+=je.top),void 0!==je.left&&(We+=je.left,pe.scrollLeft=We)),pe.scrollTop=Oe},F.watchScroll=function ge(Xe,je){const rt=function(We){Oe||(Oe=window.requestAnimationFrame(function(){Oe=null;const yt=Xe.scrollLeft,_t=pe.lastX;yt!==_t&&(pe.right=yt>_t),pe.lastX=yt;const St=Xe.scrollTop,ft=pe.lastY;St!==ft&&(pe.down=St>ft),pe.lastY=St,je(pe)}))},pe={right:!0,down:!0,lastX:Xe.scrollLeft,lastY:Xe.scrollTop,_eventHandler:rt};let Oe=null;return Xe.addEventListener("scroll",rt,!0),pe},F.DEFAULT_SCALE_VALUE="auto",F.DEFAULT_SCALE=1,F.DEFAULT_SCALE_DELTA=1.1,F.MIN_SCALE=.1,F.MAX_SCALE=10,F.UNKNOWN_SCALE=0,F.MAX_AUTO_SCALE=1.25,F.SCROLLBAR_PADDING=40,F.VERTICAL_PADDING=5,F.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},F.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const D={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};F.SidebarView=D,F.RendererType={CANVAS:"canvas",SVG:"svg"},F.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const H={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};F.ScrollMode=H;const q={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};F.SpreadMode=q,F.AutoPrintRegExp=/\bprint\s*\(/,F.OutputScale=class _e{constructor(){const je=window.devicePixelRatio||1;this.sx=je,this.sy=je}get scaled(){return 1!==this.sx||1!==this.sy}};const J=/\x00/g,de=/[\x01-\x1F]/g;function Ie(Xe,je,rt=0){let pe=rt,Oe=Xe.length-1;if(Oe<0||!je(Xe[Oe]))return Xe.length;if(je(Xe[pe]))return pe;for(;pe<Oe;){const We=pe+Oe>>1;je(Xe[We])?Oe=We:pe=We+1}return pe}function ye(Xe,je,rt){if(Xe<2)return Xe;let pe=je[Xe].div,Oe=pe.offsetTop+pe.clientTop;Oe>=rt&&(pe=je[Xe-1].div,Oe=pe.offsetTop+pe.clientTop);for(let We=Xe-2;We>=0&&(pe=je[We].div,!(pe.offsetTop+pe.clientTop+pe.clientHeight<=Oe));--We)Xe=We;return Xe}function I(Xe){let je=Math.hypot(Xe.deltaX,Xe.deltaY);const rt=Math.atan2(Xe.deltaY,Xe.deltaX);return-.25*Math.PI<rt&&rt<.75*Math.PI&&(je=-je),je}const ke=new Promise(function(Xe){window.requestAnimationFrame(Xe)});F.animationStarted=ke,wt=new WeakSet,dj=function(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))},F.ProgressBar=class Fe{constructor(je){if(fn(this,wt),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(je+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(je){this._indeterminate=isNaN(je),this._percent=function Be(Xe,je,rt){return Math.min(Math.max(Xe,je),rt)}(je,0,100),rn(this,wt,dj).call(this)}setWidth(je){if(!je)return;const pe=je.parentNode.offsetWidth-je.offsetWidth;pe>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${pe}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.StructTreeLayerBuilder=void 0;const te={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},W=/^H(\d+)$/;F.StructTreeLayerBuilder=class M{constructor({pdfPage:k}){this.pdfPage=k}render(k){return this._walk(k)}_setAttributes(k,A){void 0!==k.alt&&A.setAttribute("aria-label",k.alt),void 0!==k.id&&A.setAttribute("aria-owns",k.id),void 0!==k.lang&&A.setAttribute("lang",k.lang)}_walk(k){if(!k)return null;const A=document.createElement("span");if("role"in k){const{role:x}=k,L=x.match(W);L?(A.setAttribute("role","heading"),A.setAttribute("aria-level",L[1])):te[x]&&A.setAttribute("role",te[x])}if(this._setAttributes(k,A),k.children)if(1===k.children.length&&"id"in k.children[0])this._setAttributes(k.children[0],A);else for(const x of k.children)A.appendChild(this._walk(x));return A}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.TextLayerBuilder=void 0;var W=te(3);F.TextLayerBuilder=class S{constructor({textLayerDiv:A,eventBus:x,pageIndex:L,viewport:oe,highlighter:B=null,enhanceTextSelection:j=!1}){this.textLayerDiv=A,this.eventBus=x,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=L+1,this.viewport=oe,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=B,this.enhanceTextSelection=j,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const A=document.createElement("div");A.className="endOfContent",this.textLayerDiv.appendChild(A)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(A=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const x=document.createDocumentFragment();this.textLayerRenderTask=(0,W.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:x,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:A,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(x),this._finishRendering(),this.highlighter?.enable()},function(L){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(A){this.cancel(),this.textContentStream=A}setTextContent(A){this.cancel(),this.textContent=A}_bindMouse(){const A=this.textLayerDiv;let x=null;A.addEventListener("mousedown",L=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(x&&(clearTimeout(x),x=null));const oe=A.querySelector(".endOfContent");if(!oe)return;let B=L.target!==A;if(B=B&&"none"!==window.getComputedStyle(oe).getPropertyValue("-moz-user-select"),B){const j=A.getBoundingClientRect(),D=Math.max(0,(L.pageY-j.top)/j.height);oe.style.top=(100*D).toFixed(2)+"%"}oe.classList.add("active")}),A.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(x=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),x=null},300));const L=A.querySelector(".endOfContent");!L||(L.style.top="",L.classList.remove("active"))})}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.XfaLayerBuilder=void 0;var W=te(3);F.XfaLayerBuilder=class M{constructor({pageDiv:k,pdfPage:A,annotationStorage:x=null,linkService:L,xfaHtml:oe=null}){this.pageDiv=k,this.pdfPage=A,this.annotationStorage=x,this.linkService=L,this.xfaHtml=oe,this.div=null,this._cancelled=!1}render(k,A="display"){if("print"===A){const x={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:A},L=document.createElement("div");this.pageDiv.appendChild(L),x.div=L;const oe=W.XfaLayer.render(x);return Promise.resolve(oe)}return this.pdfPage.getXfa().then(x=>{if(this._cancelled||!x)return{textDivs:[]};const L={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:x,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:A};return this.div?W.XfaLayer.update(L):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),L.div=this.div,W.XfaLayer.render(L))}).catch(x=>{console.error(x)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFViewer=F.PDFSinglePageViewer=void 0;var W=te(6),M=te(11);F.PDFViewer=class S extends M.BaseViewer{},F.PDFSinglePageViewer=class k extends M.BaseViewer{_resetView(){super._resetView(),this._scrollMode=W.ScrollMode.PAGE,this._spreadMode=W.SpreadMode.NONE}set scrollMode(x){}_updateScrollMode(){}set spreadMode(x){}_updateSpreadMode(){}}},(ue,F,te)=>{var _e,z,ge,vR,J,de,re,Ie,Me,Ne,et,ye,hj,G,fj,U,SC,me,kT,be,pj,Be,yR,Ge,gj,nt,mj,Lt,_j;Object.defineProperty(F,"__esModule",{value:!0}),F.PagesCountLimit=F.PDFPageViewBuffer=F.BaseViewer=void 0;var W=te(3),M=te(6),S=te(2),k=te(4),A=te(12),x=te(14),L=te(5),oe=te(7),B=te(15),j=te(8),D=te(9);const Y="enablePermissions",H={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};F.PagesCountLimit=H;class q{constructor(pe){fn(this,ge),fn(this,_e,new Set),fn(this,z,0),Ti(this,z,pe)}push(pe){const Oe=Xt(this,_e);Oe.has(pe)&&Oe.delete(pe),Oe.add(pe),Oe.size>Xt(this,z)&&rn(this,ge,vR).call(this)}resize(pe,Oe=null){Ti(this,z,pe);const We=Xt(this,_e);if(Oe){const It=We.size;let yt=1;for(const _t of We)if(Oe.has(_t.id)&&(We.delete(_t),We.add(_t)),++yt>It)break}for(;We.size>Xt(this,z);)rn(this,ge,vR).call(this)}has(pe){return Xt(this,_e).has(pe)}[Symbol.iterator](){return Xt(this,_e).keys()}}_e=new WeakMap,z=new WeakMap,ge=new WeakSet,vR=function(){const pe=Xt(this,_e).keys().next().value;pe?.destroy(),Xt(this,_e).delete(pe)},F.PDFPageViewBuffer=q;const je=class{constructor(pe){if(fn(this,ye),fn(this,G),fn(this,U),fn(this,me),fn(this,be),fn(this,Be),fn(this,Ge),fn(this,nt),fn(this,Lt),fn(this,J,null),fn(this,de,W.AnnotationMode.ENABLE_FORMS),fn(this,re,null),fn(this,Ie,!1),fn(this,Me,0),fn(this,Ne,null),fn(this,et,null),this.constructor===je)throw new Error("Cannot initialize BaseViewer.");const Oe="2.14.305";if(W.version!==Oe)throw new Error(`The API version "${W.version}" does not match the Viewer version "${Oe}".`);if(this.container=pe.container,this.viewer=pe.viewer||pe.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=pe.eventBus,this.linkService=pe.linkService||new L.SimpleLinkService,this.downloadManager=pe.downloadManager||null,this.findController=pe.findController||null,this._scriptingManager=pe.scriptingManager||null,this.removePageBorders=pe.removePageBorders||!1,this.textLayerMode=pe.textLayerMode??M.TextLayerMode.ENABLE,Ti(this,de,pe.annotationMode??W.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=pe.imageResourcesPath||"",this.enablePrintAutoRotate=pe.enablePrintAutoRotate||!1,this.renderer=pe.renderer||M.RendererType.CANVAS,this.useOnlyCssZoom=pe.useOnlyCssZoom||!1,this.maxCanvasPixels=pe.maxCanvasPixels,this.l10n=pe.l10n||k.NullL10n,Ti(this,Ie,pe.enablePermissions||!1),this.pageColors=pe.pageColors||null,pe.pageColors&&(!CSS.supports("color",pe.pageColors.background)||!CSS.supports("color",pe.pageColors.foreground))&&((pe.pageColors.background||pe.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!pe.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new x.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=pe.renderingQueue,this._doc=document.documentElement,this.scroll=(0,M.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=M.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(pe){return this._pages[pe]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(pe){return pe?.pdfPage})}get renderForms(){return Xt(this,de)===W.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(pe){if(!Number.isInteger(pe))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(pe,!0)||console.error(`currentPageNumber: "${pe}" is not a valid page.`)}_setCurrentPageNumber(pe,Oe=!1){if(this._currentPageNumber===pe)return Oe&&rn(this,Be,yR).call(this),!0;if(!(0<pe&&pe<=this.pagesCount))return!1;const We=this._currentPageNumber;return this._currentPageNumber=pe,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:pe,pageLabel:this._pageLabels?.[pe-1]??null,previous:We}),Oe&&rn(this,Be,yR).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(pe){if(!this.pdfDocument)return;let Oe=0|pe;if(this._pageLabels){const We=this._pageLabels.indexOf(pe);We>=0&&(Oe=We+1)}this._setCurrentPageNumber(Oe,!0)||console.error(`currentPageLabel: "${pe}" is not a valid page.`)}get currentScale(){return this._currentScale!==M.UNKNOWN_SCALE?this._currentScale:M.DEFAULT_SCALE}set currentScale(pe){if(isNaN(pe))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(pe,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(pe){!this.pdfDocument||this._setScale(pe,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(pe){if(!(0,M.isValidRotation)(pe))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((pe%=360)<0&&(pe+=360),this._pagesRotation===pe))return;this._pagesRotation=pe;const Oe=this._currentPageNumber,We={rotation:pe};for(const It of this._pages)It.update(We);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:pe,pageNumber:Oe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(pe){var Oe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=pe,!pe)return;const We=pe.isPureXfa,It=pe.numPages,yt=pe.getPage(1),_t=pe.getOptionalContentConfig(),St=Xt(this,Ie)?pe.getPermissions():Promise.resolve();if(It>H.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const ft=this._scrollMode=M.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ft})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:It})},()=>{}),this._onBeforeDraw=ft=>{const Mt=this._pages[ft.pageNumber-1];!Mt||Xt(this,J).push(Mt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=ft=>{ft.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:ft.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,Xt(this,et)&&(document.removeEventListener("visibilitychange",Xt(this,et)),Ti(this,et,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([yt,St]).then(([ft,Mt])=>{if(pe!==this.pdfDocument)return;this._firstPageCapability.resolve(ft),this._optionalContentConfigPromise=_t,rn(this,ye,hj).call(this,Mt);const Zt=this._scrollMode===M.ScrollMode.PAGE?null:this.viewer,bn=this.currentScale,Ke=ft.getViewport({scale:bn*W.PixelsPerInch.PDF_TO_CSS_UNITS}),Te=this.textLayerMode===M.TextLayerMode.DISABLE||We?null:this,Ce=Xt(this,de)!==W.AnnotationMode.DISABLE?this:null,ut=We?this:null;for(let At=1;At<=It;++At){const bt=new A.PDFPageView({container:Zt,eventBus:this.eventBus,id:At,scale:bn,defaultViewport:Ke.clone(),optionalContentConfigPromise:_t,renderingQueue:this.renderingQueue,textLayerFactory:Te,textLayerMode:this.textLayerMode,annotationLayerFactory:Ce,annotationMode:Xt(this,de),xfaLayerFactory:ut,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(bt)}const ct=this._pages[0];ct&&(ct.setPdfPage(ft),this.linkService.cachePageRef(1,ft.ref)),this._scrollMode===M.ScrollMode.PAGE?rn(this,U,SC).call(this):this._spreadMode!==M.SpreadMode.NONE&&this._updateSpreadMode(),rn(this,G,fj).call(this).then(l(function*(){if(Oe.findController&&Oe.findController.setDocument(pe),Oe._scriptingManager&&Oe._scriptingManager.setDocument(pe),pe.loadingParams.disableAutoFetch||It>H.FORCE_LAZY_PAGE_INIT)return void Oe._pagesCapability.resolve();let At=It-1;if(At<=0)Oe._pagesCapability.resolve();else for(let bt=2;bt<=It;++bt){const on=pe.getPage(bt).then(gn=>{const Bt=Oe._pages[bt-1];Bt.pdfPage||Bt.setPdfPage(gn),Oe.linkService.cachePageRef(bt,gn.ref),0==--At&&Oe._pagesCapability.resolve()},gn=>{console.error(`Unable to get page ${bt} to initialize viewer`,gn),0==--At&&Oe._pagesCapability.resolve()});bt%H.PAUSE_EAGER_PAGE_INIT==0&&(yield on)}})),this.eventBus.dispatch("pagesinit",{source:this}),pe.getMetadata().then(({info:At})=>{pe===this.pdfDocument&&At.Language&&(this.viewer.lang=At.Language)}),this.defaultRenderingQueue&&this.update()}).catch(ft=>{console.error("Unable to initialize viewer",ft),this._pagesCapability.reject(ft)})}setPageLabels(pe){if(this.pdfDocument){pe?Array.isArray(pe)&&this.pdfDocument.numPages===pe.length?this._pageLabels=pe:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Oe=0,We=this._pages.length;Oe<We;Oe++)this._pages[Oe].setPageLabel(this._pageLabels?.[Oe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=M.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,Ti(this,J,new q(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,W.createPromiseCapability)(),this._onePageRenderedCapability=(0,W.createPromiseCapability)(),this._pagesCapability=(0,W.createPromiseCapability)(),this._scrollMode=M.ScrollMode.VERTICAL,this._previousScrollMode=M.ScrollMode.UNKNOWN,this._spreadMode=M.SpreadMode.NONE,Ti(this,Ne,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),Xt(this,et)&&(document.removeEventListener("visibilitychange",Xt(this,et)),Ti(this,et,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(Y),null!==Xt(this,re)&&(Ti(this,de,Xt(this,re)),Ti(this,re,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(pe,Oe,We=!1,It=!1){if(this._currentScaleValue=Oe.toString(),rn(this,be,pj).call(this,pe))return void(It&&this.eventBus.dispatch("scalechanging",{source:this,scale:pe,presetValue:Oe}));this._doc.style.setProperty("--zoom-factor",pe);const yt={scale:pe};for(const _t of this._pages)_t.update(yt);if(this._currentScale=pe,!We){let St,_t=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(_t=this._location.pageNumber,St=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:_t,destArray:St,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:pe,presetValue:It?Oe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==M.SpreadMode.NONE&&this._scrollMode!==M.ScrollMode.HORIZONTAL?2:1}_setScale(pe,Oe=!1){let We=parseFloat(pe);if(We>0)this._setScaleUpdatePages(We,pe,Oe,!1);else{const It=this._pages[this._currentPageNumber-1];if(!It)return;let yt=M.SCROLLBAR_PADDING,_t=M.VERTICAL_PADDING;this.isInPresentationMode?yt=_t=4:this.removePageBorders?yt=_t=0:this._scrollMode===M.ScrollMode.HORIZONTAL&&([yt,_t]=[_t,yt]);const St=(this.container.clientWidth-yt)/It.width*It.scale/this._pageWidthScaleFactor,ft=(this.container.clientHeight-_t)/It.height*It.scale;switch(pe){case"page-actual":We=1;break;case"page-width":We=St;break;case"page-height":We=ft;break;case"page-fit":We=Math.min(St,ft);break;case"auto":const Mt=(0,M.isPortraitOrientation)(It)?St:Math.min(ft,St);We=Math.min(M.MAX_AUTO_SCALE,Mt);break;default:return void console.error(`_setScale: "${pe}" is an unknown zoom value.`)}this._setScaleUpdatePages(We,pe,Oe,!0)}}pageLabelToPageNumber(pe){if(!this._pageLabels)return null;const Oe=this._pageLabels.indexOf(pe);return Oe<0?null:Oe+1}scrollPageIntoView({pageNumber:pe,destArray:Oe=null,allowNegativeOffset:We=!1,ignoreDestinationZoom:It=!1}){if(!this.pdfDocument)return;const yt=Number.isInteger(pe)&&this._pages[pe-1];if(!yt)return void console.error(`scrollPageIntoView: "${pe}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Oe)return void this._setCurrentPageNumber(pe,!0);let Zt,bn,_t=0,St=0,ft=0,Mt=0;const Ke=yt.rotation%180!=0,Te=(Ke?yt.height:yt.width)/yt.scale/W.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=(Ke?yt.width:yt.height)/yt.scale/W.PixelsPerInch.PDF_TO_CSS_UNITS;let ut=0;switch(Oe[1].name){case"XYZ":_t=Oe[2],St=Oe[3],ut=Oe[4],_t=null!==_t?_t:0,St=null!==St?St:Ce;break;case"Fit":case"FitB":ut="page-fit";break;case"FitH":case"FitBH":St=Oe[2],ut="page-width",null===St&&this._location?(_t=this._location.left,St=this._location.top):("number"!=typeof St||St<0)&&(St=Ce);break;case"FitV":case"FitBV":_t=Oe[2],ft=Te,Mt=Ce,ut="page-height";break;case"FitR":_t=Oe[2],St=Oe[3],ft=Oe[4]-_t,Mt=Oe[5]-St,Zt=(this.container.clientWidth-(this.removePageBorders?0:M.SCROLLBAR_PADDING))/ft/W.PixelsPerInch.PDF_TO_CSS_UNITS,bn=(this.container.clientHeight-(this.removePageBorders?0:M.VERTICAL_PADDING))/Mt/W.PixelsPerInch.PDF_TO_CSS_UNITS,ut=Math.min(Math.abs(Zt),Math.abs(bn));break;default:return void console.error(`scrollPageIntoView: "${Oe[1].name}" is not a valid destination type.`)}if(It||(ut&&ut!==this._currentScale?this.currentScaleValue=ut:this._currentScale===M.UNKNOWN_SCALE&&(this.currentScaleValue=M.DEFAULT_SCALE_VALUE)),"page-fit"===ut&&!Oe[4])return void rn(this,me,kT).call(this,yt);const ct=[yt.viewport.convertToViewportPoint(_t,St),yt.viewport.convertToViewportPoint(_t+ft,St+Mt)];let At=Math.min(ct[0][0],ct[1][0]),bt=Math.min(ct[0][1],ct[1][1]);We||(At=Math.max(At,0),bt=Math.max(bt,0)),rn(this,me,kT).call(this,yt,{left:At,top:bt})}_updateLocation(pe){const Oe=this._currentScale,We=this._currentScaleValue,It=parseFloat(We)===Oe?Math.round(1e4*Oe)/100:We,yt=pe.id,St=this.container,ft=this._pages[yt-1].getPagePoint(St.scrollLeft-pe.x,St.scrollTop-pe.y),Mt=Math.round(ft[0]),Zt=Math.round(ft[1]);let bn=`#page=${yt}`;this.isInPresentationMode||(bn+=`&zoom=${It},${Mt},${Zt}`),this._location={pageNumber:yt,scale:It,top:Zt,left:Mt,rotation:this._pagesRotation,pdfOpenParams:bn}}update(){const pe=this._getVisiblePages(),Oe=pe.views,We=Oe.length;if(0===We)return;const It=Math.max(10,2*We+1);Xt(this,J).resize(It,pe.ids),this.renderingQueue.renderHighestPriority(pe);const yt=this._spreadMode===M.SpreadMode.NONE&&(this._scrollMode===M.ScrollMode.PAGE||this._scrollMode===M.ScrollMode.VERTICAL),_t=this._currentPageNumber;let St=!1;for(const ft of Oe){if(ft.percent<100)break;if(ft.id===_t&&yt){St=!0;break}}this._setCurrentPageNumber(St?_t:Oe[0].id),this._updateLocation(pe.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(pe){return this.container.contains(pe)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===M.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===M.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const pe=this._scrollMode===M.ScrollMode.PAGE?Xt(this,Ne).pages:this._pages,Oe=this._scrollMode===M.ScrollMode.HORIZONTAL;return(0,M.getVisibleElements)({scrollEl:this.container,views:pe,sortByVisibility:!0,horizontal:Oe,rtl:Oe&&this._isContainerRtl})}isPageVisible(pe){return!!this.pdfDocument&&(Number.isInteger(pe)&&pe>0&&pe<=this.pagesCount?this._getVisiblePages().ids.has(pe):(console.error(`isPageVisible: "${pe}" is not a valid page.`),!1))}isPageCached(pe){if(!this.pdfDocument)return!1;if(!(Number.isInteger(pe)&&pe>0&&pe<=this.pagesCount))return console.error(`isPageCached: "${pe}" is not a valid page.`),!1;const Oe=this._pages[pe-1];return Xt(this,J).has(Oe)}cleanup(){for(const pe of this._pages)pe.renderingState!==M.RenderingStates.FINISHED&&pe.reset()}_cancelRendering(){for(const pe of this._pages)pe.cancelRendering()}forceRendering(pe){const Oe=pe||this._getVisiblePages(),We=rn(this,nt,mj).call(this,Oe),yt=this.renderingQueue.getHighestPriority(Oe,this._pages,We,this._spreadMode!==M.SpreadMode.NONE&&this._scrollMode!==M.ScrollMode.HORIZONTAL);return rn(this,Lt,_j).call(this,Oe.ids),!!yt&&(rn(this,Ge,gj).call(this,yt).then(()=>{this.renderingQueue.renderView(yt)}),!0)}createTextLayerBuilder(pe,Oe,We,It=!1,yt,_t){return new j.TextLayerBuilder({textLayerDiv:pe,eventBus:yt,pageIndex:Oe,viewport:We,enhanceTextSelection:!this.isInPresentationMode&&It,highlighter:_t})}createTextHighlighter(pe,Oe){return new B.TextHighlighter({eventBus:Oe,pageIndex:pe,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(pe,Oe,We=null,It="",yt=!0,_t=k.NullL10n,St=null,ft=null,Mt=null,Zt=null,bn=null){return new S.AnnotationLayerBuilder({pageDiv:pe,pdfPage:Oe,annotationStorage:We||this.pdfDocument?.annotationStorage,imageResourcesPath:It,renderForms:yt,linkService:this.linkService,downloadManager:this.downloadManager,l10n:_t,enableScripting:St??this.enableScripting,hasJSActionsPromise:ft||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Zt||this.pdfDocument?.getFieldObjects(),mouseState:Mt||this._scriptingManager?.mouseState,annotationCanvasMap:bn})}createXfaLayerBuilder(pe,Oe,We=null){return new D.XfaLayerBuilder({pageDiv:pe,pdfPage:Oe,annotationStorage:We||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(pe){return new oe.StructTreeLayerBuilder({pdfPage:pe})}get hasEqualPageSizes(){const pe=this._pages[0];for(let Oe=1,We=this._pages.length;Oe<We;++Oe){const It=this._pages[Oe];if(It.width!==pe.width||It.height!==pe.height)return!1}return!0}getPagesOverview(){return this._pages.map(pe=>{const Oe=pe.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,M.isPortraitOrientation)(Oe)?{width:Oe.width,height:Oe.height,rotation:Oe.rotation}:{width:Oe.height,height:Oe.width,rotation:(Oe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(pe){if(!(pe instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${pe}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=pe;const Oe={optionalContentConfigPromise:pe};for(const We of this._pages)We.update(Oe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:pe})}get scrollMode(){return this._scrollMode}set scrollMode(pe){if(this._scrollMode!==pe){if(!(0,M.isValidScrollMode)(pe))throw new Error(`Invalid scroll mode: ${pe}`);this.pagesCount>H.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=pe,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:pe}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(pe=null){const Oe=this._scrollMode,We=this.viewer;We.classList.toggle("scrollHorizontal",Oe===M.ScrollMode.HORIZONTAL),We.classList.toggle("scrollWrapped",Oe===M.ScrollMode.WRAPPED),this.pdfDocument&&pe&&(Oe===M.ScrollMode.PAGE?rn(this,U,SC).call(this):this._previousScrollMode===M.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(pe,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(pe){if(this._spreadMode!==pe){if(!(0,M.isValidSpreadMode)(pe))throw new Error(`Invalid spread mode: ${pe}`);this._spreadMode=pe,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:pe}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(pe=null){if(!this.pdfDocument)return;const Oe=this.viewer,We=this._pages;if(this._scrollMode===M.ScrollMode.PAGE)rn(this,U,SC).call(this);else if(Oe.textContent="",this._spreadMode===M.SpreadMode.NONE)for(const It of this._pages)Oe.appendChild(It.div);else{const It=this._spreadMode-1;let yt=null;for(let _t=0,St=We.length;_t<St;++_t)null===yt?(yt=document.createElement("div"),yt.className="spread",Oe.appendChild(yt)):_t%2===It&&(yt=yt.cloneNode(!1),Oe.appendChild(yt)),yt.appendChild(We[_t].div)}!pe||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(pe,!0),this.update())}_getPageAdvance(pe,Oe=!1){switch(this._scrollMode){case M.ScrollMode.WRAPPED:{const{views:We}=this._getVisiblePages(),It=new Map;for(const{id:yt,y:_t,percent:St,widthPercent:ft}of We){if(0===St||ft<100)continue;let Mt=It.get(_t);Mt||It.set(_t,Mt||(Mt=[])),Mt.push(yt)}for(const yt of It.values()){const _t=yt.indexOf(pe);if(-1===_t)continue;const St=yt.length;if(1===St)break;if(Oe)for(let ft=_t-1,Mt=0;ft>=Mt;ft--){const bn=yt[ft+1]-1;if(yt[ft]<bn)return pe-bn}else for(let ft=_t+1,Mt=St;ft<Mt;ft++){const bn=yt[ft-1]+1;if(yt[ft]>bn)return bn-pe}if(Oe){const ft=yt[0];if(ft<pe)return pe-ft+1}else{const ft=yt[St-1];if(ft>pe)return ft-pe+1}break}break}case M.ScrollMode.HORIZONTAL:break;case M.ScrollMode.PAGE:case M.ScrollMode.VERTICAL:{if(this._spreadMode===M.SpreadMode.NONE)break;const We=this._spreadMode-1;if(Oe&&pe%2!==We)break;if(!Oe&&pe%2===We)break;const{views:It}=this._getVisiblePages(),yt=Oe?pe-1:pe+1;for(const{id:_t,percent:St,widthPercent:ft}of It)if(_t===yt){if(St>0&&100===ft)return 2;break}break}}return 1}nextPage(){const pe=this._currentPageNumber,Oe=this.pagesCount;if(pe>=Oe)return!1;const We=this._getPageAdvance(pe,!1)||1;return this.currentPageNumber=Math.min(pe+We,Oe),!0}previousPage(){const pe=this._currentPageNumber;if(pe<=1)return!1;const Oe=this._getPageAdvance(pe,!0)||1;return this.currentPageNumber=Math.max(pe-Oe,1),!0}increaseScale(pe=1){let Oe=this._currentScale;do{Oe=(Oe*M.DEFAULT_SCALE_DELTA).toFixed(2),Oe=Math.ceil(10*Oe)/10,Oe=Math.min(M.MAX_SCALE,Oe)}while(--pe>0&&Oe<M.MAX_SCALE);this.currentScaleValue=Oe}decreaseScale(pe=1){let Oe=this._currentScale;do{Oe=(Oe/M.DEFAULT_SCALE_DELTA).toFixed(2),Oe=Math.floor(10*Oe)/10,Oe=Math.max(M.MIN_SCALE,Oe)}while(--pe>0&&Oe>M.MIN_SCALE);this.currentScaleValue=Oe}updateContainerHeightCss(){const pe=this.container.clientHeight;pe!==Xt(this,Me)&&(Ti(this,Me,pe),this._doc.style.setProperty("--viewer-container-height",`${pe}px`))}};let fe=je;J=new WeakMap,de=new WeakMap,re=new WeakMap,Ie=new WeakMap,Me=new WeakMap,Ne=new WeakMap,et=new WeakMap,ye=new WeakSet,hj=function(pe){!pe||(pe.includes(W.PermissionFlag.COPY)||this.viewer.classList.add(Y),!pe.includes(W.PermissionFlag.MODIFY_ANNOTATIONS)&&!pe.includes(W.PermissionFlag.FILL_INTERACTIVE_FORMS)&&Xt(this,de)===W.AnnotationMode.ENABLE_FORMS&&(Ti(this,re,Xt(this,de)),Ti(this,de,W.AnnotationMode.ENABLE)))},G=new WeakSet,fj=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const pe=new Promise(Oe=>{Ti(this,et,()=>{"hidden"===document.visibilityState&&(Oe(),document.removeEventListener("visibilitychange",Xt(this,et)),Ti(this,et,null))}),document.addEventListener("visibilitychange",Xt(this,et))});return Promise.race([this._onePageRenderedCapability.promise,pe])},U=new WeakSet,SC=function(){if(this._scrollMode!==M.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const pe=this._currentPageNumber,Oe=Xt(this,Ne),We=this.viewer;if(We.textContent="",Oe.pages.length=0,this._spreadMode!==M.SpreadMode.NONE||this.isInPresentationMode){const It=new Set,yt=this._spreadMode-1;-1===yt?It.add(pe-1):pe%2!==yt?(It.add(pe-1),It.add(pe)):(It.add(pe-2),It.add(pe-1));const _t=document.createElement("div");if(_t.className="spread",this.isInPresentationMode){const St=document.createElement("div");St.className="dummyPage",_t.appendChild(St)}for(const St of It){const ft=this._pages[St];!ft||(_t.appendChild(ft.div),Oe.pages.push(ft))}We.appendChild(_t)}else{const It=this._pages[pe-1];We.appendChild(It.div),Oe.pages.push(It)}Oe.scrollDown=pe>=Oe.previousPageNumber,Oe.previousPageNumber=pe},me=new WeakSet,kT=function(pe,Oe=null){const{div:We,id:It}=pe;if(this._scrollMode===M.ScrollMode.PAGE&&(this._setCurrentPageNumber(It),rn(this,U,SC).call(this),this.update()),!Oe&&!this.isInPresentationMode){const yt=We.offsetLeft+We.clientLeft,_t=yt+We.clientWidth,{scrollLeft:St,clientWidth:ft}=this.container;(this._scrollMode===M.ScrollMode.HORIZONTAL||yt<St||_t>St+ft)&&(Oe={left:0,top:0})}(0,M.scrollIntoView)(We,Oe)},be=new WeakSet,pj=function(pe){return pe===this._currentScale||Math.abs(pe-this._currentScale)<1e-15},Be=new WeakSet,yR=function(){const pe=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),rn(this,me,kT).call(this,pe)},Ge=new WeakSet,gj=function(pe){var Oe=this;return l(function*(){if(pe.pdfPage)return pe.pdfPage;try{const We=yield Oe.pdfDocument.getPage(pe.id);return pe.pdfPage||pe.setPdfPage(We),Oe.linkService._cachedPageNumber?.(We.ref)||Oe.linkService.cachePageRef(pe.id,We.ref),We}catch(We){return console.error("Unable to get page for page view",We),null}})()},nt=new WeakSet,mj=function(pe){if(1===pe.first?.id)return!0;if(pe.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case M.ScrollMode.PAGE:return Xt(this,Ne).scrollDown;case M.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},Lt=new WeakSet,_j=function(pe){for(const Oe of pe)this._pages[Oe-1]?.toggleLoadingIconSpinner(!0);for(const Oe of Xt(this,J))pe.has(Oe.id)||Oe.toggleLoadingIconSpinner(!1)},F.BaseViewer=fe},(ue,F,te)=>{var L;Object.defineProperty(F,"__esModule",{value:!0}),F.PDFPageView=void 0;var W=te(3),M=te(6),S=te(13),k=te(4);const A=S.compatibilityParams.maxCanvasPixels||16777216;L=new WeakMap,F.PDFPageView=class x{constructor(B){fn(this,L,W.AnnotationMode.ENABLE_FORMS);const j=B.container,D=B.defaultViewport;this.id=B.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=B.scale||M.DEFAULT_SCALE,this.viewport=D,this.pdfPageRotate=D.rotation,this._optionalContentConfigPromise=B.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=B.textLayerMode??M.TextLayerMode.ENABLE,Ti(this,L,B.annotationMode??W.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=B.imageResourcesPath||"",this.useOnlyCssZoom=B.useOnlyCssZoom||!1,this.maxCanvasPixels=B.maxCanvasPixels||A,this.pageColors=B.pageColors||null,this.eventBus=B.eventBus,this.renderingQueue=B.renderingQueue,this.textLayerFactory=B.textLayerFactory,this.annotationLayerFactory=B.annotationLayerFactory,this.xfaLayerFactory=B.xfaLayerFactory,this.textHighlighter=B.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=B.structTreeLayerFactory,this.renderer=B.renderer||M.RendererType.CANVAS,this.l10n=B.l10n||k.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=M.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const R=document.createElement("div");R.className="page",R.style.width=Math.floor(this.viewport.width)+"px",R.style.height=Math.floor(this.viewport.height)+"px",R.setAttribute("data-page-number",this.id),R.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(Y=>{R.setAttribute("aria-label",Y)}),this.div=R,j?.appendChild(R)}setPdfPage(B){this.pdfPage=B,this.pdfPageRotate=B.rotate,this.viewport=B.getViewport({scale:this.scale*W.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var B=this;return l(function*(){let j=null;try{yield B.annotationLayer.render(B.viewport,"display")}catch(D){j=D}finally{B.eventBus.dispatch("annotationlayerrendered",{source:B,pageNumber:B.id,error:j})}})()}_renderXfaLayer(){var B=this;return l(function*(){let j=null;try{const D=yield B.xfaLayer.render(B.viewport,"display");B.textHighlighter&&B._buildXfaTextContentItems(D.textDivs)}catch(D){j=D}finally{B.eventBus.dispatch("xfalayerrendered",{source:B,pageNumber:B.id,error:j})}})()}_buildXfaTextContentItems(B){var j=this;return l(function*(){const D=yield j.pdfPage.getTextContent(),R=[];for(const Y of D.items)R.push(Y.str);j.textHighlighter.setTextMapping(B,R),j.textHighlighter.enable()})()}_resetZoomLayer(B=!1){if(!this.zoomLayer)return;const j=this.zoomLayer.firstChild;this.paintedViewportMap.delete(j),j.width=0,j.height=0,B&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:B=!1,keepAnnotationLayer:j=!1,keepXfaLayer:D=!1}={}){this.cancelRendering({keepAnnotationLayer:j,keepXfaLayer:D}),this.renderingState=M.RenderingStates.INITIAL;const R=this.div;R.style.width=Math.floor(this.viewport.width)+"px",R.style.height=Math.floor(this.viewport.height)+"px";const Y=R.childNodes,H=B&&this.zoomLayer||null,q=j&&this.annotationLayer?.div||null,fe=D&&this.xfaLayer?.div||null;for(let _e=Y.length-1;_e>=0;_e--){const z=Y[_e];switch(z){case H:case q:case fe:continue}z.remove()}R.removeAttribute("data-loaded"),q&&this.annotationLayer.hide(),fe&&this.xfaLayer.hide(),H||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(_e=>{this.loadingIconDiv?.setAttribute("aria-label",_e)}),R.appendChild(this.loadingIconDiv)}update({scale:B=0,rotation:j=null,optionalContentConfigPromise:D=null}){if(this.scale=B||this.scale,"number"==typeof j&&(this.rotation=j),D instanceof Promise&&(this._optionalContentConfigPromise=D),this.viewport=this.viewport.clone({scale:this.scale*W.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:H}=document.documentElement;H.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let Y=!1;if(this.canvas&&this.maxCanvasPixels>0){const H=this.outputScale;(Math.floor(this.viewport.width)*H.sx|0)*(Math.floor(this.viewport.height)*H.sy|0)>this.maxCanvasPixels&&(Y=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&Y)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:B=!1,keepXfaLayer:j=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!B||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!j||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:B,redrawAnnotationLayer:j=!1,redrawXfaLayer:D=!1}){const R=this.viewport.width,Y=this.viewport.height,H=this.div;B.style.width=B.parentNode.style.width=H.style.width=Math.floor(R)+"px",B.style.height=B.parentNode.style.height=H.style.height=Math.floor(Y)+"px";const q=this.viewport.rotation-this.paintedViewportMap.get(B).rotation,fe=Math.abs(q);let _e=1,z=1;if((90===fe||270===fe)&&(_e=Y/R,z=R/Y),B.style.transform=`rotate(${q}deg) scale(${_e}, ${z})`,this.textLayer){const ge=this.textLayer.viewport,J=Math.abs(this.viewport.rotation-ge.rotation);let de=R/ge.width;(90===J||270===J)&&(de=R/ge.height);const re=this.textLayer.textLayerDiv;let Ie,Me;switch(J){case 0:Ie=Me=0;break;case 90:Ie=0,Me="-"+re.style.height;break;case 180:Ie="-"+re.style.width,Me="-"+re.style.height;break;case 270:Ie="-"+re.style.width,Me=0;break;default:console.error("Bad rotation value.")}re.style.transform=`rotate(${J}deg) scale(${de}) translate(${Ie}, ${Me})`,re.style.transformOrigin="0% 0%"}j&&this.annotationLayer&&this._renderAnnotationLayer(),D&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(B,j){return this.viewport.convertToPdfPoint(B,j)}toggleLoadingIconSpinner(B=!1){this.loadingIconDiv?.classList.toggle("notVisible",!B)}draw(){var B=this;this.renderingState!==M.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:j,pdfPage:D}=this;if(!D)return this.renderingState=M.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=M.RenderingStates.RUNNING;const R=document.createElement("div");R.style.width=j.style.width,R.style.height=j.style.height,R.classList.add("canvasWrapper"),this.annotationLayer?.div?j.insertBefore(R,this.annotationLayer.div):j.appendChild(R);let Y=null;if(this.textLayerMode!==M.TextLayerMode.DISABLE&&this.textLayerFactory){const z=document.createElement("div");z.className="textLayer",z.style.width=R.style.width,z.style.height=R.style.height,this.annotationLayer?.div?j.insertBefore(z,this.annotationLayer.div):j.appendChild(z),Y=this.textLayerFactory.createTextLayerBuilder(z,this.id-1,this.viewport,this.textLayerMode===M.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=Y,Xt(this,L)!==W.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(j,D,null,this.imageResourcesPath,Xt(this,L)===W.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&j.appendChild(this.xfaLayer.div);let H=null;this.renderingQueue&&(H=z=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=M.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=M.RenderingStates.RUNNING,z()});z()});const q=function(){var z=l(function*(ge=null){if(fe===B.paintTask&&(B.paintTask=null),ge instanceof W.RenderingCancelledException)B._renderError=null;else if(B._renderError=ge,B.renderingState=M.RenderingStates.FINISHED,B.loadingIconDiv&&(B.loadingIconDiv.remove(),delete B.loadingIconDiv),B._resetZoomLayer(!0),B.eventBus.dispatch("pagerendered",{source:B,pageNumber:B.id,cssTransform:!1,timestamp:performance.now(),error:B._renderError}),ge)throw ge});return function(){return z.apply(this,arguments)}}(),fe=this.renderer===M.RendererType.SVG?this.paintOnSvg(R):this.paintOnCanvas(R);fe.onRenderContinue=H,this.paintTask=fe;const _e=fe.promise.then(()=>q(null).then(()=>{if(Y){const z=D.streamTextContent({includeMarkedContent:!0});Y.setTextContentStream(z),Y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(z){return q(z)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(j,D,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=z=>{z.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(ge=>{if(!ge||!this.canvas)return;const ce=this.structTreeLayer.render(ge);ce.classList.add("structTree"),this.canvas.appendChild(ce)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(D)),j.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),_e}paintOnCanvas(B){const j=(0,W.createPromiseCapability)(),D={promise:j.promise,onRenderContinue(re){re()},cancel(){de.cancel()}},R=this.viewport,Y=document.createElement("canvas");Y.hidden=!0;let H=!0;const q=function(){H&&(Y.hidden=!1,H=!1)};B.appendChild(Y),this.canvas=Y;const fe=Y.getContext("2d",{alpha:!1}),_e=this.outputScale=new M.OutputScale;if(this.useOnlyCssZoom){const re=R.clone({scale:W.PixelsPerInch.PDF_TO_CSS_UNITS});_e.sx*=re.width/R.width,_e.sy*=re.height/R.height}if(this.maxCanvasPixels>0){const Ie=Math.sqrt(this.maxCanvasPixels/(R.width*R.height));_e.sx>Ie||_e.sy>Ie?(_e.sx=Ie,_e.sy=Ie,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const z=(0,M.approximateFraction)(_e.sx),ge=(0,M.approximateFraction)(_e.sy);Y.width=(0,M.roundToDivide)(R.width*_e.sx,z[0]),Y.height=(0,M.roundToDivide)(R.height*_e.sy,ge[0]),Y.style.width=(0,M.roundToDivide)(R.width,z[1])+"px",Y.style.height=(0,M.roundToDivide)(R.height,ge[1])+"px",this.paintedViewportMap.set(Y,R);const J={canvasContext:fe,transform:_e.scaled?[_e.sx,0,0,_e.sy,0,0]:null,viewport:this.viewport,annotationMode:Xt(this,L),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},de=this.pdfPage.render(J);return de.onContinue=function(re){q(),D.onRenderContinue?D.onRenderContinue(re):re()},de.promise.then(function(){q(),j.resolve()},function(re){q(),j.reject(re)}),D}paintOnSvg(B){let j=!1;const D=()=>{if(j)throw new W.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},R=this.pdfPage,Y=this.viewport.clone({scale:W.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:R.getOperatorList({annotationMode:Xt(this,L)}).then(q=>(D(),new W.SVGGraphics(R.commonObjs,R.objs).getSVG(q,Y).then(_e=>{D(),this.svg=_e,this.paintedViewportMap.set(_e,Y),_e.style.width=B.style.width,_e.style.height=B.style.height,this.renderingState=M.RenderingStates.FINISHED,B.appendChild(_e)}))),onRenderContinue(q){q()},cancel(){j=!0}}}setPageLabel(B){this.pageLabel="string"==typeof B?B:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.compatibilityParams=F.OptionKind=F.AppOptions=void 0;const te=Object.create(null);F.compatibilityParams=te;{const A=navigator.userAgent||"",x=navigator.platform||"",L=navigator.maxTouchPoints||1,oe=/Android/.test(A);(/\b(iPad|iPhone|iPod)(?=;)/.test(A)||"MacIntel"===x&&L>1||oe)&&(te.maxCanvasPixels=5242880)}const W={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};F.OptionKind=W;const M={annotationMode:{value:2,kind:W.VIEWER+W.PREFERENCE},cursorToolOnLoad:{value:0,kind:W.VIEWER+W.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:W.VIEWER},defaultZoomValue:{value:"",kind:W.VIEWER+W.PREFERENCE},disableHistory:{value:!1,kind:W.VIEWER},disablePageLabels:{value:!1,kind:W.VIEWER+W.PREFERENCE},enablePermissions:{value:!1,kind:W.VIEWER+W.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:W.VIEWER+W.PREFERENCE},enableScripting:{value:!0,kind:W.VIEWER+W.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:W.VIEWER},externalLinkTarget:{value:0,kind:W.VIEWER+W.PREFERENCE},historyUpdateUrl:{value:!1,kind:W.VIEWER+W.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:W.VIEWER+W.PREFERENCE},imageResourcesPath:{value:"./images/",kind:W.VIEWER},maxCanvasPixels:{value:16777216,compatibility:te.maxCanvasPixels,kind:W.VIEWER},pageColorsBackground:{value:"Canvas",kind:W.VIEWER+W.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:W.VIEWER+W.PREFERENCE},pdfBugEnabled:{value:!1,kind:W.VIEWER+W.PREFERENCE},printResolution:{value:150,kind:W.VIEWER},renderer:{value:"canvas",kind:W.VIEWER},sidebarViewOnLoad:{value:-1,kind:W.VIEWER+W.PREFERENCE},scrollModeOnLoad:{value:-1,kind:W.VIEWER+W.PREFERENCE},spreadModeOnLoad:{value:-1,kind:W.VIEWER+W.PREFERENCE},textLayerMode:{value:1,kind:W.VIEWER+W.PREFERENCE},useOnlyCssZoom:{value:!1,kind:W.VIEWER+W.PREFERENCE},viewerCssTheme:{value:0,kind:W.VIEWER+W.PREFERENCE},viewOnLoad:{value:0,kind:W.VIEWER+W.PREFERENCE},cMapPacked:{value:!0,kind:W.API},cMapUrl:{value:"../web/cmaps/",kind:W.API},disableAutoFetch:{value:!1,kind:W.API+W.PREFERENCE},disableFontFace:{value:!1,kind:W.API+W.PREFERENCE},disableRange:{value:!1,kind:W.API+W.PREFERENCE},disableStream:{value:!1,kind:W.API+W.PREFERENCE},docBaseUrl:{value:"",kind:W.API},enableXfa:{value:!0,kind:W.API+W.PREFERENCE},fontExtraProperties:{value:!1,kind:W.API},isEvalSupported:{value:!0,kind:W.API},maxImageSize:{value:-1,kind:W.API},pdfBug:{value:!1,kind:W.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:W.API},verbosity:{value:1,kind:W.API},workerPort:{value:null,kind:W.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:W.WORKER}};M.disablePreferences={value:!1,kind:W.VIEWER},M.locale={value:navigator.language||"en-US",kind:W.VIEWER},M.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:W.VIEWER},M.renderer.kind+=W.PREFERENCE;const S=Object.create(null);F.AppOptions=class k{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(x){const L=S[x];if(void 0!==L)return L;const oe=M[x];return void 0!==oe?oe.compatibility??oe.value:void 0}static getAll(x=null){const L=Object.create(null);for(const oe in M){const B=M[oe];if(x){if(0==(x&B.kind))continue;if(x===W.PREFERENCE){const D=B.value,R=typeof D;if("boolean"===R||"string"===R||"number"===R&&Number.isInteger(D)){L[oe]=D;continue}throw new Error(`Invalid type for preference: ${oe}`)}}const j=S[oe];L[oe]=void 0!==j?j:B.compatibility??B.value}return L}static set(x,L){S[x]=L}static setAll(x){for(const L in x)S[L]=x[L]}static remove(x){delete S[x]}static _hasUserOptions(){return Object.keys(S).length>0}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFRenderingQueue=void 0;var W=te(3),M=te(6);F.PDFRenderingQueue=class k{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(x){this.pdfViewer=x}setThumbnailViewer(x){this.pdfThumbnailViewer=x}isHighestPriority(x){return this.highestPriorityPage===x.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(x){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(x)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(x,L,oe,B=!1){const j=x.views,D=j.length;if(0===D)return null;for(let fe=0;fe<D;fe++){const _e=j[fe].view;if(!this.isViewFinished(_e))return _e}const R=x.first.id,Y=x.last.id;if(Y-R+1>D){const fe=x.ids;for(let _e=1,z=Y-R;_e<z;_e++){const ge=oe?R+_e:Y-_e;if(fe.has(ge))continue;const ce=L[ge-1];if(!this.isViewFinished(ce))return ce}}let H=oe?Y:R-2,q=L[H];return q&&!this.isViewFinished(q)||B&&(H+=oe?1:-1,q=L[H],q&&!this.isViewFinished(q))?q:null}isViewFinished(x){return x.renderingState===M.RenderingStates.FINISHED}renderView(x){switch(x.renderingState){case M.RenderingStates.FINISHED:return!1;case M.RenderingStates.PAUSED:this.highestPriorityPage=x.renderingId,x.resume();break;case M.RenderingStates.RUNNING:this.highestPriorityPage=x.renderingId;break;case M.RenderingStates.INITIAL:this.highestPriorityPage=x.renderingId,x.draw().finally(()=>{this.renderHighestPriority()}).catch(L=>{L instanceof W.RenderingCancelledException||console.error(`renderView: "${L}"`)})}return!0}}},(ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.TextHighlighter=void 0,F.TextHighlighter=class te{constructor({findController:M,eventBus:S,pageIndex:k}){this.findController=M,this.matches=[],this.eventBus=S,this.pageIdx=k,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(M,S){this.textDivs=M,this.textContentItemsStr=S}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=M=>{(M.pageIndex===this.pageIdx||-1===M.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(M,S){if(!M)return[];const{textContentItemsStr:k}=this;let A=0,x=0;const L=k.length-1,oe=[];for(let B=0,j=M.length;B<j;B++){let D=M[B];for(;A!==L&&D>=x+k[A].length;)x+=k[A].length,A++;A===k.length&&console.error("Could not find a matching mapping");const R={begin:{divIdx:A,offset:D-x}};for(D+=S[B];A!==L&&D>x+k[A].length;)x+=k[A].length,A++;R.end={divIdx:A,offset:D-x},oe.push(R)}return oe}_renderMatches(M){if(0===M.length)return;const{findController:S,pageIdx:k}=this,{textContentItemsStr:A,textDivs:x}=this,L=k===S.selected.pageIdx,oe=S.selected.matchIdx;let j=null;function R(fe,_e){const z=fe.divIdx;return x[z].textContent="",Y(z,0,fe.offset,_e)}function Y(fe,_e,z,ge){let ce=x[fe];if(ce.nodeType===Node.TEXT_NODE){const re=document.createElement("span");ce.parentNode.insertBefore(re,ce),re.appendChild(ce),x[fe]=re,ce=re}const J=A[fe].substring(_e,z),de=document.createTextNode(J);if(ge){const re=document.createElement("span");return re.className=`${ge} appended`,re.appendChild(de),ce.appendChild(re),ge.includes("selected")?re.offsetLeft:0}return ce.appendChild(de),0}let H=oe,q=H+1;if(S.state.highlightAll)H=0,q=M.length;else if(!L)return;for(let fe=H;fe<q;fe++){const _e=M[fe],z=_e.begin,ge=_e.end,ce=L&&fe===oe,J=ce?" selected":"";let de=0;if(j&&z.divIdx===j.divIdx?Y(j.divIdx,j.offset,z.offset):(null!==j&&Y(j.divIdx,j.offset,undefined),R(z)),z.divIdx===ge.divIdx)de=Y(z.divIdx,z.offset,ge.offset,"highlight"+J);else{de=Y(z.divIdx,z.offset,undefined,"highlight begin"+J);for(let re=z.divIdx+1,Ie=ge.divIdx;re<Ie;re++)x[re].className="highlight middle"+J;R(ge,"highlight end"+J)}j=ge,ce&&S.scrollMatchIntoView({element:x[z.divIdx],selectedLeft:de,pageIndex:k,matchIndex:oe})}j&&Y(j.divIdx,j.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:M,matches:S,pageIdx:k}=this,{textContentItemsStr:A,textDivs:x}=this;let L=-1;for(let j=0,D=S.length;j<D;j++){const R=S[j];for(let H=Math.max(L,R.begin.divIdx),q=R.end.divIdx;H<=q;H++){const fe=x[H];fe.textContent=A[H],fe.className=""}L=R.end.divIdx+1}M?.highlightMatches&&(this.matches=this._convertMatches(M.pageMatches[k]||null,M.pageMatchesLength[k]||null),this._renderMatches(this.matches))}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.DownloadManager=void 0;var W=te(3);function M(k,A){const x=document.createElement("a");if(!x.click)throw new Error('DownloadManager: "a.click()" is not supported.');x.href=k,x.target="_parent","download"in x&&(x.download=A),(document.body||document.documentElement).appendChild(x),x.click(),x.remove()}F.DownloadManager=class S{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(A,x){(0,W.createValidAbsoluteUrl)(A,"http://example.com")?M(A+"#pdfjs.action=download",x):console.error(`downloadUrl - not a valid URL: ${A}`)}downloadData(A,x,L){M(URL.createObjectURL(new Blob([A],{type:L})),x)}openOrDownloadData(A,x,L){const oe=(0,W.isPdfFile)(L),B=oe?"application/pdf":"";if(oe){let D,j=this._openBlobUrls.get(A);j||(j=URL.createObjectURL(new Blob([x],{type:B})),this._openBlobUrls.set(A,j)),D="?file="+encodeURIComponent(j+"#"+L);try{return window.open(D),!0}catch(R){console.error(`openOrDownloadData: ${R}`),URL.revokeObjectURL(j),this._openBlobUrls.delete(A)}}return this.downloadData(x,L,B),!1}download(A,x,L,oe="download"){M(URL.createObjectURL(A),L)}}},(ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.WaitOnType=F.EventBus=F.AutomationEventBus=void 0,F.waitOnEventOrTimeout=function W({target:k,name:A,delay:x=0}){return new Promise(function(L,oe){if("object"!=typeof k||!A||"string"!=typeof A||!(Number.isInteger(x)&&x>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function B(Y){k instanceof M?k._off(A,j):k.removeEventListener(A,j),R&&clearTimeout(R),L(Y)}const j=B.bind(null,te.EVENT);k instanceof M?k._on(A,j):k.addEventListener(A,j);const D=B.bind(null,te.TIMEOUT),R=setTimeout(D,x)})};const te={EVENT:"event",TIMEOUT:"timeout"};F.WaitOnType=te;class M{constructor(){this._listeners=Object.create(null)}on(A,x,L=null){this._on(A,x,{external:!0,once:L?.once})}off(A,x,L=null){this._off(A,x,{external:!0,once:L?.once})}dispatch(A,x){const L=this._listeners[A];if(!L||0===L.length)return;let oe;for(const{listener:B,external:j,once:D}of L.slice(0))D&&this._off(A,B),j?(oe||(oe=[])).push(B):B(x);if(oe){for(const B of oe)B(x);oe=null}}_on(A,x,L=null){var B;((B=this._listeners)[A]||(B[A]=[])).push({listener:x,external:!0===L?.external,once:!0===L?.once})}_off(A,x,L=null){const oe=this._listeners[A];if(oe)for(let B=0,j=oe.length;B<j;B++)if(oe[B].listener===x)return void oe.splice(B,1)}}F.EventBus=M,F.AutomationEventBus=class S extends M{dispatch(A,x){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.GenericL10n=void 0,te(19);var W=te(4);const M=document.webL10n;F.GenericL10n=class S{constructor(A){this._lang=A,this._ready=new Promise((x,L)=>{M.setLanguage((0,W.fixupLangCode)(A),()=>{x(M)})})}getLanguage(){var A=this;return l(function*(){return(yield A._ready).getLanguage()})()}getDirection(){var A=this;return l(function*(){return(yield A._ready).getDirection()})()}get(A,x=null,L=(0,W.getL10nFallback)(A,x)){var oe=this;return l(function*(){return(yield oe._ready).get(A,x,L)})()}translate(A){var x=this;return l(function*(){return(yield x._ready).translate(A)})()}}},()=>{document.webL10n=function(ue,F,te){var W={},M="",S="textContent",k="",A={},x="loading";function R(re,Ie,Me){Ie=Ie||function(ye){},Me=Me||function(){};var Ne=new XMLHttpRequest;Ne.open("GET",re,!0),Ne.overrideMimeType&&Ne.overrideMimeType("text/plain; charset=utf-8"),Ne.onreadystatechange=function(){4==Ne.readyState&&(200==Ne.status||0===Ne.status?Ie(Ne.responseText):Me())},Ne.onerror=Me,Ne.ontimeout=Me;try{Ne.send(null)}catch{Me()}}function H(re,Ie){re&&(re=re.toLowerCase()),Ie=Ie||function(){},function q(){W={},M="",k=""}(),k=re;var Me=function oe(){return F.querySelectorAll('link[type="application/l10n"]')}(),Ne=Me.length;if(0!==Ne){var G,I=0;G=function(){++I>=Ne&&(Ie(),x="complete")};for(var X=0;X<Ne;X++)new U(Me[X]).load(re,G)}else{var et=function B(){var re=F.querySelector('script[type="application/l10n"]');return re?JSON.parse(re.innerHTML):null}();if(et&&et.locales&&et.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(W=et.locales[re])){var ye=et.default_locale.toLowerCase();for(var N in et.locales){if((N=N.toLowerCase())===re){W=et.locales[re];break}N===ye&&(W=et.locales[ye])}}Ie()}else console.log("no resource to load, early way out");x="complete"}function U(ae){var be=ae.href;this.load=function(ke,Be){!function Y(re,Ie,Me,Ne){var et=re.replace(/[^\/]*$/,"")||"./";function ye(G){return G.lastIndexOf("\\")<0?G:G.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}R(re,function(G){M+=G,function N(G,I){var U={},X=/^\s*|\s*$/,me=/^\s*#|^\s*$/,ae=/^\s*\[(.*)\]\s*$/,be=/^\s*@import\s+url\((.*)\)\s*$/i,ke=/^([^=\s]*)\s*=\s*(.+)$/;function Be(Ge,Ye,nt){var wt=Ge.replace(X,"").split(/[\r\n]+/),Lt="*",Xe=Ie.split("-",1)[0],je=!1,rt="";!function pe(){for(;;){if(!wt.length)return void nt();var Oe=wt.shift();if(!me.test(Oe)){if(Ye){if(rt=ae.exec(Oe)){Lt=rt[1].toLowerCase(),je="*"!==Lt&&Lt!==Ie&&Lt!==Xe;continue}if(je)continue;if(rt=be.exec(Oe))return void Fe(et+rt[1],pe)}var We=Oe.match(ke);We&&3==We.length&&(U[We[1]]=ye(We[2]))}}}()}function Fe(Ge,Ye){R(Ge,function(nt){Be(nt,!1,Ye)},function(){console.warn(Ge+" not found."),Ye()})}Be(G,!0,function(){I(U)})}(G,function(I){for(var U in I){var X,me,ae=U.lastIndexOf(".");ae>0?(X=U.substring(0,ae),me=U.substring(ae+1)):(X=U,me=S),W[X]||(W[X]={}),W[X][me]=I[U]}Me&&Me()})},Ne)}(be,ke,Be,function(){console.warn(be+" not found."),console.warn('"'+ke+'" resource not found'),k="",Be()})}}}function _e(re,Ie,Me){var Ne=W[re];if(!Ne){if(console.warn("#"+re+" is undefined."),!Me)return null;Ne=Me}var et={};for(var ye in Ne){var N=Ne[ye];N=ge(N=z(N,Ie,re,ye),Ie,re),et[ye]=N}return et}function z(re,Ie,Me,Ne){var ye=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(re);if(!ye||!ye.length)return re;var I,N=ye[1],G=ye[2];return Ie&&G in Ie?I=Ie[G]:G in W&&(I=W[G]),N in A&&(re=(0,A[N])(re,I,Me,Ne)),re}function ge(re,Ie,Me){return re.replace(/\{\{\s*(.+?)\s*\}\}/g,function(et,ye){return Ie&&ye in Ie?Ie[ye]:ye in W?W[ye]:(console.log("argument {{"+ye+"}} for #"+Me+" is undefined."),et)})}function ce(re){var Ie=function D(re){if(!re)return{};var Ie=re.getAttribute("data-l10n-id"),Me=re.getAttribute("data-l10n-args"),Ne={};if(Me)try{Ne=JSON.parse(Me)}catch{console.warn("could not parse arguments for #"+Ie)}return{id:Ie,args:Ne}}(re);if(Ie.id){var Me=_e(Ie.id,Ie.args);if(!Me)return void console.warn("#"+Ie.id+" is undefined.");if(Me[S]){if(0===function J(re){if(re.children)return re.children.length;if(typeof re.childElementCount<"u")return re.childElementCount;for(var Ie=0,Me=0;Me<re.childNodes.length;Me++)Ie+=1===re.nodeType?1:0;return Ie}(re))re[S]=Me[S];else{for(var Ne=re.childNodes,et=!1,ye=0,N=Ne.length;ye<N;ye++)3===Ne[ye].nodeType&&/\S/.test(Ne[ye].nodeValue)&&(et?Ne[ye].nodeValue="":(Ne[ye].nodeValue=Me[S],et=!0));if(!et){var G=F.createTextNode(Me[S]);re.insertBefore(G,re.firstChild)}}delete Me[S]}for(var I in Me)re[I]=Me[I]}}return A.plural=function(re,Ie,Me,Ne){var et=parseFloat(Ie);if(isNaN(et)||Ne!=S)return re;A._pluralRules||(A._pluralRules=function fe(re){function Me(N,G){return-1!==G.indexOf(N)}function Ne(N,G,I){return G<=N&&N<=I}var et={0:function(N){return"other"},1:function(N){return Ne(N%100,3,10)?"few":0===N?"zero":Ne(N%100,11,99)?"many":2==N?"two":1==N?"one":"other"},2:function(N){return 0!==N&&N%10==0?"many":2==N?"two":1==N?"one":"other"},3:function(N){return 1==N?"one":"other"},4:function(N){return Ne(N,0,1)?"one":"other"},5:function(N){return Ne(N,0,2)&&2!=N?"one":"other"},6:function(N){return 0===N?"zero":N%10==1&&N%100!=11?"one":"other"},7:function(N){return 2==N?"two":1==N?"one":"other"},8:function(N){return Ne(N,3,6)?"few":Ne(N,7,10)?"many":2==N?"two":1==N?"one":"other"},9:function(N){return 0===N||1!=N&&Ne(N%100,1,19)?"few":1==N?"one":"other"},10:function(N){return Ne(N%10,2,9)&&!Ne(N%100,11,19)?"few":N%10!=1||Ne(N%100,11,19)?"other":"one"},11:function(N){return Ne(N%10,2,4)&&!Ne(N%100,12,14)?"few":N%10==0||Ne(N%10,5,9)||Ne(N%100,11,14)?"many":N%10==1&&N%100!=11?"one":"other"},12:function(N){return Ne(N,2,4)?"few":1==N?"one":"other"},13:function(N){return Ne(N%10,2,4)&&!Ne(N%100,12,14)?"few":1!=N&&Ne(N%10,0,1)||Ne(N%10,5,9)||Ne(N%100,12,14)?"many":1==N?"one":"other"},14:function(N){return Ne(N%100,3,4)?"few":N%100==2?"two":N%100==1?"one":"other"},15:function(N){return 0===N||Ne(N%100,2,10)?"few":Ne(N%100,11,19)?"many":1==N?"one":"other"},16:function(N){return N%10==1&&11!=N?"one":"other"},17:function(N){return 3==N?"few":0===N?"zero":6==N?"many":2==N?"two":1==N?"one":"other"},18:function(N){return 0===N?"zero":Ne(N,0,2)&&0!==N&&2!=N?"one":"other"},19:function(N){return Ne(N,2,10)?"few":Ne(N,0,1)?"one":"other"},20:function(N){return!Ne(N%10,3,4)&&N%10!=9||Ne(N%100,10,19)||Ne(N%100,70,79)||Ne(N%100,90,99)?N%1e6==0&&0!==N?"many":N%10!=2||Me(N%100,[12,72,92])?N%10!=1||Me(N%100,[11,71,91])?"other":"one":"two":"few"},21:function(N){return 0===N?"zero":1==N?"one":"other"},22:function(N){return Ne(N,0,1)||Ne(N,11,99)?"one":"other"},23:function(N){return Ne(N%10,1,2)||N%20==0?"one":"other"},24:function(N){return Ne(N,3,10)||Ne(N,13,19)?"few":Me(N,[2,12])?"two":Me(N,[1,11])?"one":"other"}},ye={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[re.replace(/-.*$/,"")];return ye in et?et[ye]:(console.warn("plural form unknown for ["+re+"]"),function(){return"other"})}(k));var ye="["+A._pluralRules(et)+"]";return 0===et&&Me+"[zero]"in W?re=W[Me+"[zero]"][Ne]:1==et&&Me+"[one]"in W?re=W[Me+"[one]"][Ne]:2==et&&Me+"[two]"in W?re=W[Me+"[two]"][Ne]:Me+ye in W?re=W[Me+ye][Ne]:Me+"[other]"in W&&(re=W[Me+"[other]"][Ne]),re},{get:function(re,Ie,Me){var ye,Ne=re.lastIndexOf("."),et=S;Ne>0&&(et=re.substring(Ne+1),re=re.substring(0,Ne)),Me&&((ye={})[et]=Me);var N=_e(re,Ie,ye);return N&&et in N?N[et]:"{{"+re+"}}"},getData:function(){return W},getText:function(){return M},getLanguage:function(){return k},setLanguage:function(re,Ie){H(re,function(){Ie&&Ie()})},getDirection:function(){var Ie=k.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(Ie)>=0?"rtl":"ltr"},translate:function de(re){for(var Ie=function j(re){return re?re.querySelectorAll("*[data-l10n-id]"):[]}(re=re||F.documentElement),Me=Ie.length,Ne=0;Ne<Me;Ne++)ce(Ie[Ne]);ce(re)},getReadyState:function(){return x},ready:function(re){re&&("complete"==x||"interactive"==x?ue.setTimeout(function(){re()}):F.addEventListener&&F.addEventListener("localized",function Ie(){F.removeEventListener("localized",Ie),re()}))}}}(window,document)},(ue,F,te)=>{var ge,vj,J,bR,re,wR,Me,yj,et,bj,N,wj,I,CR,X,Cj,ae,Ej,ke,FT,Fe,AC,Ye,Kv,wt,Sj,Xe,ER,rt,SR,Oe,LT,It,Aj,_t,AR,ft,Tj,Zt,TC;Object.defineProperty(F,"__esModule",{value:!0}),F.PDFFindController=F.FindState=void 0;var W=te(6),M=te(3),S=te(21);const k={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};F.FindState=k;const oe={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},B=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),j=[...B.values()].map(Ke=>String.fromCharCode(Ke)).join(""),D=/\p{M}+/gu,R=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,Y=/([^\p{M}])\p{M}*$/u,H=/^\p{M}*([^\p{M}])/u;let q=null;function fe(Ke){if(!q){const pt=Object.keys(oe).join("");q=new RegExp(`([${pt}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Te=[];let Ce;for(;null!==(Ce=D.exec(Ke));)Te.push([Ce[0].length,Ce.index]);let ut=Ke.normalize("NFD");const ct=[[0,0]];let At=0,bt=0,on=0,gn=0,Bt=!1;return ut=ut.replace(q,(pt,Ht,qt,sn,en,Le)=>{if(Le-=on,Ht){const Re=oe[pt],Ue=Re.length;for(let mt=1;mt<Ue;mt++)ct.push([Le-bt+mt,bt-mt]);return bt-=Ue-1,Re}if(qt){const Re=qt.endsWith("\n"),Ue=Re?qt.length-2:qt.length;Bt=!0;let mt=Ue;Le+gn===Te[At]?.[1]&&(mt-=Te[At][0],++At);for(let qe=1;qe<mt+1;qe++)ct.push([Le-1-bt+qe,bt-qe]);return bt-=mt,on+=mt,Re?(ct.push([(Le+=Ue-1)-bt+1,1+bt]),bt+=1,on+=1,gn+=1,qt.slice(0,Ue)):qt}return sn?(ct.push([Le-bt+1,1+bt]),bt+=1,on+=1,gn+=1,sn.charAt(0)):(ct.push([Le-bt+1,bt-1]),bt-=1,on+=1,gn+=1," ")}),ct.push([ut.length,bt]),[ut,ct,Bt]}function _e(Ke,Te,Ce){if(!Ke)return[Te,Ce];const ut=Te,ct=Te+Ce;let At=(0,W.binarySearchFirstItem)(Ke,on=>on[0]>=ut);Ke[At][0]>ut&&--At;let bt=(0,W.binarySearchFirstItem)(Ke,on=>on[0]>=ct,At);return Ke[bt][0]>ct&&--bt,[ut+Ke[At][1],Ce+Ke[bt][1]-Ke[At][1]]}ge=new WeakSet,vj=function(Te){if(!Te)return;const Ce=this._pdfDocument,{type:ut}=Te;(null===this._state||rn(this,Me,yj).call(this,Te))&&(this._dirtyMatch=!0),this._state=Te,"highlightallchange"!==ut&&rn(this,Zt,TC).call(this,k.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ce&&this._pdfDocument!==Ce)return;rn(this,ae,Ej).call(this);const ct=!this._highlightMatches,At=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),ut?this._dirtyMatch?rn(this,Ye,Kv).call(this):"again"===ut?(rn(this,Ye,Kv).call(this),ct&&this._state.highlightAll&&rn(this,Fe,AC).call(this)):"highlightallchange"===ut?(At?rn(this,Ye,Kv).call(this):this._highlightMatches=!0,rn(this,Fe,AC).call(this)):rn(this,Ye,Kv).call(this):this._findTimeout=setTimeout(()=>{rn(this,Ye,Kv).call(this),this._findTimeout=null},250)})},J=new WeakSet,bR=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,M.createPromiseCapability)()},re=new WeakSet,wR=function(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=fe(this._state.query)),this._normalizedQuery},Me=new WeakSet,yj=function(Te){if(Te.query!==this._state.query)return!0;switch(Te.type){case"again":const Ce=this._selected.pageIdx+1,ut=this._linkService;return Ce>=1&&Ce<=ut.pagesCount&&Ce!==ut.page&&!ut.isPageVisible(Ce);case"highlightallchange":return!1}return!0},et=new WeakSet,bj=function(Te,Ce,ut){let ct=Te.slice(0,Ce).match(Y);if(ct){const At=Te.charCodeAt(Ce),bt=ct[1].charCodeAt(0);if((0,S.getCharacterType)(At)===(0,S.getCharacterType)(bt))return!1}if(ct=Te.slice(Ce+ut).match(H),ct){const At=Te.charCodeAt(Ce+ut-1),bt=ct[1].charCodeAt(0);if((0,S.getCharacterType)(At)===(0,S.getCharacterType)(bt))return!1}return!0},N=new WeakSet,wj=function(Te,Ce,ut,ct){const At=[],bt=[],on=this._pageDiffs[ut];let gn;for(;null!==(gn=Te.exec(ct));){if(Ce&&!rn(this,et,bj).call(this,ct,gn.index,gn[0].length))continue;const[Bt,pt]=_e(on,gn.index,gn[0].length);pt&&(At.push(Bt),bt.push(pt))}this._pageMatches[ut]=At,this._pageMatchesLength[ut]=bt},I=new WeakSet,CR=function(Te,Ce){const{matchDiacritics:ut}=this._state;let ct=!1;return(Te=Te.replace(R,(bt,on,gn,Bt,pt,Ht)=>on?`[ ]*\\${on}[ ]*`:gn?`[ ]*${gn}[ ]*`:Bt?"[ ]+":ut?pt||Ht:pt?B.has(pt.charCodeAt(0))?pt:"":Ce?(ct=!0,`${Ht}\\p{M}*`):Ht)).endsWith("[ ]*")&&(Te=Te.slice(0,Te.length-"[ ]*".length)),ut&&Ce&&(ct=!0,Te=`${Te}(?=[${j}]|[^\\p{M}]|$)`),[ct,Te]},X=new WeakSet,Cj=function(Te){let Ce=Xt(this,re,wR);if(0===Ce.length)return;const{caseSensitive:ut,entireWord:ct,phraseSearch:At}=this._state,bt=this._pageContents[Te],on=this._hasDiacritics[Te];let gn=!1;if(At)[gn,Ce]=rn(this,I,CR).call(this,Ce,on);else{const Ht=Ce.match(/\S+/g);Ht&&(Ce=Ht.sort().reverse().map(qt=>{const[sn,en]=rn(this,I,CR).call(this,qt,on);return gn||(gn=sn),`(${en})`}).join("|"))}Ce=new RegExp(Ce,`g${gn?"u":""}${ut?"":"i"}`),rn(this,N,wj).call(this,Ce,ct,Te,bt),this._state.highlightAll&&rn(this,ke,FT).call(this,Te),this._resumePageIdx===Te&&(this._resumePageIdx=null,rn(this,Xe,ER).call(this));const pt=this._pageMatches[Te].length;pt>0&&(this._matchesCountTotal+=pt,rn(this,ft,Tj).call(this))},ae=new WeakSet,Ej=function(){if(this._extractTextPromises.length>0)return;let Te=Promise.resolve();for(let Ce=0,ut=this._linkService.pagesCount;Ce<ut;Ce++){const ct=(0,M.createPromiseCapability)();this._extractTextPromises[Ce]=ct.promise,Te=Te.then(()=>this._pdfDocument.getPage(Ce+1).then(At=>At.getTextContent()).then(At=>{const bt=[];for(const on of At.items)bt.push(on.str),on.hasEOL&&bt.push("\n");[this._pageContents[Ce],this._pageDiffs[Ce],this._hasDiacritics[Ce]]=fe(bt.join("")),ct.resolve()},At=>{console.error(`Unable to get text content for page ${Ce+1}`,At),this._pageContents[Ce]="",this._pageDiffs[Ce]=null,this._hasDiacritics[Ce]=!1,ct.resolve()}))}},ke=new WeakSet,FT=function(Te){this._scrollMatches&&this._selected.pageIdx===Te&&(this._linkService.page=Te+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Te})},Fe=new WeakSet,AC=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Ye=new WeakSet,Kv=function(){const Te=this._state.findPrevious,Ce=this._linkService.page-1,ut=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ce,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,rn(this,Fe,AC).call(this);for(let At=0;At<ut;At++)this._pendingFindMatches.has(At)||(this._pendingFindMatches.add(At),this._extractTextPromises[At].then(()=>{this._pendingFindMatches.delete(At),rn(this,X,Cj).call(this,At)}))}if(""===Xt(this,re,wR))return void rn(this,Zt,TC).call(this,k.FOUND);if(this._resumePageIdx)return;const ct=this._offset;if(this._pagesToSearch=ut,null!==ct.matchIdx){const At=this._pageMatches[ct.pageIdx].length;if(!Te&&ct.matchIdx+1<At||Te&&ct.matchIdx>0)return ct.matchIdx=Te?ct.matchIdx-1:ct.matchIdx+1,void rn(this,Oe,LT).call(this,!0);rn(this,rt,SR).call(this,Te)}rn(this,Xe,ER).call(this)},wt=new WeakSet,Sj=function(Te){const Ce=this._offset,ut=Te.length,ct=this._state.findPrevious;return ut?(Ce.matchIdx=ct?ut-1:0,rn(this,Oe,LT).call(this,!0),!0):(rn(this,rt,SR).call(this,ct),!!(Ce.wrapped&&(Ce.matchIdx=null,this._pagesToSearch<0))&&(rn(this,Oe,LT).call(this,!1),!0))},Xe=new WeakSet,ER=function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Te=null;do{const Ce=this._offset.pageIdx;if(Te=this._pageMatches[Ce],!Te){this._resumePageIdx=Ce;break}}while(!rn(this,wt,Sj).call(this,Te))},rt=new WeakSet,SR=function(Te){const Ce=this._offset,ut=this._linkService.pagesCount;Ce.pageIdx=Te?Ce.pageIdx-1:Ce.pageIdx+1,Ce.matchIdx=null,this._pagesToSearch--,(Ce.pageIdx>=ut||Ce.pageIdx<0)&&(Ce.pageIdx=Te?ut-1:0,Ce.wrapped=!0)},Oe=new WeakSet,LT=function(Te=!1){let Ce=k.NOT_FOUND;const ut=this._offset.wrapped;if(this._offset.wrapped=!1,Te){const ct=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ce=ut?k.WRAPPED:k.FOUND,-1!==ct&&ct!==this._selected.pageIdx&&rn(this,ke,FT).call(this,ct)}rn(this,Zt,TC).call(this,Ce,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,rn(this,ke,FT).call(this,this._selected.pageIdx))},It=new WeakSet,Aj=function(Te){const Ce=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ce&&this._pdfDocument!==Ce||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),rn(this,Zt,TC).call(this,k.FOUND),this._highlightMatches=!1,rn(this,Fe,AC).call(this))})},_t=new WeakSet,AR=function(){const{pageIdx:Te,matchIdx:Ce}=this._selected;let ut=0,ct=this._matchesCountTotal;if(-1!==Ce){for(let At=0;At<Te;At++)ut+=this._pageMatches[At]?.length||0;ut+=Ce+1}return(ut<1||ut>ct)&&(ut=ct=0),{current:ut,total:ct}},ft=new WeakSet,Tj=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:rn(this,_t,AR).call(this)})},Zt=new WeakSet,TC=function(Te,Ce=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Te,previous:Ce,matchesCount:rn(this,_t,AR).call(this),rawQuery:this._state?.query??null})},F.PDFFindController=class z{constructor({linkService:Te,eventBus:Ce}){fn(this,ge),fn(this,J),fn(this,re),fn(this,Me),fn(this,et),fn(this,N),fn(this,I),fn(this,X),fn(this,ae),fn(this,ke),fn(this,Fe),fn(this,Ye),fn(this,wt),fn(this,Xe),fn(this,rt),fn(this,Oe),fn(this,It),fn(this,_t),fn(this,ft),fn(this,Zt),this._linkService=Te,this._eventBus=Ce,rn(this,J,bR).call(this),Ce._on("find",rn(this,ge,vj).bind(this)),Ce._on("findbarclose",rn(this,It,Aj).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Te){this._pdfDocument&&rn(this,J,bR).call(this),Te&&(this._pdfDocument=Te,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Te=null,selectedLeft:Ce=0,pageIndex:ut=-1,matchIndex:ct=-1}){this._scrollMatches&&Te&&-1!==ct&&ct===this._selected.matchIdx&&-1!==ut&&ut===this._selected.pageIdx&&(this._scrollMatches=!1,(0,W.scrollIntoView)(Te,{top:-50,left:Ce+-400},!0))}}},(ue,F)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.CharacterType=void 0,F.getCharacterType=function D(R){return function W(R){return R<11904}(R)?function M(R){return 0==(65408&R)}(R)?function A(R){return 32===R||9===R||13===R||10===R}(R)?te.SPACE:function S(R){return R>=97&&R<=122||R>=65&&R<=90}(R)||function k(R){return R>=48&&R<=57}(R)||95===R?te.ALPHA_LETTER:te.PUNCT:function j(R){return 3584==(65408&R)}(R)?te.THAI_LETTER:160===R?te.SPACE:te.ALPHA_LETTER:function x(R){return R>=13312&&R<=40959||R>=63744&&R<=64255}(R)?te.HAN_LETTER:function L(R){return R>=12448&&R<=12543}(R)?te.KATAKANA_LETTER:function oe(R){return R>=12352&&R<=12447}(R)?te.HIRAGANA_LETTER:function B(R){return R>=65376&&R<=65439}(R)?te.HALFWIDTH_KATAKANA_LETTER:te.ALPHA_LETTER};const te={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};F.CharacterType=te},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFHistory=void 0,F.isDestArraysEqual=B,F.isDestHashesEqual=oe;var W=te(6),M=te(17);function x(){return document.location.hash}function oe(j,D){return"string"==typeof j&&"string"==typeof D&&(j===D||(0,W.parseQueryString)(j).get("nameddest")===D)}function B(j,D){function R(Y,H){if(typeof Y!=typeof H||Array.isArray(Y)||Array.isArray(H))return!1;if(null!==Y&&"object"==typeof Y&&null!==H){if(Object.keys(Y).length!==Object.keys(H).length)return!1;for(const q in Y)if(!R(Y[q],H[q]))return!1;return!0}return Y===H||Number.isNaN(Y)&&Number.isNaN(H)}if(!Array.isArray(j)||!Array.isArray(D)||j.length!==D.length)return!1;for(let Y=0,H=j.length;Y<H;Y++)if(!R(j[Y],D[Y]))return!1;return!0}F.PDFHistory=class L{constructor({linkService:D,eventBus:R}){this.linkService=D,this.eventBus=R,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",Y=>{this._isPagesLoaded=!!Y.pagesCount},{once:!0})})}initialize({fingerprint:D,resetHistory:R=!1,updateUrl:Y=!1}){if(!D||"string"!=typeof D)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const H=""!==this._fingerprint&&this._fingerprint!==D;this._fingerprint=D,this._updateUrl=!0===Y,this._initialized=!0,this._bindEvents();const q=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=x(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(q,!0)||R){const{hash:_e,page:z,rotation:ge}=this._parseCurrentHash(!0);return!_e||H||R?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:_e,page:z,rotation:ge},!0)}const fe=q.destination;this._updateInternalState(fe,q.uid,!0),void 0!==fe.rotation&&(this._initialRotation=fe.rotation),fe.dest?(this._initialBookmark=JSON.stringify(fe.dest),this._destination.page=null):fe.hash?this._initialBookmark=fe.hash:fe.page&&(this._initialBookmark=`page=${fe.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:D=null,explicitDest:R,pageNumber:Y}){if(!this._initialized)return;if(D&&"string"!=typeof D)return void console.error(`PDFHistory.push: "${D}" is not a valid namedDest parameter.`);if(!Array.isArray(R))return void console.error(`PDFHistory.push: "${R}" is not a valid explicitDest parameter.`);if(!this._isValidPage(Y)&&(null!==Y||this._destination))return void console.error(`PDFHistory.push: "${Y}" is not a valid pageNumber parameter.`);const H=D||JSON.stringify(R);if(!H)return;let q=!1;if(this._destination&&(oe(this._destination.hash,H)||B(this._destination.dest,R))){if(this._destination.page)return;q=!0}this._popStateInProgress&&!q||(this._pushOrReplaceState({dest:R,hash:H,page:Y,rotation:this.linkService.rotation},q),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(D){if(this._initialized){if(!this._isValidPage(D))return void console.error(`PDFHistory.pushPage: "${D}" is not a valid page number.`);this._destination?.page!==D&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${D}`,page:D,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const D=window.history.state;this._isValidState(D)&&D.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const D=window.history.state;this._isValidState(D)&&D.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(D,R=!1){const Y=R||!this._destination,H={fingerprint:this._fingerprint,uid:Y?this._uid:this._uid+1,destination:D};let q;if(this._updateInternalState(D,H.uid),this._updateUrl&&D?.hash){const fe=document.location.href.split("#")[0];fe.startsWith("file://")||(q=`${fe}#${D.hash}`)}Y?window.history.replaceState(H,"",q):window.history.pushState(H,"",q)}_tryPushCurrentPosition(D=!1){if(!this._position)return;let R=this._position;if(D&&(R=Object.assign(Object.create(null),this._position),R.temporary=!0),!this._destination)return void this._pushOrReplaceState(R);if(this._destination.temporary)return void this._pushOrReplaceState(R,!0);if(this._destination.hash===R.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let Y=!1;if(this._destination.page>=R.first&&this._destination.page<=R.page){if(void 0!==this._destination.dest||!this._destination.first)return;Y=!0}this._pushOrReplaceState(R,Y)}_isValidPage(D){return Number.isInteger(D)&&D>0&&D<=this.linkService.pagesCount}_isValidState(D,R=!1){if(!D)return!1;if(D.fingerprint!==this._fingerprint){if(!R)return!1;{if("string"!=typeof D.fingerprint||D.fingerprint.length!==this._fingerprint.length)return!1;const[Y]=performance.getEntriesByType("navigation");if("reload"!==Y?.type)return!1}}return!(!Number.isInteger(D.uid)||D.uid<0||null===D.destination||"object"!=typeof D.destination)}_updateInternalState(D,R,Y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),Y&&D?.temporary&&delete D.temporary,this._destination=D,this._uid=R,this._maxUid=Math.max(this._maxUid,R),this._numPositionUpdates=0}_parseCurrentHash(D=!1){const R=unescape(x()).substring(1),Y=(0,W.parseQueryString)(R),H=Y.get("nameddest")||"";let q=0|Y.get("page");return(!this._isValidPage(q)||D&&H.length>0)&&(q=null),{hash:R,page:q,rotation:this.linkService.rotation}}_updateViewarea({location:D}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:D.pdfOpenParams.substring(1),page:this.linkService.page,first:D.pageNumber,rotation:D.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:D}){const R=x(),Y=this._currentHash!==R;if(this._currentHash=R,!D){this._uid++;const{hash:q,page:fe,rotation:_e}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:q,page:fe,rotation:_e},!0)}if(!this._isValidState(D))return;this._popStateInProgress=!0,Y&&(this._blockHashChange++,(0,M.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const H=D.destination;this._updateInternalState(H,D.uid,!0),(0,W.isValidRotation)(H.rotation)&&(this.linkService.rotation=H.rotation),H.dest?this.linkService.goToDestination(H.dest):H.hash?this.linkService.setHash(H.hash):H.page&&(this.linkService.page=H.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.PDFScriptingManager=void 0;var W=te(6),M=te(3);F.PDFScriptingManager=class S{constructor({eventBus:A,sandboxBundleSrc:x=null,scriptingFactory:L=null,docPropertiesLookup:oe=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=A,this._sandboxBundleSrc=x,this._scriptingFactory=L,this._docPropertiesLookup=oe,this._scriptingFactory||window.addEventListener("updatefromsandbox",B=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:B.detail})})}setViewer(A){this._pdfViewer=A}setDocument(A){var x=this;return l(function*(){if(x._pdfDocument&&(yield x._destroyScripting()),x._pdfDocument=A,!A)return;const[L,oe,B]=yield Promise.all([A.getFieldObjects(),A.getCalculationOrderIds(),A.getJSActions()]);if(L||B){if(A===x._pdfDocument){try{x._scripting=x._createScripting()}catch(j){return console.error(`PDFScriptingManager.setDocument: "${j?.message}".`),void(yield x._destroyScripting())}x._internalEvents.set("updatefromsandbox",j=>{j?.source===window&&x._updateFromSandbox(j.detail)}),x._internalEvents.set("dispatcheventinsandbox",j=>{x._scripting?.dispatchEventInSandbox(j.detail)}),x._internalEvents.set("pagechanging",({pageNumber:j,previous:D})=>{j!==D&&(x._dispatchPageClose(D),x._dispatchPageOpen(j))}),x._internalEvents.set("pagerendered",({pageNumber:j})=>{!x._pageOpenPending.has(j)||j===x._pdfViewer.currentPageNumber&&x._dispatchPageOpen(j)}),x._internalEvents.set("pagesdestroy",function(){var j=l(function*(D){yield x._dispatchPageClose(x._pdfViewer.currentPageNumber),yield x._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),x._closeCapability?.resolve()});return function(D){return j.apply(this,arguments)}}()),x._domEvents.set("mousedown",j=>{x._mouseState.isDown=!0}),x._domEvents.set("mouseup",j=>{x._mouseState.isDown=!1});for(const[j,D]of x._internalEvents)x._eventBus._on(j,D);for(const[j,D]of x._domEvents)window.addEventListener(j,D,!0);try{const j=yield x._getDocProperties();if(A!==x._pdfDocument)return;yield x._scripting.createSandbox({objects:L,calculationOrder:oe,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...j,actions:B}}),x._eventBus.dispatch("sandboxcreated",{source:x})}catch(j){return console.error(`PDFScriptingManager.setDocument: "${j?.message}".`),void(yield x._destroyScripting())}yield x._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield x._dispatchPageOpen(x._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{A===x._pdfDocument&&(x._ready=!0)})}}else yield x._destroyScripting()})()}dispatchWillSave(A){var x=this;return l(function*(){return x._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(A){var x=this;return l(function*(){return x._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(A){var x=this;return l(function*(){return x._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(A){var x=this;return l(function*(){return x._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,M.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,M.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,M.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,M.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(A){var x=this;return l(function*(){const L=x._pdfViewer.isInPresentationMode||x._pdfViewer.isChangingPresentationMode,{id:oe,siblings:B,command:j,value:D}=A;if(!oe){switch(j){case"clear":console.clear();break;case"error":console.error(D);break;case"layout":if(L)return;const Y=(0,W.apiPageLayoutToViewerModes)(D);x._pdfViewer.spreadMode=Y.spreadMode;break;case"page-num":x._pdfViewer.currentPageNumber=D+1;break;case"print":yield x._pdfViewer.pagesPromise,x._eventBus.dispatch("print",{source:x});break;case"println":console.log(D);break;case"zoom":if(L)return;x._pdfViewer.currentScaleValue=D;break;case"SaveAs":x._eventBus.dispatch("save",{source:x});break;case"FirstPage":x._pdfViewer.currentPageNumber=1;break;case"LastPage":x._pdfViewer.currentPageNumber=x._pdfViewer.pagesCount;break;case"NextPage":x._pdfViewer.nextPage();break;case"PrevPage":x._pdfViewer.previousPage();break;case"ZoomViewIn":if(L)return;x._pdfViewer.increaseScale();break;case"ZoomViewOut":if(L)return;x._pdfViewer.decreaseScale()}return}if(L&&A.focus)return;delete A.id,delete A.siblings;const R=B?[oe,...B]:[oe];for(const Y of R){const H=document.getElementById(Y);H?H.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:A})):x._pdfDocument?.annotationStorage.setValue(Y,A)}})()}_dispatchPageOpen(A,x=!1){var L=this;return l(function*(){const oe=L._pdfDocument,B=L._visitedPages;if(x&&(L._closeCapability=(0,M.createPromiseCapability)()),!L._closeCapability)return;const j=L._pdfViewer.getPageView(A-1);if(j?.renderingState!==W.RenderingStates.FINISHED)return void L._pageOpenPending.add(A);L._pageOpenPending.delete(A);const D=l(function*(){const R=yield B.has(A)?null:j.pdfPage?.getJSActions();oe===L._pdfDocument&&(yield L._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:A,actions:R}))})();B.set(A,D)})()}_dispatchPageClose(A){var x=this;return l(function*(){const L=x._pdfDocument,oe=x._visitedPages;if(!x._closeCapability||x._pageOpenPending.has(A))return;const B=oe.get(A);!B||(oe.set(A,null),yield B,L===x._pdfDocument&&(yield x._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:A})))})()}_getDocProperties(){var A=this;return l(function*(){if(A._docPropertiesLookup)return A._docPropertiesLookup(A._pdfDocument);const{docPropertiesLookup:x}=te(24);return x(A._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,M.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:A}=te(24);return new A(this._sandboxBundleSrc)}_destroyScripting(){var A=this;return l(function*(){if(!A._scripting)return A._pdfDocument=null,void A._destroyCapability?.resolve();A._closeCapability&&(yield Promise.race([A._closeCapability.promise,new Promise(x=>{setTimeout(x,1e3)})]).catch(x=>{}),A._closeCapability=null),A._pdfDocument=null;try{yield A._scripting.destroySandbox()}catch{}for(const[x,L]of A._internalEvents)A._eventBus._off(x,L);A._internalEvents.clear();for(const[x,L]of A._domEvents)window.removeEventListener(x,L,!0);A._domEvents.clear(),A._pageOpenPending.clear(),A._visitedPages.clear(),A._scripting=null,delete A._mouseState.isDown,A._ready=!1,A._destroyCapability?.resolve()})()}}},(ue,F,te)=>{Object.defineProperty(F,"__esModule",{value:!0}),F.GenericScripting=void 0,F.docPropertiesLookup=function M(A){return S.apply(this,arguments)};var W=te(3);function S(){return(S=l(function*(A){const L="".split("#")[0];let{info:oe,metadata:B,contentDispositionFilename:j,contentLength:D}=yield A.getMetadata();if(!D){const{length:R}=yield A.getDownloadInfo();D=R}return{...oe,baseURL:L,filesize:D,filename:j||(0,W.getPdfFilenameFromUrl)(""),metadata:B?.getRaw(),authors:B?.get("dc:creator"),numPages:A.numPages,URL:""}})).apply(this,arguments)}F.GenericScripting=class k{constructor(x){this._ready=(0,W.loadScript)(x,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(x){var L=this;return l(function*(){(yield L._ready).create(x)})()}dispatchEventInSandbox(x){var L=this;return l(function*(){const oe=yield L._ready;setTimeout(()=>oe.dispatchEvent(x),0)})()}destroySandbox(){var x=this;return l(function*(){(yield x._ready).nukeSandbox()})()}}}],le={};function Ee(ue){var F=le[ue];if(void 0!==F)return F.exports;var te=le[ue]={exports:{}};return xe[ue](te,te.exports,Ee),te.exports}var Ae={};return(()=>{var ue=Ae;Object.defineProperty(ue,"__esModule",{value:!0}),Object.defineProperty(ue,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return S.AnnotationLayerBuilder}}),Object.defineProperty(ue,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return F.DefaultAnnotationLayerFactory}}),Object.defineProperty(ue,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return F.DefaultStructTreeLayerFactory}}),Object.defineProperty(ue,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return F.DefaultTextLayerFactory}}),Object.defineProperty(ue,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return F.DefaultXfaLayerFactory}}),Object.defineProperty(ue,"DownloadManager",{enumerable:!0,get:function(){return k.DownloadManager}}),Object.defineProperty(ue,"EventBus",{enumerable:!0,get:function(){return A.EventBus}}),Object.defineProperty(ue,"GenericL10n",{enumerable:!0,get:function(){return x.GenericL10n}}),Object.defineProperty(ue,"LinkTarget",{enumerable:!0,get:function(){return te.LinkTarget}}),Object.defineProperty(ue,"NullL10n",{enumerable:!0,get:function(){return L.NullL10n}}),Object.defineProperty(ue,"PDFFindController",{enumerable:!0,get:function(){return oe.PDFFindController}}),Object.defineProperty(ue,"PDFHistory",{enumerable:!0,get:function(){return B.PDFHistory}}),Object.defineProperty(ue,"PDFLinkService",{enumerable:!0,get:function(){return te.PDFLinkService}}),Object.defineProperty(ue,"PDFPageView",{enumerable:!0,get:function(){return j.PDFPageView}}),Object.defineProperty(ue,"PDFScriptingManager",{enumerable:!0,get:function(){return D.PDFScriptingManager}}),Object.defineProperty(ue,"PDFSinglePageViewer",{enumerable:!0,get:function(){return M.PDFSinglePageViewer}}),Object.defineProperty(ue,"PDFViewer",{enumerable:!0,get:function(){return M.PDFViewer}}),Object.defineProperty(ue,"ProgressBar",{enumerable:!0,get:function(){return W.ProgressBar}}),Object.defineProperty(ue,"SimpleLinkService",{enumerable:!0,get:function(){return te.SimpleLinkService}}),Object.defineProperty(ue,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return R.StructTreeLayerBuilder}}),Object.defineProperty(ue,"TextLayerBuilder",{enumerable:!0,get:function(){return Y.TextLayerBuilder}}),Object.defineProperty(ue,"XfaLayerBuilder",{enumerable:!0,get:function(){return H.XfaLayerBuilder}}),Object.defineProperty(ue,"parseQueryString",{enumerable:!0,get:function(){return W.parseQueryString}});var F=Ee(1),te=Ee(5),W=Ee(6),M=Ee(10),S=Ee(2),k=Ee(16),A=Ee(17),x=Ee(18),L=Ee(4),oe=Ee(20),B=Ee(22),j=Ee(12),D=Ee(23),R=Ee(7),Y=Ee(8),H=Ee(9)})(),Ae})(),tt.exports=Ee()},9751:(tt,se,ie)=>{"use strict";ie.d(se,{y:()=>te});var l=ie(930),xe=ie(727),le=ie(8822),Ee=ie(9635),Ae=ie(2416),ue=ie(576),F=ie(2806);let te=(()=>{class k{constructor(x){x&&(this._subscribe=x)}lift(x){const L=new k;return L.source=this,L.operator=x,L}subscribe(x,L,oe){const B=function S(k){return k&&k instanceof l.Lv||function M(k){return k&&(0,ue.m)(k.next)&&(0,ue.m)(k.error)&&(0,ue.m)(k.complete)}(k)&&(0,xe.Nn)(k)}(x)?x:new l.Hp(x,L,oe);return(0,F.x)(()=>{const{operator:j,source:D}=this;B.add(j?j.call(B,D):D?this._subscribe(B):this._trySubscribe(B))}),B}_trySubscribe(x){try{return this._subscribe(x)}catch(L){x.error(L)}}forEach(x,L){return new(L=W(L))((oe,B)=>{const j=new l.Hp({next:D=>{try{x(D)}catch(R){B(R),j.unsubscribe()}},error:B,complete:oe});this.subscribe(j)})}_subscribe(x){var L;return null===(L=this.source)||void 0===L?void 0:L.subscribe(x)}[le.L](){return this}pipe(...x){return(0,Ee.U)(x)(this)}toPromise(x){return new(x=W(x))((L,oe)=>{let B;this.subscribe(j=>B=j,j=>oe(j),()=>L(B))})}}return k.create=A=>new k(A),k})();function W(k){var A;return null!==(A=k??Ae.v.Promise)&&void 0!==A?A:Promise}},7579:(tt,se,ie)=>{"use strict";ie.d(se,{x:()=>F});var l=ie(9751),xe=ie(727);const Ee=(0,ie(3888).d)(W=>function(){W(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=ie(8737),ue=ie(2806);let F=(()=>{class W extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(S){const k=new te(this,this);return k.operator=S,k}_throwIfClosed(){if(this.closed)throw new Ee}next(S){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const k of this.currentObservers)k.next(S)}})}error(S){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=S;const{observers:k}=this;for(;k.length;)k.shift().error(S)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:S}=this;for(;S.length;)S.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var S;return(null===(S=this.observers)||void 0===S?void 0:S.length)>0}_trySubscribe(S){return this._throwIfClosed(),super._trySubscribe(S)}_subscribe(S){return this._throwIfClosed(),this._checkFinalizedStatuses(S),this._innerSubscribe(S)}_innerSubscribe(S){const{hasError:k,isStopped:A,observers:x}=this;return k||A?xe.Lc:(this.currentObservers=null,x.push(S),new xe.w0(()=>{this.currentObservers=null,(0,Ae.P)(x,S)}))}_checkFinalizedStatuses(S){const{hasError:k,thrownError:A,isStopped:x}=this;k?S.error(A):x&&S.complete()}asObservable(){const S=new l.y;return S.source=this,S}}return W.create=(M,S)=>new te(M,S),W})();class te extends F{constructor(M,S){super(),this.destination=M,this.source=S}next(M){var S,k;null===(k=null===(S=this.destination)||void 0===S?void 0:S.next)||void 0===k||k.call(S,M)}error(M){var S,k;null===(k=null===(S=this.destination)||void 0===S?void 0:S.error)||void 0===k||k.call(S,M)}complete(){var M,S;null===(S=null===(M=this.destination)||void 0===M?void 0:M.complete)||void 0===S||S.call(M)}_subscribe(M){var S,k;return null!==(k=null===(S=this.source)||void 0===S?void 0:S.subscribe(M))&&void 0!==k?k:xe.Lc}}},930:(tt,se,ie)=>{"use strict";ie.d(se,{Hp:()=>oe,Lv:()=>k});var l=ie(576),xe=ie(727),le=ie(2416),Ee=ie(7849),Ae=ie(5032);const ue=W("C",void 0,void 0);function W(Y,H,q){return{kind:Y,value:H,error:q}}var M=ie(3410),S=ie(2806);class k extends xe.w0{constructor(H){super(),this.isStopped=!1,H?(this.destination=H,(0,xe.Nn)(H)&&H.add(this)):this.destination=R}static create(H,q,fe){return new oe(H,q,fe)}next(H){this.isStopped?D(function te(Y){return W("N",Y,void 0)}(H),this):this._next(H)}error(H){this.isStopped?D(function F(Y){return W("E",void 0,Y)}(H),this):(this.isStopped=!0,this._error(H))}complete(){this.isStopped?D(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(H){this.destination.next(H)}_error(H){try{this.destination.error(H)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A=Function.prototype.bind;function x(Y,H){return A.call(Y,H)}class L{constructor(H){this.partialObserver=H}next(H){const{partialObserver:q}=this;if(q.next)try{q.next(H)}catch(fe){B(fe)}}error(H){const{partialObserver:q}=this;if(q.error)try{q.error(H)}catch(fe){B(fe)}else B(H)}complete(){const{partialObserver:H}=this;if(H.complete)try{H.complete()}catch(q){B(q)}}}class oe extends k{constructor(H,q,fe){let _e;if(super(),(0,l.m)(H)||!H)_e={next:H??void 0,error:q??void 0,complete:fe??void 0};else{let z;this&&le.v.useDeprecatedNextContext?(z=Object.create(H),z.unsubscribe=()=>this.unsubscribe(),_e={next:H.next&&x(H.next,z),error:H.error&&x(H.error,z),complete:H.complete&&x(H.complete,z)}):_e=H}this.destination=new L(_e)}}function B(Y){le.v.useDeprecatedSynchronousErrorHandling?(0,S.O)(Y):(0,Ee.h)(Y)}function D(Y,H){const{onStoppedNotification:q}=le.v;q&&M.z.setTimeout(()=>q(Y,H))}const R={closed:!0,next:Ae.Z,error:function j(Y){throw Y},complete:Ae.Z}},727:(tt,se,ie)=>{"use strict";ie.d(se,{Lc:()=>ue,w0:()=>Ae,Nn:()=>F});var l=ie(576);const le=(0,ie(3888).d)(W=>function(S){W(this),this.message=S?`${S.length} errors occurred during unsubscription:\n${S.map((k,A)=>`${A+1}) ${k.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=S});var Ee=ie(8737);class Ae{constructor(M){this.initialTeardown=M,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let M;if(!this.closed){this.closed=!0;const{_parentage:S}=this;if(S)if(this._parentage=null,Array.isArray(S))for(const x of S)x.remove(this);else S.remove(this);const{initialTeardown:k}=this;if((0,l.m)(k))try{k()}catch(x){M=x instanceof le?x.errors:[x]}const{_finalizers:A}=this;if(A){this._finalizers=null;for(const x of A)try{te(x)}catch(L){M=M??[],L instanceof le?M=[...M,...L.errors]:M.push(L)}}if(M)throw new le(M)}}add(M){var S;if(M&&M!==this)if(this.closed)te(M);else{if(M instanceof Ae){if(M.closed||M._hasParent(this))return;M._addParent(this)}(this._finalizers=null!==(S=this._finalizers)&&void 0!==S?S:[]).push(M)}}_hasParent(M){const{_parentage:S}=this;return S===M||Array.isArray(S)&&S.includes(M)}_addParent(M){const{_parentage:S}=this;this._parentage=Array.isArray(S)?(S.push(M),S):S?[S,M]:M}_removeParent(M){const{_parentage:S}=this;S===M?this._parentage=null:Array.isArray(S)&&(0,Ee.P)(S,M)}remove(M){const{_finalizers:S}=this;S&&(0,Ee.P)(S,M),M instanceof Ae&&M._removeParent(this)}}Ae.EMPTY=(()=>{const W=new Ae;return W.closed=!0,W})();const ue=Ae.EMPTY;function F(W){return W instanceof Ae||W&&"closed"in W&&(0,l.m)(W.remove)&&(0,l.m)(W.add)&&(0,l.m)(W.unsubscribe)}function te(W){(0,l.m)(W)?W():W.unsubscribe()}},2416:(tt,se,ie)=>{"use strict";ie.d(se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,se,ie)=>{"use strict";ie.d(se,{E:()=>xe});const xe=new(ie(9751).y)(Ae=>Ae.complete())},8996:(tt,se,ie)=>{"use strict";ie.d(se,{D:()=>H});var l=ie(8421),xe=ie(5363),le=ie(9468),ue=ie(9751),te=ie(2202),W=ie(576),M=ie(9672);function k(q,fe){if(!q)throw new Error("Iterable cannot be null");return new ue.y(_e=>{(0,M.f)(_e,fe,()=>{const z=q[Symbol.asyncIterator]();(0,M.f)(_e,fe,()=>{z.next().then(ge=>{ge.done?_e.complete():_e.next(ge.value)})},0,!0)})})}var A=ie(3670),x=ie(8239),L=ie(1144),oe=ie(6495),B=ie(2206),j=ie(4532),D=ie(3260);function H(q,fe){return fe?function Y(q,fe){if(null!=q){if((0,A.c)(q))return function Ee(q,fe){return(0,l.Xf)(q).pipe((0,le.R)(fe),(0,xe.Q)(fe))}(q,fe);if((0,L.z)(q))return function F(q,fe){return new ue.y(_e=>{let z=0;return fe.schedule(function(){z===q.length?_e.complete():(_e.next(q[z++]),_e.closed||this.schedule())})})}(q,fe);if((0,x.t)(q))return function Ae(q,fe){return(0,l.Xf)(q).pipe((0,le.R)(fe),(0,xe.Q)(fe))}(q,fe);if((0,B.D)(q))return k(q,fe);if((0,oe.T)(q))return function S(q,fe){return new ue.y(_e=>{let z;return(0,M.f)(_e,fe,()=>{z=q[te.h](),(0,M.f)(_e,fe,()=>{let ge,ce;try{({value:ge,done:ce}=z.next())}catch(J){return void _e.error(J)}ce?_e.complete():_e.next(ge)},0,!0)}),()=>(0,W.m)(z?.return)&&z.return()})}(q,fe);if((0,D.L)(q))return function R(q,fe){return k((0,D.Q)(q),fe)}(q,fe)}throw(0,j.z)(q)}(q,fe):(0,l.Xf)(q)}},8421:(tt,se,ie)=>{"use strict";ie.d(se,{Xf:()=>A});var l=ie(655),xe=ie(1144),le=ie(8239),Ee=ie(9751),Ae=ie(3670),ue=ie(2206),F=ie(4532),te=ie(6495),W=ie(3260),M=ie(576),S=ie(7849),k=ie(8822);function A(Y){if(Y instanceof Ee.y)return Y;if(null!=Y){if((0,Ae.c)(Y))return function x(Y){return new Ee.y(H=>{const q=Y[k.L]();if((0,M.m)(q.subscribe))return q.subscribe(H);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Y);if((0,xe.z)(Y))return function L(Y){return new Ee.y(H=>{for(let q=0;q<Y.length&&!H.closed;q++)H.next(Y[q]);H.complete()})}(Y);if((0,le.t)(Y))return function oe(Y){return new Ee.y(H=>{Y.then(q=>{H.closed||(H.next(q),H.complete())},q=>H.error(q)).then(null,S.h)})}(Y);if((0,ue.D)(Y))return j(Y);if((0,te.T)(Y))return function B(Y){return new Ee.y(H=>{for(const q of Y)if(H.next(q),H.closed)return;H.complete()})}(Y);if((0,W.L)(Y))return function D(Y){return j((0,W.Q)(Y))}(Y)}throw(0,F.z)(Y)}function j(Y){return new Ee.y(H=>{(function R(Y,H){var q,fe,_e,z;return(0,l.mG)(this,void 0,void 0,function*(){try{for(q=(0,l.KL)(Y);!(fe=yield q.next()).done;)if(H.next(fe.value),H.closed)return}catch(ge){_e={error:ge}}finally{try{fe&&!fe.done&&(z=q.return)&&(yield z.call(q))}finally{if(_e)throw _e.error}}H.complete()})})(Y,H).catch(q=>H.error(q))})}},6451:(tt,se,ie)=>{"use strict";ie.d(se,{T:()=>ue});var l=ie(8189),xe=ie(8421),le=ie(515),Ee=ie(3269),Ae=ie(8996);function ue(...F){const te=(0,Ee.yG)(F),W=(0,Ee._6)(F,1/0),M=F;return M.length?1===M.length?(0,xe.Xf)(M[0]):(0,l.J)(W)((0,Ae.D)(M,te)):le.E}},5403:(tt,se,ie)=>{"use strict";ie.d(se,{x:()=>xe});var l=ie(930);function xe(Ee,Ae,ue,F,te){return new le(Ee,Ae,ue,F,te)}class le extends l.Lv{constructor(Ae,ue,F,te,W,M){super(Ae),this.onFinalize=W,this.shouldUnsubscribe=M,this._next=ue?function(S){try{ue(S)}catch(k){Ae.error(k)}}:super._next,this._error=te?function(S){try{te(S)}catch(k){Ae.error(k)}finally{this.unsubscribe()}}:super._error,this._complete=F?function(){try{F()}catch(S){Ae.error(S)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(Ae=this.onFinalize)||void 0===Ae||Ae.call(this))}}}},4004:(tt,se,ie)=>{"use strict";ie.d(se,{U:()=>le});var l=ie(4482),xe=ie(5403);function le(Ee,Ae){return(0,l.e)((ue,F)=>{let te=0;ue.subscribe((0,xe.x)(F,W=>{F.next(Ee.call(Ae,W,te++))}))})}},8189:(tt,se,ie)=>{"use strict";ie.d(se,{J:()=>le});var l=ie(5577),xe=ie(4671);function le(Ee=1/0){return(0,l.z)(xe.y,Ee)}},5577:(tt,se,ie)=>{"use strict";ie.d(se,{z:()=>te});var l=ie(4004),xe=ie(8421),le=ie(4482),Ee=ie(9672),Ae=ie(5403),F=ie(576);function te(W,M,S=1/0){return(0,F.m)(M)?te((k,A)=>(0,l.U)((x,L)=>M(k,x,A,L))((0,xe.Xf)(W(k,A))),S):("number"==typeof M&&(S=M),(0,le.e)((k,A)=>function ue(W,M,S,k,A,x,L,oe){const B=[];let j=0,D=0,R=!1;const Y=()=>{R&&!B.length&&!j&&M.complete()},H=fe=>j<k?q(fe):B.push(fe),q=fe=>{x&&M.next(fe),j++;let _e=!1;(0,xe.Xf)(S(fe,D++)).subscribe((0,Ae.x)(M,z=>{A?.(z),x?H(z):M.next(z)},()=>{_e=!0},void 0,()=>{if(_e)try{for(j--;B.length&&j<k;){const z=B.shift();L?(0,Ee.f)(M,L,()=>q(z)):q(z)}Y()}catch(z){M.error(z)}}))};return W.subscribe((0,Ae.x)(M,H,()=>{R=!0,Y()})),()=>{oe?.()}}(k,A,W,S)))}},5363:(tt,se,ie)=>{"use strict";ie.d(se,{Q:()=>Ee});var l=ie(9672),xe=ie(4482),le=ie(5403);function Ee(Ae,ue=0){return(0,xe.e)((F,te)=>{F.subscribe((0,le.x)(te,W=>(0,l.f)(te,Ae,()=>te.next(W),ue),()=>(0,l.f)(te,Ae,()=>te.complete(),ue),W=>(0,l.f)(te,Ae,()=>te.error(W),ue)))})}},3099:(tt,se,ie)=>{"use strict";ie.d(se,{B:()=>Ae});var l=ie(8421),xe=ie(7579),le=ie(930),Ee=ie(4482);function Ae(F={}){const{connector:te=(()=>new xe.x),resetOnError:W=!0,resetOnComplete:M=!0,resetOnRefCountZero:S=!0}=F;return k=>{let A,x,L,oe=0,B=!1,j=!1;const D=()=>{x?.unsubscribe(),x=void 0},R=()=>{D(),A=L=void 0,B=j=!1},Y=()=>{const H=A;R(),H?.unsubscribe()};return(0,Ee.e)((H,q)=>{oe++,!j&&!B&&D();const fe=L=L??te();q.add(()=>{oe--,0===oe&&!j&&!B&&(x=ue(Y,S))}),fe.subscribe(q),!A&&oe>0&&(A=new le.Hp({next:_e=>fe.next(_e),error:_e=>{j=!0,D(),x=ue(R,W,_e),fe.error(_e)},complete:()=>{B=!0,D(),x=ue(R,M),fe.complete()}}),(0,l.Xf)(H).subscribe(A))})(k)}}function ue(F,te,...W){if(!0===te)return void F();if(!1===te)return;const M=new le.Hp({next:()=>{M.unsubscribe(),F()}});return te(...W).subscribe(M)}},9468:(tt,se,ie)=>{"use strict";ie.d(se,{R:()=>xe});var l=ie(4482);function xe(le,Ee=0){return(0,l.e)((Ae,ue)=>{ue.add(le.schedule(()=>Ae.subscribe(ue),Ee))})}},3410:(tt,se,ie)=>{"use strict";ie.d(se,{z:()=>l});const l={setTimeout(xe,le,...Ee){const{delegate:Ae}=l;return Ae?.setTimeout?Ae.setTimeout(xe,le,...Ee):setTimeout(xe,le,...Ee)},clearTimeout(xe){const{delegate:le}=l;return(le?.clearTimeout||clearTimeout)(xe)},delegate:void 0}},2202:(tt,se,ie)=>{"use strict";ie.d(se,{h:()=>xe});const xe=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,se,ie)=>{"use strict";ie.d(se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,se,ie)=>{"use strict";ie.d(se,{_6:()=>ue,jO:()=>Ee,yG:()=>Ae});var l=ie(576),xe=ie(3532);function le(F){return F[F.length-1]}function Ee(F){return(0,l.m)(le(F))?F.pop():void 0}function Ae(F){return(0,xe.K)(le(F))?F.pop():void 0}function ue(F,te){return"number"==typeof le(F)?F.pop():te}},8737:(tt,se,ie)=>{"use strict";function l(xe,le){if(xe){const Ee=xe.indexOf(le);0<=Ee&&xe.splice(Ee,1)}}ie.d(se,{P:()=>l})},3888:(tt,se,ie)=>{"use strict";function l(xe){const Ee=xe(Ae=>{Error.call(Ae),Ae.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}ie.d(se,{d:()=>l})},2806:(tt,se,ie)=>{"use strict";ie.d(se,{O:()=>Ee,x:()=>le});var l=ie(2416);let xe=null;function le(Ae){if(l.v.useDeprecatedSynchronousErrorHandling){const ue=!xe;if(ue&&(xe={errorThrown:!1,error:null}),Ae(),ue){const{errorThrown:F,error:te}=xe;if(xe=null,F)throw te}}else Ae()}function Ee(Ae){l.v.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=Ae)}},9672:(tt,se,ie)=>{"use strict";function l(xe,le,Ee,Ae=0,ue=!1){const F=le.schedule(function(){Ee(),ue?xe.add(this.schedule(null,Ae)):this.unsubscribe()},Ae);if(xe.add(F),!ue)return F}ie.d(se,{f:()=>l})},4671:(tt,se,ie)=>{"use strict";function l(xe){return xe}ie.d(se,{y:()=>l})},1144:(tt,se,ie)=>{"use strict";ie.d(se,{z:()=>l});const l=xe=>xe&&"number"==typeof xe.length&&"function"!=typeof xe},2206:(tt,se,ie)=>{"use strict";ie.d(se,{D:()=>xe});var l=ie(576);function xe(le){return Symbol.asyncIterator&&(0,l.m)(le?.[Symbol.asyncIterator])}},576:(tt,se,ie)=>{"use strict";function l(xe){return"function"==typeof xe}ie.d(se,{m:()=>l})},3670:(tt,se,ie)=>{"use strict";ie.d(se,{c:()=>le});var l=ie(8822),xe=ie(576);function le(Ee){return(0,xe.m)(Ee[l.L])}},6495:(tt,se,ie)=>{"use strict";ie.d(se,{T:()=>le});var l=ie(2202),xe=ie(576);function le(Ee){return(0,xe.m)(Ee?.[l.h])}},8239:(tt,se,ie)=>{"use strict";ie.d(se,{t:()=>xe});var l=ie(576);function xe(le){return(0,l.m)(le?.then)}},3260:(tt,se,ie)=>{"use strict";ie.d(se,{L:()=>Ee,Q:()=>le});var l=ie(655),xe=ie(576);function le(Ae){return(0,l.FC)(this,arguments,function*(){const F=Ae.getReader();try{for(;;){const{value:te,done:W}=yield(0,l.qq)(F.read());if(W)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(te)}}finally{F.releaseLock()}})}function Ee(Ae){return(0,xe.m)(Ae?.getReader)}},3532:(tt,se,ie)=>{"use strict";ie.d(se,{K:()=>xe});var l=ie(576);function xe(le){return le&&(0,l.m)(le.schedule)}},4482:(tt,se,ie)=>{"use strict";ie.d(se,{A:()=>xe,e:()=>le});var l=ie(576);function xe(Ee){return(0,l.m)(Ee?.lift)}function le(Ee){return Ae=>{if(xe(Ae))return Ae.lift(function(ue){try{return Ee(ue,this)}catch(F){this.error(F)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,se,ie)=>{"use strict";function l(){}ie.d(se,{Z:()=>l})},9635:(tt,se,ie)=>{"use strict";ie.d(se,{U:()=>le,z:()=>xe});var l=ie(4671);function xe(...Ee){return le(Ee)}function le(Ee){return 0===Ee.length?l.y:1===Ee.length?Ee[0]:function(ue){return Ee.reduce((F,te)=>te(F),ue)}}},7849:(tt,se,ie)=>{"use strict";ie.d(se,{h:()=>le});var l=ie(2416),xe=ie(3410);function le(Ee){xe.z.setTimeout(()=>{const{onUnhandledError:Ae}=l.v;if(!Ae)throw Ee;Ae(Ee)})}},4532:(tt,se,ie)=>{"use strict";function l(xe){return new TypeError(`You provided ${null!==xe&&"object"==typeof xe?"an invalid object":`'${xe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ie.d(se,{z:()=>l})},2762:(tt,se,ie)=>{var l;if("object"==typeof globalThis)l=globalThis;else try{l=ie(8878)}catch{}finally{if(!l&&typeof window<"u"&&(l=window),!l)throw new Error("Could not determine global this")}var xe=l.WebSocket||l.MozWebSocket,le=ie(3386);function Ee(Ae,ue){return ue?new xe(Ae,ue):new xe(Ae)}xe&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(Ae){Object.defineProperty(Ee,Ae,{get:function(){return xe[Ae]}})}),tt.exports={w3cwebsocket:xe?Ee:null,version:le}},3386:(tt,se,ie)=>{tt.exports=ie(9794).version},655:(tt,se,ie)=>{"use strict";function Ee(ce,J){var de={};for(var re in ce)Object.prototype.hasOwnProperty.call(ce,re)&&J.indexOf(re)<0&&(de[re]=ce[re]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(re=Object.getOwnPropertySymbols(ce);Ie<re.length;Ie++)J.indexOf(re[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ce,re[Ie])&&(de[re[Ie]]=ce[re[Ie]])}return de}function te(ce,J,de,re){return new(de||(de=Promise))(function(Me,Ne){function et(G){try{N(re.next(G))}catch(I){Ne(I)}}function ye(G){try{N(re.throw(G))}catch(I){Ne(I)}}function N(G){G.done?Me(G.value):function Ie(Me){return Me instanceof de?Me:new de(function(Ne){Ne(Me)})}(G.value).then(et,ye)}N((re=re.apply(ce,J||[])).next())})}function B(ce){return this instanceof B?(this.v=ce,this):new B(ce)}function j(ce,J,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,re=de.apply(ce,J||[]),Me=[];return Ie={},Ne("next"),Ne("throw"),Ne("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function Ne(U){re[U]&&(Ie[U]=function(X){return new Promise(function(me,ae){Me.push([U,X,me,ae])>1||et(U,X)})})}function et(U,X){try{!function ye(U){U.value instanceof B?Promise.resolve(U.value.v).then(N,G):I(Me[0][2],U)}(re[U](X))}catch(me){I(Me[0][3],me)}}function N(U){et("next",U)}function G(U){et("throw",U)}function I(U,X){U(X),Me.shift(),Me.length&&et(Me[0][0],Me[0][1])}}function R(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,J=ce[Symbol.asyncIterator];return J?J.call(ce):(ce=function k(ce){var J="function"==typeof Symbol&&Symbol.iterator,de=J&&ce[J],re=0;if(de)return de.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&re>=ce.length&&(ce=void 0),{value:ce&&ce[re++],done:!ce}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),de={},re("next"),re("throw"),re("return"),de[Symbol.asyncIterator]=function(){return this},de);function re(Me){de[Me]=ce[Me]&&function(Ne){return new Promise(function(et,ye){!function Ie(Me,Ne,et,ye){Promise.resolve(ye).then(function(N){Me({value:N,done:et})},Ne)}(et,ye,(Ne=ce[Me](Ne)).done,Ne.value)})}}}ie.d(se,{FC:()=>j,KL:()=>R,_T:()=>Ee,mG:()=>te,qq:()=>B})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:tt=>{function se(l,xe,le,Ee,Ae,ue,F){try{var te=l[ue](F),W=te.value}catch(M){return void le(M)}te.done?xe(W):Promise.resolve(W).then(Ee,Ae)}tt.exports=function ie(l){return function(){var xe=this,le=arguments;return new Promise(function(Ee,Ae){var ue=l.apply(xe,le);function F(W){se(ue,Ee,Ae,F,te,"next",W)}function te(W){se(ue,Ee,Ae,F,te,"throw",W)}F(void 0)})}},tt.exports.__esModule=!0,tt.exports.default=tt.exports},4650:(tt,se,ie)=>{"use strict";ie.d(se,{$8M:()=>Ou,$Z:()=>DE,AFp:()=>FA,ALo:()=>Lb,AaK:()=>te,Akn:()=>Xs,BQk:()=>Hm,CHM:()=>wu,CRH:()=>Da,CZH:()=>zd,CqO:()=>hS,D6c:()=>eu,DdM:()=>Gc,EJc:()=>Ot,EiD:()=>ol,EpF:()=>dS,F$t:()=>H0,F4k:()=>U0,FYo:()=>Q,FiY:()=>jn,G48:()=>ZA,Gf:()=>bA,GfV:()=>Ft,Gpc:()=>S,Gre:()=>Q0,Hsn:()=>Wm,Ikx:()=>nb,JOm:()=>Oo,JVY:()=>rf,KtG:()=>fg,L6k:()=>Sy,LAX:()=>Ty,LFG:()=>xn,LMc:()=>n1,LSH:()=>qu,Lbi:()=>mx,Lck:()=>dr,MAs:()=>Um,MGl:()=>Cd,MMx:()=>T_,NdJ:()=>Uf,OlP:()=>Qn,Oqu:()=>Hf,PXZ:()=>_p,Q6J:()=>V0,QGY:()=>j0,QP$:()=>Nn,Qsj:()=>ve,QtT:()=>w_,R0b:()=>Is,RDi:()=>Rg,Rgc:()=>Nd,SBq:()=>g,SDv:()=>Qf,Sil:()=>vn,Suo:()=>Bd,TTD:()=>_o,TgZ:()=>wd,Tol:()=>DS,Udp:()=>Z0,VKq:()=>oA,W1O:()=>EA,WLB:()=>aA,X6Q:()=>Qr,XFs:()=>je,Xpm:()=>pt,Xts:()=>uf,Y36:()=>hd,YKP:()=>Ji,YNc:()=>jm,Yjl:()=>mt,Yz7:()=>X,Z0I:()=>ke,ZZ4:()=>ev,_Bn:()=>S_,_UZ:()=>Vf,_Vd:()=>ma,_c5:()=>xx,_uU:()=>OS,aQg:()=>tv,c2e:()=>xl,cJS:()=>ae,cg1:()=>ib,dDg:()=>pp,dqk:()=>Zt,eBb:()=>Ay,eFA:()=>cw,ekj:()=>$f,eoX:()=>kn,f3M:()=>Xn,g9A:()=>hp,h0i:()=>Sl,hGG:()=>e1,hij:()=>e_,iGM:()=>yA,ifc:()=>Mt,ip1:()=>kA,jDz:()=>nA,kEZ:()=>Al,kL8:()=>Gf,lG2:()=>Ue,lcZ:()=>R_,lqb:()=>Yi,lri:()=>hi,mCW:()=>il,n5z:()=>Us,oAB:()=>en,oxw:()=>mS,pB0:()=>Gu,pQV:()=>Xf,q3G:()=>di,qLn:()=>mf,qOj:()=>N0,qZA:()=>$m,qzn:()=>Ys,rWj:()=>_n,s9C:()=>G0,sBO:()=>Y_,sIi:()=>Vc,s_b:()=>Tl,soG:()=>z_,tb:()=>rw,tp0:()=>Ao,uIk:()=>Rm,vHH:()=>L,vpe:()=>Ts,wAp:()=>pn,xp6:()=>vE,ynx:()=>jf,z2F:()=>q_,z3N:()=>kr,zSh:()=>ll,zs3:()=>Rc});var l=ie(7579),xe=ie(727),le=ie(9751),Ee=ie(6451),Ae=ie(3099);function ue(o){for(let a in o)if(o[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function F(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function te(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(te).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function W(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const M=ue({__forward_ref__:ue});function S(o){return o.__forward_ref__=S,o.toString=function(){return te(this())},o}function k(o){return A(o)?o():o}function A(o){return"function"==typeof o&&o.hasOwnProperty(M)&&o.__forward_ref__===S}class L extends Error{constructor(a,c){super(function oe(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}(a,c)),this.code=a}}function B(o){return"string"==typeof o?o:null==o?"":String(o)}function H(o,a){throw new L(-201,!1)}function N(o,a,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}function X(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ae(o){return{providers:o.providers||[],imports:o.imports||[]}}function be(o){return Be(o,nt)||Be(o,Lt)}function ke(o){return null!==be(o)}function Be(o,a){return o.hasOwnProperty(a)?o[a]:null}function Ye(o){return o&&(o.hasOwnProperty(wt)||o.hasOwnProperty(Xe))?o[wt]:null}const nt=ue({\u0275prov:ue}),wt=ue({\u0275inj:ue}),Lt=ue({ngInjectableDef:ue}),Xe=ue({ngInjectorDef:ue});var je=(()=>((je=je||{})[je.Default=0]="Default",je[je.Host=1]="Host",je[je.Self=2]="Self",je[je.SkipSelf=4]="SkipSelf",je[je.Optional=8]="Optional",je))();let rt;function Oe(o){const a=rt;return rt=o,a}function We(o,a,c){const h=be(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&je.Optional?null:void 0!==a?a:void H(te(o))}function yt(o){return{toString:o}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),Mt=(()=>{return(o=Mt||(Mt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Mt;var o})();const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Te={},Ce=[],ut=ue({\u0275cmp:ue}),ct=ue({\u0275dir:ue}),At=ue({\u0275pipe:ue}),bt=ue({\u0275mod:ue}),on=ue({\u0275fac:ue}),gn=ue({__NG_ELEMENT_ID__:ue});let Bt=0;function pt(o){return yt(()=>{const c=!0===o.standalone,h={},p={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Ce,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Mt.Emulated,id:"c"+Bt++,styles:o.styles||Ce,_:null,setInput:null,schemas:o.schemas||null,tView:null},_=o.dependencies,C=o.features;return p.inputs=Re(o.inputs,h),p.outputs=Re(o.outputs),C&&C.forEach(T=>T(p)),p.directiveDefs=_?()=>("function"==typeof _?_():_).map(qt).filter(sn):null,p.pipeDefs=_?()=>("function"==typeof _?_():_).map(nn).filter(sn):null,p})}function qt(o){return qe(o)||Nt(o)}function sn(o){return null!==o}function en(o){return yt(()=>({type:o.type,bootstrap:o.bootstrap||Ce,declarations:o.declarations||Ce,imports:o.imports||Ce,exports:o.exports||Ce,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Re(o,a){if(null==o)return Te;const c={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],_=p;Array.isArray(p)&&(_=p[1],p=p[0]),c[p]=h,a&&(a[p]=_)}return c}const Ue=pt;function mt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function qe(o){return o[ut]||null}function Nt(o){return o[ct]||null}function nn(o){return o[At]||null}function Nn(o){const a=qe(o)||Nt(o)||nn(o);return null!==a&&a.standalone}function Jn(o,a){const c=o[bt]||null;if(!c&&!0===a)throw new Error(`Type ${te(o)} does not have '\u0275mod' property.`);return c}function lr(o){return Array.isArray(o)&&"object"==typeof o[1]}function cr(o){return Array.isArray(o)&&!0===o[1]}function ja(o){return 0!=(8&o.flags)}function Ko(o){return 2==(2&o.flags)}function Yl(o){return 1==(1&o.flags)}function $r(o){return null!==o.template}function ng(o){return 0!=(256&o[2])}function ps(o,a){return o.hasOwnProperty(on)?o[on]:null}class Bs{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function _o(){return Jo}function Jo(o){return o.type.prototype.ngOnChanges&&(o.setInput=gu),pu}function pu(){const o=Qv(this),a=o?.current;if(a){const c=o.previous;if(c===Te)o.previous=a;else for(let h in a)c[h]=a[h];o.current=null,this.ngOnChanges(a)}}function gu(o,a,c,h){const p=Qv(o)||function ni(o,a){return o[Ah]=a}(o,{previous:Te,current:null}),_=p.current||(p.current={}),C=p.previous,T=this.declaredInputs[c],O=C[T];_[T]=new Bs(O&&O.currentValue,a,C===Te),o[h]=a}_o.ngInherit=!0;const Ah="__ngSimpleChanges__";function Qv(o){return o[Ah]||null}function vi(o){for(;Array.isArray(o);)o=o[0];return o}function Ua(o,a){return vi(a[o])}function Hr(o,a){return vi(a[o.index])}function $a(o,a){return o.data[a]}function Xo(o,a){return o[a]}function Bn(o,a){const c=a[o];return lr(c)?c:c[0]}function ea(o){return 64==(64&o[2])}function Vs(o,a){return null==a?null:o[a]}function bu(o){o[18]=0}function Ha(o,a){o[5]+=a;let c=o,h=o[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const yn={lFrame:ay(null),bindingsEnabled:!0};function ta(){return yn.bindingsEnabled}function Tt(){return yn.lFrame.lView}function Rn(){return yn.lFrame.tView}function wu(o){return yn.lFrame.contextLView=o,o[8]}function fg(o){return yn.lFrame.contextLView=null,o}function Di(){let o=pg();for(;null!==o&&64===o.type;)o=o.parent;return o}function pg(){return yn.lFrame.currentTNode}function Ga(){const o=yn.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function gs(o,a){const c=yn.lFrame;c.currentTNode=o,c.isParent=a}function Cu(){return yn.lFrame.isParent}function Ih(){yn.lFrame.isParent=!1}function yi(){const o=yn.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function na(){return yn.lFrame.bindingIndex++}function vo(o){const a=yn.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Ph(o){yn.lFrame.inI18n=o}function kC(o,a){const c=yn.lFrame;c.bindingIndex=c.bindingRootIndex=o,_g(a)}function _g(o){yn.lFrame.currentDirectiveIndex=o}function sy(){return yn.lFrame.currentQueryIndex}function Kl(o){yn.lFrame.currentQueryIndex=o}function oy(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Oh(o,a,c){if(c&je.SkipSelf){let p=a,_=o;for(;!(p=p.parent,null!==p||c&je.Host||(p=oy(_),null===p||(_=_[15],10&p.type))););if(null===p)return!1;a=p,o=_}const h=yn.lFrame=Rh();return h.currentTNode=a,h.lView=o,!0}function vg(o){const a=Rh(),c=o[1];yn.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Rh(){const o=yn.lFrame,a=null===o?null:o.child;return null===a?ay(o):a}function ay(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Nh(){const o=yn.lFrame;return yn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const yg=Nh;function Jl(){const o=Nh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function $i(){return yn.lFrame.selectedIndex}function Rr(o){yn.lFrame.selectedIndex=o}function si(){const o=yn.lFrame;return $a(o.tView,o.selectedIndex)}function Ql(o,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const _=o.data[c].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:T,ngAfterViewInit:O,ngAfterViewChecked:Z,ngOnDestroy:he}=_;C&&(o.contentHooks||(o.contentHooks=[])).push(-c,C),T&&((o.contentHooks||(o.contentHooks=[])).push(c,T),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,T)),O&&(o.viewHooks||(o.viewHooks=[])).push(-c,O),Z&&((o.viewHooks||(o.viewHooks=[])).push(c,Z),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,Z)),null!=he&&(o.destroyHooks||(o.destroyHooks=[])).push(c,he)}}function Xl(o,a,c){Bh(o,a,3,c)}function ia(o,a,c,h){(3&o[2])===c&&Bh(o,a,c,h)}function Lh(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function Bh(o,a,c,h){const _=h??-1,C=a.length-1;let T=0;for(let O=void 0!==h?65535&o[18]:0;O<C;O++)if("number"==typeof a[O+1]){if(T=a[O],null!=h&&T>=h)break}else a[O]<0&&(o[18]+=65536),(T<_||-1==_)&&(bg(o,c,a,O),o[18]=(4294901760&o[18])+O+2),O++}function bg(o,a,c,h){const p=c[h]<0,_=c[h+1],T=o[p?-c[h]:c[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{_.call(T)}finally{}}}else try{_.call(T)}finally{}}class bo{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function Wa(o,a,c){let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const _=c[h++],C=c[h++],T=c[h++];o.setAttribute(a,C,T,_)}else{const _=p,C=c[++h];Du(_)?o.setProperty(a,_,C):o.setAttribute(a,_,C),h++}}return h}function tc(o){return 3===o||4===o||6===o}function Du(o){return 64===o.charCodeAt(0)}function nc(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?c=p:0===c||Cg(o,c,p,null,-1===c||2===c?a[++h]:null)}}return o}function Cg(o,a,c,h,p){let _=0,C=o.length;if(-1===a)C=-1;else for(;_<o.length;){const T=o[_++];if("number"==typeof T){if(T===a){C=-1;break}if(T>a){C=_-1;break}}}for(;_<o.length;){const T=o[_];if("number"==typeof T)break;if(T===c){if(null===h)return void(null!==p&&(o[_+1]=p));if(h===o[_+1])return void(o[_+2]=p)}_++,null!==h&&_++,null!==p&&_++}-1!==C&&(o.splice(C,0,a),_=C+1),o.splice(_++,0,c),null!==h&&o.splice(_++,0,h),null!==p&&o.splice(_++,0,p)}function Eg(o){return-1!==o}function ic(o){return 32767&o}function sc(o,a){let c=function rc(o){return o>>16}(o),h=a;for(;c>0;)h=h[15],c--;return h}let _s=!0;function Iu(o){const a=_s;return _s=o,a}let Ii=0;const js={};function ac(o,a){const c=xu(o,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,lc(h.data,o),lc(a,null),lc(h.blueprint,null));const p=Mu(o,a),_=o.injectorIndex;if(Eg(p)){const C=ic(p),T=sc(p,a),O=T[1].data;for(let Z=0;Z<8;Z++)a[_+Z]=T[C+Z]|O[C+Z]}return a[_+8]=p,_}function lc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function xu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Mu(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,p=a;for(;null!==p;){if(h=Pu(p),null===h)return-1;if(c++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function qa(o,a,c){!function Uh(o,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(gn)&&(h=c[gn]),null==h&&(h=c[gn]=Ii++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,c)}function Ya(o,a,c){if(c&je.Optional||void 0!==o)return o;H()}function $h(o,a,c,h){if(c&je.Optional&&void 0===h&&(h=null),0==(c&(je.Self|je.Host))){const p=o[9],_=Oe(void 0);try{return p?p.get(a,h,c&je.Optional):We(a,h,c&je.Optional)}finally{Oe(_)}}return Ya(h,0,c)}function cc(o,a,c,h=je.Default,p){if(null!==o){if(1024&a[2]){const C=function Ja(o,a,c,h,p){let _=o,C=a;for(;null!==_&&null!==C&&1024&C[2]&&!(256&C[2]);){const T=uc(_,C,c,h|je.Self,js);if(T!==js)return T;let O=_.parent;if(!O){const Z=C[21];if(Z){const he=Z.get(c,js,h);if(he!==js)return he}O=Pu(C),C=C[15]}_=O}return p}(o,a,c,h,js);if(C!==js)return C}const _=uc(o,a,c,h,js);if(_!==js)return _}return $h(a,c,h,p)}function uc(o,a,c,h,p){const _=function Hh(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(gn)?o[gn]:void 0;return"number"==typeof a?a>=0?255&a:Dg:a}(c);if("function"==typeof _){if(!Oh(a,o,h))return h&je.Host?Ya(p,0,h):$h(a,c,h,p);try{const C=_(h);if(null!=C||h&je.Optional)return C;H()}finally{yg()}}else if("number"==typeof _){let C=null,T=xu(o,a),O=-1,Z=h&je.Host?a[16][6]:null;for((-1===T||h&je.SkipSelf)&&(O=-1===T?Mu(o,a):a[T+8],-1!==O&&Gh(h,!1)?(C=a[1],T=ic(O),a=sc(O,a)):T=-1);-1!==T;){const he=a[1];if(Tg(_,T,he.data)){const De=FC(T,a,c,C,h,Z);if(De!==js)return De}O=a[T+8],-1!==O&&Gh(h,a[1].data[T+8]===Z)&&Tg(_,T,a)?(C=he,T=ic(O),a=sc(O,a)):T=-1}}return p}function FC(o,a,c,h,p,_){const C=a[1],T=C.data[o+8],he=Za(T,C,c,null==h?Ko(T)&&_s:h!=C&&0!=(3&T.type),p&je.Host&&_===T);return null!==he?sa(a,C,he,T):js}function Za(o,a,c,h,p){const _=o.providerIndexes,C=a.data,T=1048575&_,O=o.directiveStart,he=_>>20,Ve=p?T+he:o.directiveEnd;for(let it=h?T:T+he;it<Ve;it++){const vt=C[it];if(it<O&&c===vt||it>=O&&vt.type===c)return it}if(p){const it=C[O];if(it&&$r(it)&&it.type===c)return O}return null}function sa(o,a,c,h){let p=o[c];const _=a.data;if(function ra(o){return o instanceof bo}(p)){const C=p;C.resolving&&function D(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new L(-200,`Circular dependency in DI detected for ${o}${c}`)}(function j(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():B(o)}(_[c]));const T=Iu(C.canSeeViewProviders);C.resolving=!0;const O=C.injectImpl?Oe(C.injectImpl):null;Oh(o,h,je.Default);try{p=o[c]=C.factory(void 0,_,o,h),a.firstCreatePass&&c>=h.directiveStart&&function Fh(o,a,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:_}=a.type.prototype;if(h){const C=Jo(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,C),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,C)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,p),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,_))}(c,_[c],a)}finally{null!==O&&Oe(O),Iu(T),C.resolving=!1,yg()}}return p}function Tg(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Gh(o,a){return!(o&je.Self||o&je.Host&&a)}class Ka{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,h){return cc(this._tNode,this._lView,a,h,c)}}function Dg(){return new Ka(Di(),Tt())}function Us(o){return yt(()=>{const a=o.prototype.constructor,c=a[on]||Ig(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const _=p[on]||Ig(p);if(_&&_!==c)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function Ig(o){return A(o)?()=>{const a=Ig(k(o));return a&&a()}:ps(o)}function Pu(o){const a=o[1],c=a.type;return 2===c?a.declTNode:1===c?o[6]:null}function Ou(o){return function Ag(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const _=c[p];if(tc(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(_===a)return c[p+1];p+=2}}}return null}(Di(),o)}const oa="__parameters__";function fc(o,a,c){return yt(()=>{const h=function Wh(o){return function(...c){if(o){const h=o(...c);for(const p in h)this[p]=h[p]}}}(a);function p(..._){if(this instanceof p)return h.apply(this,_),this;const C=new p(..._);return T.annotation=C,T;function T(O,Z,he){const De=O.hasOwnProperty(oa)?O[oa]:Object.defineProperty(O,oa,{value:[]})[oa];for(;De.length<=he;)De.push(null);return(De[he]=De[he]||[]).push(C),O}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class Qn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=X({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vn(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let h=o[c];Array.isArray(h)?(a===o&&(a=o.slice(0,c)),Vn(h,a)):a!==o&&a.push(h)}return a}function ns(o,a){o.forEach(c=>Array.isArray(c)?ns(c,a):a(c))}function pc(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function ui(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function wo(o,a){const c=[];for(let h=0;h<o;h++)c.push(a);return c}function kt(o,a,c){let h=el(o,a);return h>=0?o[1|h]=c:(h=~h,function Yh(o,a,c,h){let p=o.length;if(p==a)o.push(c,h);else if(1===p)o.push(h,o[0]),o[0]=c;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=c,o[a+1]=h}}(o,h,a,c)),h}function Zh(o,a){const c=el(o,a);if(c>=0)return o[1|c]}function el(o,a){return function ku(o,a,c){let h=0,p=o.length>>c;for(;p!==h;){const _=h+(p-h>>1),C=o[_<<c];if(a===C)return _<<c;C>a?p=_:h=_+1}return~(p<<c)}(o,a,1)}const ys={},Kh="__NG_DI_FLAG__",_r="ngTempTokenPath",Nr=/\n/gm,bi="__source";let Hs;function Eo(o){const a=Hs;return Hs=o,a}function ii(o,a=je.Default){if(void 0===Hs)throw new L(-203,!1);return null===Hs?We(o,void 0,a):Hs.get(o,a&je.Optional?null:void 0,a)}function xn(o,a=je.Default){return(function pe(){return rt}()||ii)(k(o),a)}function Xn(o,a=je.Default){return"number"!=typeof a&&(a=0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)),xn(o,a)}function ki(o){const a=[];for(let c=0;c<o.length;c++){const h=k(o[c]);if(Array.isArray(h)){if(0===h.length)throw new L(900,!1);let p,_=je.Default;for(let C=0;C<h.length;C++){const T=h[C],O=Lu(T);"number"==typeof O?-1===O?p=T.token:_|=O:p=T}a.push(xn(p,_))}else a.push(xn(h))}return a}function So(o,a){return o[Kh]=a,o.prototype[Kh]=a,o}function Lu(o){return o[Kh]}const jn=So(fc("Optional"),8),Ao=So(fc("SkipSelf"),4);let ef,la;function Rg(o){ef=o}function zs(o){return function ju(){if(void 0===la&&(la=null,Zt.trustedTypes))try{la=Zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return la}()?.createHTML(o)||o}class qs{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hu extends qs{getTypeName(){return"HTML"}}class ua extends qs{getTypeName(){return"Style"}}class Fg extends qs{getTypeName(){return"Script"}}class wc extends qs{getTypeName(){return"URL"}}class Ey extends qs{getTypeName(){return"ResourceURL"}}function kr(o){return o instanceof qs?o.changingThisBreaksApplicationSecurity:o}function Ys(o,a){const c=function nf(o){return o instanceof qs&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function rf(o){return new Hu(o)}function Sy(o){return new ua(o)}function Ay(o){return new Fg(o)}function Ty(o){return new wc(o)}function Gu(o){return new Ey(o)}function Lg(o){const a=new Dy(o);return function jC(){try{return!!(new window.DOMParser).parseFromString(zs(""),"text/html")}catch{return!1}}()?new Bg(a):a}class Bg{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(zs(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Dy{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=zs(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=zs(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let p=c.length-1;0<p;p--){const C=c.item(p).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&a.removeAttribute(C)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const da=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function il(o){return(o=String(o)).match(da)?o:"unsafe:"+o}function Yr(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function ha(...o){const a={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const Io=Yr("area,br,col,hr,img,wbr"),rl=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Iy=Yr("rp,rt"),fa=ha(Io,ha(rl,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ha(Iy,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ha(Iy,rl)),Zs=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sf=ha(Zs,Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jg=Yr("script,style,template");class sl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,h=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?h=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,h&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let p=this.checkClobberedElement(c,c.nextSibling);if(p){c=p;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!fa.hasOwnProperty(c))return this.sanitizedSomething=!0,!jg.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const h=a.attributes;for(let p=0;p<h.length;p++){const _=h.item(p),C=_.name,T=C.toLowerCase();if(!sf.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let O=_.value;Zs[T]&&(O=il(O)),this.buf.push(" ",C,'="',lf(O),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();fa.hasOwnProperty(c)&&!Io.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(lf(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Ug=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,af=/([^\#-~ |!])/g;function lf(o){return o.replace(/&/g,"&amp;").replace(Ug,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(af,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zu;function ol(o,a){let c=null;try{zu=zu||Lg(o);let h=a?String(a):"";c=zu.getInertBodyElement(h);let p=5,_=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=_,_=c.innerHTML,c=zu.getInertBodyElement(h)}while(h!==_);return zs((new sl).sanitizeChildren(Ks(c)||c))}finally{if(c){const h=Ks(c)||c;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ks(o){return"content"in o&&function My(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var di=(()=>((di=di||{})[di.NONE=0]="NONE",di[di.HTML=1]="HTML",di[di.STYLE=2]="STYLE",di[di.SCRIPT=3]="SCRIPT",di[di.URL=4]="URL",di[di.RESOURCE_URL=5]="RESOURCE_URL",di))();function qu(o){const a=function al(){const o=Tt();return o&&o[12]}();return a?a.sanitize(di.URL,o)||"":Ys(o,"URL")?kr(o):il(B(o))}const uf=new Qn("ENVIRONMENT_INITIALIZER"),Hg=new Qn("INJECTOR",-1),Gg=new Qn("INJECTOR_DEF_TYPES");class zg{get(a,c=ys){if(c===ys){const h=new Error(`NullInjectorError: No provider for ${te(a)}!`);throw h.name="NullInjectorError",h}return c}}function Wg(...o){return{\u0275providers:Zu(0,o)}}function Zu(o,...a){const c=[],h=new Set;let p;return ns(a,_=>{const C=_;Ac(C,c,[],h)&&(p||(p=[]),p.push(C))}),void 0!==p&&Ku(p,c),c}function Ku(o,a){for(let c=0;c<o.length;c++){const{providers:p}=o[c];ns(p,_=>{a.push(_)})}}function Ac(o,a,c,h){if(!(o=k(o)))return!1;let p=null,_=Ye(o);const C=!_&&qe(o);if(_||C){if(C&&!C.standalone)return!1;p=o}else{const O=o.ngModule;if(_=Ye(O),!_)return!1;p=O}const T=h.has(p);if(C){if(T)return!1;if(h.add(p),C.dependencies){const O="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const Z of O)Ac(Z,a,c,h)}}else{if(!_)return!1;{if(null!=_.imports&&!T){let Z;h.add(p);try{ns(_.imports,he=>{Ac(he,a,c,h)&&(Z||(Z=[]),Z.push(he))})}finally{}void 0!==Z&&Ku(Z,a)}if(!T){const Z=ps(p)||(()=>new p);a.push({provide:p,useFactory:Z,deps:Ce},{provide:Gg,useValue:p,multi:!0},{provide:uf,useValue:()=>xn(p),multi:!0})}const O=_.providers;null==O||T||ns(O,he=>{a.push(he)})}}return p!==o&&void 0!==o.providers}const Ju=ue({provide:String,useValue:ue});function Tc(o){return null!==o&&"object"==typeof o&&Ju in o}function Fr(o){return"function"==typeof o}const ll=new Qn("Set Injector scope."),cl={},pa={};let Dc;function Qu(){return void 0===Dc&&(Dc=new zg),Dc}class Yi{}class Xu extends Yi{constructor(a,c,h,p){super(),this.parent=c,this.source=h,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mo(a,C=>this.processProvider(C)),this.records.set(Hg,Fi(void 0,this)),p.has("environment")&&this.records.set(Yi,Fi(void 0,this));const _=this.records.get(ll);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Gg.multi,Ce,je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=Eo(this),h=Oe(void 0);try{return a()}finally{Eo(c),Oe(h)}}get(a,c=ys,h=je.Default){this.assertNotDestroyed();const p=Eo(this),_=Oe(void 0);try{if(!(h&je.SkipSelf)){let T=this.records.get(a);if(void 0===T){const O=function Oy(o){return"function"==typeof o||"object"==typeof o&&o instanceof Qn}(a)&&be(a);T=O&&this.injectableDefInScope(O)?Fi(Ic(a),cl):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(h&je.Self?Qu():this.parent).get(a,c=h&je.Optional&&c===ys?null:c)}catch(C){if("NullInjectorError"===C.name){if((C[_r]=C[_r]||[]).unshift(te(a)),p)throw C;return function by(o,a,c,h){const p=o[_r];throw a[bi]&&p.unshift(a[bi]),o.message=function Gs(o,a,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let p=te(a);if(Array.isArray(a))p=a.map(te).join(" -> ");else if("object"==typeof a){let _=[];for(let C in a)if(a.hasOwnProperty(C)){let T=a[C];_.push(C+":"+("string"==typeof T?JSON.stringify(T):te(T)))}p=`{${_.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${o.replace(Nr,"\n  ")}`}("\n"+o.message,p,c,h),o.ngTokenPath=p,o[_r]=null,o}(C,a,"R3InjectorError",this.source)}throw C}finally{Oe(_),Eo(p)}}resolveInjectorInitializers(){const a=Eo(this),c=Oe(void 0);try{const h=this.get(uf.multi,Ce,je.Self);for(const p of h)p()}finally{Eo(a),Oe(c)}}toString(){const a=[],c=this.records;for(const h of c.keys())a.push(te(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(a){let c=Fr(a=k(a))?a:k(a&&a.provide);const h=function df(o){return Tc(o)?Fi(void 0,o.useValue):Fi(xc(o),cl)}(a);if(Fr(a)||!0!==a.multi)this.records.get(c);else{let p=this.records.get(c);p||(p=Fi(void 0,cl,!0),p.factory=()=>ki(p.multi),this.records.set(c,p)),c=a,p.multi.push(a)}this.records.set(c,h)}hydrate(a,c){return c.value===cl&&(c.value=pa,c.value=c.factory()),"object"==typeof c.value&&c.value&&function hf(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=k(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Ic(o){const a=be(o),c=null!==a?a.factory:ps(o);if(null!==c)return c;if(o instanceof Qn)throw new L(204,!1);if(o instanceof Function)return function Yg(o){const a=o.length;if(a>0)throw wo(a,"?"),new L(204,!1);const c=function Fe(o){const a=o&&(o[nt]||o[Lt]);if(a){const c=function Ge(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new L(204,!1)}function xc(o,a,c){let h;if(Fr(o)){const p=k(o);return ps(p)||Ic(p)}if(Tc(o))h=()=>k(o.useValue);else if(function vr(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...ki(o.deps||[]));else if(function tr(o){return!(!o||!o.useExisting)}(o))h=()=>xn(k(o.useExisting));else{const p=k(o&&(o.useClass||o.provide));if(!function ga(o){return!!o.deps}(o))return ps(p)||Ic(p);h=()=>new p(...ki(o.deps))}return h}function Fi(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function ss(o){return!!o.\u0275providers}function Mo(o,a){for(const c of o)Array.isArray(c)?Mo(c,a):ss(c)?Mo(c.\u0275providers,a):a(c)}class ed{}class id{resolveComponentFactory(a){throw function Zg(o){const a=Error(`No component factory found for ${te(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let ma=(()=>{class o{}return o.NULL=new id,o})();function Ry(){return w(Di(),Tt())}function w(o,a){return new g(Hr(o,a))}let g=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Ry,o})();function v(o){return o instanceof g?o.nativeElement:o}class Q{}let ve=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function He(){const o=Tt(),c=Bn(Di().index,o);return(lr(c)?c:o)[11]}(),o})(),dt=(()=>{class o{}return o.\u0275prov=X({token:o,providedIn:"root",factory:()=>null}),o})();class Ft{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Kt=new Ft("14.2.9"),hn={};function Ly(o){return o.ngOriginalError}class mf{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Ly(a);for(;c&&Ly(c);)c=Ly(c);return c||null}}const qT=/^>|^->|<!--|-->|--!>|<!-$/g,TR=/(<|>)/;const By=new Map;let JT=0;const tm="__ngContext__";function nr(o,a){lr(a)?(o[tm]=a[20],function XT(o){By.set(o[20],o)}(a)):o[tm]=a}function ya(o){return o instanceof Function?o():o}var Oo=(()=>((Oo=Oo||{})[Oo.Important=1]="Important",Oo[Oo.DashCase=2]="DashCase",Oo))();let $y;function Hy(o,a){return $y(o,a)}function ad(o){const a=o[3];return cr(a)?a[3]:a}function rm(o){return tE(o[13])}function sm(o){return tE(o[4])}function tE(o){for(;null!==o&&!cr(o);)o=o[4];return o}function ld(o,a,c,h,p){if(null!=h){let _,C=!1;cr(h)?_=h:lr(h)&&(C=!0,h=h[0]);const T=vi(h);0===o&&null!==c?null==p?lE(a,c,T):Ro(a,c,T,p||null,!0):1===o&&null!==c?Ro(a,c,T,p||null,!0):2===o?fD(a,T,C):3===o&&a.destroyNode(T),null!=_&&function OR(o,a,c,h,p){const _=c[7];_!==vi(c)&&ld(a,o,h,_,p);for(let T=10;T<c.length;T++){const O=c[T];Pc(O[1],O,o,a,h,_)}}(a,o,_,c,p)}}function zy(o,a){return o.createText(a)}function nE(o,a,c){o.setValue(a,c)}function cD(o,a){return o.createComment(function Qg(o){return o.replace(qT,a=>a.replace(TR,"\u200b$1\u200b"))}(a))}function om(o,a,c){return o.createElement(a,c)}function sE(o,a){const c=o[9],h=c.indexOf(a),p=a[3];512&a[2]&&(a[2]&=-513,Ha(p,-1)),c.splice(h,1)}function qy(o,a){if(o.length<=10)return;const c=10+a,h=o[c];if(h){const p=h[17];null!==p&&p!==o&&sE(p,h),a>0&&(o[c-1][4]=h[4]);const _=ui(o,10+a);!function Wy(o,a){Pc(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const C=_[19];null!==C&&C.detachView(_[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function yf(o,a){if(!(128&a[2])){const c=a[11];c.destroyNode&&Pc(o,a,c,3,null,null),function MR(o){let a=o[13];if(!a)return am(o[1],o);for(;a;){let c=null;if(lr(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==o;)lr(a)&&am(a[1],a),a=a[3];null===a&&(a=o),lr(a)&&am(a[1],a),c=a&&a[4]}a=c}}(a)}}function am(o,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Zy(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const p=a[c[h]];if(!(p instanceof bo)){const _=c[h+1];if(Array.isArray(_))for(let C=0;C<_.length;C+=2){const T=p[_[C]],O=_[C+1];try{O.call(T)}finally{}}else try{_.call(p)}finally{}}}}(o,a),function Yy(o,a){const c=o.cleanup,h=a[7];let p=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const C=c[_+1],T="function"==typeof C?C(a):vi(a[C]),O=h[p=c[_+2]],Z=c[_+3];"boolean"==typeof Z?T.removeEventListener(c[_],O,Z):Z>=0?h[p=Z]():h[p=-Z].unsubscribe(),_+=2}else{const C=h[p=c[_+1]];c[_].call(C)}if(null!==h){for(let _=p+1;_<h.length;_++)(0,h[_])();a[7]=null}}(o,a),1===a[1].type&&a[11].destroy();const c=a[17];if(null!==c&&cr(a[3])){c!==a[3]&&sE(c,a);const h=a[19];null!==h&&h.detachView(o)}!function eD(o){By.delete(o[20])}(a)}}function oE(o,a,c){return aE(o,a.parent,c)}function aE(o,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===Mt.None||p===Mt.Emulated)return null}return Hr(h,c)}function Ro(o,a,c,h,p){o.insertBefore(a,c,h,p)}function lE(o,a,c){o.appendChild(a,c)}function cE(o,a,c,h,p){null!==h?Ro(o,a,c,h,p):lE(o,a,c)}function lm(o,a){return o.parentNode(a)}function Zi(o,a,c){return Ky(o,a,c)}function dE(o,a,c){return 40&o.type?Hr(o,c):null}let cd,Ky=dE;function bf(o,a){Ky=o,cd=a}function wf(o,a,c,h){const p=oE(o,h,a),_=a[11],T=Zi(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(c))for(let O=0;O<c.length;O++)cE(_,p,c[O],T,!1);else cE(_,p,c,T,!1);void 0!==cd&&cd(_,h,a,c,p)}function cm(o,a){if(null!==a){const c=a.type;if(3&c)return Hr(a,o);if(4&c)return hE(-1,o[a.index]);if(8&c){const h=a.child;if(null!==h)return cm(o,h);{const p=o[a.index];return cr(p)?hE(-1,p):vi(p)}}if(32&c)return Hy(a,o)()||vi(o[a.index]);{const h=Jy(o,a);return null!==h?Array.isArray(h)?h[0]:cm(ad(o[16]),h):cm(o,a.next)}}return null}function Jy(o,a){return null!==a?o[16][6].projection[a.projection]:null}function hE(o,a){const c=10+o+1;if(c<a.length){const h=a[c],p=h[1].firstChild;if(null!==p)return cm(h,p)}return a[7]}function fD(o,a,c){const h=lm(o,a);h&&function hD(o,a,c,h){o.removeChild(a,c,h)}(o,h,a,c)}function Qy(o,a,c,h,p,_,C){for(;null!=c;){const T=h[c.index],O=c.type;if(C&&0===a&&(T&&nr(vi(T),h),c.flags|=4),64!=(64&c.flags))if(8&O)Qy(o,a,c.child,h,p,_,!1),ld(a,o,p,T,_);else if(32&O){const Z=Hy(c,h);let he;for(;he=Z();)ld(a,o,p,he,_);ld(a,o,p,T,_)}else 16&O?Cf(o,a,h,c,p,_):ld(a,o,p,T,_);c=C?c.projectionNext:c.next}}function Pc(o,a,c,h,p,_){Qy(c,h,o.firstChild,a,p,_,!1)}function Cf(o,a,c,h,p,_){const C=c[16],O=C[6].projection[h.projection];if(Array.isArray(O))for(let Z=0;Z<O.length;Z++)ld(a,o,p,O[Z],_);else Qy(o,a,O,C[3],p,_,!0)}function Oc(o,a,c){o.setAttribute(a,"style",c)}function Ef(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function pD(o,a,c){let h=o.length;for(;;){const p=o.indexOf(a,c);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const _=a.length;if(p+_===h||o.charCodeAt(p+_)<=32)return p}c=p+1}}const Xy="ng-template";function e0(o,a,c){let h=0;for(;h<o.length;){let p=o[h++];if(c&&"class"===p){if(p=o[h],-1!==pD(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function gE(o){return 4===o.type&&o.value!==Xy}function mD(o,a,c){return a===(4!==o.type||c?o.value:Xy)}function _D(o,a,c){let h=4;const p=o.attrs||[],_=function RR(o){for(let a=0;a<o.length;a++)if(tc(o[a]))return a;return o.length}(p);let C=!1;for(let T=0;T<a.length;T++){const O=a[T];if("number"!=typeof O){if(!C)if(4&h){if(h=2|1&h,""!==O&&!mD(o,O,c)||""===O&&1===a.length){if(Es(h))return!1;C=!0}}else{const Z=8&h?O:a[++T];if(8&h&&null!==o.attrs){if(!e0(o.attrs,Z,c)){if(Es(h))return!1;C=!0}continue}const De=vD(8&h?"class":O,p,gE(o),c);if(-1===De){if(Es(h))return!1;C=!0;continue}if(""!==Z){let Ve;Ve=De>_?"":p[De+1].toLowerCase();const it=8&h?Ve:null;if(it&&-1!==pD(it,Z,0)||2&h&&Z!==Ve){if(Es(h))return!1;C=!0}}}}else{if(!C&&!Es(h)&&!Es(O))return!1;if(C&&Es(O))continue;C=!1,h=O|1&h}}return Es(h)||C}function Es(o){return 0==(1&o)}function vD(o,a,c,h){if(null===a)return-1;let p=0;if(h||!c){let _=!1;for(;p<a.length;){const C=a[p];if(C===o)return p;if(3===C||6===C)_=!0;else{if(1===C||2===C){let T=a[++p];for(;"string"==typeof T;)T=a[++p];continue}if(4===C)break;if(0===C){p+=4;continue}}p+=_?1:2}return-1}return function mE(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,o)}function yD(o,a,c=!1){for(let h=0;h<a.length;h++)if(_D(o,a[h],c))return!0;return!1}function bD(o,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function _E(o,a){return o?":not("+a.trim()+")":a}function dm(o){let a=o[0],c=1,h=2,p="",_=!1;for(;c<o.length;){let C=o[c];if("string"==typeof C)if(2&h){const T=o[++c];p+="["+C+(T.length>0?'="'+T+'"':"")+"]"}else 8&h?p+="."+C:4&h&&(p+=" "+C);else""!==p&&!Es(C)&&(a+=_E(_,p),p=""),h=C,_=_||!Es(h);c++}return""!==p&&(a+=_E(_,p)),a}const En={};function vE(o){yE(Rn(),Tt(),$i()+o,!1)}function yE(o,a,c,h){if(!h)if(3==(3&a[2])){const _=o.preOrderCheckHooks;null!==_&&Xl(a,_,c)}else{const _=o.preOrderHooks;null!==_&&ia(a,_,0,c)}Rr(c)}function fm(o,a=null,c=null,h){const p=dd(o,a,c,h);return p.resolveInjectorInitializers(),p}function dd(o,a=null,c=null,h,p=new Set){const _=[c||Ce,Wg(o)];return h=h||("object"==typeof o?void 0:te(o)),new Xu(_,a||Qu(),h||null,p)}let Rc=(()=>{class o{static create(c,h){if(Array.isArray(c))return fm({name:""},h,c,"");{const p=c.name??"";return fm({name:p},c.parent,c.providers,p)}}}return o.THROW_IF_NOT_FOUND=ys,o.NULL=new zg,o.\u0275prov=X({token:o,providedIn:"any",factory:()=>xn(Hg)}),o.__NG_ELEMENT_ID__=-1,o})();function hd(o,a=je.Default){const c=Tt();return null===c?xn(o,a):cc(Di(),c,k(o),a)}function DE(){throw new Error("invalid")}function gm(o,a){return o<<17|a<<2}function Ki(o){return o>>17&32767}function mm(o){return 2|o}function Qs(o){return(131068&o)>>2}function Df(o,a){return-131069&o|a<<2}function _m(o){return 1|o}function VE(o,a){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const p=c[h],_=c[h+1];if(-1!==_){const C=o.data[_];Kl(p),C.contentQueries(2,a[_],_)}}}function Am(o,a,c,h,p,_,C,T,O,Z,he){const De=a.blueprint.slice();return De[0]=p,De[2]=76|h,(null!==he||o&&1024&o[2])&&(De[2]|=1024),bu(De),De[3]=De[15]=o,De[8]=c,De[10]=C||o&&o[10],De[11]=T||o&&o[11],De[12]=O||o&&o[12]||null,De[9]=Z||o&&o[9]||null,De[6]=_,De[20]=function QT(){return JT++}(),De[21]=he,De[16]=2==a.type?o[16]:De,De}function pl(o,a,c,h,p){let _=o.data[a];if(null===_)_=Mf(o,a,c,h,p),function NC(){return yn.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=h,_.attrs=p;const C=Ga();_.injectorIndex=null===C?-1:C.injectorIndex}return gs(_,!0),_}function Mf(o,a,c,h,p){const _=pg(),C=Cu(),O=o.data[a]=function E0(o,a,c,h,p,_){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?_:_&&_.parent,c,a,h,p);return null===o.firstChild&&(o.firstChild=O),null!==_&&(C?null==_.child&&null!==O.parent&&(_.child=O):null===_.next&&(_.next=O)),O}function gd(o,a,c,h){if(0===c)return-1;const p=a.length;for(let _=0;_<c;_++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function Pf(o,a,c){vg(a);try{const h=o.viewQuery;null!==h&&tS(1,h,c);const p=o.template;null!==p&&jE(o,a,p,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&VE(o,a),o.staticViewQueries&&tS(2,o.viewQuery,c);const _=o.components;null!==_&&function y0(o,a){for(let c=0;c<a.length;c++)zD(o,a[c])}(a,_)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Jl()}}function Of(o,a,c,h){const p=a[2];if(128!=(128&p)){vg(a);try{bu(a),function Mh(o){return yn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&jE(o,a,c,2,h);const C=3==(3&p);if(C){const Z=o.preOrderCheckHooks;null!==Z&&Xl(a,Z,null)}else{const Z=o.preOrderHooks;null!==Z&&ia(a,Z,0,null),Lh(a,0)}if(function WR(o){for(let a=rm(o);null!==a;a=sm(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const p=c[h],_=p[3];0==(512&p[2])&&Ha(_,1),p[2]|=512}}}(a),function I0(o){for(let a=rm(o);null!==a;a=sm(a))for(let c=10;c<a.length;c++){const h=a[c],p=h[1];ea(h)&&Of(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&VE(o,a),C){const Z=o.contentCheckHooks;null!==Z&&Xl(a,Z)}else{const Z=o.contentHooks;null!==Z&&ia(a,Z,1),Lh(a,1)}!function BE(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Rr(~p);else{const _=p,C=c[++h],T=c[++h];kC(C,_),T(2,a[_])}}}finally{Rr(-1)}}(o,a);const T=o.components;null!==T&&function kD(o,a){for(let c=0;c<a.length;c++)GD(o,a[c])}(a,T);const O=o.viewQuery;if(null!==O&&tS(2,O,h),C){const Z=o.viewCheckHooks;null!==Z&&Xl(a,Z)}else{const Z=o.viewHooks;null!==Z&&ia(a,Z,2),Lh(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Ha(a[3],-1))}finally{Jl()}}}function jE(o,a,c,h,p){const _=$i(),C=2&h;try{Rr(-1),C&&a.length>22&&yE(o,a,22,!1),c(h,p)}finally{Rr(_)}}function Tm(o,a,c){if(ja(a)){const p=a.directiveEnd;for(let _=a.directiveStart;_<p;_++){const C=o.data[_];C.contentQueries&&C.contentQueries(1,c[_],_)}}}function Dm(o,a,c){!ta()||(function YE(o,a,c,h){const p=c.directiveStart,_=c.directiveEnd;o.firstCreatePass||ac(c,a),nr(h,a);const C=c.initialInputs;for(let T=p;T<_;T++){const O=o.data[T],Z=$r(O);Z&&jD(a,c,O);const he=sa(a,o,T,c);nr(he,a),null!==C&&UD(0,T-p,he,O,0,C),Z&&(Bn(c.index,a)[8]=he)}}(o,a,c,Hr(c,a)),128==(128&c.flags)&&function BD(o,a,c){const h=c.directiveStart,p=c.directiveEnd,_=c.index,C=function mg(){return yn.lFrame.currentDirectiveIndex}();try{Rr(_);for(let T=h;T<p;T++){const O=o.data[T],Z=a[T];_g(T),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&ZE(O,Z)}}finally{Rr(-1),_g(C)}}(o,a,c))}function b0(o,a,c=Hr){const h=a.localNames;if(null!==h){let p=a.index+1;for(let _=0;_<h.length;_+=2){const C=h[_+1],T=-1===C?c(a,o):o[C];o[p++]=T}}}function UE(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=w0(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function w0(o,a,c,h,p,_,C,T,O,Z){const he=22+h,De=he+p,Ve=function FD(o,a){const c=[];for(let h=0;h<a;h++)c.push(h<o?null:En);return c}(he,De),it="function"==typeof Z?Z():Z;return Ve[1]={type:o,blueprint:Ve,template:c,queries:null,viewQuery:T,declTNode:a,data:Ve.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:O,consts:it,incompleteFirstPass:!1}}function $E(o,a,c,h){const p=qD(a);null===c?p.push(h):(p.push(c),o.firstCreatePass&&nS(o).push(h,p.length-1))}function HE(o,a,c){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,p):c[h]=[a,p]}return c}function Im(o,a){const h=a.directiveEnd,p=o.data,_=a.attrs,C=[];let T=null,O=null;for(let Z=a.directiveStart;Z<h;Z++){const he=p[Z],De=he.inputs,Ve=null===_||gE(a)?null:$D(De,_);C.push(Ve),T=HE(De,Z,T),O=HE(he.outputs,Z,O)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=16),T.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=C,a.inputs=T,a.outputs=O}function Lr(o,a,c,h,p,_,C,T){const O=Hr(a,c);let he,Z=a.inputs;!T&&null!=Z&&(he=Z[h])?(P0(o,c,he,h,p),Ko(a)&&GE(c,a.index)):3&a.type&&(h=function LD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=C?C(p,a.value||"",h):p,_.setProperty(O,h,p))}function GE(o,a){const c=Bn(a,o);16&c[2]||(c[2]|=32)}function WE(o,a,c,h){let p=!1;if(ta()){const _=function VD(o,a,c){const h=o.directiveRegistry;let p=null;if(h)for(let _=0;_<h.length;_++){const C=h[_];yD(c,C.selectors,!1)&&(p||(p=[]),qa(ac(c,a),o,C.type),$r(C)?(KE(o,c),p.unshift(C)):p.push(C))}return p}(o,a,c),C=null===h?null:{"":-1};if(null!==_){p=!0,QE(c,o.data.length,_.length);for(let he=0;he<_.length;he++){const De=_[he];De.providersResolver&&De.providersResolver(De)}let T=!1,O=!1,Z=gd(o,a,_.length,null);for(let he=0;he<_.length;he++){const De=_[he];c.mergedAttrs=nc(c.mergedAttrs,De.hostAttrs),T0(o,c,a,Z,De),JE(Z,De,C),null!==De.contentQueries&&(c.flags|=8),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(c.flags|=128);const Ve=De.type.prototype;!T&&(Ve.ngOnChanges||Ve.ngOnInit||Ve.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),T=!0),!O&&(Ve.ngOnChanges||Ve.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),O=!0),Z++}Im(o,c)}C&&function A0(o,a,c){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const _=c[a[p+1]];if(null==_)throw new L(-301,!1);h.push(a[p],_)}}}(c,h,C)}return c.mergedAttrs=nc(c.mergedAttrs,c.attrs),p}function qE(o,a,c,h,p,_){const C=_.hostBindings;if(C){let T=o.hostBindingOpCodes;null===T&&(T=o.hostBindingOpCodes=[]);const O=~a.index;(function S0(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(T)!=O&&T.push(O),T.push(h,p,C)}}function ZE(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function KE(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function JE(o,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=o;$r(a)&&(c[""]=o)}}function QE(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function T0(o,a,c,h,p){o.data[h]=p;const _=p.factory||(p.factory=ps(p.type)),C=new bo(_,$r(p),hd);o.blueprint[h]=C,c[h]=C,qE(o,a,0,h,gd(o,c,p.hostVars,En),p)}function jD(o,a,c){const h=Hr(a,o),p=UE(c),_=o[10],C=md(o,Am(o,p,null,c.onPush?32:16,h,a,_,_.createRenderer(h,c),null,null,null));o[a.index]=C}function D0(o,a,c,h,p,_,C){if(null==_)o.removeAttribute(a,p,c);else{const T=null==C?B(_):C(_,h||"",p);o.setAttribute(a,p,T,c)}}function UD(o,a,c,h,p,_){const C=_[a];if(null!==C){const T=h.setInput;for(let O=0;O<C.length;){const Z=C[O++],he=C[O++],De=C[O++];null!==T?h.setInput(c,De,Z,he):c[he]=De}}}function $D(o,a){let c=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return c}function XE(o,a,c,h){return new Array(o,!0,!1,a,null,0,h,c,null,null)}function GD(o,a){const c=Bn(a,o);if(ea(c)){const h=c[1];48&c[2]?Of(h,c,h.template,c[8]):c[5]>0&&Rf(c)}}function Rf(o){for(let h=rm(o);null!==h;h=sm(h))for(let p=10;p<h.length;p++){const _=h[p];if(ea(_))if(512&_[2]){const C=_[1];Of(C,_,C.template,_[8])}else _[5]>0&&Rf(_)}const c=o[1].components;if(null!==c)for(let h=0;h<c.length;h++){const p=Bn(c[h],o);ea(p)&&p[5]>0&&Rf(p)}}function zD(o,a){const c=Bn(a,o),h=c[1];(function WD(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(h,c),Pf(h,c,c[8])}function md(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function eS(o){for(;o;){o[2]|=32;const a=ad(o);if(ng(o)&&!a)return o;o=a}return null}function x0(o,a,c,h=!0){const p=a[10];p.begin&&p.begin();try{Of(o,a,o.template,c)}catch(C){throw h&&rS(a,C),C}finally{p.end&&p.end()}}function tS(o,a,c){Kl(0),a(o,c)}function qD(o){return o[7]||(o[7]=[])}function nS(o){return o.cleanup||(o.cleanup=[])}function rS(o,a){const c=o[9],h=c?c.get(mf,null):null;h&&h.handleError(a)}function P0(o,a,c,h,p){for(let _=0;_<c.length;){const C=c[_++],T=c[_++],O=a[C],Z=o.data[C];null!==Z.setInput?Z.setInput(O,p,h,T):O[T]=p}}function xm(o,a,c){let h=c?o.styles:null,p=c?o.classes:null,_=0;if(null!==a)for(let C=0;C<a.length;C++){const T=a[C];"number"==typeof T?_=T:1==_?p=W(p,T):2==_&&(h=W(h,T+": "+a[++C]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=p:o.classesWithoutHost=p}function Mm(o,a,c,h,p=!1){for(;null!==c;){const _=a[c.index];if(null!==_&&h.push(vi(_)),cr(_))for(let T=10;T<_.length;T++){const O=_[T],Z=O[1].firstChild;null!==Z&&Mm(O[1],O,Z,h)}const C=c.type;if(8&C)Mm(o,a,c.child,h);else if(32&C){const T=Hy(c,a);let O;for(;O=T();)h.push(O)}else if(16&C){const T=Jy(a,c);if(Array.isArray(T))h.push(...T);else{const O=ad(a[16]);Mm(O[1],O,T,h,!0)}}c=p?c.projectionNext:c.next}return h}class Nf{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Mm(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(cr(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(qy(a,h),ui(c,h))}this._attachedToViewContainer=!1}yf(this._lView[1],this._lView)}onDestroy(a){$E(this._lView[1],this._lView,null,a)}markForCheck(){eS(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){x0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rE(o,a){Pc(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=a}}class YD extends Nf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;x0(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class O0 extends ma{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=qe(a);return new Ff(c,this.ngModule)}}function kf(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class ZD{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,h){const p=this.injector.get(a,hn,h);return p!==hn||c===hn?p:this.parentInjector.get(a,c,h)}}class Ff extends ed{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function wD(o){return o.map(dm).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return kf(this.componentDef.inputs)}get outputs(){return kf(this.componentDef.outputs)}create(a,c,h,p){let _=(p=p||this.ngModule)instanceof Yi?p:p?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const C=_?new ZD(a,_):a,T=C.get(Q,null);if(null===T)throw new L(407,!1);const O=C.get(dt,null),Z=T.createRenderer(null,this.componentDef),he=this.componentDef.selectors[0][0]||"div",De=h?function C0(o,a,c){return o.selectRootElement(a,c===Mt.ShadowDom)}(Z,h,this.componentDef.encapsulation):om(T.createRenderer(null,this.componentDef),he,function Bc(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(he)),Ve=this.componentDef.onPush?288:272,it=w0(0,null,null,1,0,null,null,null,null,null),vt=Am(null,it,null,Ve,null,null,T,Z,O,C,null);let Pt,Rt;vg(vt);try{const Qt=function ZR(o,a,c,h,p,_){const C=c[1];c[22]=o;const O=pl(C,22,2,"#host",null),Z=O.mergedAttrs=a.hostAttrs;null!==Z&&(xm(O,Z,!0),null!==o&&(Wa(p,o,Z),null!==O.classes&&Ef(p,o,O.classes),null!==O.styles&&Oc(p,o,O.styles)));const he=h.createRenderer(o,a),De=Am(c,UE(a),null,a.onPush?32:16,c[22],O,h,he,_||null,null,null);return C.firstCreatePass&&(qa(ac(O,c),C,a.type),KE(C,O),QE(O,c.length,1)),md(c,De),c[22]=De}(De,this.componentDef,vt,T,Z);if(De)if(h)Wa(Z,De,["ng-version",Kt.full]);else{const{attrs:un,classes:Dt}=function CD(o){const a=[],c=[];let h=1,p=2;for(;h<o.length;){let _=o[h];if("string"==typeof _)2===p?""!==_&&a.push(_,o[++h]):8===p&&c.push(_);else{if(!Es(p))break;p=_}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);un&&Wa(Z,De,un),Dt&&Dt.length>0&&Ef(Z,De,Dt.join(" "))}if(Rt=$a(it,22),void 0!==c){const un=Rt.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const mn=c[Dt];un.push(null!=mn?Array.from(mn):null)}}Pt=function R0(o,a,c,h){const p=c[1],_=function zR(o,a,c){const h=Di();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),T0(o,h,a,gd(o,a,1,null),c),Im(o,h));const p=sa(a,o,h.directiveStart,h);nr(p,a);const _=Hr(h,a);return _&&nr(_,a),p}(p,c,a);if(o[8]=c[8]=_,null!==h)for(const T of h)T(_,a);if(a.contentQueries){const T=Di();a.contentQueries(1,_,T.directiveStart)}const C=Di();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Rr(C.index),qE(c[1],C,0,C.directiveStart,C.directiveEnd,a),ZE(a,_)),_}(Qt,this.componentDef,vt,[QD]),Pf(it,vt,null)}finally{Jl()}return new JD(this.componentType,Pt,w(Rt,vt),vt,Rt)}}class JD extends class ff{}{constructor(a,c,h,p,_){super(),this.location=h,this._rootLView=p,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new YD(p),this.componentType=a}setInput(a,c){const h=this._tNode.inputs;let p;if(null!==h&&(p=h[a])){const _=this._rootLView;P0(_[1],_,p,a,c),GE(_,this._tNode.index)}}get injector(){return new Ka(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function QD(){const o=Di();Ql(Tt()[1],o)}function N0(o){let a=function Pm(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;a;){let p;if($r(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new L(903,!1);p=a.\u0275dir}if(p){if(c){h.push(p);const C=o;C.inputs=Om(o.inputs),C.declaredInputs=Om(o.declaredInputs),C.outputs=Om(o.outputs);const T=p.hostBindings;T&&tI(o,T);const O=p.viewQuery,Z=p.contentQueries;if(O&&eI(o,O),Z&&sS(o,Z),F(o.inputs,p.inputs),F(o.declaredInputs,p.declaredInputs),F(o.outputs,p.outputs),$r(p)&&p.data.animation){const he=o.data;he.animation=(he.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let C=0;C<_.length;C++){const T=_[C];T&&T.ngInherit&&T(o),T===N0&&(c=!1)}}a=Object.getPrototypeOf(a)}!function XD(o){let a=0,c=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=nc(p.hostAttrs,c=nc(c,p.hostAttrs))}}(h)}function Om(o){return o===Te?{}:o===Ce?[]:o}function eI(o,a){const c=o.viewQuery;o.viewQuery=c?(h,p)=>{a(h,p),c(h,p)}:a}function sS(o,a){const c=o.contentQueries;o.contentQueries=c?(h,p,_)=>{a(h,p,_),c(h,p,_)}:a}function tI(o,a){const c=o.hostBindings;o.hostBindings=c?(h,p)=>{a(h,p),c(h,p)}:a}let Ea=null;function Br(){if(!Ea){const o=Zt.Symbol;if(o&&o.iterator)Ea=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Ea=h)}}}return Ea}function Vc(o){return!!k0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Br()in o)}function k0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function No(o,a,c){return o[a]=c}function wr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function os(o,a,c,h){const p=wr(o,a,c);return wr(o,a+1,h)||p}function Rm(o,a,c,h){const p=Tt();return wr(p,na(),a)&&(Rn(),function wi(o,a,c,h,p,_){const C=Hr(o,a);D0(a[11],C,_,o.value,c,h,p)}(si(),p,o,a,c,h)),Rm}function ml(o,a,c,h){return wr(o,na(),c)?a+B(c)+h:En}function jm(o,a,c,h,p,_,C,T){const O=Tt(),Z=Rn(),he=o+22,De=Z.firstCreatePass?function oI(o,a,c,h,p,_,C,T,O){const Z=a.consts,he=pl(a,o,4,C||null,Vs(Z,T));WE(a,c,he,Vs(Z,O)),Ql(a,he);const De=he.tViews=w0(2,he,h,p,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,Z);return null!==a.queries&&(a.queries.template(a,he),De.queries=a.queries.embeddedTView(he)),he}(he,Z,O,a,c,h,p,_,C):Z.data[he];gs(De,!1);const Ve=O[11].createComment("");wf(Z,O,Ve,De),nr(Ve,O),md(O,O[he]=XE(Ve,O,Ve,De)),Yl(De)&&Dm(Z,O,De),null!=C&&b0(O,De,T)}function Um(o){return Xo(function ry(){return yn.lFrame.contextLView}(),22+o)}function V0(o,a,c){const h=Tt();return wr(h,na(),a)&&Lr(Rn(),si(),h,o,a,h[11],c,!1),V0}function Bf(o,a,c,h,p){const C=p?"class":"style";P0(o,c,a.inputs[C],C,h)}function wd(o,a,c,h){const p=Tt(),_=Rn(),C=22+o,T=p[11],O=p[C]=om(T,a,function Su(){return yn.lFrame.currentNamespace}()),Z=_.firstCreatePass?function cS(o,a,c,h,p,_,C){const T=a.consts,Z=pl(a,o,2,p,Vs(T,_));return WE(a,c,Z,Vs(T,C)),null!==Z.attrs&&xm(Z,Z.attrs,!1),null!==Z.mergedAttrs&&xm(Z,Z.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,Z),Z}(C,_,p,0,a,c,h):_.data[C];gs(Z,!0);const he=Z.mergedAttrs;null!==he&&Wa(T,O,he);const De=Z.classes;null!==De&&Ef(T,O,De);const Ve=Z.styles;return null!==Ve&&Oc(T,O,Ve),64!=(64&Z.flags)&&wf(_,p,O,Z),0===function hg(){return yn.lFrame.elementDepthCount}()&&nr(O,p),function Th(){yn.lFrame.elementDepthCount++}(),Yl(Z)&&(Dm(_,p,Z),Tm(_,Z,p)),null!==h&&b0(p,Z),wd}function $m(){let o=Di();Cu()?Ih():(o=o.parent,gs(o,!1));const a=o;!function ny(){yn.lFrame.elementDepthCount--}();const c=Rn();return c.firstCreatePass&&(Ql(c,o),ja(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Au(o){return 0!=(16&o.flags)}(a)&&Bf(c,a,Tt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function wg(o){return 0!=(32&o.flags)}(a)&&Bf(c,a,Tt(),a.stylesWithoutHost,!1),$m}function Vf(o,a,c,h){return wd(o,a,c,h),$m(),Vf}function jf(o,a,c){const h=Tt(),p=Rn(),_=o+22,C=p.firstCreatePass?function aI(o,a,c,h,p){const _=a.consts,C=Vs(_,h),T=pl(a,o,8,"ng-container",C);return null!==C&&xm(T,C,!0),WE(a,c,T,Vs(_,p)),null!==a.queries&&a.queries.elementStart(a,T),T}(_,p,h,a,c):p.data[_];gs(C,!0);const T=h[_]=h[11].createComment("");return wf(p,h,T,C),nr(T,h),Yl(C)&&(Dm(p,h,C),Tm(p,C,h)),null!=c&&b0(h,C),jf}function Hm(){let o=Di();const a=Rn();return Cu()?Ih():(o=o.parent,gs(o,!1)),a.firstCreatePass&&(Ql(a,o),ja(o)&&a.queries.elementEnd(o)),Hm}function dS(){return Tt()}function j0(o){return!!o&&"function"==typeof o.then}function U0(o){return!!o&&"function"==typeof o.subscribe}const hS=U0;function Uf(o,a,c,h){const p=Tt(),_=Rn(),C=Di();return function Gm(o,a,c,h,p,_,C,T){const O=Yl(h),he=o.firstCreatePass&&nS(o),De=a[8],Ve=qD(a);let it=!0;if(3&h.type||T){const Rt=Hr(h,a),Qt=T?T(Rt):Rt,un=Ve.length,Dt=T?Un=>T(vi(Un[h.index])):h.index;let mn=null;if(!T&&O&&(mn=function pS(o,a,c,h){const p=o.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const C=p[_];if(C===c&&p[_+1]===h){const T=a[7],O=p[_+2];return T.length>O?T[O]:null}"string"==typeof C&&(_+=2)}return null}(o,a,p,h.index)),null!==mn)(mn.__ngLastListenerFn__||mn).__ngNextListenerFn__=_,mn.__ngLastListenerFn__=_,it=!1;else{_=zm(h,a,De,_,!1);const Un=c.listen(Qt,p,_);Ve.push(_,Un),he&&he.push(p,Dt,un,un+1)}}else _=zm(h,a,De,_,!1);const vt=h.outputs;let Pt;if(it&&null!==vt&&(Pt=vt[p])){const Rt=Pt.length;if(Rt)for(let Qt=0;Qt<Rt;Qt+=2){const pi=a[Pt[Qt]][Pt[Qt+1]].subscribe(_),Pl=Ve.length;Ve.push(_,pi),he&&he.push(p,h.index,Pl,-(Pl+1))}}}(_,p,p[11],C,o,a,0,h),Uf}function gS(o,a,c,h){try{return!1!==c(h)}catch(p){return rS(o,p),!1}}function zm(o,a,c,h,p){return function _(C){if(C===Function)return h;eS(2&o.flags?Bn(o.index,a):a);let O=gS(a,0,h,C),Z=_.__ngNextListenerFn__;for(;Z;)O=gS(a,0,Z,C)&&O,Z=Z.__ngNextListenerFn__;return p&&!1===O&&(C.preventDefault(),C.returnValue=!1),O}}function mS(o=1){return function za(o){return(yn.lFrame.contextLView=function kh(o,a){for(;o>0;)a=a[15],o--;return a}(o,yn.lFrame.contextLView))[8]}(o)}function $0(o,a){let c=null;const h=function um(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let p=0;p<a.length;p++){const _=a[p];if("*"!==_){if(null===h?yD(o,_,!0):bD(h,_))return p}else c=p}return c}function H0(o){const a=Tt()[16][6];if(!a.projection){const h=a.projection=wo(o?o.length:1,null),p=h.slice();let _=a.child;for(;null!==_;){const C=o?$0(_,o):0;null!==C&&(p[C]?p[C].projectionNext=_:h[C]=_,p[C]=_),_=_.next}}}function Wm(o,a=0,c){const h=Tt(),p=Rn(),_=pl(p,22+o,16,null,c||null);null===_.projection&&(_.projection=a),Ih(),64!=(64&_.flags)&&function fE(o,a,c){Cf(a[11],0,a,c,oE(o,c,a),Zi(c.parent||a[6],c,a))}(p,h,_)}function G0(o,a,c){return Cd(o,"",a,"",c),G0}function Cd(o,a,c,h,p){const _=Tt(),C=ml(_,a,c,h);return C!==En&&Lr(Rn(),si(),_,o,C,_[11],p,!1),Cd}function Ym(o,a,c,h,p){const _=o[c+1],C=null===a;let T=h?Ki(_):Qs(_),O=!1;for(;0!==T&&(!1===O||C);){const he=o[T+1];uI(o[T],a)&&(O=!0,o[T+1]=h?_m(he):mm(he)),T=h?Ki(he):Qs(he)}O&&(o[c+1]=h?mm(_):_m(_))}function uI(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&el(o,a)>=0}const ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dI(o){return o.substring(ir.key,ir.keyEnd)}function Y0(o){return o.substring(ir.value,ir.valueEnd)}function hI(o,a){const c=ir.textEnd;return c===a?-1:(a=ir.keyEnd=function fI(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,ir.key=a,c),Ed(o,a,c))}function CS(o,a){const c=ir.textEnd;let h=ir.key=Ed(o,a,c);return c===h?-1:(h=ir.keyEnd=function SS(o,a,c){let h;for(;a<c&&(45===(h=o.charCodeAt(a))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)a++;return a}(o,h,c),h=rr(o,h,c),h=ir.value=Ed(o,h,c),h=ir.valueEnd=function AS(o,a,c){let h=-1,p=-1,_=-1,C=a,T=C;for(;C<c;){const O=o.charCodeAt(C++);if(59===O)return T;34===O||39===O?T=C=TS(o,O,C,c):a===C-4&&85===_&&82===p&&76===h&&40===O?T=C=TS(o,41,C,c):O>32&&(T=C),_=p,p=h,h=-33&O}return T}(o,h,c),rr(o,h,c))}function ES(o){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=o.length}function Ed(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function rr(o,a,c,h){return(a=Ed(o,a,c))<c&&a++,a}function TS(o,a,c,h){let p=-1,_=c;for(;_<h;){const C=o.charCodeAt(_++);if(C==a&&92!==p)return _;p=92==C&&92===p?0:C}throw new Error}function Z0(o,a,c){return eo(o,a,c,!1),Z0}function $f(o,a){return eo(o,a,null,!0),$f}function Xs(o){to(Km,K0,o,!1)}function K0(o,a){for(let c=function Zm(o){return ES(o),CS(o,Ed(o,0,ir.textEnd))}(a);c>=0;c=CS(a,c))Km(o,dI(a),Y0(a))}function DS(o){to(kt,ko,o,!0)}function ko(o,a){for(let c=function QR(o){return ES(o),hI(o,Ed(o,0,ir.textEnd))}(a);c>=0;c=hI(a,c))kt(o,dI(a),!0)}function eo(o,a,c,h){const p=Tt(),_=Rn(),C=vo(2);_.firstUpdatePass&&IS(_,o,C,h),a!==En&&wr(p,C,a)&&Jm(_,_.data[$i()],p,p[11],o,p[C+1]=function vI(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=te(kr(o)))),o}(a,c),h,C)}function to(o,a,c,h){const p=Rn(),_=vo(2);p.firstUpdatePass&&IS(p,null,_,h);const C=Tt();if(c!==En&&wr(C,_,c)){const T=p.data[$i()];if(Xm(T,h)&&!Kr(p,_)){let O=h?T.classesWithoutHost:T.stylesWithoutHost;null!==O&&(c=W(O,c||"")),Bf(p,T,C,c,h)}else!function MS(o,a,c,h,p,_,C,T){p===En&&(p=Ce);let O=0,Z=0,he=0<p.length?p[0]:null,De=0<_.length?_[0]:null;for(;null!==he||null!==De;){const Ve=O<p.length?p[O+1]:void 0,it=Z<_.length?_[Z+1]:void 0;let Pt,vt=null;he===De?(O+=2,Z+=2,Ve!==it&&(vt=De,Pt=it)):null===De||null!==he&&he<De?(O+=2,vt=he):(Z+=2,vt=De,Pt=it),null!==vt&&Jm(o,a,c,h,vt,Pt,C,T),he=O<p.length?p[O]:null,De=Z<_.length?_[Z]:null}}(p,T,C,C[11],C[_+1],C[_+1]=function _I(o,a,c){if(null==c||""===c)return Ce;const h=[],p=kr(c);if(Array.isArray(p))for(let _=0;_<p.length;_++)o(h,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&o(h,_,p[_]);else"string"==typeof p&&a(h,p);return h}(o,a,c),h,_)}}function Kr(o,a){return a>=o.expandoStartIndex}function IS(o,a,c,h){const p=o.data;if(null===p[c+1]){const _=p[$i()],C=Kr(o,c);Xm(_,h)&&null===a&&!C&&(a=!1),a=function pI(o,a,c,h){const p=function Zl(o){const a=yn.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let _=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(c=jc(c=J0(null,o,a,c,h),a.attrs,h),_=null);else{const C=a.directiveStylingLast;if(-1===C||o[C]!==p)if(c=J0(p,o,a,c,h),null===_){let O=function gI(o,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==Qs(h))return o[Ki(h)]}(o,a,h);void 0!==O&&Array.isArray(O)&&(O=J0(null,o,a,O[1],h),O=jc(O,a.attrs,h),function xS(o,a,c,h){o[Ki(c?a.classBindings:a.styleBindings)]=h}(o,a,h,O))}else _=function mI(o,a,c){let h;const p=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<p;_++)h=jc(h,o[_].hostAttrs,c);return jc(h,a.attrs,c)}(o,a,h)}return void 0!==_&&(h?a.residualClasses=_:a.residualStyles=_),c}(p,_,a,h),function q0(o,a,c,h,p,_){let C=_?a.classBindings:a.styleBindings,T=Ki(C),O=Qs(C);o[h]=c;let he,Z=!1;if(Array.isArray(c)){const De=c;he=De[1],(null===he||el(De,he)>0)&&(Z=!0)}else he=c;if(p)if(0!==O){const Ve=Ki(o[T+1]);o[h+1]=gm(Ve,T),0!==Ve&&(o[Ve+1]=Df(o[Ve+1],h)),o[T+1]=function c0(o,a){return 131071&o|a<<17}(o[T+1],h)}else o[h+1]=gm(T,0),0!==T&&(o[T+1]=Df(o[T+1],h)),T=h;else o[h+1]=gm(O,0),0===T?T=h:o[O+1]=Df(o[O+1],h),O=h;Z&&(o[h+1]=mm(o[h+1])),Ym(o,he,h,!0),Ym(o,he,h,!1),function cI(o,a,c,h,p){const _=p?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof a&&el(_,a)>=0&&(c[h+1]=_m(c[h+1]))}(a,he,o,h,_),C=gm(T,O),_?a.classBindings=C:a.styleBindings=C}(p,_,a,c,C,h)}}function J0(o,a,c,h,p){let _=null;const C=c.directiveEnd;let T=c.directiveStylingLast;for(-1===T?T=c.directiveStart:T++;T<C&&(_=a[T],h=jc(h,_.hostAttrs,p),_!==o);)T++;return null!==o&&(c.directiveStylingLast=T),h}function jc(o,a,c){const h=c?1:2;let p=-1;if(null!==a)for(let _=0;_<a.length;_++){const C=a[_];"number"==typeof C?p=C:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),kt(o,C,!!c||a[++_]))}return void 0===o?null:o}function Km(o,a,c){kt(o,a,kr(c))}function Jm(o,a,c,h,p,_,C,T){if(!(3&a.type))return;const O=o.data,Z=O[T+1];Qm(function u0(o){return 1==(1&o)}(Z)?PS(O,a,c,p,Qs(Z),C):void 0)||(Qm(_)||function l0(o){return 2==(2&o)}(Z)&&(_=PS(O,null,c,p,T,C)),function pE(o,a,c,h,p){if(a)p?o.addClass(c,h):o.removeClass(c,h);else{let _=-1===h.indexOf("-")?void 0:Oo.DashCase;null==p?o.removeStyle(c,h,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=Oo.Important),o.setStyle(c,h,p,_))}}(h,C,Ua($i(),c),p,_))}function PS(o,a,c,h,p,_){const C=null===a;let T;for(;p>0;){const O=o[p],Z=Array.isArray(O),he=Z?O[1]:O,De=null===he;let Ve=c[p+1];Ve===En&&(Ve=De?Ce:void 0);let it=De?Zh(Ve,h):he===h?Ve:void 0;if(Z&&!Qm(it)&&(it=Zh(O,h)),Qm(it)&&(T=it,C))return T;const vt=o[p+1];p=C?Ki(vt):Qs(vt)}if(null!==a){let O=_?a.residualClasses:a.residualStyles;null!=O&&(T=Zh(O,h))}return T}function Qm(o){return void 0!==o}function Xm(o,a){return 0!=(o.flags&(a?16:32))}function OS(o,a=""){const c=Tt(),h=Rn(),p=o+22,_=h.firstCreatePass?pl(h,p,1,a,null):h.data[p],C=c[p]=zy(c[11],a);wf(h,c,C,_),gs(_,!1)}function Hf(o){return e_("",o,""),Hf}function e_(o,a,c){const h=Tt(),p=ml(h,o,a,c);return p!==En&&function Ca(o,a,c){const h=Ua(a,o);nE(o[11],h,c)}(h,$i(),p),e_}function Q0(o,a,c){to(kt,ko,ml(Tt(),o,a,c),!0)}function nb(o,a,c){const h=Tt();return wr(h,na(),a)&&Lr(Rn(),si(),h,o,a,h[11],c,!0),nb}const bl=void 0;var PI=["en",[["a","p"],["AM","PM"],bl],[["AM","PM"],bl,bl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bl,"{1} 'at' {0}",bl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function HS(o){const c=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let Sd={};function ib(o){const a=function rb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Ad(a);if(c)return c;const h=a.split("-")[0];if(c=Ad(h),c)return c;if("en"===h)return PI;throw new L(701,!1)}function Gf(o){return ib(o)[pn.PluralCase]}function Ad(o){return o in Sd||(Sd[o]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[o]),Sd[o]}var pn=(()=>((pn=pn||{})[pn.LocaleId=0]="LocaleId",pn[pn.DayPeriodsFormat=1]="DayPeriodsFormat",pn[pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",pn[pn.DaysFormat=3]="DaysFormat",pn[pn.DaysStandalone=4]="DaysStandalone",pn[pn.MonthsFormat=5]="MonthsFormat",pn[pn.MonthsStandalone=6]="MonthsStandalone",pn[pn.Eras=7]="Eras",pn[pn.FirstDayOfWeek=8]="FirstDayOfWeek",pn[pn.WeekendRange=9]="WeekendRange",pn[pn.DateFormat=10]="DateFormat",pn[pn.TimeFormat=11]="TimeFormat",pn[pn.DateTimeFormat=12]="DateTimeFormat",pn[pn.NumberSymbols=13]="NumberSymbols",pn[pn.NumberFormats=14]="NumberFormats",pn[pn.CurrencyCode=15]="CurrencyCode",pn[pn.CurrencySymbol=16]="CurrencySymbol",pn[pn.CurrencyName=17]="CurrencyName",pn[pn.Currencies=18]="Currencies",pn[pn.Directionality=19]="Directionality",pn[pn.PluralCase=20]="PluralCase",pn[pn.ExtraData=21]="ExtraData",pn))();const sb=["zero","one","two","few","many"],wl="en-US",Td={marker:"element"},lb={marker:"ICU"};var Li=(()=>((Li=Li||{})[Li.SHIFT=2]="SHIFT",Li[Li.APPEND_EAGERLY=1]="APPEND_EAGERLY",Li[Li.COMMENT=2]="COMMENT",Li))();let GS=wl;function zS(o){(function ye(o,a){null==o&&N(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(GS=o.toLowerCase().replace(/_/g,"-"))}function cb(o,a,c){const h=a.insertBeforeIndex,p=Array.isArray(h)?h[0]:h;return null===p?dE(o,0,c):vi(c[p])}function WS(o,a,c,h,p){const _=a.insertBeforeIndex;if(Array.isArray(_)){let C=h,T=null;if(3&a.type||(T=C,C=p),null!==C&&0==(2&a.flags))for(let O=1;O<_.length;O++)Ro(o,C,c[_[O]],T,!1)}}function ub(o,a){if(o.push(a),o.length>1)for(let c=o.length-2;c>=0;c--){const h=o[c];Cl(h)||OI(h,a)&&null===Uc(h)&&nN(h,a.index)}}function Cl(o){return!(64&o.type)}function OI(o,a){return Cl(a)||o.index>a.index}function Uc(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function nN(o,a){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=a:(bf(cb,WS),o.insertBeforeIndex=a)}function l_(o,a){const c=o.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function NI(o,a,c){const h=Mf(o,c,64,null,null);return ub(a,h),h}function db(o,a){const c=a[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function c_(o){return o>>>17}function zf(o){return(131070&o)>>>1}let u_=0,Wf=0;function d_(o,a,c,h){const p=c[11];let C,_=null;for(let T=0;T<a.length;T++){const O=a[T];if("string"==typeof O){const Z=a[++T];null===c[Z]&&(c[Z]=zy(p,O))}else if("number"==typeof O)switch(1&O){case 0:const Z=c_(O);let he,De;if(null===_&&(_=Z,C=lm(p,h)),Z===_?(he=h,De=C):(he=null,De=vi(c[Z])),null!==De){const Pt=zf(O);Ro(p,De,c[Pt],he,!1);const Qt=l_(o,Pt);if(null!==Qt&&"object"==typeof Qt){const un=db(Qt,c);null!==un&&d_(o,Qt.create[un],c,c[Qt.anchorIdx])}}break;case 1:const it=a[++T],vt=a[++T];D0(p,Ua(O>>>1,c),null,null,it,vt,null)}else switch(O){case lb:const Z=a[++T],he=a[++T];null===c[he]&&nr(c[he]=cD(p,Z),c);break;case Td:const De=a[++T],Ve=a[++T];null===c[Ve]&&nr(c[Ve]=om(p,De,null),c)}}}function wn(o,a,c,h,p){for(let _=0;_<c.length;_++){const C=c[_],T=c[++_];if(C&p){let O="";for(let Z=_+1;Z<=_+T;Z++){const he=c[Z];if("string"==typeof he)O+=he;else if("number"==typeof he)if(he<0)O+=B(a[h-he]);else{const De=he>>>2;switch(3&he){case 1:const Ve=c[++Z],it=c[++Z],vt=o.data[De];"string"==typeof vt?D0(a[11],a[De],null,vt,Ve,O,it):Lr(o,vt,a,Ve,O,a[11],it,!1);break;case 0:const Pt=a[De];null!==Pt&&nE(a[11],Pt,O);break;case 2:h_(o,l_(o,De),a,O);break;case 3:qf(o,l_(o,De),h,a)}}}}else{const O=c[_+1];if(O>0&&3==(3&O)){const he=l_(o,O>>>2);a[he.currentCaseLViewIndex]<0&&qf(o,he,h,a)}}_+=T}}function qf(o,a,c,h){let p=h[a.currentCaseLViewIndex];if(null!==p){let _=u_;p<0&&(p=h[a.currentCaseLViewIndex]=~p,_=-1),wn(o,h,a.update[p],c,_)}}function h_(o,a,c,h){const p=function FI(o,a){let c=o.cases.indexOf(a);if(-1===c)switch(o.type){case 1:{const h=function ob(o,a){const c=Gf(a)(parseInt(o,10)),h=sb[c];return void 0!==h?h:"other"}(a,function Dd(){return GS}());c=o.cases.indexOf(h),-1===c&&"other"!==h&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(a,h);if(db(a,c)!==p&&(Id(o,a,c),c[a.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const C=c[a.anchorIdx];C&&d_(o,a.create[p],c,C)}}function Id(o,a,c){let h=db(a,c);if(null!==h){const p=a.remove[h];for(let _=0;_<p.length;_++){const C=p[_];if(C>0){const T=Ua(C,c);null!==T&&fD(c[11],T)}else Id(o,l_(o,~C),c)}}}function hb(){const o=[];let c,h,a=-1;function _(T,O){a=0;const Z=db(T,O);h=null!==Z?T.remove[Z]:Ce}function C(){if(a<h.length){const T=h[a++];return T>0?c[T]:(o.push(a,h),_(c[1].data[~T],c),C())}return 0===o.length?null:(h=o.pop(),a=o.pop(),C())}return function p(T,O){for(c=O;o.length;)o.pop();return _(T.value,O),C}}const Gi=/\ufffd(\d+):?\d*\ufffd/gi,LI=/\ufffd(\d+)\ufffd/,fb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,YS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Cr=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,BI=/\uE500/g;function p_(o,a,c,h,p,_,C){const T=gd(o,h,1,null);let O=T<<Li.SHIFT,Z=Ga();a===Z&&(Z=null),null===Z&&(O|=Li.APPEND_EAGERLY),C&&(O|=Li.COMMENT,function aD(o){void 0===$y&&($y=o())}(hb)),p.push(O,null===_?"":_);const he=Mf(o,T,C?32:1,null===_?"":_,null);ub(c,he);const De=he.index;return gs(he,!1),null!==Z&&a!==Z&&function RI(o,a){let c=o.insertBeforeIndex;null===c?(bf(cb,WS),c=o.insertBeforeIndex=[null,a]):(function ge(o,a,c){o!=a&&N(c,o,a,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(Z,De),he}function g_(o,a,c,h,p,_,C){const T=C.match(Gi),O=p_(o,a,c,_,h,T?null:C,!1);T&&Hc(p,C,O.index,null,0,null)}function Hc(o,a,c,h,p,_){const C=o.length,T=C+1;o.push(null,null);const O=C+2,Z=a.split(Gi);let he=0;for(let De=0;De<Z.length;De++){const Ve=Z[De];if(1&De){const it=p+parseInt(Ve,10);o.push(-1-it),he|=KS(it)}else""!==Ve&&o.push(Ve)}return o.push(c<<2|(h?1:0)),h&&o.push(h,_),o[C]=he,o[T]=o.length-O,he}function KS(o){return 1<<Math.min(o,31)}function pb(o){let a,_,c="",h=0,p=!1;for(;null!==(a=YS.exec(o));)p?a[0]===`\ufffd/*${_}\ufffd`&&(h=a.index,p=!1):(c+=o.substring(h,a.index+a[0].length),_=a[1],p=!0);return c+=o.slice(h),c}function mb(o,a,c,h,p,_){let C=0;const T={type:p.type,currentCaseLViewIndex:gd(o,a,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function UI(o,a,c){o.push(KS(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(c,p,_),function as(o,a,c){const h=o.data[a];null===h?o.data[a]=c:h.value=c}(o,_,T);const O=p.values;for(let Z=0;Z<O.length;Z++){const he=O[Z],De=[];for(let Ve=0;Ve<he.length;Ve++){const it=he[Ve];if("string"!=typeof it){const vt=De.push(it)-1;he[Ve]=`\x3c!--\ufffd${vt}\ufffd--\x3e`}}C=__(o,T,a,c,h,p.cases[Z],he.join(""),De)|C}C&&function $I(o,a,c){o.push(a,1,c<<2|3)}(c,C,_)}function jI(o){const a=[],c=[];let h=1,p=0;const _=m_(o=o.replace(fb,function(C,T,O){return h="select"===O?0:1,p=parseInt(T.slice(1),10),""}));for(let C=0;C<_.length;){let T=_[C++].trim();1===h&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&a.push(T);const O=m_(_[C++]);a.length>c.length&&c.push(O)}return{type:h,mainBinding:p,cases:a,values:c}}function m_(o){if(!o)return[];let a=0;const c=[],h=[],p=/[{}]/g;let _;for(p.lastIndex=0;_=p.exec(o);){const T=_.index;if("}"==_[0]){if(c.pop(),0==c.length){const O=o.substring(a,T);fb.test(O)?h.push(jI(O)):h.push(O),a=T+1}}else{if(0==c.length){const O=o.substring(a,T);h.push(O),a=T+1}c.push("{")}}const C=o.substring(a);return h.push(C),h}function __(o,a,c,h,p,_,C,T){const O=[],Z=[],he=[];a.cases.push(_),a.create.push(O),a.remove.push(Z),a.update.push(he);const Ve=Lg(function Ng(){return void 0!==ef?ef:typeof document<"u"?document:void 0}()).getInertBodyElement(C),it=Ks(Ve)||Ve;return it?v_(o,a,c,h,O,Z,he,it,p,T,0):0}function v_(o,a,c,h,p,_,C,T,O,Z,he){let De=0,Ve=T.firstChild;for(;Ve;){const it=gd(o,c,1,null);switch(Ve.nodeType){case Node.ELEMENT_NODE:const vt=Ve,Pt=vt.tagName.toLowerCase();if(fa.hasOwnProperty(Pt)){Zf(p,Td,Pt,O,it),o.data[it]=Pt;const Dt=vt.attributes;for(let mn=0;mn<Dt.length;mn++){const Un=Dt.item(mn),pi=Un.name.toLowerCase();Un.value.match(Gi)?sf.hasOwnProperty(pi)&&Hc(C,Un.value,it,Un.name,0,Zs[pi]?il:null):JS(p,it,Un)}De=v_(o,a,c,h,p,_,C,Ve,it,Z,he+1)|De,y_(_,it,he)}break;case Node.TEXT_NODE:const Rt=Ve.textContent||"",Qt=Rt.match(Gi);Zf(p,null,Qt?"":Rt,O,it),y_(_,it,he),Qt&&(De=Hc(C,Rt,it,null,0,null)|De);break;case Node.COMMENT_NODE:const un=LI.exec(Ve.textContent||"");if(un){const mn=Z[parseInt(un[1],10)];Zf(p,lb,"",O,it),mb(o,c,h,O,mn,it),_b(_,it,he)}}Ve=Ve.nextSibling}return De}function y_(o,a,c){0===c&&o.push(a)}function _b(o,a,c){0===c&&(o.push(~a),o.push(a))}function Zf(o,a,c,h,p){null!==a&&o.push(a),o.push(c,p,function Fo(o,a,c){return o|a<<17|c<<1}(0,h,p))}function JS(o,a,c){o.push(a<<1|1,c.name,c.value)}function yb(o,a,c=-1){const h=Rn(),p=Tt(),_=22+o,C=Vs(h.consts,a),T=Ga();h.firstCreatePass&&function ZS(o,a,c,h,p,_){const C=Ga(),T=[],O=[],Z=[[]];p=function gb(o,a){if(function xd(o){return-1===o}(a))return pb(o);{const c=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,h=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return pb(o.substring(c,h))}}(p,_);const he=function f_(o){return o.replace(BI," ")}(p).split(Cr);for(let De=0;De<he.length;De++){let Ve=he[De];if(0==(1&De)){const it=m_(Ve);for(let vt=0;vt<it.length;vt++){let Pt=it[vt];if(0==(1&vt)){const Rt=Pt;""!==Rt&&g_(o,C,Z[0],T,O,c,Rt)}else{const Rt=Pt;if("object"!=typeof Rt)throw new Error(`Unable to parse ICU expression in "${p}" message.`);mb(o,c,O,a,Rt,p_(o,C,Z[0],c,T,"",!0).index)}}}else{const it=47===Ve.charCodeAt(0),Pt=(Ve.charCodeAt(it?1:0),22+Number.parseInt(Ve.substring(it?2:1)));if(it)Z.shift(),gs(Ga(),!1);else{const Rt=NI(o,Z[0],Pt);Z.unshift([]),gs(Rt,!0)}}}o.data[h]={create:T,update:O}}(h,null===T?0:T.index,p,_,C,c);const O=h.data[_],he=aE(h,T===p[6]?null:T,p);(function an(o,a,c,h){const p=o[11];for(let _=0;_<a.length;_++){const C=a[_++],T=a[_],O=(C&Li.COMMENT)===Li.COMMENT,Z=(C&Li.APPEND_EAGERLY)===Li.APPEND_EAGERLY,he=C>>>Li.SHIFT;let De=o[he];null===De&&(De=o[he]=O?p.createComment(T):zy(p,T)),Z&&null!==c&&Ro(p,c,De,h,!1)}})(p,O.create,he,T&&8&T.type?p[T.index]:null),Ph(!0)}function Qf(o,a,c){yb(o,a,c),function bb(){Ph(!1)}()}function Xf(o){return function kI(o){o&&(u_|=1<<Math.min(Wf,31)),Wf++}(wr(Tt(),na(),o)),Xf}function w_(o){!function Ta(o,a,c){if(Wf>0){const h=o.data[c];wn(o,a,Array.isArray(h)?h:h.update,function ms(){return yn.lFrame.bindingIndex}()-Wf-1,u_)}u_=0,Wf=0}(Rn(),Tt(),o+22)}function C_(o,a,c,h,p){if(o=k(o),Array.isArray(o))for(let _=0;_<o.length;_++)C_(o[_],a,c,h,p);else{const _=Rn(),C=Tt();let T=Fr(o)?o:k(o.provide),O=xc(o);const Z=Di(),he=1048575&Z.providerIndexes,De=Z.directiveStart,Ve=Z.providerIndexes>>20;if(Fr(o)||!o.multi){const it=new bo(O,p,hd),vt=E_(T,a,p?he:he+Ve,De);-1===vt?(qa(ac(Z,C),_,T),Eb(_,o,a.length),a.push(T),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),c.push(it),C.push(it)):(c[vt]=it,C[vt]=it)}else{const it=E_(T,a,he+Ve,De),vt=E_(T,a,he,he+Ve),Pt=it>=0&&c[it],Rt=vt>=0&&c[vt];if(p&&!Rt||!p&&!Pt){qa(ac(Z,C),_,T);const Qt=function Db(o,a,c,h,p){const _=new bo(o,c,hd);return _.multi=[],_.index=a,_.componentProviders=0,Sb(_,p,h&&!c),_}(p?tA:Ab,c.length,p,h,O);!p&&Rt&&(c[vt].providerFactory=Qt),Eb(_,o,a.length,0),a.push(T),Z.directiveStart++,Z.directiveEnd++,p&&(Z.providerIndexes+=1048576),c.push(Qt),C.push(Qt)}else Eb(_,o,it>-1?it:vt,Sb(c[p?vt:it],O,!p&&h));!p&&h&&Rt&&c[vt].componentProviders++}}}function Eb(o,a,c,h){const p=Fr(a),_=function qg(o){return!!o.useClass}(a);if(p||_){const O=(_?k(a.useClass):a).prototype.ngOnDestroy;if(O){const Z=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const he=Z.indexOf(c);-1===he?Z.push(c,[h,O]):Z[he+1].push(h,O)}else Z.push(c,O)}}}function Sb(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function E_(o,a,c,h){for(let p=c;p<h;p++)if(a[p]===o)return p;return-1}function Ab(o,a,c,h){return Tb(this.multi,[])}function tA(o,a,c,h){const p=this.multi;let _;if(this.providerFactory){const C=this.providerFactory.componentProviders,T=sa(c,c[1],this.providerFactory.index,h);_=T.slice(0,C),Tb(p,_);for(let O=C;O<T.length;O++)_.push(T[O])}else _=[],Tb(p,_);return _}function Tb(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function S_(o,a=[]){return c=>{c.providersResolver=(h,p)=>function eA(o,a,c){const h=Rn();if(h.firstCreatePass){const p=$r(o);C_(c,h.data,h.blueprint,p,!0),C_(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class Sl{}class Ji{}function dr(o,a){return new A_(o,a??null)}class A_ extends Sl{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new O0(this);const h=Jn(a);this._bootstrapComponents=ya(h.bootstrap),this._r3Injector=dd(a,c,[{provide:Sl,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],te(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class xb extends Ji{constructor(a){super(),this.moduleType=a}create(a){return new A_(this.moduleType,a)}}class WI extends Sl{constructor(a,c,h){super(),this.componentFactoryResolver=new O0(this),this.instance=null;const p=new Xu([...a,{provide:Sl,useValue:this},{provide:ma,useValue:this.componentFactoryResolver}],c||Qu(),h,new Set(["environment"]));this.injector=p,p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function T_(o,a,c=null){return new WI(o,a,c).injector}let qI=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const h=Zu(0,c.type),p=h.length>0?T_([h],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,p)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=X({token:o,providedIn:"environment",factory:()=>new o(xn(Yi))}),o})();function nA(o){o.getStandaloneInjector=a=>a.get(qI).getOrCreateStandaloneInjector(o)}function Gc(o,a,c){const h=yi()+o,p=Tt();return p[h]===En?No(p,h,c?a.call(c):a()):function Lf(o,a){return o[a]}(p,h)}function oA(o,a,c,h){return Od(Tt(),yi(),o,a,c,h)}function aA(o,a,c,h,p){return function tp(o,a,c,h,p,_,C){const T=a+c;return os(o,T,p,_)?No(o,T+2,C?h.call(C,p,_):h(p,_)):Pd(o,T+2)}(Tt(),yi(),o,a,c,h,p)}function Al(o,a,c,h,p,_){return function kb(o,a,c,h,p,_,C,T){const O=a+c;return function _d(o,a,c,h,p){const _=os(o,a,c,h);return wr(o,a+2,p)||_}(o,O,p,_,C)?No(o,O+3,T?h.call(T,p,_,C):h(p,_,C)):Pd(o,O+3)}(Tt(),yi(),o,a,c,h,p,_)}function Pd(o,a){const c=o[a];return c===En?void 0:c}function Od(o,a,c,h,p,_){const C=a+c;return wr(o,C,p)?No(o,C+1,_?h.call(_,p):h(p)):Pd(o,C+1)}function Lb(o,a){const c=Rn();let h;const p=o+22;c.firstCreatePass?(h=function np(o,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(o===h.name)return h}}(a,c.pipeRegistry),c.data[p]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(p,h.onDestroy)):h=c.data[p];const _=h.factory||(h.factory=ps(h.type)),C=Oe(hd);try{const T=Iu(!1),O=_();return Iu(T),function lS(o,a,c,h){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=h}(c,Tt(),p,O),O}finally{Oe(C)}}function R_(o,a,c){const h=o+22,p=Tt(),_=Xo(p,h);return function rp(o,a){return o[1].data[a].pure}(p,h)?Od(p,yi(),a,_.transform,c,_):_.transform(c)}function Rd(o){return a=>{setTimeout(o,void 0,a)}}const Ts=class Vb extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){let p=a,_=c||(()=>null),C=h;if(a&&"object"==typeof a){const O=a;p=O.next?.bind(O),_=O.error?.bind(O),C=O.complete?.bind(O)}this.__isAsync&&(_=Rd(_),p&&(p=Rd(p)),C&&(C=Rd(C)));const T=super.subscribe({next:p,error:_,complete:C});return a instanceof xe.w0&&a.add(T),T}};function fA(){return this._results[Br()]()}class k_{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Br(),h=k_.prototype;h[c]||(h[c]=fA)}get changes(){return this._changes||(this._changes=new Ts)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const p=Vn(a);(this._changesDetected=!function Yn(o,a,c){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],_=a[h];if(c&&(p=c(p),_=c(_)),_!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Nd=(()=>{class o{}return o.__NG_ELEMENT_ID__=pA,o})();const QI=Nd,sp=class extends QI{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a,c){const h=this._declarationTContainer.tViews,p=Am(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,c||null);p[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(p[19]=C.createEmbeddedView(h)),Pf(h,p,a),new Nf(p)}};function pA(){return zc(Di(),Tt())}function zc(o,a){return 4&o.type?new sp(a,o,w(o,a)):null}let Tl=(()=>{class o{}return o.__NG_ELEMENT_ID__=Wc,o})();function Wc(){return Ub(Di(),Tt())}const jb=Tl,gA=class extends jb{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return w(this._hostTNode,this._hostLView)}get injector(){return new Ka(this._hostTNode,this._hostLView)}get parentInjector(){const a=Mu(this._hostTNode,this._hostLView);if(Eg(a)){const c=sc(a,this._hostLView),h=ic(a);return new Ka(c[1].data[h+8],c)}return new Ka(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=mA(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){let p,_;"number"==typeof h?p=h:null!=h&&(p=h.index,_=h.injector);const C=a.createEmbeddedView(c||{},_);return this.insert(C,p),C}createComponent(a,c,h,p,_){const C=a&&!function mr(o){return"function"==typeof o}(a);let T;if(C)T=c;else{const De=c||{};T=De.index,h=De.injector,p=De.projectableNodes,_=De.environmentInjector||De.ngModuleRef}const O=C?a:new Ff(qe(a)),Z=h||this.parentInjector;if(!_&&null==O.ngModule){const Ve=(C?Z:this.parentInjector).get(Yi,null);Ve&&(_=Ve)}const he=O.create(Z,p,void 0,_);return this.insert(he.hostView,T),he}insert(a,c){const h=a._lView,p=h[1];if(function ug(o){return cr(o[3])}(h)){const he=this.indexOf(a);if(-1!==he)this.detach(he);else{const De=h[3],Ve=new gA(De,De[6],De[3]);Ve.detach(Ve.indexOf(a))}}const _=this._adjustIndex(c),C=this._lContainer;!function uD(o,a,c,h){const p=10+h,_=c.length;h>0&&(c[p-1][4]=a),h<_-10?(a[4]=c[p],pc(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const C=a[17];null!==C&&c!==C&&function dD(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(C,a);const T=a[19];null!==T&&T.insertView(o),a[2]|=64}(p,h,C,_);const T=hE(_,C),O=h[11],Z=lm(O,C[7]);return null!==Z&&function iE(o,a,c,h,p,_){h[0]=p,h[6]=a,Pc(o,h,c,1,p,_)}(p,C[6],O,h,Z,T),a.attachToViewContainerRef(),pc(F_(C),_,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=mA(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=qy(this._lContainer,c);h&&(ui(F_(this._lContainer),c),yf(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=qy(this._lContainer,c);return h&&null!=ui(F_(this._lContainer),c)?new Nf(h):null}_adjustIndex(a,c=0){return a??this.length+c}};function mA(o){return o[8]}function F_(o){return o[8]||(o[8]=[])}function Ub(o,a){let c;const h=a[o.index];if(cr(h))c=h;else{let p;if(8&o.type)p=vi(h);else{const _=a[11];p=_.createComment("");const C=Hr(o,a);Ro(_,lm(_,C),p,function uE(o,a){return o.nextSibling(a)}(_,C),!1)}a[o.index]=c=XE(h,a,p,o),md(a,c)}return new gA(c,o,a)}class kd{constructor(a){this.queryList=a,this.matches=null}clone(){return new kd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Fd{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,p=[];for(let _=0;_<h;_++){const C=c.getByIndex(_);p.push(this.queries[C.indexInDeclarationView].clone())}return new Fd(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==CA(a,c).matches&&this.queries[c].setDirty()}}class $b{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class ai{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,_=this.getByIndex(h).embeddedTView(a,p);_&&(_.indexInDeclarationView=h,null!==c?c.push(_):c=[_])}return null!==c?new ai(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Ld{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Ld(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const _=h[p];this.matchTNodeWithReadOption(a,c,op(c,_)),this.matchTNodeWithReadOption(a,c,Za(c,a,_,!1,!1))}else h===Nd?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Za(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===g||p===Tl||p===Nd&&4&c.type)this.addMatch(c.index,-2);else{const _=Za(c,a,p,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function op(o,a){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function ex(o,a,c,h){return-1===c?function ap(o,a){return 11&o.type?w(o,a):4&o.type?zc(o,a):null}(a,o):-2===c?function _A(o,a,c){return c===g?w(a,o):c===Nd?zc(a,o):c===Tl?Ub(a,o):void 0}(o,a,h):sa(o,o[1],c,a)}function vA(o,a,c,h){const p=a[19].queries[h];if(null===p.matches){const _=o.data,C=c.matches,T=[];for(let O=0;O<C.length;O+=2){const Z=C[O];T.push(Z<0?null:ex(a,_[Z],C[O+1],c.metadata.read))}p.matches=T}return p.matches}function Hb(o,a,c,h){const p=o.queries.getByIndex(c),_=p.matches;if(null!==_){const C=vA(o,a,p,c);for(let T=0;T<_.length;T+=2){const O=_[T];if(O>0)h.push(C[T/2]);else{const Z=_[T+1],he=a[-O];for(let De=10;De<he.length;De++){const Ve=he[De];Ve[17]===Ve[3]&&Hb(Ve[1],Ve,Z,h)}if(null!==he[9]){const De=he[9];for(let Ve=0;Ve<De.length;Ve++){const it=De[Ve];Hb(it[1],it,Z,h)}}}}}return h}function yA(o){const a=Tt(),c=Rn(),h=sy();Kl(h+1);const p=CA(c,h);if(o.dirty&&function cg(o){return 4==(4&o[2])}(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const _=p.crossesNgTemplate?Hb(c,a,h,[]):vA(c,a,p,h);o.reset(_,v),o.notifyOnChanges()}return!0}return!1}function bA(o,a,c){const h=Rn();h.firstCreatePass&&(zb(h,new $b(o,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),Gb(h,Tt(),a)}function Bd(o,a,c,h){const p=Rn();if(p.firstCreatePass){const _=Di();zb(p,new $b(a,c,h),_.index),function Vd(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(p,o),2==(2&c)&&(p.staticContentQueries=!0)}Gb(p,Tt(),c)}function Da(){return function wA(o,a){return o[19].queries[a].queryList}(Tt(),sy())}function Gb(o,a,c){const h=new k_(4==(4&c));$E(o,a,h,h.destroy),null===a[19]&&(a[19]=new Fd),a[19].queries.push(new kd(h))}function zb(o,a,c){null===o.queries&&(o.queries=new ai),o.queries.track(new Ld(a,c))}function CA(o,a){return o.queries.getByIndex(a)}function EA(o,a){return zc(o,a)}function xa(...o){}const kA=new Qn("Application Initializer");let zd=(()=>{class o{constructor(c){this.appInits=c,this.resolve=xa,this.reject=xa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const _=this.appInits[p]();if(j0(_))c.push(_);else if(hS(_)){const C=new Promise((T,O)=>{_.subscribe({complete:T,error:O})});c.push(C)}}Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(xn(kA,8))},o.\u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const FA=new Qn("AppId",{providedIn:"root",factory:function LA(){return`${iw()}${iw()}${iw()}`}});function iw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hp=new Qn("Platform Initializer"),mx=new Qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rw=new Qn("appBootstrapListener");let xl=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const z_=new Qn("LocaleId",{providedIn:"root",factory:()=>Xn(z_,je.Optional|je.SkipSelf)||function sw(){return typeof $localize<"u"&&$localize.locale||wl}()}),Ot=new Qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tn{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let vn=(()=>{class o{compileModuleSync(c){return new xb(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),_=ya(Jn(c).declarations).reduce((C,T)=>{const O=qe(T);return O&&C.push(new Ff(O)),C},[]);return new tn(h,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const yx=(()=>Promise.resolve(0))();function ow(o){typeof Zone>"u"?yx.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Is{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ts(!1),this.onMicrotaskEmpty=new Ts(!1),this.onStable=new Ts(!1),this.onError=new Ts(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();const p=this;if(p._nesting=0,p._outer=p._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;p._inner=p._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function bx(){let o=Zt.requestAnimationFrame,a=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function wx(o){const a=()=>{!function lN(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,W_(o),o.isCheckStableRunning=!0,aw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),W_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,_,C,T)=>{try{return Cn(o),c.invokeTask(p,_,C,T)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&a(),Kc(o)}},onInvoke:(c,h,p,_,C,T,O)=>{try{return Cn(o),c.invoke(p,_,C,T,O)}finally{o.shouldCoalesceRunChangeDetection&&a(),Kc(o)}},onHasTask:(c,h,p,_)=>{c.hasTask(p,_),h===p&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,W_(o),aw(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,h,p,_)=>(c.handleError(p,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Is.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(Is.isInAngularZone())throw new L(909,!1)}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,p){const _=this._inner,C=_.scheduleEventTask("NgZoneEvent: "+p,a,VA,xa,xa);try{return _.runTask(C,c,h)}finally{_.cancelTask(C)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const VA={};function aw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function W_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Cn(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Kc(o){o._nesting--,aw(o)}class jA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ts,this.onMicrotaskEmpty=new Ts,this.onStable=new Ts,this.onError=new Ts}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,p){return a.apply(c,h)}}const hi=new Qn(""),_n=new Qn("");let _i,pp=(()=>{class o{constructor(c,h,p){this._ngZone=c,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_i||(function Cx(o){_i=o}(p),p.addToWindow(h)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Is.assertNotInAngularZone(),ow(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ow(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==_),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,h,p){return[]}}return o.\u0275fac=function(c){return new(c||o)(xn(Is),xn(kn),xn(_n))},o.\u0275prov=X({token:o,factory:o.\u0275fac}),o})(),kn=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return _i?.findTestabilityInTree(this,c,h)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),jt=null;const gp=new Qn("AllowMultipleToken"),mp=new Qn("PlatformDestroyListeners");class _p{constructor(a,c){this.name=a,this.token=c}}function cw(o,a,c=[]){const h=`Platform: ${a}`,p=new Qn(h);return(_=[])=>{let C=ot();if(!C||C.injector.get(gp,!1)){const T=[...c,..._,{provide:p,useValue:!0}];o?o(T):function UA(o){if(jt&&!jt.get(gp,!1))throw new L(400,!1);jt=o;const a=o.get(vp);(function Jr(o){const a=o.get(hp,null);a&&a.forEach(c=>c())})(o)}(function Ma(o=[],a){return Rc.create({name:a,providers:[{provide:ll,useValue:"platform"},{provide:mp,useValue:new Set([()=>jt=null])},...o]})}(T,h))}return function GA(o){const a=ot();if(!a)throw new L(401,!1);return a}()}}function ot(){return jt?.get(vp)??null}let vp=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const p=function WA(o,a){let c;return c="noop"===o?new jA:("zone.js"===o?void 0:o)||new Is(a),c}(h?.ngZone,function xs(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Is,useValue:p}];return p.run(()=>{const C=Rc.create({providers:_,parent:this.injector,name:c.moduleType.name}),T=c.create(C),O=T.injector.get(mf,null);if(!O)throw new L(402,!1);return p.runOutsideAngular(()=>{const Z=p.onError.subscribe({next:he=>{O.handleError(he)}});T.onDestroy(()=>{Bo(this._modules,T),Z.unsubscribe()})}),function qd(o,a,c){try{const h=c();return j0(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(O,p,()=>{const Z=T.injector.get(zd);return Z.runInitializers(),Z.donePromise.then(()=>(zS(T.injector.get(z_,wl)||wl),this._moduleDoBootstrap(T),T))})})}bootstrapModule(c,h=[]){const p=Pa({},h);return function Ex(o,a,c){const h=new xb(c);return Promise.resolve(h)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(c){const h=c.injector.get(q_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new L(403,!1);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const c=this._injector.get(mp,null);c&&(c.forEach(h=>h()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(xn(Rc))},o.\u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function Pa(o,a){return Array.isArray(a)?a.reduce(Pa,o):{...o,...a}}let q_=(()=>{class o{constructor(c,h,p){this._zone=c,this._injector=h,this._exceptionHandler=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new le.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new le.y(T=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Is.assertNotInAngularZone(),ow(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const Z=this._zone.onUnstable.subscribe(()=>{Is.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{O.unsubscribe(),Z.unsubscribe()}});this.isStable=(0,Ee.T)(_,C.pipe((0,Ae.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,h){const p=c instanceof ed;if(!this._injector.get(zd).done)throw!p&&Nn(c),new L(405,false);let C;C=p?c:this._injector.get(ma).resolveComponentFactory(c),this.componentTypes.push(C.componentType);const T=function Sx(o){return o.isBoundToModule}(C)?void 0:this._injector.get(Sl),Z=C.create(Rc.NULL,[],h||C.selector,T),he=Z.location.nativeElement,De=Z.injector.get(hi,null);return De?.registerApplication(he),Z.onDestroy(()=>{this.detachView(Z.hostView),Bo(this.components,Z),De?.unregisterApplication(he)}),this._loadComponent(Z),Z}tick(){if(this._runningTick)throw new L(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;Bo(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(rw,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Bo(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new L(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(xn(Is),xn(Yi),xn(mf))},o.\u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Bo(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let qA=!0,YA=!1;function Qr(){return YA=!0,qA}function ZA(){if(YA)throw new Error("Cannot enable prod mode after platform setup.");qA=!1}let Y_=(()=>{class o{}return o.__NG_ELEMENT_ID__=fr,o})();function fr(o){return function ei(o,a,c){if(Ko(o)&&!c){const h=Bn(o.index,a);return new Nf(h,h)}return 47&o.type?new Nf(a[16],a):null}(Di(),Tt(),16==(16&o))}class Ra{constructor(){}supports(a){return Vc(a)}create(a){return new Jd(a)}}const KA=(o,a)=>a;class Jd{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||KA}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,p=0,_=null;for(;c||h;){const C=!h||c&&c.currentIndex<Qd(h,p,_)?c:h,T=Qd(C,p,_),O=C.currentIndex;if(C===h)p--,h=h._nextRemoved;else if(c=c._next,null==C.previousIndex)p++;else{_||(_=[]);const Z=T-p,he=O-p;if(Z!=he){for(let Ve=0;Ve<Z;Ve++){const it=Ve<_.length?_[Ve]:_[Ve]=0,vt=it+Ve;he<=vt&&vt<Z&&(_[Ve]=it+1)}_[C.previousIndex]=he-Z}}T!==O&&a(C,T,O)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Vc(a))throw new L(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,_,C,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let T=0;T<this.length;T++)_=a[T],C=this._trackByFn(T,_),null!==c&&Object.is(c.trackById,C)?(h&&(c=this._verifyReinsertion(c,_,C,T)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,C,T),h=!0),c=c._next}else p=0,function oS(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Br()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,T=>{C=this._trackByFn(p,T),null!==c&&Object.is(c.trackById,C)?(h&&(c=this._verifyReinsertion(c,T,C,p)),Object.is(c.item,T)||this._addIdentityChange(c,T)):(c=this._mismatch(c,T,C,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,p){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,_,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,_,p)):a=this._addAfter(new pw(c,h),_,p),a}_verifyReinsertion(a,c,h,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?a=this._reinsertAfter(_,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,_=a._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const p=null===c?this._itHead:c._next;return a._next=p,a._prev=c,null===p?this._itTail=a:p._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new Q_),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Q_),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class pw{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xc{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class Q_{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new Xc,this.map.set(c,h)),h.add(a)}get(a,c){const p=this.map.get(a);return p?p.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qd(o,a,c){const h=o.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+a+p}class gw{constructor(){}supports(a){return a instanceof Map||k0(a)}create(){return new JA}}class JA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||k0(a)))throw new L(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,c);const _=p._prev,C=p._next;return _&&(_._next=C),C&&(C._prev=_),p._next=null,p._prev=null,p}const h=new X_(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class X_{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xd(){return new ev([new Ra])}let ev=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||Xd()),deps:[[o,new Ao,new jn]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new L(901,!1)}}return o.\u0275prov=X({token:o,providedIn:"root",factory:Xd}),o})();function QA(){return new tv([new gw])}let tv=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||QA()),deps:[[o,new Ao,new jn]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new L(901,!1)}}return o.\u0275prov=X({token:o,providedIn:"root",factory:QA}),o})();const xx=cw(null,"core",[]);let e1=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(xn(q_))},o.\u0275mod=en({type:o}),o.\u0275inj=ae({}),o})();function eu(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function n1(o,a){const c=qe(o),h=a.elementInjector||Qu();return new Ff(c).create(h,a.projectableNodes,a.hostElement,a.environmentInjector)}},3942:(tt,se,ie)=>{"use strict";ie.d(se,{Z:()=>L});var l=ie(2090),xe=ie(4859),le=ie(9681),Ee=ie(1877);class Ae{constructor(B,j){this._delegate=B,this.firebase=j,(0,le._addComponent)(B,new xe.wA("app-compat",()=>this,"PUBLIC")),this.container=B.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this._delegate.automaticDataCollectionEnabled=B}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(B=>{this._delegate.checkDestroyed(),B()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,le.deleteApp)(this._delegate)))}_getService(B,j=le._DEFAULT_ENTRY_NAME){var D;this._delegate.checkDestroyed();const R=this._delegate.container.getProvider(B);return!R.isInitialized()&&"EXPLICIT"===(null===(D=R.getComponent())||void 0===D?void 0:D.instantiationMode)&&R.initialize(),R.getImmediate({identifier:j})}_removeServiceInstance(B,j=le._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(B).clearInstance(j)}_addComponent(B){(0,le._addComponent)(this._delegate,B)}_addOrOverwriteComponent(B){(0,le._addOrOverwriteComponent)(this._delegate,B)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const F=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),M=function W(){const oe=function te(oe){const B={},j={__esModule:!0,initializeApp:function Y(_e,z={}){const ge=le.initializeApp(_e,z);if((0,l.r3)(B,ge.name))return B[ge.name];const ce=new oe(ge,j);return B[ge.name]=ce,ce},app:R,registerVersion:le.registerVersion,setLogLevel:le.setLogLevel,onLog:le.onLog,apps:null,SDK_VERSION:le.SDK_VERSION,INTERNAL:{registerComponent:function q(_e){const z=_e.name,ge=z.replace("-compat","");if(le._registerComponent(_e)&&"PUBLIC"===_e.type){const ce=(J=R())=>{if("function"!=typeof J[ge])throw F.create("invalid-app-argument",{appName:z});return J[ge]()};void 0!==_e.serviceProps&&(0,l.ZB)(ce,_e.serviceProps),j[ge]=ce,oe.prototype[ge]=function(...J){return this._getService.bind(this,z).apply(this,_e.multipleInstances?J:[])}}return"PUBLIC"===_e.type?j[ge]:null},removeApp:function D(_e){delete B[_e]},useAsService:function fe(_e,z){return"serverAuth"===z?null:z},modularAPIs:le}};function R(_e){if(!(0,l.r3)(B,_e=_e||le._DEFAULT_ENTRY_NAME))throw F.create("no-app",{appName:_e});return B[_e]}return j.default=j,Object.defineProperty(j,"apps",{get:function H(){return Object.keys(B).map(_e=>B[_e])}}),R.App=oe,j}(Ae);return oe.INTERNAL=Object.assign(Object.assign({},oe.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function B(j){(0,l.ZB)(oe,j)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),oe}(),S=new Ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const oe=self.firebase.SDK_VERSION;oe&&oe.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const L=M;!function x(oe){(0,le.registerVersion)("@firebase/app-compat","0.1.38",oe)}()},9681:(tt,se,ie)=>{"use strict";ie.r(se),ie.d(se,{FirebaseError:()=>Ee.ZR,SDK_VERSION:()=>Ye,_DEFAULT_ENTRY_NAME:()=>ye,_addComponent:()=>U,_addOrOverwriteComponent:()=>X,_apps:()=>G,_clearComponents:()=>ke,_components:()=>I,_getProvider:()=>ae,_registerComponent:()=>me,_removeServiceInstance:()=>be,deleteApp:()=>Xe,getApp:()=>wt,getApps:()=>Lt,initializeApp:()=>nt,onLog:()=>pe,registerVersion:()=>rt,setLogLevel:()=>Oe});var l=ie(5861),xe=ie(4859),le=ie(1877),Ee=ie(2090),Ae=ie(8766);class ue{constructor(pt){this.container=pt}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function F(Bt){return"VERSION"===Bt.getComponent()?.type}(Ht)){const qt=Ht.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(Ht=>Ht).join(" ")}}const te="@firebase/app",W="0.8.3",M=new le.Yd("@firebase/app"),ye="[DEFAULT]",N={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},G=new Map,I=new Map;function U(Bt,pt){try{Bt.container.addComponent(pt)}catch(Ht){M.debug(`Component ${pt.name} failed to register with FirebaseApp ${Bt.name}`,Ht)}}function X(Bt,pt){Bt.container.addOrOverwriteComponent(pt)}function me(Bt){const pt=Bt.name;if(I.has(pt))return M.debug(`There were multiple attempts to register component ${pt}.`),!1;I.set(pt,Bt);for(const Ht of G.values())U(Ht,Bt);return!0}function ae(Bt,pt){const Ht=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return Ht&&Ht.triggerHeartbeat(),Bt.container.getProvider(pt)}function be(Bt,pt,Ht=ye){ae(Bt,pt).clearInstance(Ht)}function ke(){I.clear()}const Fe=new Ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ge{constructor(pt,Ht,qt){this._isDeleted=!1,this._options=Object.assign({},pt),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new xe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this.checkDestroyed(),this._automaticDataCollectionEnabled=pt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pt){this._isDeleted=pt}checkDestroyed(){if(this.isDeleted)throw Fe.create("app-deleted",{appName:this._name})}}const Ye="9.13.0";function nt(Bt,pt={}){let Ht=Bt;"object"!=typeof pt&&(pt={name:pt});const qt=Object.assign({name:ye,automaticDataCollectionEnabled:!1},pt),sn=qt.name;if("string"!=typeof sn||!sn)throw Fe.create("bad-app-name",{appName:String(sn)});if(Ht||(Ht=(0,Ee.aH)()),!Ht)throw Fe.create("no-options");const en=G.get(sn);if(en){if((0,Ee.vZ)(Ht,en.options)&&(0,Ee.vZ)(qt,en.config))return en;throw Fe.create("duplicate-app",{appName:sn})}const Le=new xe.H0(sn);for(const Ue of I.values())Le.addComponent(Ue);const Re=new Ge(Ht,qt,Le);return G.set(sn,Re),Re}function wt(Bt=ye){const pt=G.get(Bt);if(!pt&&Bt===ye)return nt();if(!pt)throw Fe.create("no-app",{appName:Bt});return pt}function Lt(){return Array.from(G.values())}function Xe(Bt){return je.apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(Bt){const pt=Bt.name;G.has(pt)&&(G.delete(pt),yield Promise.all(Bt.container.getProviders().map(Ht=>Ht.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function rt(Bt,pt,Ht){var qt;let sn=null!==(qt=N[Bt])&&void 0!==qt?qt:Bt;Ht&&(sn+=`-${Ht}`);const en=sn.match(/\s|\//),Le=pt.match(/\s|\//);if(en||Le){const Re=[`Unable to register library "${sn}" with version "${pt}":`];return en&&Re.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),en&&Le&&Re.push("and"),Le&&Re.push(`version name "${pt}" contains illegal characters (whitespace or "/")`),void M.warn(Re.join(" "))}me(new xe.wA(`${sn}-version`,()=>({library:sn,version:pt}),"VERSION"))}function pe(Bt,pt){if(null!==Bt&&"function"!=typeof Bt)throw Fe.create("invalid-log-argument");(0,le.Am)(Bt,pt)}function Oe(Bt){(0,le.Ub)(Bt)}const yt="firebase-heartbeat-store";let _t=null;function St(){return _t||(_t=(0,Ae.X3)("firebase-heartbeat-database",1,{upgrade:(Bt,pt)=>{0===pt&&Bt.createObjectStore(yt)}}).catch(Bt=>{throw Fe.create("idb-open",{originalErrorMessage:Bt.message})})),_t}function Mt(){return(Mt=(0,l.Z)(function*(Bt){var pt;try{return(yield St()).transaction(yt).objectStore(yt).get(Ke(Bt))}catch(Ht){if(Ht instanceof Ee.ZR)M.warn(Ht.message);else{const qt=Fe.create("idb-get",{originalErrorMessage:null===(pt=Ht)||void 0===pt?void 0:pt.message});M.warn(qt.message)}}})).apply(this,arguments)}function Zt(Bt,pt){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(Bt,pt){var Ht;try{const sn=(yield St()).transaction(yt,"readwrite");return yield sn.objectStore(yt).put(pt,Ke(Bt)),sn.done}catch(qt){if(qt instanceof Ee.ZR)M.warn(qt.message);else{const sn=Fe.create("idb-set",{originalErrorMessage:null===(Ht=qt)||void 0===Ht?void 0:Ht.message});M.warn(sn.message)}}})).apply(this,arguments)}function Ke(Bt){return`${Bt.name}!${Bt.options.appId}`}class ut{constructor(pt){this.container=pt,this._heartbeatsCache=null;const Ht=this.container.getProvider("app").getImmediate();this._storage=new bt(Ht),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var pt=this;return(0,l.Z)(function*(){const qt=pt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=ct();if(null===pt._heartbeatsCache&&(pt._heartbeatsCache=yield pt._heartbeatsCachePromise),pt._heartbeatsCache.lastSentHeartbeatDate!==sn&&!pt._heartbeatsCache.heartbeats.some(en=>en.date===sn))return pt._heartbeatsCache.heartbeats.push({date:sn,agent:qt}),pt._heartbeatsCache.heartbeats=pt._heartbeatsCache.heartbeats.filter(en=>{const Le=new Date(en.date).valueOf();return Date.now()-Le<=2592e6}),pt._storage.overwrite(pt._heartbeatsCache)})()}getHeartbeatsHeader(){var pt=this;return(0,l.Z)(function*(){if(null===pt._heartbeatsCache&&(yield pt._heartbeatsCachePromise),null===pt._heartbeatsCache||0===pt._heartbeatsCache.heartbeats.length)return"";const Ht=ct(),{heartbeatsToSend:qt,unsentEntries:sn}=function At(Bt,pt=1024){const Ht=[];let qt=Bt.slice();for(const sn of Bt){const en=Ht.find(Le=>Le.agent===sn.agent);if(en){if(en.dates.push(sn.date),on(Ht)>pt){en.dates.pop();break}}else if(Ht.push({agent:sn.agent,dates:[sn.date]}),on(Ht)>pt){Ht.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:Ht,unsentEntries:qt}}(pt._heartbeatsCache.heartbeats),en=(0,Ee.L)(JSON.stringify({version:2,heartbeats:qt}));return pt._heartbeatsCache.lastSentHeartbeatDate=Ht,sn.length>0?(pt._heartbeatsCache.heartbeats=sn,yield pt._storage.overwrite(pt._heartbeatsCache)):(pt._heartbeatsCache.heartbeats=[],pt._storage.overwrite(pt._heartbeatsCache)),en})()}}function ct(){return(new Date).toISOString().substring(0,10)}class bt{constructor(pt){this.app=pt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ee.hl)()&&(0,Ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pt=this;return(0,l.Z)(function*(){return(yield pt._canUseIndexedDBPromise)&&(yield function ft(Bt){return Mt.apply(this,arguments)}(pt.app))||{heartbeats:[]}})()}overwrite(pt){var Ht=this;return(0,l.Z)(function*(){var qt;if(yield Ht._canUseIndexedDBPromise){const en=yield Ht.read();return Zt(Ht.app,{lastSentHeartbeatDate:null!==(qt=pt.lastSentHeartbeatDate)&&void 0!==qt?qt:en.lastSentHeartbeatDate,heartbeats:pt.heartbeats})}})()}add(pt){var Ht=this;return(0,l.Z)(function*(){var qt;if(yield Ht._canUseIndexedDBPromise){const en=yield Ht.read();return Zt(Ht.app,{lastSentHeartbeatDate:null!==(qt=pt.lastSentHeartbeatDate)&&void 0!==qt?qt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...pt.heartbeats]})}})()}}function on(Bt){return(0,Ee.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function gn(Bt){me(new xe.wA("platform-logger",pt=>new ue(pt),"PRIVATE")),me(new xe.wA("heartbeat",pt=>new ut(pt),"PRIVATE")),rt(te,W,Bt),rt(te,W,"esm2017"),rt("fire-js","")}("")},4859:(tt,se,ie)=>{"use strict";ie.d(se,{H0:()=>te,wA:()=>le});var l=ie(5861),xe=ie(2090);class le{constructor(M,S,k){this.name=M,this.instanceFactory=S,this.type=k,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(M){return this.instantiationMode=M,this}setMultipleInstances(M){return this.multipleInstances=M,this}setServiceProps(M){return this.serviceProps=M,this}setInstanceCreatedCallback(M){return this.onInstanceCreated=M,this}}const Ee="[DEFAULT]";class Ae{constructor(M,S){this.name=M,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(M){const S=this.normalizeInstanceIdentifier(M);if(!this.instancesDeferred.has(S)){const k=new xe.BH;if(this.instancesDeferred.set(S,k),this.isInitialized(S)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:S});A&&k.resolve(A)}catch{}}return this.instancesDeferred.get(S).promise}getImmediate(M){var S;const k=this.normalizeInstanceIdentifier(M?.identifier),A=null!==(S=M?.optional)&&void 0!==S&&S;if(!this.isInitialized(k)&&!this.shouldAutoInitialize()){if(A)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:k})}catch(x){if(A)return null;throw x}}getComponent(){return this.component}setComponent(M){if(M.name!==this.name)throw Error(`Mismatching Component ${M.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=M,this.shouldAutoInitialize()){if(function F(W){return"EAGER"===W.instantiationMode}(M))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[S,k]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(S);try{const x=this.getOrInitializeService({instanceIdentifier:A});k.resolve(x)}catch{}}}}clearInstance(M=Ee){this.instancesDeferred.delete(M),this.instancesOptions.delete(M),this.instances.delete(M)}delete(){var M=this;return(0,l.Z)(function*(){const S=Array.from(M.instances.values());yield Promise.all([...S.filter(k=>"INTERNAL"in k).map(k=>k.INTERNAL.delete()),...S.filter(k=>"_delete"in k).map(k=>k._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(M=Ee){return this.instances.has(M)}getOptions(M=Ee){return this.instancesOptions.get(M)||{}}initialize(M={}){const{options:S={}}=M,k=this.normalizeInstanceIdentifier(M.instanceIdentifier);if(this.isInitialized(k))throw Error(`${this.name}(${k}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:k,options:S});for(const[x,L]of this.instancesDeferred.entries())k===this.normalizeInstanceIdentifier(x)&&L.resolve(A);return A}onInit(M,S){var k;const A=this.normalizeInstanceIdentifier(S),x=null!==(k=this.onInitCallbacks.get(A))&&void 0!==k?k:new Set;x.add(M),this.onInitCallbacks.set(A,x);const L=this.instances.get(A);return L&&M(L,A),()=>{x.delete(M)}}invokeOnInitCallbacks(M,S){const k=this.onInitCallbacks.get(S);if(k)for(const A of k)try{A(M,S)}catch{}}getOrInitializeService({instanceIdentifier:M,options:S={}}){let k=this.instances.get(M);if(!k&&this.component&&(k=this.component.instanceFactory(this.container,{instanceIdentifier:(W=M,W===Ee?void 0:W),options:S}),this.instances.set(M,k),this.instancesOptions.set(M,S),this.invokeOnInitCallbacks(k,M),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,M,k)}catch{}var W;return k||null}normalizeInstanceIdentifier(M=Ee){return this.component?this.component.multipleInstances?M:Ee:M}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(M){this.name=M,this.providers=new Map}addComponent(M){const S=this.getProvider(M.name);if(S.isComponentSet())throw new Error(`Component ${M.name} has already been registered with ${this.name}`);S.setComponent(M)}addOrOverwriteComponent(M){this.getProvider(M.name).isComponentSet()&&this.providers.delete(M.name),this.addComponent(M)}getProvider(M){if(this.providers.has(M))return this.providers.get(M);const S=new Ae(M,this);return this.providers.set(M,S),S}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,se,ie)=>{"use strict";ie.d(se,{Am:()=>W,Ub:()=>te,Yd:()=>F,in:()=>xe});const l=[];var xe=(()=>{return(M=xe||(xe={}))[M.DEBUG=0]="DEBUG",M[M.VERBOSE=1]="VERBOSE",M[M.INFO=2]="INFO",M[M.WARN=3]="WARN",M[M.ERROR=4]="ERROR",M[M.SILENT=5]="SILENT",xe;var M})();const le={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Ee=xe.INFO,Ae={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},ue=(M,S,...k)=>{if(S<M.logLevel)return;const A=(new Date).toISOString(),x=Ae[S];if(!x)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);console[x](`[${A}]  ${M.name}:`,...k)};class F{constructor(S){this.name=S,this._logLevel=Ee,this._logHandler=ue,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(S){if(!(S in xe))throw new TypeError(`Invalid value "${S}" assigned to \`logLevel\``);this._logLevel=S}setLogLevel(S){this._logLevel="string"==typeof S?le[S]:S}get logHandler(){return this._logHandler}set logHandler(S){if("function"!=typeof S)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=S}get userLogHandler(){return this._userLogHandler}set userLogHandler(S){this._userLogHandler=S}debug(...S){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...S),this._logHandler(this,xe.DEBUG,...S)}log(...S){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...S),this._logHandler(this,xe.VERBOSE,...S)}info(...S){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...S),this._logHandler(this,xe.INFO,...S)}warn(...S){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...S),this._logHandler(this,xe.WARN,...S)}error(...S){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...S),this._logHandler(this,xe.ERROR,...S)}}function te(M){l.forEach(S=>{S.setLogLevel(M)})}function W(M,S){for(const k of l){let A=null;S&&S.level&&(A=le[S.level]),k.userLogHandler=null===M?null:(x,L,...oe)=>{const B=oe.map(j=>{if(null==j)return null;if("string"==typeof j)return j;if("number"==typeof j||"boolean"==typeof j)return j.toString();if(j instanceof Error)return j.message;try{return JSON.stringify(j)}catch{return null}}).filter(j=>j).join(" ");L>=(A??x.logLevel)&&M({level:xe[L].toLowerCase(),message:B,args:oe,type:x.name})}}}},8766:(tt,se,ie)=>{"use strict";ie.d(se,{Lj:()=>Y,X3:()=>R});var l=ie(5861);let le,Ee;const F=new WeakMap,te=new WeakMap,W=new WeakMap,M=new WeakMap,S=new WeakMap;let x={get(z,ge,ce){if(z instanceof IDBTransaction){if("done"===ge)return te.get(z);if("objectStoreNames"===ge)return z.objectStoreNames||W.get(z);if("store"===ge)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return j(z[ge])},set:(z,ge,ce)=>(z[ge]=ce,!0),has:(z,ge)=>z instanceof IDBTransaction&&("done"===ge||"store"===ge)||ge in z};function B(z){return"function"==typeof z?function oe(z){return z!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(z)?function(...ge){return z.apply(D(this),ge),j(F.get(this))}:function(...ge){return j(z.apply(D(this),ge))}:function(ge,...ce){const J=z.call(D(this),ge,...ce);return W.set(J,ge.sort?ge.sort():[ge]),j(J)}}(z):(z instanceof IDBTransaction&&function A(z){if(te.has(z))return;const ge=new Promise((ce,J)=>{const de=()=>{z.removeEventListener("complete",re),z.removeEventListener("error",Ie),z.removeEventListener("abort",Ie)},re=()=>{ce(),de()},Ie=()=>{J(z.error||new DOMException("AbortError","AbortError")),de()};z.addEventListener("complete",re),z.addEventListener("error",Ie),z.addEventListener("abort",Ie)});te.set(z,ge)}(z),((z,ge)=>ge.some(ce=>z instanceof ce))(z,function Ae(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(z,x):z)}function j(z){if(z instanceof IDBRequest)return function k(z){const ge=new Promise((ce,J)=>{const de=()=>{z.removeEventListener("success",re),z.removeEventListener("error",Ie)},re=()=>{ce(j(z.result)),de()},Ie=()=>{J(z.error),de()};z.addEventListener("success",re),z.addEventListener("error",Ie)});return ge.then(ce=>{ce instanceof IDBCursor&&F.set(ce,z)}).catch(()=>{}),S.set(ge,z),ge}(z);if(M.has(z))return M.get(z);const ge=B(z);return ge!==z&&(M.set(z,ge),S.set(ge,z)),ge}const D=z=>S.get(z);function R(z,ge,{blocked:ce,upgrade:J,blocking:de,terminated:re}={}){const Ie=indexedDB.open(z,ge),Me=j(Ie);return J&&Ie.addEventListener("upgradeneeded",Ne=>{J(j(Ie.result),Ne.oldVersion,Ne.newVersion,j(Ie.transaction))}),ce&&Ie.addEventListener("blocked",()=>ce()),Me.then(Ne=>{re&&Ne.addEventListener("close",()=>re()),de&&Ne.addEventListener("versionchange",()=>de())}).catch(()=>{}),Me}function Y(z,{blocked:ge}={}){const ce=indexedDB.deleteDatabase(z);return ge&&ce.addEventListener("blocked",()=>ge()),j(ce).then(()=>{})}const H=["get","getKey","getAll","getAllKeys","count"],q=["put","add","delete","clear"],fe=new Map;function _e(z,ge){if(!(z instanceof IDBDatabase)||ge in z||"string"!=typeof ge)return;if(fe.get(ge))return fe.get(ge);const ce=ge.replace(/FromIndex$/,""),J=ge!==ce,de=q.includes(ce);if(!(ce in(J?IDBIndex:IDBObjectStore).prototype)||!de&&!H.includes(ce))return;const re=function(){var Ie=(0,l.Z)(function*(Me,...Ne){const et=this.transaction(Me,de?"readwrite":"readonly");let ye=et.store;return J&&(ye=ye.index(Ne.shift())),(yield Promise.all([ye[ce](...Ne),de&&et.done]))[0]});return function(Ne){return Ie.apply(this,arguments)}}();return fe.set(ge,re),re}!function L(z){x=z(x)}(z=>({...z,get:(ge,ce,J)=>_e(ge,ce)||z.get(ge,ce,J),has:(ge,ce)=>!!_e(ge,ce)||z.has(ge,ce)}))},5861:(tt,se,ie)=>{"use strict";function l(le,Ee,Ae,ue,F,te,W){try{var M=le[te](W),S=M.value}catch(k){return void Ae(k)}M.done?Ee(S):Promise.resolve(S).then(ue,F)}function xe(le){return function(){var Ee=this,Ae=arguments;return new Promise(function(ue,F){var te=le.apply(Ee,Ae);function W(S){l(te,ue,F,W,M,"next",S)}function M(S){l(te,ue,F,W,M,"throw",S)}W(void 0)})}}ie.d(se,{Z:()=>xe})},9794:tt=>{"use strict";tt.exports={version:"1.0.34"}}},tt=>{tt(tt.s=970)}]);